# Noraneko Build Tools

ã“ã® `tools/`
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Noranekoãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ã¨é–‹ç™ºã«é–¢ã™ã‚‹ã™ã¹ã¦ã®ãƒ„ãƒ¼ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“œ å±¥æ­´

> **ç§»è¡Œã«ã¤ã„ã¦**: ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ä»¥å‰ã® `scripts/`
> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ç§»è¡Œã•ã‚Œã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆé•·ã«ä¼´ã„ã€ã‚ˆã‚Šè‰¯ã„çµ„ç¹”åŒ–ã¨æ‹¡å¼µæ€§ã®ãŸã‚ã«
> `scripts/` ã‹ã‚‰ `tools/`
> ã¸ã¨ãƒªãƒãƒ¼ãƒ ã•ã‚Œã€æ§‹é€ ãŒæ”¹å–„ã•ã‚Œã¾ã—ãŸã€‚ã™ã¹ã¦ã®æ©Ÿèƒ½ã¯ä¿æŒã•ã‚Œã€æ–°ã—ã„ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§å¼·åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
tools/
â”œâ”€â”€ build/                      # ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ phases/                 # ãƒ“ãƒ«ãƒ‰ãƒ•ã‚§ãƒ¼ã‚º
â”‚   â”‚   â”œâ”€â”€ pre-build.ts        # Mozilla ãƒ“ãƒ«ãƒ‰å‰ã®å‡¦ç†
â”‚   â”‚   â””â”€â”€ post-build.ts       # Mozilla ãƒ“ãƒ«ãƒ‰å¾Œã®å‡¦ç†
â”‚   â”œâ”€â”€ tasks/                  # å€‹åˆ¥ã®ãƒ“ãƒ«ãƒ‰ã‚¿ã‚¹ã‚¯
â”‚   â”‚   â”œâ”€â”€ inject/             # ã‚³ãƒ¼ãƒ‰æ³¨å…¥ã‚¿ã‚¹ã‚¯
â”‚   â”‚   â”œâ”€â”€ git-patches/        # Git ãƒ‘ãƒƒãƒé©ç”¨
â”‚   â”‚   â””â”€â”€ update/             # ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆé–¢é€£
â”‚   â”œâ”€â”€ index.ts                # ãƒ¡ã‚¤ãƒ³ãƒ“ãƒ«ãƒ‰ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ defines.ts              # ãƒ‘ã‚¹ã¨å®šæ•°ã®å®šç¾©
â”‚   â”œâ”€â”€ logger.ts               # ãƒ­ã‚®ãƒ³ã‚°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ utils.ts                # å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚
â””â”€â”€ dev/                        # é–‹ç™ºãƒ„ãƒ¼ãƒ«
    â”œâ”€â”€ launchDev/              # é–‹ç™ºç’°å¢ƒèµ·å‹•
    â”œâ”€â”€ prepareDev/             # é–‹ç™ºç’°å¢ƒæº–å‚™
    â”œâ”€â”€ cssUpdate/              # CSSæ›´æ–°ãƒ„ãƒ¼ãƒ«
    â””â”€â”€ index.ts                # é–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 

```bash
# é–‹ç™ºãƒ“ãƒ«ãƒ‰
deno run -A build.ts --dev

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
deno run -A build.ts --production

# Mozilla ãƒ“ãƒ«ãƒ‰ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦é–‹ç™ºãƒ“ãƒ«ãƒ‰
deno run -A build.ts --dev-skip-mozbuild
```

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼é–‹å§‹
deno run -A tools/dev/index.ts start

# é–‹ç™ºç’°å¢ƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
deno run -A tools/dev/index.ts clean

# é–‹ç™ºç’°å¢ƒãƒªã‚»ãƒƒãƒˆ
deno run -A tools/dev/index.ts reset
```

## ğŸ”§ ä¸»ãªæ”¹å–„ç‚¹

### 1. **æ˜ç¢ºãªé–¢å¿ƒã®åˆ†é›¢**

- `build/` : ãƒ“ãƒ«ãƒ‰é–¢é€£ã®å…¨ã¦ã®æ©Ÿèƒ½
- `dev/` : é–‹ç™ºé–¢é€£ã®ãƒ„ãƒ¼ãƒ«ã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

### 2. **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ**

- ãƒ•ã‚§ãƒ¼ã‚ºãƒ™ãƒ¼ã‚¹ã®ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
- å†åˆ©ç”¨å¯èƒ½ãªã‚¿ã‚¹ã‚¯
- ç‹¬ç«‹ã—ãŸãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

### 3. **ä¿å®ˆæ€§ã®å‘ä¸Š**

- æ˜ç¢ºãªã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹
- ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- åŒ…æ‹¬çš„ãªãƒ­ã‚®ãƒ³ã‚°

### 4. **é–‹ç™ºè€…ä½“é¨“ã®å‘ä¸Š**

- ç›´æ„Ÿçš„ãªCLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„

## ğŸ”„ ç§»è¡Œã‚¬ã‚¤ãƒ‰

### æ—§ `scripts/` ã‹ã‚‰ã®å¤‰æ›´ç‚¹

| æ—§ãƒ‘ã‚¹                | æ–°ãƒ‘ã‚¹                      |
| --------------------- | --------------------------- |
| `scripts/build.ts`    | `tools/build/build.ts`      |
| `scripts/defines.ts`  | `tools/build/defines.ts`    |
| `scripts/inject/`     | `tools/build/tasks/inject/` |
| `scripts/launchDev/`  | `tools/dev/launchDev/`      |
| `scripts/prepareDev/` | `tools/dev/prepareDev/`     |

### ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®æ›´æ–°

```typescript
// æ—§
import { log } from "./scripts/logger.ts";

// æ–°
import { log } from "./tools/build/logger.ts";
```

## ğŸ“ ä»Šå¾Œã®æ”¹å–„äºˆå®š

1. **TypeScriptè¨­å®šã®çµ±ä¸€**
2. **ãƒ†ã‚¹ãƒˆã®è¿½åŠ **
3. **CI/CDçµ±åˆã®æ”¹å–„**
4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ‹¡å……**
5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
