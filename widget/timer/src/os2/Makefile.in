#
# The contents of this file are subject to the Mozilla Public License
# Version 1.1 (the "License"); you may not use this file except in
# compliance with the License. You may obtain a copy of the License at
# http://www.mozilla.org/MPL/
#
# Software distributed under the License is distributed on an "AS IS"
# basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
# License for the specific language governing rights and limitations
# under the License.
#
# The Original Code is the Mozilla OS/2 libraries.
#
# The Initial Developer of the Original Code is John Fairhurst,
# <john_fairhurst@iname.com>.  Portions created by John Fairhurst are
# Copyright (C) 1999 John Fairhurst. All Rights Reserved.
#
# Contributor(s):
# This Original Code has been modified by IBM Corporation.
# Modifications made by IBM described herein are
# Copyright (c) International Business Machines
# Corporation, 2000
#
# Modifications to Mozilla code or documentation
# identified per MPL Section 3.3
#
# Date             Modified by     Description of modification
# 05/31/2000       IBM Corp.       Changed source files to be the same as
#                                  Windows has.  Got rid of nsTimerOS2.*
#

DEPTH		= ../../../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

MODULE		= timer
LIBRARY_NAME	= timeros2_s
REQUIRES	= xpcom \
		  string \
		  widget \
		  $(NULL)

EXPORTS=nsTimerManager.h nsWindowsTimer.h nsIWindowsTimerMap.h os2TimerGlue.h

CPPSRCS =			\
	nsTimer.cpp		\
	nsNewTimer.cpp		\
	nsTimerManager.cpp		\
	os2TimerGlue.cpp		\
	$(NULL)


# we don't want the shared lib, but we want to force the creation of a static lib.
FORCE_STATIC_LIB = 1

include $(topsrcdir)/config/rules.mk

DEFINES		+= -D_IMPL_NS_TIMER
CXXFLAGS	+= $(TK_CFLAGS)
INCLUDES	+= $(TK_CFLAGS) -I$(srcdir)/..

