[FileSystemWritableFileStream-write.https.any.html]
  expected:
    if (processor == "x86") and not debug: [OK, ERROR, TIMEOUT]
    if (processor == "x86") and debug: [OK, TIMEOUT]
  [write() with an empty blob to an empty file]
    expected: FAIL

  [write() a blob to an empty file]
    expected: FAIL

  [write() with WriteParams without position to an empty file]
    expected: FAIL

  [write() a string to an empty file with zero offset]
    expected: FAIL

  [write() a blob to an empty file with zero offset]
    expected: FAIL

  [write() called consecutively appends]
    expected: FAIL

  [write() WriteParams without position and string appends]
    expected: FAIL

  [write() WriteParams without position and blob appends]
    expected: FAIL

  [write() called with a string and a valid offset]
    expected: FAIL

  [write() called with a blob and a valid offset]
    expected: FAIL

  [write() called with an offset beyond the end of the file]
    expected: FAIL

  [write() with an empty string to an empty file]
    expected: FAIL

  [write() with a valid utf-8 string]
    expected:
      if (processor == "x86") and not debug: [FAIL, TIMEOUT, NOTRUN]
      FAIL

  [write() with a string with unix line ending preserved]
    expected:
      if (processor == "x86") and not debug: [FAIL, TIMEOUT, NOTRUN]
      FAIL

  [write() with a string with windows line ending preserved]
    expected:
      if (processor == "x86") and debug: [FAIL, TIMEOUT]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL

  [write() with an empty array buffer to an empty file]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [write() with a valid typed array buffer]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: close() fails when parent directory is removed]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: writable file streams make atomic changes on close]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: write() after close() fails]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: truncate() after close() fails]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: close() after close() fails]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: only one close() operation may succeed]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: writable file stream persists file on close, even if file is removed]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL

  [getWriter() can be used]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [WriteParams: truncate missing size param]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [WriteParams: write missing data param]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [WriteParams: seek missing position param]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL

  [write() with an invalid blob to an empty file should reject]
    expected:
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [WriteParams: write null data param]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      if (processor == "x86") and not debug: [FAIL, NOTRUN]
      FAIL


[FileSystemWritableFileStream-write.https.any.worker.html]
  expected:
    if (processor == "x86") and not debug and (os == "win"): [OK, TIMEOUT]
    if (processor == "x86") and debug: [OK, TIMEOUT]
  [write() called with a blob and a valid offset]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() called with an offset beyond the end of the file]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with an empty string to an empty file]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with a valid utf-8 string]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with a string with unix line ending preserved]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with a string with windows line ending preserved]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with an empty array buffer to an empty file]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with a valid typed array buffer]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [atomic writes: close() fails when parent directory is removed]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: writable file streams make atomic changes on close]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [atomic writes: write() after close() fails]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [atomic writes: truncate() after close() fails]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [atomic writes: close() after close() fails]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [atomic writes: only one close() operation may succeed]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [atomic writes: writable file stream persists file on close, even if file is removed]
    expected:
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [getWriter() can be used]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [WriteParams: truncate missing size param]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [WriteParams: write missing data param]
    expected:
      if (os == "win") and (processor == "x86") and not debug: [PASS, TIMEOUT]
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [WriteParams: seek missing position param]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "win") and (processor == "x86") and not debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with an invalid blob to an empty file should reject]
    expected:
      if (processor == "x86") and not debug and (os == "win"): [FAIL, NOTRUN]
      if (processor == "x86") and debug: [FAIL, NOTRUN]
      FAIL

  [WriteParams: write null data param]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, NOTRUN]
      if (os == "win") and (processor == "x86") and not debug: [PASS, NOTRUN]
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with an empty blob to an empty file]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() a blob to an empty file]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() with WriteParams without position to an empty file]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() a string to an empty file with zero offset]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() a blob to an empty file with zero offset]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() called consecutively appends]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() WriteParams without position and string appends]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() WriteParams without position and blob appends]
    expected:
      if (os == "android") and not debug: [PASS, FAIL]

  [write() called with a string and a valid offset]
    expected:
      if (os == "win") and (processor == "x86") and debug: [PASS, TIMEOUT]
      if (os == "android") and not debug: [PASS, FAIL]
