[mediasource-append-buffer.html]
  type: testharness
  prefs: [media.mediasource.enabled:true, media.mediasource.whitelist:false]
  [Test SourceBuffer.appendBuffer() event dispatching.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test SourceBuffer.appendBuffer() call during a pending appendBuffer().]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test SourceBuffer.abort() call during a pending appendBuffer().]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test SourceBuffer.appendBuffer() triggering an 'ended' to 'open' transition.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test zero byte SourceBuffer.appendBuffer() call triggering an 'ended' to 'open' transition.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test MediaSource.removeSourceBuffer() call during a pending appendBuffer().]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test set MediaSource.duration during a pending appendBuffer() for one of its SourceBuffers.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test MediaSource.endOfStream() during a pending appendBuffer() for one of its SourceBuffers.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test set SourceBuffer.timestampOffset during a pending appendBuffer().]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appending an empty ArrayBufferView.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appending a neutered ArrayBufferView.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appending an empty ArrayBuffer.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appending a neutered ArrayBuffer.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appendBuffer with partial init segments.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appendBuffer with partial media segments.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test abort in the middle of an initialization segment.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test abort after removing sourcebuffer.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test abort after readyState is ended following init segment and media segment.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test abort after appendBuffer update ends.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appending null.]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

  [Test appending after removeSourceBuffer().]
    expected:
      if os == "linux": FAIL
      if (os == "win") and (version == "5.1.2600"): FAIL

