[error-propagation-backward.any.html]
  [Errors must be propagated backward: starts errored; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = undefined (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = null (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = false (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = -0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = NaN (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel =  (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = a (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 1 (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = Symbol() (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = [object Object\] (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write, preventCancel = true; preventAbort = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true, preventAbort = true, preventClose = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel omitted (but cancel is never called)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: erroring via the controller errors once pending write completes]
    expected: FAIL


[error-propagation-backward.any.worker.html]
  [Errors must be propagated backward: starts errored; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = undefined (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = null (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = false (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = -0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = NaN (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel =  (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = a (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 1 (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = Symbol() (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = [object Object\] (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write, preventCancel = true; preventAbort = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true, preventAbort = true, preventClose = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel omitted (but cancel is never called)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: erroring via the controller errors once pending write completes]
    expected: FAIL


[error-propagation-backward.any.serviceworker.html]
  [Errors must be propagated backward: starts errored; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = undefined (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = null (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = false (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = -0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = NaN (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel =  (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = a (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 1 (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = Symbol() (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = [object Object\] (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write, preventCancel = true; preventAbort = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true, preventAbort = true, preventClose = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel omitted (but cancel is never called)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: erroring via the controller errors once pending write completes]
    expected: FAIL


[error-propagation-backward.any.sharedworker.html]
  [Errors must be propagated backward: starts errored; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = undefined (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = null (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = false (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = -0 (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = NaN (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel =  (falsy); fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = a (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = 1 (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = Symbol() (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = [object Object\] (truthy)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write, preventCancel = true; preventAbort = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping due to write; preventCancel = true, preventAbort = true, preventClose = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored during piping due to write, but async; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel omitted (but cancel is never called)]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping due to last write; source is closed; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = false; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored after piping; dest never desires chunks; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; fulfilled cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel omitted; rejected cancel promise]
    expected: FAIL

  [Errors must be propagated backward: becomes errored before piping via abort; preventCancel = true]
    expected: FAIL

  [Errors must be propagated backward: erroring via the controller errors once pending write completes]
    expected: FAIL
