[urlpattern.https.any.sharedworker.html]
  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "http://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar?otherquery#otherhash"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/ba"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar","search":"otherquery","hash":"otherhash"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"http://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/index.html"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://other.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"protocol":"foo-bar"} Input: {"protocol":"foo-bar"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"protocol":":café"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":café"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":café"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":café"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:café"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":café"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":café"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":℘"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":℘"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":℘"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":℘"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:℘"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":℘"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":℘"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":㐀"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":㐀"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":㐀"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":㐀"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:㐀"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":㐀"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":㐀"} Input: {"hash":"foo"}]
    expected: FAIL


[urlpattern.https.any.html]
  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "http://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar?otherquery#otherhash"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/ba"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar","search":"otherquery","hash":"otherhash"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"http://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/index.html"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://other.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"protocol":"foo-bar"} Input: {"protocol":"foo-bar"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"protocol":":café"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":café"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":café"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":café"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:café"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":café"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":café"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":℘"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":℘"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":℘"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":℘"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:℘"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":℘"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":℘"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":㐀"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":㐀"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":㐀"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":㐀"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:㐀"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":㐀"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":㐀"} Input: {"hash":"foo"}]
    expected: FAIL


[urlpattern.https.any.worker.html]
  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "http://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar?otherquery#otherhash"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/ba"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar","search":"otherquery","hash":"otherhash"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"http://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/index.html"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://other.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"protocol":"foo-bar"} Input: {"protocol":"foo-bar"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"protocol":":café"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":café"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":café"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":café"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:café"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":café"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":café"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":℘"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":℘"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":℘"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":℘"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:℘"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":℘"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":℘"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":㐀"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":㐀"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":㐀"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":㐀"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:㐀"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":㐀"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":㐀"} Input: {"hash":"foo"}]
    expected: FAIL


[urlpattern.https.any.serviceworker.html]
  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "http://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar?otherquery#otherhash"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/ba"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"hostname":"example.com","pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar","search":"otherquery","hash":"otherhash"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"http://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/index.html"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar/baz","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar/baz"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://other.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar","baseURL":"https://other.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar","baseURL":"https://example.com?query#hash"} Input: {"protocol":"https","hostname":"example.com","pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo{/bar}?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/:bar*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"/foo/(.*)*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"protocol":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"username":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"password":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hostname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"pathname":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"search":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"hash":"(café)"} Input: undefined]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"(.*)"} Input: {"protocol":"cafe"}]
    expected: FAIL

  [Pattern: {"protocol":"foo-bar"} Input: {"protocol":"foo-bar"}]
    expected: FAIL

  [Pattern: {"username":"caf%C3%A9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"username":"caf%c3%a9"} Input: {"username":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%C3%A9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"password":"caf%c3%a9"} Input: {"password":"café"}]
    expected: FAIL

  [Pattern: {"hostname":"xn--caf-dma.com"} Input: {"hostname":"café.com"}]
    expected: FAIL

  [Pattern: {"port":""} Input: {"protocol":"http","port":"80"}]
    expected: FAIL

  [Pattern: {"port":"80"} Input: {"port":"80"}]
    expected: FAIL

  [Pattern: {"port":"(.*)"} Input: {"port":"invalid80"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"/foo/./bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/baz"} Input: {"pathname":"/foo/bar/../baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%C3%A9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/caf%c3%a9"} Input: {"pathname":"/café"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/bar"} Input: {"pathname":"foo/bar","baseURL":"https://example.com"}]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":"foo/bar","baseURL":"https://example.com"} Input: "https://example.com/foo/bar"]
    expected: FAIL

  [Pattern: {"pathname":":name.html","baseURL":"https://example.com"} Input: "https://example.com/foo.html"]
    expected: FAIL

  [Pattern: {"search":"q=caf%C3%A9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"search":"q=caf%c3%a9"} Input: {"search":"q=café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%C3%A9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"hash":"caf%c3%a9"} Input: {"hash":"café"}]
    expected: FAIL

  [Pattern: {"protocol":"about","pathname":"(blank|sourcedoc)"} Input: "about:blank"]
    expected: FAIL

  [Pattern: {"protocol":"data","pathname":":number([0-9\]+)"} Input: "data:8675309"]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*?"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/*+"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/bar/baz"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foo/"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/foobar"}]
    expected: FAIL

  [Pattern: {"pathname":"/foo/**"} Input: {"pathname":"/fo"}]
    expected: FAIL

  [Pattern: {"protocol":":café"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":café"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":café"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":café"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:café"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":café"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":café"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":℘"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":℘"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":℘"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":℘"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:℘"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":℘"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":℘"} Input: {"hash":"foo"}]
    expected: FAIL

  [Pattern: {"protocol":":㐀"} Input: {"protocol":"foo"}]
    expected: FAIL

  [Pattern: {"username":":㐀"} Input: {"username":"foo"}]
    expected: FAIL

  [Pattern: {"password":":㐀"} Input: {"password":"foo"}]
    expected: FAIL

  [Pattern: {"hostname":":㐀"} Input: {"hostname":"foo"}]
    expected: FAIL

  [Pattern: {"pathname":"/:㐀"} Input: {"pathname":"/foo"}]
    expected: FAIL

  [Pattern: {"search":":㐀"} Input: {"search":"foo"}]
    expected: FAIL

  [Pattern: {"hash":":㐀"} Input: {"hash":"foo"}]
    expected: FAIL

