<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>

<!DOCTYPE window>

<window
  data-l10n-id="change-password-window"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml"
  onload="onLoad();">
<dialog id="set_password"
  buttons="accept,cancel">

<linkset>
  <html:link rel="localization" href="security/pippki/pippki.ftl"/>
</linkset>

<stringbundle id="pippki_bundle" src="chrome://pippki/locale/pippki.properties"/>

<script src="chrome://global/content/globalOverlay.js"/>
<script src="chrome://global/content/editMenuOverlay.js"/>

<script src="chrome://pippki/content/changepassword.js"/>

<hbox align="center">
  <label id="tokenName" data-l10n-id="change-password-token"/>
</hbox>

<separator/>

<vbox>
  <hbox class="input-row">
    <label flex="1" data-l10n-id="change-password-old" />
    <html:input id="oldpw" type="password"/>
    <!-- This textbox is inserted as a workaround to the fact that making the 'type'
         & 'disabled' property of the 'oldpw' textbox toggle between ['password' &
         'false'] and ['text' & 'true'] - as would be necessary if the menu has more
         than one tokens, some initialized and some not - does not work properly. So,
         either the textbox 'oldpw' or the textbox 'message' would be displayed,
         depending on the state of the token selected
     -->
     <html:input id="message" disabled="true" />
   </hbox>
  <hbox class="input-row">
    <label flex="1" data-l10n-id="change-password-new" />
    <html:input id="pw1" type="password"
                oninput="setPasswordStrength(); checkPasswords();"/>
  </hbox>
  <hbox class="input-row">
    <label flex="1" data-l10n-id="change-password-reenter" />
    <html:input id="pw2" type="password" oninput="checkPasswords();"/>
  </hbox>
</vbox>

<vbox style="margin: 6px;">
  <label for="pwmeter" style="display: -moz-box;" data-l10n-id="password-quality-meter" />
  <html:progress id="pwmeter" value="0" max="100"/>
</vbox>

</dialog>
</window>
