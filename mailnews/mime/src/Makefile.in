#!gmake
#
# The contents of this file are subject to the Netscape Public License
# Version 1.0 (the "NPL"); you may not use this file except in
# compliance with the NPL.  You may obtain a copy of the NPL at
# http://www.mozilla.org/NPL/
#
# Software distributed under the NPL is distributed on an "AS IS" basis,
# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the NPL
# for the specific language governing rights and limitations under the
# NPL.
#
# The Initial Developer of this code under the NPL is Netscape
# Communications Corporation.  Portions created by Netscape are
# Copyright (C) 1998 Netscape Communications Corporation.  All Rights
# Reserved.

DEPTH = ../../..
topsrcdir	= @top_srcdir@
VPATH		= @srcdir@
srcdir		= @srcdir@

include $(DEPTH)/config/autoconf.mk

MODULE=mime
LIBRARY_NAME=mime
IS_COMPONENT=1
EXPORTS =\
		nsMimeObjectClassAccess.h		\
		nsMimeHeaderConverter.h			\
		mimetext.h						\
		mimeleaf.h						\
		mimecth.h						\
		mimeobj.h						\
		mimei.h							\
		modmimee.h						\
		mimecont.h						\
		mimemult.h						\
		mimemsig.h						\
		mimehdrs.h						\
		modmime.h						\
		mimepbuf.h						\
		modlmime.h						\
		mimerosetta.h					\
		$(NULL)

CPPSRCS = \
		nsMimeFactory.cpp	\
		nsMimeObjectClassAccess.cpp		\
		nsMimeHeaderConverter.cpp		\
		plugin_inst.cpp	\
		mimecont.cpp	\
		mimeebod.cpp	\
		mimeenc.cpp	\
		mimeeobj.cpp	\
		mimehdrs.cpp	\
		mimei.cpp	\
		mimeiimg.cpp	\
		mimeleaf.cpp	\
		mimemalt.cpp	\
		mimemapl.cpp	\
		mimemdig.cpp	\
		mimemmix.cpp	\
		mimempar.cpp	\
		mimemrel.cpp	\
		mimemsg.cpp	\
		mimemsig.cpp	\
		mimemult.cpp	\
		mimeobj.cpp	\
		mimepbuf.cpp	\
		mimesun.cpp	\
		mimetenr.cpp	\
		mimetext.cpp	\
		mimethtm.cpp	\
		mimetpla.cpp	\
		mimetric.cpp	\
		mimeunty.cpp	\
		mimemoz2.cpp	\
		mimecth.cpp	\
		mimebuf.cpp	\
		mimecom.cpp	\
		comi18n.cpp	\
		commsg.cpp	\
		oldfile.cpp	\
		$(NULL)

CSRCS = \
		oldnet.c	\
		oldi18n.c	\
		oldmaddr.c	\
		oldxp.c		\
		$(NULL)

EXTRA_DSO_LDOPTS =	\
	-L$(DIST)/bin	\
	$(NSPR_LIBS)	\
	-lmozjs			\
	-lmimetype		\
	-lraptorbase	\
	-lpref			\
	-lsecfree		\
	-lxp			\
	-lxpcom			\
	$(NULL)

#
# THIS WILL NEED WORK AFTER WE GET A LIBMSG MORE XP-COM-afied
#			mimedrft.c	\
# XP-COM BRIDGES


include $(topsrcdir)/config/config.mk

include $(topsrcdir)/config/rules.mk

