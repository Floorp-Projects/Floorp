<!DOCTYPE html>
<html>
  <head>
    <script type="application/javascript">
      document.designMode = 'on';

      let div = document.createElement('div');
      let p = document.createElement('p');
      document.documentElement.appendChild(div);
      document.documentElement.appendChild(
        document.createElement('body'));
      document.documentElement.appendChild(p);
      document.execCommand('insertimage', false, 'http://localhost/');
      document.execCommand('insertparagraph', false, null);

      document.elementFromPoint(0, 0);

      let selection = window.getSelection();
      selection.modify('extend', 'forward', 'character');

      let range = document.createRange();
      range.selectNode(p);
      selection.addRange(range);
      range.setStart(div, 0);

      range = document.createRange();
      range.selectNode(p);
      selection.addRange(range);

      document.execCommand('delete', false, null);
    </script>
  </head>
</html>
