# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file contains a definition of the scalar probes that are recorded in Telemetry.
# They are submitted with the "main" pings and can be inspected in about:telemetry.

# The following section contains the accessibility scalars.
a11y:
  instantiators:
    bug_numbers:
      - 1323069
      - 1462238
    description: >
      The leaf name and version number of the binary for the process responsible
      for remotely instantiating a11y.
    expires: never
    kind: string
    notification_emails:
      - accessibility@mozilla.com
      - jteh@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    release_channel_collection: opt-out
    keyed: false

  indicator_acted_on:
    bug_numbers:
      - 1412358
    description: >
      Recorded on click or SPACE/ENTER keypress event. Boolean stating if the
      accessibility indicactor button was acted on.
    expires: "62"
    kind: boolean
    notification_emails:
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  theme:
    bug_numbers:
      - 1022528
    description: >
      OS high contrast or other accessibility theme is enabled.
      The result is split into keys which represent the values of
      browser.display.document_color_use: "default", "always", or "never".
    keyed: true
    expires: "73"
    kind: boolean
    notification_emails:
      - accessibility@mozilla.com
      - eisaacson@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains the browser engagement scalars.
browser.engagement:
  max_concurrent_tab_count:
    bug_numbers:
      - 1271304
    description: >
      The count of maximum number of tabs open during a subsession,
      across all windows, including tabs in private windows and restored
      at startup.
    expires: never
    kind: uint
    notification_emails:
      - rweiss@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  tab_open_event_count:
    bug_numbers:
      - 1271304
    description: >
      The count of tab open events per subsession, across all windows, after the
      session has been restored. This includes tab open events from private windows
      and from manual session restorations (i.e. after crashes and from about:home).
    expires: never
    kind: uint
    notification_emails:
      - rweiss@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  max_concurrent_window_count:
    bug_numbers:
      - 1271304
    description: >
      The count of maximum number of browser windows open during a subsession. This
      includes private windows and the ones opened when starting the browser.
    expires: never
    kind: uint
    notification_emails:
      - rweiss@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  window_open_event_count:
    bug_numbers:
      - 1271304
    description: >
      The count of browser window open events per subsession, after the session
      has been restored. The count includes private windows and the ones from manual
      session restorations (i.e. after crashes and from about:home).
    expires: never
    kind: uint
    notification_emails:
      - rweiss@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  max_concurrent_tab_pinned_count:
    bug_numbers:
      - 1505535
    description: >
      The count of maximum number of pinned tabs open during a subsession. This
      includes private windows and the ones opened when starting the browser.
    expires: never
    kind: uint
    notification_emails:
      - bmiroglio@mozilla.com
      - aoprea@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  tab_pinned_event_count:
    bug_numbers:
      - 1505535
    description: >
      The count of tab pinned events per subsession, across all windows, after the
      session has been restored. This includes tab pinned events from private windows.
    expires: never
    kind: uint
    notification_emails:
      - bmiroglio@mozilla.com
      - aoprea@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  total_uri_count:
    bug_numbers:
      - 1271313
      - 1529232
    description: >
      The count of the total non-unique http(s) URIs visited in a subsession, including
      page reloads, after the session has been restored. This does not include background
      page requests and URIs from embedded pages or private browsing.
    expires: never
    kind: uint
    notification_emails:
      - rweiss@mozilla.com
      - loines@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'
      - 'pre-account'

  unfiltered_uri_count:
    bug_numbers:
      - 1304647
    description: >
      The count of the total non-unique URIs visited in a subsession, not restricted to
      a specific protocol, including page reloads and about:* pages (other than initial
      pages such as about:blank, ...), after the session has been restored. This does
      not include background page requests and URIs from embedded pages or private browsing.
    expires: never
    kind: uint
    notification_emails:
      - bcolloran@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  unique_domains_count:
    bug_numbers:
      - 1271310
    description: >
      The count of the unique domains visited in a subsession, after the session
      has been restored. Subdomains under eTLD are aggregated after the first level
      (i.e. test.example.com and other.example.com are only counted once).
      This does not include background page requests and domains from embedded pages
      or private browsing. The count is limited to 100 unique domains.
    expires: never
    kind: uint
    notification_emails:
      - rweiss@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  restored_pinned_tabs_count:
    bug_numbers:
      - 1373728
      - 1451475
    description: >
      The count of the number of pinned tabs that were restored.
    expires: '67'
    kind: uint
    notification_emails:
      - chutten@mozilla.com
      - jrediger@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  active_ticks:
    bug_numbers:
      - 1376942
      - 1545172
    description: >
      The count of the number of five-second intervals ('ticks') the user
      was considered 'active' in a subsession. Session activity involves keyboard or mouse
      interaction with the application. It does not take into account whether or not the window
      has focus or is in the foreground, only if it is receiving these interaction events.
    expires: never
    kind: uint
    notification_emails:
      - bcolloran@mozilla.com
      - loines@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'
      - 'pre-account'

# The following section contains the browser engagement scalars.
browser.engagement.navigation:
  urlbar:
    bug_numbers:
      - 1271313
    description: >
      The count URI loads triggered in a subsession from the urlbar (awesomebar),
      broken down by the originating action.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - bcolloran@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  searchbar:
    bug_numbers:
      - 1271313
    description: >
      The count URI loads triggered in a subsession from the searchbar,
      broken down by the originating action.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - bcolloran@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  about_home:
    bug_numbers:
      - 1271313
    description: >
      The count URI loads triggered in a subsession from about:home,
      broken down by the originating action.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - bcolloran@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  about_newtab:
    bug_numbers:
      - 1271313
    description: >
      The count URI loads triggered in a subsession from about:newtab,
      broken down by the originating action.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - bcolloran@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  contextmenu:
    bug_numbers:
      - 1271313
    description: >
      The count URI loads triggered in a subsession from the contextmenu,
      broken down by the originating action.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - bcolloran@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  webextension:
    bug_numbers:
      - 1492233
    description: >
      The count URI loads triggered in a subsession from a webextension.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - mkaply@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains the browser usage scalars.
browser.usage:
  graphite:
    bug_numbers:
      - 1331915
    description: >
      The number of times a graphite2 font has been loaded.
    expires: "65"
    kind: uint
    notification_emails:
      - tom@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all'

  plugin_instantiated:
    bug_numbers:
      - 1381591
    description: >-
      The number of plugin instances that were created.
    expires: never  # Jan-2021 but we don't have a version number for that
    kind: uint
    notification_emails:
      - bsmedberg@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

extensions.updates:
  rdf:
    bug_numbers:
      - 1460336
    description: >
      The number of RDF update requsts for a given extension ID.
    expires: "66"
    kind: uint
    keyed: true
    notification_emails:
      - addons-dev-internal@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

# This section is for probes used to measure use of the Webextensions storage.sync API.
storage.sync.api.usage:
  extensions_using:
    bug_numbers:
      - 1328974
    description: >
      The count of webextensions that have data stored in the chrome.storage.sync API.
      This includes extensions that have not used the storage.sync API this session.
      This includes items that were not stored this session.
      This scalar is collected after every sync.
    expires: "64"
    kind: uint
    keyed: false
    notification_emails:
      - eglassercamp@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  items_stored:
    bug_numbers:
      - 1328974
    description: >
      The count of items in storage.sync storage, broken down by extension ID.
      This includes extensions that have not used the storage.sync API this session.
      This includes items that were not stored this session.
      This scalar is collected after every sync.
    expires: "64"
    kind: uint
    keyed: true
    notification_emails:
      - eglassercamp@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  storage_consumed:
    bug_numbers:
      - 1328974
    description: >
      The count of bytes used in storage.sync, broken down by extension ID.
      This includes extensions that have not used the storage.sync API this session.
      This includes items that were not stored this session.
      This scalar is collected after every sync.
    expires: "64"
    kind: uint
    keyed: true
    notification_emails:
      - eglassercamp@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

services.sync:
  sync_login_state_transitions:
    bug_numbers:
      - 1375635
      - 1523644
    description: >
      Records transitions between login states of "success", "unverified"
      and "rejected.
    expires: "72"
    kind: boolean
    keyed: true
    notification_emails:
      - sync-staff@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

identity.fxaccounts:
  missed_commands_fetched:
    bug_numbers:
      - 1496638
    description: >
      The number of missed FxA commands we have recovered.
    expires: "68"
    kind: uint
    keyed: false
    notification_emails:
      - fxa-staff@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

security:
  webauthn_used:
    bug_numbers:
      - 1265472
      - 1558870
    description: >
      Counts of how often Web Authentication was used in this session, keyed
      by authenticator protocol, method and result. Currently: U2FRegisterFinish,
      U2FRegisterAbort, U2FSignFinish, U2FSignAbort.
    expires: "78"
    kind: uint
    keyed: true
    notification_emails:
      - seceng-telemetry@mozilla.com
      - jjones@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  client_cert:
    bug_numbers:
      - 1255120
    description: >
      Counts of events related to client certificates this session. Currently:
      "requested" (a server requested a client certificate), "sent" (a client
      certificate was sent), "compat" (a compatibility workaround was required).
    expires: "66"
    kind: uint
    keyed: true
    notification_emails:
      - seceng-telemetry@mozilla.com
      - dkeeler@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

contentblocking:
  cryptomining_blocking_enabled:
    bug_numbers:
      - 1522919
    description: >
      True if cryptominer blocking is enabled globally at startup.
    expires: never
    kind: boolean
    notification_emails:
      - aedelstein@mozilla.com
      - seceng-telemetry@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  fingerprinting_blocking_enabled:
    bug_numbers:
      - 1522919
    description: >
      True if fingerprinter blocking is enabled globally at startup.
    expires: never
    kind: boolean
    notification_emails:
      - aedelstein@mozilla.com
      - seceng-telemetry@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  category:
    bug_numbers:
      - 1529425
    description: >
      This scalar reports the value of the content blocking category pref (0 = "standard", 1 = "strict", 2 = "custom", 3 = some other value, this is not supported).
    expires: never
    kind: uint
    notification_emails:
      - aedelstein@mozilla.com
      - seceng-telemetry@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

sandbox:
  no_job:
    bug_numbers:
      - 1392570
    description: >
      Indicates that we can't use a job object for sandboxed child processes.
      Keyed by whether we are in a remote session or not from ::GetSystemMetrics(SM_REMOTESESSION).
    expires: "62"
    kind: boolean
    keyed: true
    notification_emails:
      - bowen@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

os.environment:
  is_admin_without_uac:
    bug_numbers:
      - 1567219
    description: >
      Indicates that the process is lauched with Admin privileges but without
      UAC.
    expires: never
    kind: boolean
    notification_emails:
      - tkikuchi@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

pictureinpicture:
  opened_method:
    bug_numbers:
      - 1560590
    description: >
      The number of times a Picture-in-Picture window was opened, per trigger
      mechanism (e.g.: the video toggle, the context menu).
    expires: "74"
    kind: uint
    keyed: true
    notification_emails:
      - mconley@mozilla.com
      - astevenson@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - content
    operating_systems:
      - "windows"
  closed_method:
    bug_numbers:
      - 1560590
    description: >
      The number of times a Picture-in-Picture window was closed, per trigger
      mechanism (e.g.: the close button, the unpip button, originating tab going away,
      process shutdown, etc).
    expires: "74"
    kind: uint
    keyed: true
    notification_emails:
      - mconley@mozilla.com
      - astevenson@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

preferences:
  created_new_user_prefs_file:
    bug_numbers:
      - 1367813
    description: >-
      A boolean indicating that profile/prefs.js was not found and it is being
      created for the first time in this session.
    expires: "62"
    kind: boolean
    notification_emails:
      - bsmedberg@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  prefs_file_was_invalid:
    bug_numbers:
      - 1367813
    description: >-
      Set to true if a failure occurred reading profile/prefs.js.
    expires: "62"
    kind: boolean
    notification_emails:
      - bsmedberg@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  read_user_js:
    bug_numbers:
      - 1367813
    description: >-
      Set to true if user.js exists and was read.
    expires: "62"
    kind: boolean
    notification_emails:
      - bsmedberg@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  search_query:
    bug_numbers:
      - 1359306
    description: >-
      Each key is a search query string when user performs a search action within
      about:preferences, and each value is the number of times that key is recorded.
      The telemetry data will be recorded if there is a successful search result highlighted.
    expires: "62"
    kind: uint
    keyed: true
    notification_emails:
      - chsiang@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  browser_home_page_change:
    bug_numbers:
      - 1392951
    description: >-
      The number of times the home page has been changed.
      Recorded when a user changes his/her home page successfully.
    expires: "62"
    kind: uint
    keyed: true
    notification_emails:
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  browser_home_page_count:
    bug_numbers:
      - 1392951
    description: >-
      Each key is the number of home page urls when users change their home page,
      multiple home pages can be set (delineated with a "|"),
      and each value is the number of times that key is recorded.
      The telemetry data will be recorded if a user changes his/her home page successfully.
    expires: "62"
    kind: uint
    keyed: true
    notification_emails:
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  use_current_page:
    bug_numbers:
      - 1392951
    description: >-
      The number of times the Use Current Page button has been clicked.
      Recorded when a a user clicks the "Use Current Page" button.
    expires: "62"
    kind: uint
    keyed: true
    notification_emails:
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  use_bookmark:
    bug_numbers:
      - 1392951
    description: >-
      The number of times the "Use Bookmark..." button has been clicked.
      Recorded when a a user clicks the "Use Bookmark..." button.
    expires: "62"
    kind: uint
    keyed: true
    notification_emails:
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
  prevent_accessibility_services:
    bug_numbers:
      - 1412358
    description: >
      Recorded on command event. Boolean stating if the preference checkbox for
      preventing accessibility from accessing the browser (Privacy & Security)
      was checked.
    expires: "62"
    kind: boolean
    notification_emails:
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains WebRTC JS API scalars
# For more information on WebRTC, see https://www.w3.org/TR/webrtc/
# For more info on ICE, see https://tools.ietf.org/html/rfc5245
webrtc.peerconnection:
  connected:
    bug_numbers:
      - 1455724
    description: >
      The number of RTCPeerConnection objects that established connections.
      This is incremented the first time a RTCPeerConnection object's
      iceConnectionState becomes "connected" or "complete".
      For more information on WebRTC, see https://www.w3.org/TR/webrtc/
    expires: "65"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  legacy_callback_stats_used:
    bug_numbers:
      - 1455724
    description: >
      The number of RTCPeerConnections in which the current statistics
      API is called. Recorded the first time getStats is called using the
      deprecated callback based API on a RTCPeerConnection that has an
      iceConnectionState of "complete" or "connected".
    expires: "65"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  promise_stats_used:
    bug_numbers:
      - 1455724
    description: >
      The number of RTCPeerConnection objects in which the current statistics
      API is called. This is recorded the first time getStats is called using
      the promise based API on a RTCPeerConnection that has an
      iceConnectionState of "complete" or "connected".
    expires: "65"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  promise_and_callback_stats_used:
    bug_numbers:
      - 1455724
    description: >
      The number of RTCPeerConnection objects in which both the legacy callback
      statistics API and the modern promise statistics API are used. This is
      recorded once for each RTCPeerConnection after the callback and promise
      getStats API has been called on a RTCPeerConnection that has an
      iceConnectionState of "complete" or "connected".
    expires: "65"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'
  datachannel_created:
    bug_numbers:
      - 1518609
    description: >
      The number of RTCPeerConnection objects in which a RTCDataChannel was
      created. This is recorded once for each RTCPeerConnection after the first
      RTCDataChannel is created.
    expires: "70"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'
  datachannel_max_retx_used:
    bug_numbers:
      - 1518609
    description: >
      The number of RTCPeerConnection objects in which one or more
      RTCDataChannels were created with the legacy maxRetransmitTime option
      instead of the new, synonymous maxPacketLifeTime option. This is recorded
      once for each RTCPeerConnection after a RTCDataChannel is created with
      the maxRetransmitTime option.
    expires: "70"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'
  datachannel_max_life_used:
    bug_numbers:
      - 1518609
    description: >
      The number of RTCPeerConnection objects in which one or more RTCDataChannels
      were created with the maxPacketLifeTime option instead of the deprecated,
      synonymous maxRetransmitTime option. This is recorded once for each
      RTCPeerConnection after a RTCDataChannel is created with the
      maxPacketLifeTime option.
    expires: "70"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'
  datachannel_max_retx_and_life_used:
    bug_numbers:
      - 1518609
    description: >
      The number of RTCPeerConnection objects in which one or more RTCDataChannels
      were created with both maxPacketLifeTime and the deprecated, synonymous
      maxRetransmitTime option. This is recorded once for each
      RTCPeerConnection after RTCDataChannels have been created with the
      maxPacketLifeTime and the maxRetransmitTime options, either together
      or in seperate invocations.
    expires: "70"
    kind: uint
    notification_emails:
      - ngrunbaum@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'
# The following section contains WebRTC nICEr scalars
# For more info on ICE, see https://tools.ietf.org/html/rfc5245
# For more info on STUN, see https://tools.ietf.org/html/rfc5389
# For more info on TURN, see https://tools.ietf.org/html/rfc5766
webrtc.nicer:
  stun_retransmits:
    bug_numbers:
      - 1325536
    description: >
      The count of STUN message retransmissions during a WebRTC call.
      When sending STUN request messages over UDP, messages may be
      dropped by the network. Retransmissions are the mechanism used to
      accomplish reliability of the STUN request/response transaction.
      This can happen during both successful and unsuccessful WebRTC
      calls.
      For more info on ICE, see https://tools.ietf.org/html/rfc5245
      For more info on STUN, see https://tools.ietf.org/html/rfc5389
      For more info on TURN, see https://tools.ietf.org/html/rfc5766
    expires: "62"
    kind: uint
    notification_emails:
      - webrtc-ice-telemetry-alerts@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  turn_401s:
    bug_numbers:
      - 1325536
    description: >
      The count of TURN 401 (Unauthorized) responses to allocation
      requests. Only 401 responses beyond the first, expected 401 are
      counted. More than one 401 repsonse indicates the client is
      experiencing difficulty authenticating with the TURN server. This
      can happen during both successful and unsuccessful WebRTC calls.
      For more info on ICE, see https://tools.ietf.org/html/rfc5245
      For more info on STUN, see https://tools.ietf.org/html/rfc5389
      For more info on TURN, see https://tools.ietf.org/html/rfc5766
    expires: "62"
    kind: uint
    notification_emails:
      - webrtc-ice-telemetry-alerts@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  turn_403s:
    bug_numbers:
      - 1325536
    description: >
      The count of TURN 403 (Forbidden) responses to CreatePermission or
      ChannelBind requests.  This indicates that the TURN server is
      refusing the request for an IP address or IP address/port
      combination, likely due to administrative restrictions.
      For more info on ICE, see https://tools.ietf.org/html/rfc5245
      For more info on STUN, see https://tools.ietf.org/html/rfc5389
      For more info on TURN, see https://tools.ietf.org/html/rfc5766
    expires: "62"
    kind: uint
    notification_emails:
      - webrtc-ice-telemetry-alerts@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  turn_438s:
    bug_numbers:
      - 1325536
    description: >
      The count of TURN 438 (Stale Nonce) responses to allocation
      requests. This can happen during both successful and unsuccessful
      WebRTC calls.
      For more info on ICE, see https://tools.ietf.org/html/rfc5245
      For more info on STUN, see https://tools.ietf.org/html/rfc5389
      For more info on TURN, see https://tools.ietf.org/html/rfc5766
    expires: "62"
    kind: uint
    notification_emails:
      - webrtc-ice-telemetry-alerts@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

webrtc.video:
  recv_codec_used:
    bug_numbers:
      - 1556766
    description: >
      The video codec used for receiving video on a WebRTC call.
    expires: "never"
    kind: uint
    keyed: true
    notification_emails:
      - dminor@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

  send_codec_used:
    bug_numbers:
      - 1556766
    description: >
      The video codec used for sending video on a WebRTC call.
    expires: "never"
    kind: uint
    keyed: true
    notification_emails:
      - dminor@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

webrtc.sdp:
  parser_diff:
    bug_numbers:
      - 1432955
      - 1529787
    description: >
      The number of differences between the C based sipcc SDP parser and
      the new rust based rsdparsa SDP parser keyed by predefined
      names of attributes and values that do not match between
      the sipcc parsing result and the rsdparsa parsing result or
      between the rsdparsa parsing result and the original sdp.
      This should help to improve the new rsdparsa to replace
      the sipcc parser.
    expires: "73"
    kind: uint
    keyed: true
    notification_emails:
      - nohlmeier@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

mathml:
  doc_count:
    bug_numbers:
      - 1362187
      - 1538985
    description: >
      The number of documents that contained enabled MathML elements.
    expires: "73"
    kind: uint
    notification_emails:
      - emilio@mozilla.com
      - fredw@igalia.com
      - dev-tech-layout@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

mediarecorder:
  recording_count:
    bug_numbers:
      - 1400757
      - 1429765
      - 1480589
      - 1532391
    description: >
      The number of times a MediaRecorder has been started. Recorded when a MediaRecorder starts
    expires: "72"
    kind: uint
    notification_emails:
      - bvandyk@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
      - content

media:
  page_count:
    bug_numbers:
      - 1476456
      - 1499803
      - 1570634
    description: >
      The number of times a top level document is loaded.
    expires: "74"
    kind: uint
    notification_emails:
      - cpearce@mozilla.com
      - alwu@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'geckoview'
    record_in_processes:
      - content

  page_had_media_count:
    bug_numbers:
      - 1476456
      - 1499803
      - 1570634
    description: >
      The number of times a document hierarchy contained at least one audible HTMLMediaElement that had play() called upon it.
    expires: "74"
    kind: uint
    notification_emails:
      - cpearce@mozilla.com
      - alwu@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'geckoview'
    record_in_processes:
      - content

  autoplay_would_not_be_allowed_count:
    bug_numbers:
      - 1476456
      - 1499803
      - 1570634
    description: >
      The number of HTMLMediaElement autoplays on audible HTMLMediaElements which would not be allowed to play if block autoplay was enabled; we'd either prompt for permission to play or block outright depending on user preferences.
    expires: "74"
    kind: uint
    notification_emails:
      - cpearce@mozilla.com
      - alwu@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'geckoview'
    record_in_processes:
      - content

  autoplay_would_be_allowed_count:
    bug_numbers:
      - 1476456
      - 1499803
      - 1570634
    description: >
      The number of HTMLMediaElement autoplays on audible HTMLMediaElements that would have been allowed (not blocked) by the autoplay policy if block autoplay was enabled.
    expires: "74"
    kind: uint
    notification_emails:
      - cpearce@mozilla.com
      - alwu@mozilla.com
      - nohlmeier@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'geckoview'
    record_in_processes:
      - content

# The following section contains content process base counters.
dom.contentprocess:
  buildID_mismatch:
    bug_numbers:
      - 1366808
    description: >
      The number of times the about:restartrequired page appeared due to a
      buildID mismatch between the parent and the content processes.
    expires: never
    kind: uint
    notification_emails:
      - spohl@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  os_priority_lowered:
    bug_numbers:
      - 1538987
    description: >
      The number of times a content process has had its OS priority lowered
      due to only containing background tabs without audible media playing.
    expires: never
    kind: uint
    notification_emails:
      - mconley@mozilla.com
      - gsvelto@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  os_priority_raised:
    bug_numbers:
      - 1538987
    description: >
      The number of times a content process has had its OS priority raised
      due to containing at least one foregrounded tab, or a tab with audible
      media has started playing in it.
    expires: never
    kind: uint
    notification_emails:
      - mconley@mozilla.com
      - gsvelto@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  os_priority_change_considered:
    bug_numbers:
      - 1538987
    description: >
      The number of times we've had the opportunity to change content process
      priority due to a tab switch or a tab being opened.
    expires: never
    kind: uint
    notification_emails:
      - mconley@mozilla.com
      - gsvelto@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains parent process base counters.
dom.parentprocess:
  private_window_used:
    bug_numbers:
      - 1491047
    description: >
      Whether a private browsing window has been used in the session.
    expires: never
    kind: boolean
    notification_emails:
      - seceng-telemetry@mozilla.com
      - ehsan+telemetry@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.toolbar.eyedropper:
  opened:
    bug_numbers:
      - 1247985
      - 1352115
    description: Number of times the DevTools Eyedropper has been opened via the inspector toolbar.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.copy.unique.css.selector:
  opened:
    bug_numbers:
      - 1323700
      - 1352115
      - 1566395
    description: Number of times the DevTools copy unique CSS selector has been used.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.copy.full.css.selector:
  opened:
    bug_numbers:
      - 1323700
      - 1352115
      - 1566395
    description: Number of times the DevTools copy full CSS selector has been used.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.copy.xpath:
  opened:
    bug_numbers:
      - 987877
      - 1566395
    description: Number of times the DevTools copy XPath has been used.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.layout.flexboxhighlighter:
  opened:
    bug_numbers:
      - 1509907
    description: >
      Number of times the DevTools flexbox highlighter was activated from the layout view.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.markup.flexboxhighlighter:
  opened:
    bug_numbers:
      - 1509907
    description: >
      Number of times the DevTools flexbox highlighter was activated from the markup view.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.rules.flexboxhighlighter:
  opened:
    bug_numbers:
      - 1509907
    description: >
      Number of times the DevTools flexbox highlighter was activated from the rules view.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.markup.gridinspector:
  opened:
    bug_numbers:
      - 1509907
    description: >
      Number of times the DevTools grid inspector was opened from the markup view.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.rules.gridinspector:
  opened:
    bug_numbers:
      - 1373483
    description: >
      Number of times the DevTools grid inspector was opened from the rules view.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.grid.gridinspector:
  opened:
    bug_numbers:
      - 1373483
    description: >
      Number of times the DevTools grid inspector was opened from the grid view.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.grid.showGridAreasOverlay:
  checked:
    bug_numbers:
      - 1373483
    description: >
      Number of times the DevTools grid inspector's "Display grid areas" was checked.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.grid.showGridLineNumbers:
  checked:
    bug_numbers:
      - 1373483
    description: >
      Number of times the DevTools grid inspector's "Display grid numbers" was checked.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.grid.showInfiniteLines:
  checked:
    bug_numbers:
      - 1373483
    description: >
      Number of times the DevTools grid inspector's "Extend grid lines infinitely" was checked.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.inspector:
  three_pane_enabled:
    bug_numbers:
      - 1437881
      - 1566395
    description: >
      Number of times the DevTools inspector was opened with the 3 pane inspector enabled,
      keyed by true/false.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - gl@mozilla.com
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  element_picker_used:
    bug_numbers:
      - 1529883
    description: >
      Number of times the element picker is used to select an element from the page.
    expires: "70"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  node_selection_count:
    bug_numbers:
      - 1550794
    description: >
      Number of times a different node is marked as selected in the Inspector regardless
      of the cause: context menu, manual selection in markup view, etc.
    expires: "never"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.shadowdom:
  shadow_root_displayed:
    bug_numbers:
      - 1470128
      - 1566393
    description: >
      Whether the markup view displayed any #shadow-root element in the UI.
    expires: "never"
    kind: boolean
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - jdescottes@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  shadow_root_expanded:
    bug_numbers:
      - 1470128
      - 1566393
    description: >
      Whether the user expanded any #shadow-root element.
    expires: "never"
    kind: boolean
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - jdescottes@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  reveal_link_clicked:
    bug_numbers:
      - 1470128
      - 1566393
    description: >
      Whether the user clicked on any "reveal" link. "reveal" links are displayed in
      shadow dom trees in the markup view.
    expires: "never"
    kind: boolean
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - jdescottes@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools:
  current_theme:
    bug_numbers:
      - 1396811
    description: >
      Number of times DevTools was opened, keyed by theme.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.tooltip:
  shown:
    bug_numbers:
      - 1553471
    description: >
      Number of times a tooltip was shown, keyed by tooltip type. Currently supported types are "image", "font-family", "inactive-css" and "variable."
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.responsive:
  toolbox_opened_first:
    bug_numbers:
      - 1444497
    description: >
      Number of Responsive Design Mode opens with a toolbox already open.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - jryans@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    release_channel_collection: opt-out
  open_trigger:
    bug_numbers:
      - 1444497
    description: >
      Number of Responsive Design Mode opens keyed by the UI entry point used.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - jryans@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    release_channel_collection: opt-out

devtools.tool:
  registered:
    bug_numbers:
      - 1447302
      - 1503568
    description: >
      Recorded on enable tool checkbox check/uncheck in Developer Tools options
      panel. Boolean stating if the tool was enabled or disabled by the user.
      Keyed by tool id. Current default tools with their id's are defined in
      https://dxr.mozilla.org/mozilla-central/source/devtools/client/definitions.js
    expires: "70"
    kind: boolean
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.accessibility:
  node_inspected_count:
    bug_numbers:
      - 1447302
      - 1503568
    description: >
      Number of times a DOM node was inspected from within the Accessibility
      tool.
    expires: "70"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  opened_count:
    bug_numbers:
      - 1447302
      - 1503568
    description: >
      Number of times the DevTools Accessibility tool has been opened.
    expires: "70"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  picker_used_count:
    bug_numbers:
      - 1447302
      - 1503568
    description: >
      Number of times the picker tool has been used in DevTools Accessibility
      panel.
    expires: "70"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  select_accessible_for_node:
    bug_numbers:
      - 1447302
      - 1503568
    description: >
      Number of times an accessible object was inspected from outside the
      Accessibility tool (navigation to Accessibility panel). Keyed by the
      source of user action (inspector context menu, browser context menu, etc).
    expires: "70"
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  service_enabled_count:
    bug_numbers:
      - 1447302
      - 1503568
    description: >
      Number of times platform accessibility has been enabled in DevTools
      Accessibility panel.
    expires: "70"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  accessible_context_menu_opened:
    bug_numbers:
      - 1507870
    description: >
      Number of times a context menu was opened for an accessible object in the
      accessibility tree.
    expires: "70"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  accessible_context_menu_item_activated:
    bug_numbers:
      - 1507870
    description: >
      Number of times a context menu item for an accessible object was activated (with
      mouse or keyboard) from the context menu opened in the accessibility tree. Keyed by
      the id of the context menu item.
    expires: "70"
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  audit_activated:
    bug_numbers:
      - 1548241
    description: >
      Number of times accessibility audit was activated (with mouse or keyboard)
      from the accessibility panel's toolbar. Keyed by the audit filter type
      (e.g. "CONTRAST").
    expires: "73"
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  simulation_activated:
    bug_numbers:
      - 1567200
    description: >
      Number of times accessibility simulation was activated (with mouse or keyboard)
      from the accessibility panel's toolbar. Keyed by the simulation type
      (e.g. "DEUTERANOMALY").
    expires: "74"
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - yzenevich@mozilla.com
      - mislam@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.application:
  opened_count:
    bug_numbers:
      - 1451734
    description: >
      Number of times the DevTools Application panel has been opened.
    expires: "66"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - jdescottes@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.toolbox:
  tabs_reordered:
    bug_numbers:
      - 1456551
      - 1566362
    description: >
      Number of times the DevTools tab was reordered.
      Keyed by tab's id.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - daisuke@mozilla.com
      - hkirschner@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.webreplay:
  new_recording:
    bug_numbers:
      - 1495910
    description: >
      Number of times a blank recording tab was created.
    expires: never
    kind: uint
    notification_emails:
      - bhackett@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  reload_recording:
    bug_numbers:
      - 1495910
    description: >
      Number of times a non-recording tab was reloaded to create a recording tab.
    expires: never
    kind: uint
    notification_emails:
      - bhackett@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  stop_recording:
    bug_numbers:
      - 1495910
    description: >
      Number of times a recording tab was reloaded to create a non-recording tab.
    expires: never
    kind: uint
    notification_emails:
      - bhackett@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  save_recording:
    bug_numbers:
      - 1495910
    description: >
      Number of times a recording was saved.
    expires: never
    kind: uint
    notification_emails:
      - bhackett@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  load_recording:
    bug_numbers:
      - 1495910
    description: >
      Number of times a recording was loaded.
    expires: never
    kind: uint
    notification_emails:
      - bhackett@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

devtools.changesview:
  opened_count:
    bug_numbers:
      - 1509890
    description: >
      Number of times the Changes panel has been opened.
    expires: never
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  copy_all_changes:
    bug_numbers:
      - 1532583
    description: >
      Number of times the Copy All Changes button is used in the Changes panel.
    expires: "73"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  copy_rule:
    bug_numbers:
      - 1532583
    description: >
      Number of times the Copy Rule button is used in the Changes panel.
    expires: "73"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  contextmenu_copy_declaration:
    bug_numbers:
      - 1532583
    description: >
      Number of times the Copy Declaration option is picked from the Changes panel
      context menu.
    expires: "73"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  contextmenu_copy_rule:
    bug_numbers:
      - 1532583
    description: >
      Number of times the Copy Rule option is picked from the Changes panel
      context menu.
    expires: "73"
    kind: uint
    notification_emails:
      - dev-developer-tools@lists.mozilla.org
      - mbalfanz@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

dom.event:
  confluence_load_count:
    bug_numbers:
      - 1514940
    description: >
      Number of times Confluence instances are loaded, and whether they are
      compatible with conflated keypress event model or not, using "new"/"old".
      I.e., collecting percentage of too old Confluence instance use count in
      all Confluence instance use count.
    expires: "71"
    keyed: true
    kind: uint
    notification_emails:
      - mnakano@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

  office_online_load_count:
    bug_numbers:
      - 1545410
    description: >
      Number of times Office Online Server instances are loaded, and whether
      they are compatible with conflated keypress event model or not, using
      "new"/"old".  I.e., collecting percentage of too old Confluence instance
      use count in all Office Online Server instance use count.
    expires: "71"
    keyed: true
    kind: uint
    notification_emails:
      - mnakano@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

navigator.storage:
  estimate_count:
    bug_numbers:
      - 1359708
    description: >
      Number of times navigator.storage.estimate has been used.
    expires: "60"
    kind: uint
    notification_emails:
      - shuang@mozilla.com
      - ttung@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  persist_count:
    bug_numbers:
      - 1359708
    description: >
      Number of times navigator.storage.persist has been used.
    expires: "60"
    kind: uint
    notification_emails:
      - shuang@mozilla.com
      - ttung@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

telemetry:
  accumulate_unknown_histogram_keys:
    bug_numbers:
      - 1343855
    description: >
      The count of attempted accumulations to unknown histogram keys for
      histograms that restrict the set of allowed keys ('keys' property).
      The names of the offending histograms are used as keys in this probe.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - all

  accumulate_clamped_values:
    bug_numbers:
      - 1438335
    description: >
      The count of accumulations that had to be clamped down to not overflow,
      keyed to the histogram name of the overflowing accumulation.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
      - chutten@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  event_counts:
    bug_numbers:
      - 1440673
    description: >
      The counts of events recorded in the process, category, method, and
      object of the key, even if event recording for the category was not
      enabled.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
      - chutten@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all'

  profile_directory_scans:
    bug_numbers:
      - 1458574
    description: >
      The number of times a profile directory scan was initiated in ProfileAge.jsm
    expires: "65"
    kind: uint
    notification_emails:
      - jrediger@mozilla.com
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all'

  profile_directory_scan_date:
    bug_numbers:
      - 1466518
    description: >
      The date of the profile scan to determine the profile creation date from the oldest file, in days since UNIX epoch.
    expires: "65"
    kind: uint
    notification_emails:
      - jrediger@mozilla.com
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  data_upload_optin:
    bug_numbers:
      - 1445921
    description: >
      User opted into sending Telemetry data again.
    expires: "never"
    kind: boolean
    notification_emails:
      - jrediger@mozilla.com
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  keyed_scalars_exceed_limit:
    bug_numbers:
      - 1451813
    description: >
      The number of times keyed scalars exceeded the number of keys limit, keyed by scalar name.
    expires: "never"
    kind: uint
    keyed: true
    notification_emails:
      - chutten@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  about_telemetry_pageload:
    bug_numbers:
      - 1512503
    description: >
      The number of times about:telemetry was loaded.
    expires: "70"
    kind: uint
    notification_emails:
      - chutten@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  process_creation_timestamp_inconsistent:
    bug_numbers:
      - 1514392
    description: >
      The number of times ProcessCreation saw an inconsistent value.
    expires: "72"
    kind: uint
    notification_emails:
      - jrediger@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  ecosystem_old_send_time:
    bug_numbers:
      - 1545365
    description: >
      The timestamp im milliseconds of the last time we tried to send an Ecosystem ping
    expires: "73"
    kind: string
    notification_emails:
      - jrediger@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'pre-account'

  ecosystem_new_send_time:
    bug_numbers:
      - 1545365
    description: >
      The timestamp im milliseconds of the last time we tried to send an Ecosystem ping
    expires: "73"
    kind: string
    notification_emails:
      - jrediger@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'pre-account'

telemetry.discarded:
  accumulations:
    bug_numbers:
      - 1369041
    description: >
      Number of discarded accumulations to histograms in child processes
    expires: "never"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all_childs'
  keyed_accumulations:
    bug_numbers:
      - 1369041
    description: >
      Number of discarded accumulations to keyed histograms in child processes
    expires: "never"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all_childs'
  scalar_actions:
    bug_numbers:
      - 1369041
    description: >
      Number of discarded actions on scalars in child processes
    expires: "never"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all_childs'
  keyed_scalar_actions:
    bug_numbers:
      - 1369041
    description: >
      Number of discarded actions on keyed scalars in child processes
    expires: "never"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all_childs'
  child_events:
    bug_numbers:
      - 1369041
    description: >
      Number of discarded events in child processes
    expires: "never"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all_childs'

normandy:
  recipe_freshness:
    bug_numbers:
      - 1530508
    description: >
      For each recipe ID seen by the Normandy client, its last_modified.
    expires: "never"
    keyed: true
    kind: uint
    notification_emails:
      - product-delivery@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

# The following section contains graphics-related scalars.
gfx.advanced.layers:
  failure_id:
    bug_numbers:
      - 1365879
    description: >
      Each key is a failure for initializing Advanced Layers, and each value
      is the number of times that failure was recorded. The failure codes
      are unique strings present in MLGDeviceD3D11::Initialize, such that
      a failure can be traced back to a specific Direct3D API call.
    keyed: true
    kind: uint
    expires: "70"
    notification_emails:
      - gfx-telemetry-alerts@mozilla.com
      - rhunt@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

gfx.omtp:
  paint_wait_ratio:
    bug_numbers:
      - 1386968
      - 1518669
    description: >
      Ratio (in units of 1/100th of a percent) of how many times OMTP waited
      for a paint for more than 200us, versus the total number of paints.
    keyed: false
    kind: uint
    expires: "never"
    notification_emails:
      - gfx-telemetry-alerts@mozilla.com
      - rhunt@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

gfx.hdr:
  windows_display_colorspace_bitfield:
    bug_numbers:
      - 1514840
    description: >
      A bitfield representation of the available DXGI color spaces of the connected displays on Windows.
      See (https://docs.microsoft.com/en-us/windows/desktop/api/dxgicommon/ne-dxgicommon-dxgi_color_space_type)
      for definitions of color spaces. Each N'th bit of this scalar indicates whether the DXGI color space with
      index 'N' is available on at least one connected monitor.
    keyed: false
    kind: uint
    expires: "70"
    notification_emails:
      - gfx-telemetry-alerts@mozilla.com
      - rhunt@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains the form autofill related scalars.
formautofill:
  availability:
    bug_numbers:
      - 1386959
    description: A boolean sent once per session to represent whether the formautofill is available in the build
    expires: never
    kind: boolean
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

formautofill.addresses:
  fill_type_manual:
    bug_numbers:
      - 990200
    description: Count at submission time whether the submitted form was filled manually.
    expires: never
    kind: uint
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  fill_type_autofill:
    bug_numbers:
      - 990200
    description: Count at submission time whether the submitted form was autofilled.
    expires: never
    kind: uint
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  fill_type_autofill_update:
    bug_numbers:
      - 990200
    description: >
      Count at submission time whether the submitted form was autofilled, but
      the data in form is changed and can not be merged to orginal address profile.
    expires: never
    kind: uint
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

formautofill.creditCards:
  fill_type_manual:
    bug_numbers:
      - 1371232
    description: Count at submission time whether the submitted credit card form was filled manually.
    expires: never
    kind: uint
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  fill_type_autofill:
    bug_numbers:
      - 1371232
    description: Count at submission time whether the submitted credit card form was autofilled.
    expires: never
    kind: uint
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
  fill_type_autofill_modified:
    bug_numbers:
      - 1371232
    description: >
      Count at submission time whether the submitted credit card form was autofilled but
      the data in form is changed.
    expires: never
    kind: uint
    notification_emails:
      - autofill@lists.mozilla.org
      - jcheng@mozilla.com
      - chsiang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains scalars for Screenshots.
screenshots:
  download:
    bug_numbers:
      - 1412411
    description: >
      The count of new screenshots created, then downloaded per session
      via the Firefox Screenshots feature. Excludes failed attempts due
      to any error.
    expires: never
    kind: uint
    notification_emails:
      - jhirsch@mozilla.com
      - ibicking@mozilla.com
      - clouserw@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  upload:
    bug_numbers:
      - 1412411
    description: >
      The count of new screenshots created, then uploaded per session
      via the Firefox Screenshots feature. Excludes attempts to create
      and upload the screenshot that may have failed.
    expires: never
    kind: uint
    notification_emails:
      - jhirsch@mozilla.com
      - ibicking@mozilla.com
      - clouserw@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  copy:
    bug_numbers:
      - 1412411
    description: >
      The count of new screenshots created, then copied directly to the
      clipboard per session via the Firefox Screenshots feature.
    expires: never
    kind: uint
    notification_emails:
      - jhirsch@mozilla.com
      - ibicking@mozilla.com
      - clouserw@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section is for tracking the number of failure for indexedDB.
idb.failure:
  fileinfo_error:
    bug_numbers:
      - 1432133
    description: >
      Tracking the number of failure due to missing fileInfo while doing
      structured clone.
    expires: "70"
    kind: uint
    notification_emails:
      - ttung@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains scalars for the PDF viewer.
pdf.viewer:
  used:
    bug_numbers:
      - 1566882
    description: >
      How many times PDF Viewer was used.
    expires: never
    notification_emails:
      - bdahl@mozilla.com
    kind: uint
    products:
      - 'firefox'
    record_in_processes:
      - 'main'
      - 'content'
  fallback_shown:
    bug_numbers:
      - 1566882
    description: >
      How many times PDF Viewer fallback bar was shown.
    expires: "75"
    notification_emails:
      - bdahl@mozilla.com
    kind: uint
    products:
      - 'firefox'
    record_in_processes:
      - 'main'
      - 'content'
  print:
    bug_numbers:
      - 1566882
    description: >
      How many times PDF Viewer print functionality was used.
    expires: "75"
    notification_emails:
      - bdahl@mozilla.com
    kind: uint
    products:
      - 'firefox'
    record_in_processes:
      - 'main'
      - 'content'

# The following section contains probes that record timestamps.
timestamps:
  first_paint:
    bug_numbers:
      - 1386186
    description: >
     Record the timestamp of the first content window paint, in milliseconds since process start.
    expires: never
    kind: uint
    notification_emails:
      - hkirschner@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  about_home_topsites_first_paint:
    bug_numbers:
      - 1518521
    description: >
      Record the timestamp of when the first about:home's Topsites are painted. Only records if
      about:home is set as the default homepage, and if sessions are not being restored by default.
    expires: never
    kind: uint
    notification_emails:
      - mconley@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

browser.timings:
  last_shutdown:
    bug_numbers:
      - 1429510
    description: >
      The time, in milliseconds, it took to complete the last shutdown.
      On successful shutdown, Telemetry saves this to disk into Telemetry.ShutdownTime.txt.
      On the next startup this is loaded and recorded.
    expires: never
    kind: uint
    notification_emails:
      - florian@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains the service worker scalars.
sw:
  synthesized_res_count:
    bug_numbers:
      - 1416629
      - 1433916
    description: >
      The count of number of synthesize response made by service workers.
    expires: "68"
    kind: uint
    notification_emails:
      - sw-telemetry@mozilla.com
      - ttung@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  cors_res_for_so_req_count:
    bug_numbers:
      - 1416629
    description: >
      The count of number of synthesize response made by service workers and
      it's a cors type resposne for a same-origin mode request.
    expires: "61"
    kind: uint
    notification_emails:
      - sw-telemetry@mozilla.com
      - ttung@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  alternative_body_used_count:
    bug_numbers:
      - 1423623
      - 1433916
    description: >
      The count of number of synthesize response using alternative body.
    expires: "68"
    kind: uint
    notification_emails:
      - sw-telemetry@mozilla.com
      - echuang@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

widget:
  ime_name_on_windows:
    bug_numbers:
      - 1215818
    description: >
      Locale ID and name of IME which was selected by users on Windows.  This
      does NOT collect legacy IMM-IME names since we cannot get readable names
      and we do not support IMM-IME so aggressively because IME vendors
      should've already released TIP for TSF for supporting Windows 8 or later
      completely.
    keyed: true
    expires: never
    kind: boolean
    notification_emails:
      - mnakano@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  ime_name_on_mac:
    bug_numbers:
      - 1215818
    description: >
      Name of IME which was selected by users on macOS.  The value is Input
      Source ID if non-Japanese IME was open.  Otherwise, if Japanese IME was
      open, the value is Bundle ID.  Input Source ID includes input mode, but
      Bundle ID does not include input mode.
    keyed: true
    expires: never
    kind: boolean
    notification_emails:
      - mnakano@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  ime_name_on_linux:
    bug_numbers:
      - 1215818
    description: >
      Name of active IM (e.g., xim, fcitx, ibus, etc) which was actually set by
      env on Linux.  Different from Windows and macOS, this value includes
      non-IME users even though this is recoded when first compositionstart
      event because dead key is also implemented by IME on Linux.
    keyed: true
    expires: never
    kind: boolean
    notification_emails:
      - mnakano@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section contains memory reporter counters.
memoryreporter:
  max_ghost_windows:
    bug_numbers:
      - 1454724
    description: >
      The maximum number of leaked ghost windows seen.
    expires: "66"
    kind: uint
    notification_emails:
      - memshrink-telemetry-alerts@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

update:
  binarytransparencyresult:
    bug_numbers:
      - 1501889
    description: >
      If the binary transparency information for an update does not verify
      successfully, this probe will contain an error code from
      toolkit/mozapps/update/common/updatererrors.h indicating why.
    expires: "73"
    kind: uint
    keyed: true
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - seceng-telemetry@mozilla.com
      - dkeeler@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  bitshresult:
    bug_numbers:
      - 1343669
      - 1540193
      - 1520321
    description: >
      If a BITS download fails on the Windows side (that is to say, BITS
      ecounters an error rather than Firefox failing to interact with BITS),
      it will likely give an hresult error indicating what happened. This probe
      reports those error codes to allow us to see if BITS is commonly failing
      on some systems. This probe is keyed on the type of update download,
      either "PARTIAL" or "COMPLETE".
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - windows

update.startup:
  from_app_version:
    bug_numbers:
      - 1539154
    description: >
      Records the previous application version that the update was applied to
      when the update makes it to the last phase where the application has
      exited and started.
    expires: "72"
    kind: string
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  mar_partial_size_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes of a partial update MAR file when
      the update makes it to the last phase where the application has exited and
      started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  mar_complete_size_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes of a complete update MAR file when
      the update makes it to the last phase where the application has exited and
      started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

update.startup.intervals:
  check:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the check phase of the update process
      when an update makes it to the last phase where the application has exited
      and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  download_bits_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the BITS downloader for a partial update MAR file when the
      update makes it to the last phase where the application has exited and
      and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  download_bits_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the BITS downloader for a complete update MAR file when the
      update makes it to the last phase where the application has exited and
      started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  download_internal_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the internal application downloader for a partial update MAR
      file when the update makes it to the last phase where the application has
      exited and and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  download_internal_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the internal application downloader for a complete update
      MAR file when the update makes it to the last phase where the application
      has exited and and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  stage_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the stage phase of the update process
      for a partial update MAR file when the update makes it to the last phase
      where the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  stage_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the stage phase of the update process
      for a complete update MAR file when the update makes it to the last phase
      where the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  apply_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the apply phase of the update process
      for a partial update MAR file when the update makes it to the last phase
      where the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  apply_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the apply phase of the update process
      for a complete update MAR file when the update makes it to the last phase
      where the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

update.startup.downloads:
  bits_partial_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded using the BITS downloader for
      a partial update MAR file when the update makes it to the last phase where
      the application has exited and started. This value can be different than
      the size of the update MAR file because the value is only monitored
      during the initial download while the application is running and not if
      the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  bits_partial_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the BITS downloader for a
      partial update MAR file when the update makes it to the last phase where
      the application has exited and started. This value can be used with the
      value of update.startup.downloads.bits_partial_bytes to estimate the bytes
      per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  bits_complete_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded using the BITS downloader for
      a complete update MAR file when the update makes it to the last phase
      where the application has exited and started. This value can be different
      than the size of the update MAR file because the value is only monitored
      during the initial download while the application is running and not if
      the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  bits_complete_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the BITS downloader for a
      complete update MAR file when the update makes it to the last phase where
      the application has exited and started. This value can be used with the
      value of update.startup.downloads.bits_complete_bytes to estimate the
      bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  internal_partial_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded using the internal application
      downloader for a partial update MAR file when the update makes it to the
      last phase where the application has exited and started. This value can be
      different than the size of the update MAR file because the value is only
      monitored during the initial download while the application is running and
      not if the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  internal_partial_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the internal application
      downloader for a partial update MAR file when the update makes it to the
      last phase where the application has exited and started. This value can be
      used with the value of update.startup.downloads.internal_partial_bytes to
      estimate the bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  internal_complete_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded by the internal
      application downloader for a complete update MAR file when an update makes
      it to the last phase where the application has exited and started. This
      value can be different than the size of the update MAR file because the
      value is only monitored during the initial download while the
      application is running and not if the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  internal_complete_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the internal application
      downloader for a complete update MAR file when the update makes it to the
      last phase where the application has exited and started. This value can be
      used with the value of update.startup.downloads.internal_complete_bytes to
      estimate the bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

update.session:
  from_app_version:
    bug_numbers:
      - 1539154
    description: >
      Records the previous application version that the update was applied to
      when the update has finished due to a failure before the application has
      exited and started.
    expires: "72"
    kind: string
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  mar_partial_size_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes of a partial update MAR file when
      the update has finished due to a failure before the application has exited
      and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  mar_complete_size_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes of a complete update MAR file when
      the update has finished due to a failure before the application has exited
      and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

update.session.intervals:
  check:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the check phase of the update process
      when an update has finished due to a failure before the application has
      exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  download_bits_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the BITS downloader for a partial update MAR file when the
      update has finished due to a failure before the application has exited
      and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  download_bits_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the BITS downloader for a complete update MAR file when the
      update has finished due to a failure before the application has exited and
      started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  download_internal_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the internal application downloader for a partial update MAR
      file when the update has finished due to a failure before the application
      has exited and and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  download_internal_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the download phase of the update
      process using the internal application downloader for a complete update
      MAR file when the update has finished due to a failure before the
      application has exited and and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  stage_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the stage phase of the update process
      for a partial update MAR file when the update has finished due to a
      failure before the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  stage_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the stage phase of the update process
      for a complete update MAR file when the update has finished due to a
      failure before the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  apply_partial:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the apply phase of the update process
      for a partial update MAR file when the update has finished due to a
      failure before the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  apply_complete:
    bug_numbers:
      - 1539154
    description: >
      Records the interval in seconds of the apply phase of the update process
      for a complete update MAR file when the update has finished due to a
      failure before the application has exited and started.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

update.session.downloads:
  bits_partial_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded using the BITS downloader for
      a partial update MAR file when the update has finished due to a failure
      before the application has exited and started. This value can be
      different than the size of the update MAR file because the value is only
      monitored during the initial download while the application is running and
      not if the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  bits_partial_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the BITS downloader for a
      partial update MAR file when the update has finished due to a failure
      before the application has exited and started. This value can be used with
      the value of update.session.downloads.bits_partial_bytes to estimate the
      bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  bits_complete_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded using the BITS downloader for
      a complete update MAR file when the update has finished due to a failure
      before the application has exited and started. This value can be different
      than the size of the update MAR file because the value is only monitored
      during the initial download while the application is running and not if
      the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  bits_complete_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the BITS downloader for a
      complete update MAR file when the update has finished due to a failure
      before the application has exited and started. This value can be used with
      the value of update.session.downloads.bits_complete_bytes to estimate the
      bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    operating_systems:
      - "windows"

  internal_partial_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded using the internal
      application downloader for a partial update MAR file when the update has
      finished due to a failure before the application has exited and started.
      This value can be different than the size of the update MAR file because
      the value is only monitored during the initial download while the
      application is running and not if the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  internal_partial_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the internal application
      downloader for a partial update MAR file when the update has finished due
      to a failure before the application has exited and started. This value can
      be used with the value of update.session.downloads.internal_partial_bytes
      to estimate the bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  internal_complete_bytes:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of bytes downloaded by the internal
      application downloader for a complete update MAR file when an update has
      finished due to a failure before the application has exited and started.
      This value can be different than the size of the update MAR file because
      the value is only monitored during the initial download while the
      application is running and not if the download is resumed.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  internal_complete_seconds:
    bug_numbers:
      - 1539154
    description: >
      Records the total number of seconds spent downloading during the initial
      download without exiting the application using the internal application
      downloader for a complete update MAR file when the update has finished due
      to a failure before the application has exited and started. This value can
      be used with the value of update.session.downloads.internal_complete_bytes
      to estimate the bytes per second for the download.
    expires: "72"
    kind: uint
    keyed: false
    notification_emails:
      - application-update-telemetry-alerts@mozilla.com
      - rstrong@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

# The following section contains search counters.
browser.search:
  with_ads:
    bug_numbers:
      - 1495548
      - 1505411
    description: >
      Records counts of SERP pages with adverts displayed. The key format is <engine-name>.
    expires: never
    keyed: true
    kind: uint
    notification_emails:
      - fx-search@mozilla.com
      - adw@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  ad_clicks:
    bug_numbers:
      - 1495548
      - 1505411
    description: >
      Records clicks of adverts on SERP pages. The key format is <engine-name>.
    expires: never
    keyed: true
    kind: uint
    notification_emails:
      - fx-search@mozilla.com
      - adw@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

encoding:
  override_used:
    bug_numbers:
      - 840476
      - 1513473
      - 1554592
    description: >-
      Whether the Text Encoding menu was used to override an encoding in this subsession.
    expires: "72"
    kind: boolean
    notification_emails:
      - hsivonen@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
      - content

startup:
  profile_selection_reason:
    bug_numbers:
      - 1522934
      - 1570652
    description: >
      How the profile was selected during startup. One of the following reasons:
        unknown:
          Generally should not happen, set as a default in case no other reason
          occured.
        profile-manager:
          The profile was selected by the profile manager.
        profile-reset:
          The profile was selected for reset, normally this would mean a restart.
        restart:
          The user restarted the application, the same profile as previous will
          be used.
        argument-profile:
          The profile was selected by the --profile command line argument.
        argument-p:
          The profile was selected by the -p command line argument.
        firstrun-claimed-default:
          A first run of a dedicated profiles build chose the old default
          profile to be the default for this install.
        firstrun-skipped-default:
          A first run of a dedicated profiles build skipped over the old default
          profile and created a new profile.
        restart-claimed-default:
          A first run of a dedicated profiles build after a restart chose the
          old default profile to be the default for this install.
        restart-skipped-default:
          A first run of a dedicated profiles build after a restart skipped over
          the old default profile and created a new profile.
        firstrun-created-default:
          A first run of the application created a new profile to use.
        default:
          The default profile was selected as normal.
    expires: "77"
    keyed: false
    kind: string
    notification_emails:
      - dtownsend@mozilla.com
      - rtestard@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main
    record_into_store:
      - main
      - new-profile

  is_cold:
    bug_numbers:
      - 1542833
    description: >
      Whether or not this startup is the first startup since OS reboot (according to our
      best guess.)
    expires: never
    kind: boolean
    notification_emails:
      - dothayer@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

script.preloader:
  mainthread_recompile:
    bug_numbers:
      - 1364235
    description:
      How many times we ended up recompiling a script from the script preloader
      on the main thread.
    expires: "73"
    keyed: false
    kind: uint
    notification_emails:
      - dothayer@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

networking:
  data_transferred_v3_kb:
    bug_numbers:
      - 1533363
      - 1546903
      - 1546796
      - 1546906
      - 1550756
      - 1572666
    description: >
      How many KB of HTTP data transferred by type, there are some categories
      separated by keys based on 5 parameters:
        1. normal browsing or private browsing
        2. system principal or not
        3. first party or third party
        4. class of service (Leader/Background/Others)
        5. tracking classification (Basic/Content/FingerprintingContent)

      Available keys are:
        "Y0_N1Sys",
        "Y1_N1",
        "Y2_N3Oth",
        "Y3_N3BasicLead",
        "Y4_N3BasicBg",
        "Y5_N3BasicOth",
        "Y6_N3ContentLead",
        "Y7_N3ContentBg",
        "Y8_N3ContentOth",
        "Y9_N3FpLead",
        "Y10_N3FpBg",
        "Y11_N3FpOth",
        "Y12_P1Sys",
        "Y13_P1",
        "Y14_P3Oth",
        "Y15_P3BasicLead",
        "Y16_P3BasicBg",
        "Y17_P3BasicOth",
        "Y18_P3ContentLead",
        "Y19_P3ContentBg",
        "Y20_P3ContentOth",
        "Y21_P3FpLead",
        "Y22_P3FpBg",
        "Y23_P3FpOth"
    expires: "73"
    keyed: true
    kind: uint
    notification_emails:
      - gachen@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    release_channel_collection: opt-out

  data_transferred_captive_portal:
    bug_numbers:
      - 1543005
    description: >
      Hom many KB has been transfer over a captive portal during a subsession.
    expires: "73"
    keyed: false
    kind: uint
    notification_emails:
      - ddamjanovic@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  http_transactions_captive_portal:
    bug_numbers:
      - 1543005
    description: >
      Number of http transactions transfer over a captive portal during a subsession.
    expires: "73"
    keyed: false
    kind: uint
    notification_emails:
      - ddamjanovic@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  http_connections_captive_portal:
    bug_numbers:
      - 1543005
    description: >
      Number of http connections transfer over a captive portal during a subsession.
    expires: "73"
    keyed: false
    kind: uint
    notification_emails:
      - ddamjanovic@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

# The following section is for quotaManager
qm:
  origin_directory_unexpected_filename:
    bug_numbers:
      - 1529016
    description: >
      Keys are the filenames of unexpected files in the profile's origin directories.
    expires: "70"
    keyed: true
    kind: uint
    notification_emails:
      - ttung@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

blocklist:
  lastModified_xml:
    bug_numbers:
      - 1572711
    description: >
      Keep track of the lastupdate datetime from a successfully loaded xml blocklist,
      set to "Invalid Date" or "Missing Date" when the timestamp is invalid or missing.
      (based on the lastupdate attribute set on the XML document element,
      converted from a milliseconds timestamp into a datetime string in UTC format).
    expires: "75"
    kind: string
    release_channel_collection: opt-out
    notification_emails:
      - addons-dev-internal@mozilla.com
      - lgreco@mozilla.com
      - awagner@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
    record_in_processes:
      - main

  lastModified_rs_addons:
    bug_numbers:
      - 1572711
    description: >
      Keep track of the last time the "addons" remotesetting blocklist has been successfully
      updated (as a datetime string in UTC format), set to "Missing Date" when the timestamp
      couldn't be retrieved.
    expires: "75"
    kind: string
    release_channel_collection: opt-out
    notification_emails:
      - addons-dev-internal@mozilla.com
      - lgreco@mozilla.com
      - awagner@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
    record_in_processes:
      - main

  lastModified_rs_plugins:
    bug_numbers:
      - 1572711
    description: >
      Keep track of the last time the "plugins" remotesetting blocklist has been successfully
      updated (as a datetime string in UTC format), set to "Missing Date" when the timestamp
      couldn't be retrieved.
    expires: "75"
    kind: string
    release_channel_collection: opt-out
    notification_emails:
      - addons-dev-internal@mozilla.com
      - lgreco@mozilla.com
      - awagner@mozilla.com
    products:
      - 'firefox'
    record_in_processes:
      - main

  useXML:
    bug_numbers:
      - 1572711
    description: >
      Keep track of the currently enabled blocklist engine (set to false if the
      remote settings blocklist is the one enabled).
    expires: "75"
    kind: boolean
    release_channel_collection: opt-out
    notification_emails:
      - addons-dev-internal@mozilla.com
      - lgreco@mozilla.com
      - awagner@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
    record_in_processes:
      - main

# The following section is for probes testing the Telemetry system. They will not be
# submitted in pings and are only used for testing.
telemetry.test:
  unsigned_int_kind:
    bug_numbers:
      - 1276190
    description: >
      This is a test uint type with a really long description, maybe spanning even multiple
      lines, to just prove a point: everything works just fine.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  string_kind:
    bug_numbers:
      - 1276190
    description: A string test type with a one line comment that works just fine!
    expires: never
    kind: string
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  boolean_kind:
    bug_numbers:
      - 1281214
    description: A boolean test type with a one line comment that works just fine!
    expires: never
    kind: boolean
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  expired:
    bug_numbers:
      - 1276190
    description: This is an expired testing scalar; not meant to be touched.
    expires: "4"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  unexpired:
    bug_numbers:
      - 1276190
    description: This is an unexpired testing scalar; not meant to be touched.
    expires: "375"
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  release_optin:
    bug_numbers:
      - 1276190
    description: A testing scalar; not meant to be touched.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  release_optout:
    bug_numbers:
      - 1276190
    description: A testing scalar; not meant to be touched.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  keyed_release_optin:
    bug_numbers:
      - 1277806
    description: A testing scalar; not meant to be touched.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-in
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  keyed_release_optout:
    bug_numbers:
      - 1277806
    description: A testing scalar; not meant to be touched.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  keyed_expired:
    bug_numbers:
      - 1277806
    description: This is an expired testing scalar; not meant to be touched.
    expires: "4"
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  keyed_unsigned_int:
    bug_numbers:
      - 1277806
    description: A testing keyed uint scalar; not meant to be touched.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'

  child_keyed_unsigned_int:
    bug_numbers:
      - 1466490
    description: A testing keyed uint scalar; not meant to be touched.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

  keyed_boolean_kind:
    bug_numbers:
      - 1277806
    description: A testing keyed boolean scalar; not meant to be touched.
    expires: never
    kind: boolean
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
      - 'content'

  content_only_uint:
    bug_numbers:
      - 1278556
    description: A testing uint scalar; not meant to be touched.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'content'

  socket_only_uint:
    bug_numbers:
      - 1486033
    description: A testing uint scalar; not meant to be touched.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'socket'

  all_processes_uint:
    bug_numbers:
      - 1278556
    description: A testing uint scalar; not meant to be touched.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all'

  all_child_processes_string:
    bug_numbers:
      - 1278556
    description: A testing string scalar; not meant to be touched.
    expires: never
    kind: string
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all_childs'

  default_products:
    bug_numbers:
      - 1452552
    description: A testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'all'

  desktop_only:
    bug_numbers:
      - 1452552
    description: A testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    record_in_processes:
      - 'all'
    products:
      - firefox

  keyed_desktop_only:
    bug_numbers:
      - 1452552
    description: A keyed testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    record_in_processes:
      - 'all'
    products:
      - firefox

  multiproduct:
    bug_numbers:
      - 1452552
    description: A testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    record_in_processes:
      - 'all'
    products:
      - firefox
      - fennec
      - geckoview

  mobile_only:
    bug_numbers:
      - 1452552
    description: A testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    record_in_processes:
      - 'all'
    products:
      - fennec
      - geckoview

  geckoview_only:
    bug_numbers:
      - 1452552
    description: A testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    record_in_processes:
      - 'all'
    products:
      - geckoview

  keyed_mobile_only:
    bug_numbers:
      - 1452552
    description: A keyed testing uint scalar; not meant to be touched
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    record_in_processes:
      - 'all'
    products:
      - fennec
      - geckoview

  main_only:
    bug_numbers:
      - 1498164
    description: >
      This is a test uint type with only the main store.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'

  sync_only:
    bug_numbers:
      - 1498164
    description: >
      This is a test uint type with only the sync store.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'sync'

  multiple_stores:
    bug_numbers:
      - 1498164
    description: >
      This is a test uint type with multiple stores.
    expires: never
    kind: uint
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'
      - 'sync'

  multiple_stores_string:
    bug_numbers:
      - 1498164
    description: >
      This is a test string type with multiple stores.
    expires: never
    kind: string
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'
      - 'sync'

  multiple_stores_bool:
    bug_numbers:
      - 1498164
    description: >
      This is a test bool type with multiple stores.
    expires: never
    kind: boolean
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'
      - 'sync'

  multiple_stores_keyed:
    bug_numbers:
      - 1498164
    description: >
      This is a test keyed uint type with multiple stores.
    expires: never
    kind: uint
    keyed: true
    notification_emails:
      - telemetry-client-dev@mozilla.com
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - 'main'
    record_into_store:
      - 'main'
      - 'sync'

# The following section contains counters for corruption of internal JAR and XPI files.
corroborate:
  omnijar_corrupted:
    bug_numbers:
      - 1515712
    description: >-
          Whether the omni jar (omni.ja) was found to be missing or corrupt when checked during startup.
    expires: "71"
    kind: boolean
    notification_emails:
      - rhelmer@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

  system_addons_corrupted:
    bug_numbers:
      - 1515712
    description: >-
      Whether any system add-on (XPI files) were found to be missing or corrupt when checked during startup.
    expires: "71"
    kind: boolean
    notification_emails:
      - rhelmer@mozilla.com
    release_channel_collection: opt-out
    products:
      - 'firefox'
      - 'fennec'
      - 'geckoview'
    record_in_processes:
      - main

# NOTE: Please don't add new definitions below this point. Consider adding
# them earlier in the file and leave the telemetry.test category as the last
# one for readability.
