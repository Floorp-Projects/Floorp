#!/usr/bin/env bash

# Compare the common files in unit_base_updater and unit_service_updater.

while read LINE1 && read LINE2 && read BLANK; do
  diff -U 3 "unit_base_updater/$LINE1" "unit_service_updater/$LINE2"
done <<END
invalidArgInstallDirPathTooLongFailure.js
invalidArgInstallDirPathTooLongFailureSvc.js

invalidArgInstallDirPathTraversalFailure.js
invalidArgInstallDirPathTraversalFailureSvc.js

invalidArgInstallWorkingDirPathNotSameFailure_win.js
invalidArgInstallWorkingDirPathNotSameFailureSvc_win.js

invalidArgPatchDirPathTraversalFailure.js
invalidArgPatchDirPathTraversalFailureSvc.js

invalidArgStageDirNotInInstallDirFailure_win.js
invalidArgStageDirNotInInstallDirFailureSvc_win.js

invalidArgWorkingDirPathLocalUNCFailure_win.js
invalidArgWorkingDirPathLocalUNCFailureSvc_win.js

invalidArgWorkingDirPathRelativeFailure.js
invalidArgWorkingDirPathRelativeFailureSvc.js

marAppApplyDirLockedStageFailure_win.js
marAppApplyDirLockedStageFailureSvc_win.js

marAppApplyUpdateAppBinInUseStageSuccess_win.js
marAppApplyUpdateAppBinInUseStageSuccessSvc_win.js

marAppApplyUpdateStageSuccess.js
marAppApplyUpdateStageSuccessSvc.js

marAppApplyUpdateSuccess.js
marAppApplyUpdateSuccessSvc.js

marAppInUseBackgroundTaskFailure_win.js
marAppInUseBackgroundTaskFailureSvc_win.js

marAppInUseStageFailureComplete_win.js
marAppInUseStageFailureCompleteSvc_win.js

marAppInUseSuccessComplete.js
marAppInUseSuccessCompleteSvc.js

marCallbackAppStageSuccessComplete_win.js
marCallbackAppStageSuccessCompleteSvc_win.js

marCallbackAppStageSuccessPartial_win.js
marCallbackAppStageSuccessPartialSvc_win.js

marCallbackAppSuccessComplete_win.js
marCallbackAppSuccessCompleteSvc_win.js

marCallbackAppSuccessPartial_win.js
marCallbackAppSuccessPartialSvc_win.js

marFailurePartial.js
marFailurePartialSvc.js

marFileInUseStageFailureComplete_win.js
marFileInUseStageFailureCompleteSvc_win.js

marFileInUseStageFailurePartial_win.js
marFileInUseStageFailurePartialSvc_win.js

marFileInUseSuccessComplete_win.js
marFileInUseSuccessCompleteSvc_win.js

marFileInUseSuccessPartial_win.js
marFileInUseSuccessPartialSvc_win.js

marFileLockedFailureComplete_win.js
marFileLockedFailureCompleteSvc_win.js

marFileLockedFailurePartial_win.js
marFileLockedFailurePartialSvc_win.js

marFileLockedStageFailureComplete_win.js
marFileLockedStageFailureCompleteSvc_win.js

marFileLockedStageFailurePartial_win.js
marFileLockedStageFailurePartialSvc_win.js

marRMRFDirFileInUseStageFailureComplete_win.js
marRMRFDirFileInUseStageFailureCompleteSvc_win.js

marRMRFDirFileInUseStageFailurePartial_win.js
marRMRFDirFileInUseStageFailurePartialSvc_win.js

marRMRFDirFileInUseSuccessComplete_win.js
marRMRFDirFileInUseSuccessCompleteSvc_win.js

marRMRFDirFileInUseSuccessPartial_win.js
marRMRFDirFileInUseSuccessPartialSvc_win.js

marStageFailurePartial.js
marStageFailurePartialSvc.js

marStageSuccessComplete.js
marStageSuccessCompleteSvc.js

marStageSuccessPartial.js
marStageSuccessPartialSvc.js

marSuccessComplete.js
marSuccessCompleteSvc.js

marSuccessPartial.js
marSuccessPartialSvc.js

END
