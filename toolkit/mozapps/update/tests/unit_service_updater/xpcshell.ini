# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# Tests that require the updater binary and the maintenance service.

[DEFAULT]
skip-if = (verify && (os == 'win')) || (os == "win" && processor == "aarch64") || (os == 'win' && ccov) # 1532801
tags = appupdate
head = head_update.js
support-files =
  ../data/shared.js
  ../data/sharedUpdateXML.js
  ../data/xpcshellUtilsAUS.js

[bootstrapSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgInstallDirPathTooLongFailureSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgInstallDirPathTraversalFailureSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgInstallWorkingDirPathNotSameFailureSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgPatchDirPathSuffixFailureSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgPatchDirPathTraversalFailureSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgStageDirNotInInstallDirFailureSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgWorkingDirPathLocalUNCFailureSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[invalidArgWorkingDirPathRelativeFailureSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marSuccessCompleteSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marSuccessPartialSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFailurePartialSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marStageSuccessCompleteSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marStageSuccessPartialSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marStageFailurePartialSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marCallbackAppSuccessCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marCallbackAppSuccessPartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marCallbackAppStageSuccessCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marCallbackAppStageSuccessPartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marAppInUseBackgroundTaskFailureSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marAppInUseSuccessCompleteSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marAppInUseStageFailureCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileLockedFailureCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileLockedFailurePartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileLockedStageFailureCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileLockedStageFailurePartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileInUseSuccessCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileInUseSuccessPartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marRMRFDirFileInUseSuccessCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marRMRFDirFileInUseSuccessPartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileInUseStageFailureCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marFileInUseStageFailurePartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marRMRFDirFileInUseStageFailureCompleteSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marRMRFDirFileInUseStageFailurePartialSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marAppApplyDirLockedStageFailureSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marAppApplyUpdateAppBinInUseStageSuccessSvc_win.js]
run-sequentially = Uses the Mozilla Maintenance Service.
skip-if = (ccov && os == "win") #Bug 1651090
[marAppApplyUpdateSuccessSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[marAppApplyUpdateStageSuccessSvc.js]
run-sequentially = Uses the Mozilla Maintenance Service.
[checkUpdaterSigSvc.js]
