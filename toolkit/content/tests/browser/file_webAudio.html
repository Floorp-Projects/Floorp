<!DOCTYPE html>
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
</head>
<body>
<pre id=state></pre>
<button id="start" onclick="start_webaudio()">Start</button>
<button id="stop" onclick="stop_webaudio()">Stop</button>
<script type="text/javascript">
  var ac = new AudioContext();
  var dest = ac.destination;
  var osc = ac.createOscillator();
  osc.connect(dest);
  osc.start();
  document.querySelector("pre").innerText = ac.state;
  ac.onstatechange = function() {
    document.querySelector("pre").innerText = ac.state;
  }

  function start_webaudio() {
    ac.resume();
  }

  function stop_webaudio() {
    ac.suspend();
  }
</script>
</body>
