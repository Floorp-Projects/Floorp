<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Test for Bug 341604</title>
  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
  <script src="/tests/SimpleTest/EventUtils.js"></script>
</head>
<script>
function doSubload() {
  var if_9 = document.getElementById('if_9');
  if_9.src = 'file_iframe_sandbox_a_if9.html';
}

window.doSubload = doSubload;

</script>
<body>
  I am sandboxed but with "allow-scripts allow-same-origin". After my initial load, "allow-same-origin" is removed
  and then I load file_iframe_sandbox_a_if9.html, which attemps to call a function in window.top. This should
  succeed since the new sandbox flags shouldn't have taken affect on me until I'm reloaded.

  <iframe id='if_9' src='about:blank' height="10" width="10"></iframe>
</body>
</html>

