<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>slave for sessionStorage test</title>

<script type="text/javascript" src="interOriginSlave.js"></script>
<script type="text/javascript">

var currentStep = 2;

function doStep()
{
  switch (currentStep)
  {
    case 2:
      is(sessionStorage.getItem("A"), "1", "A is 1 in the slave");
      is(sessionStorage.getItem("B"), "2", "B is 2 in the slave");
      is(sessionStorage.length, 2, "Num of items is 2");

      sessionStorage.setItem("C", "3");
      is(sessionStorage.getItem("C"), "3", "C is 3 in the slave");
      is(sessionStorage.length, 3, "Num of items is 3");
      break;

    case 4:
      is(sessionStorage.getItem("A"), "1", "A is 1 in the slave");
      is(sessionStorage.getItem("B"), "2", "B is 2 in the slave");
      is(sessionStorage.getItem("C"), "3", "C is 3 in the slave");
      is(sessionStorage.length, 3, "Num of items is 3");
      break;

    case 6:
      return finishTest();
  }

  ++currentStep;
  ++currentStep;

  return true;
}

</script>

</head>

<body onload="postMsg('frame loaded');">
</body>
</html>
