<!DOCTYPE html>
<html class="reftest-wait">
<script>
// keep large array out of bfcache
window.addEventListener('unload', function(event) {});

var r0 = new OfflineAudioContext(1, 1024, 44100);

var r6 = r0.createWaveShaper();
try {
  r6.curve = new Float32Array(90000000);
} catch(e) {
  document.documentElement.removeAttribute("class");
}

var r13 = r0.createOscillator();
r13.frequency.value = r0.sampleRate / 1024;
r13.connect(r6);
r13.start(0);

r0.startRendering().
  then(function() {
    r6.curve = null;
    document.documentElement.removeAttribute("class");
  });

</script>
</html>
