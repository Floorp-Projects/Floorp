<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>
<script>
  // If the alert box is blocked correctly by the CSP then postMessage will
  // send the message and test passes.
  var text = "<script>alert(document.domain);window.opener.postMessage("+
             "{\"test\": \"block_top_nav_alert_test\", \"msg\": "+
             "\"blob top nav alert blocked by CSP\"}, \"*\")<\/script>";
  var blob = new Blob([text], {type : 'text/html'});
  var url = URL.createObjectURL(blob);
  location.href=url;
</script>
</body>
</html>