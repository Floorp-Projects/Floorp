<!DOCTYPE HTML>
<html>
<!--
https://bugzilla.mozilla.org/show_bug.cgi?id=676619
-->
  <head>

    <title>Test for the download attribute</title>

  </head>
  <body>
    hi

    <script>
      const host = window.location.host;
      const path = location.pathname.replace("download_page.html","download_server.sjs");

      const secureLink = document.createElement("a");
      secureLink.href=`https://${host}/${path}`;
      secureLink.download="true";
      secureLink.textContent="Secure Link";
      secureLink.id="secure";

      const insecureLink = document.createElement("a");        
      insecureLink.href=`http://${host}/${path}`;
      insecureLink.download="true";
      insecureLink.id="insecure";
      insecureLink.textContent="Not secure Link";

      const insecurePDF = document.createElement("a");        
      insecurePDF.href=`http://${host}/${path}?type=application/pdf&name=example.pdf`;
      insecurePDF.download="true";
      insecurePDF.id="insecurePDF";
      insecurePDF.textContent="Not secure Link to PDF";

      document.body.append(insecurePDF);
      document.body.append(secureLink);
      document.body.append(insecureLink);
  </script>
  </body>
</html>
