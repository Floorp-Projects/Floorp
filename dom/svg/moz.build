# -*- Mode: python; indent-tabs-mode: nil; tab-width: 40 -*-
# vim: set filetype=python:
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

with Files("**"):
    BUG_COMPONENT = ("Core", "SVG")

MOCHITEST_MANIFESTS += ["test/mochitest.ini"]

EXPORTS.mozilla += [
    "SVGAnimatedClass.h",
    "SVGAnimatedClassOrString.h",
    "SVGAttrValueWrapper.h",
    "SVGContentUtils.h",
    "SVGFragmentIdentifier.h",
    "SVGPreserveAspectRatio.h",
    "SVGStringList.h",
    "SVGTagList.h",
]

EXPORTS.mozilla.dom += [
    "SVGAElement.h",
    "SVGAnimatedRect.h",
    "SVGAnimateElement.h",
    "SVGAnimateMotionElement.h",
    "SVGAnimateTransformElement.h",
    "SVGAnimationElement.h",
    "SVGCircleElement.h",
    "SVGClipPathElement.h",
    "SVGComponentTransferFunctionElement.h",
    "SVGDefsElement.h",
    "SVGDescElement.h",
    "SVGDocument.h",
    "SVGElement.h",
    "SVGElementFactory.h",
    "SVGEllipseElement.h",
    "SVGFEBlendElement.h",
    "SVGFEColorMatrixElement.h",
    "SVGFEComponentTransferElement.h",
    "SVGFECompositeElement.h",
    "SVGFEConvolveMatrixElement.h",
    "SVGFEDiffuseLightingElement.h",
    "SVGFEDisplacementMapElement.h",
    "SVGFEDistantLightElement.h",
    "SVGFEDropShadowElement.h",
    "SVGFEFloodElement.h",
    "SVGFEGaussianBlurElement.h",
    "SVGFEImageElement.h",
    "SVGFEMergeElement.h",
    "SVGFEMergeNodeElement.h",
    "SVGFEMorphologyElement.h",
    "SVGFEOffsetElement.h",
    "SVGFEPointLightElement.h",
    "SVGFESpecularLightingElement.h",
    "SVGFESpotLightElement.h",
    "SVGFETileElement.h",
    "SVGFETurbulenceElement.h",
    "SVGFilterElement.h",
    "SVGFilters.h",
    "SVGForeignObjectElement.h",
    "SVGGElement.h",
    "SVGGeometryElement.h",
    "SVGGradientElement.h",
    "SVGGraphicsElement.h",
    "SVGImageElement.h",
    "SVGLineElement.h",
    "SVGMarkerElement.h",
    "SVGMaskElement.h",
    "SVGMatrix.h",
    "SVGMetadataElement.h",
    "SVGMPathElement.h",
    "SVGPathData.h",
    "SVGPathElement.h",
    "SVGPatternElement.h",
    "SVGPolygonElement.h",
    "SVGPolylineElement.h",
    "SVGRect.h",
    "SVGRectElement.h",
    "SVGScriptElement.h",
    "SVGSetElement.h",
    "SVGStopElement.h",
    "SVGStyleElement.h",
    "SVGSVGElement.h",
    "SVGSwitchElement.h",
    "SVGSymbolElement.h",
    "SVGTests.h",
    "SVGTextContentElement.h",
    "SVGTextElement.h",
    "SVGTextPathElement.h",
    "SVGTextPositioningElement.h",
    "SVGTitleElement.h",
    "SVGTransformableElement.h",
    "SVGTSpanElement.h",
    "SVGUseElement.h",
    "SVGViewElement.h",
    "SVGViewportElement.h",
]

UNIFIED_SOURCES += [
    "DOMSVGAngle.cpp",
    "DOMSVGAnimatedAngle.cpp",
    "DOMSVGAnimatedBoolean.cpp",
    "DOMSVGAnimatedEnumeration.cpp",
    "DOMSVGAnimatedInteger.cpp",
    "DOMSVGAnimatedLength.cpp",
    "DOMSVGAnimatedLengthList.cpp",
    "DOMSVGAnimatedNumber.cpp",
    "DOMSVGAnimatedNumberList.cpp",
    "DOMSVGAnimatedString.cpp",
    "DOMSVGAnimatedTransformList.cpp",
    "DOMSVGLength.cpp",
    "DOMSVGLengthList.cpp",
    "DOMSVGNumber.cpp",
    "DOMSVGNumberList.cpp",
    "DOMSVGPathSeg.cpp",
    "DOMSVGPathSegList.cpp",
    "DOMSVGPoint.cpp",
    "DOMSVGPointList.cpp",
    "DOMSVGStringList.cpp",
    "DOMSVGTransform.cpp",
    "DOMSVGTransformList.cpp",
    "SVGAElement.cpp",
    "SVGAnimatedBoolean.cpp",
    "SVGAnimatedClass.cpp",
    "SVGAnimatedClassOrString.cpp",
    "SVGAnimatedEnumeration.cpp",
    "SVGAnimatedInteger.cpp",
    "SVGAnimatedIntegerPair.cpp",
    "SVGAnimatedLength.cpp",
    "SVGAnimatedLengthList.cpp",
    "SVGAnimatedNumber.cpp",
    "SVGAnimatedNumberList.cpp",
    "SVGAnimatedNumberPair.cpp",
    "SVGAnimatedOrient.cpp",
    "SVGAnimatedPathSegList.cpp",
    "SVGAnimatedPointList.cpp",
    "SVGAnimatedPreserveAspectRatio.cpp",
    "SVGAnimatedRect.cpp",
    "SVGAnimatedString.cpp",
    "SVGAnimatedTransformList.cpp",
    "SVGAnimatedViewBox.cpp",
    "SVGAnimateElement.cpp",
    "SVGAnimateMotionElement.cpp",
    "SVGAnimateTransformElement.cpp",
    "SVGAnimationElement.cpp",
    "SVGAttrValueWrapper.cpp",
    "SVGCircleElement.cpp",
    "SVGClipPathElement.cpp",
    "SVGContentUtils.cpp",
    "SVGDataParser.cpp",
    "SVGDefsElement.cpp",
    "SVGDescElement.cpp",
    "SVGDocument.cpp",
    "SVGElement.cpp",
    "SVGElementFactory.cpp",
    "SVGEllipseElement.cpp",
    "SVGFEBlendElement.cpp",
    "SVGFEColorMatrixElement.cpp",
    "SVGFEComponentTransferElement.cpp",
    "SVGFECompositeElement.cpp",
    "SVGFEConvolveMatrixElement.cpp",
    "SVGFEDiffuseLightingElement.cpp",
    "SVGFEDisplacementMapElement.cpp",
    "SVGFEDistantLightElement.cpp",
    "SVGFEDropShadowElement.cpp",
    "SVGFEFloodElement.cpp",
    "SVGFEGaussianBlurElement.cpp",
    "SVGFEImageElement.cpp",
    "SVGFEMergeElement.cpp",
    "SVGFEMergeNodeElement.cpp",
    "SVGFEMorphologyElement.cpp",
    "SVGFEOffsetElement.cpp",
    "SVGFEPointLightElement.cpp",
    "SVGFESpecularLightingElement.cpp",
    "SVGFESpotLightElement.cpp",
    "SVGFETileElement.cpp",
    "SVGFETurbulenceElement.cpp",
    "SVGFilterElement.cpp",
    "SVGFilters.cpp",
    "SVGForeignObjectElement.cpp",
    "SVGFragmentIdentifier.cpp",
    "SVGGElement.cpp",
    "SVGGeometryElement.cpp",
    "SVGGeometryProperty.cpp",
    "SVGGradientElement.cpp",
    "SVGGraphicsElement.cpp",
    "SVGImageElement.cpp",
    "SVGIntegerPairSMILType.cpp",
    "SVGLength.cpp",
    "SVGLengthList.cpp",
    "SVGLengthListSMILType.cpp",
    "SVGLineElement.cpp",
    "SVGMarkerElement.cpp",
    "SVGMaskElement.cpp",
    "SVGMatrix.cpp",
    "SVGMetadataElement.cpp",
    "SVGMotionSMILAnimationFunction.cpp",
    "SVGMotionSMILAttr.cpp",
    "SVGMotionSMILPathUtils.cpp",
    "SVGMotionSMILType.cpp",
    "SVGMPathElement.cpp",
    "SVGNumberList.cpp",
    "SVGNumberListSMILType.cpp",
    "SVGNumberPairSMILType.cpp",
    "SVGOrientSMILType.cpp",
    "SVGPathData.cpp",
    "SVGPathDataParser.cpp",
    "SVGPathElement.cpp",
    "SVGPathSegListSMILType.cpp",
    "SVGPathSegUtils.cpp",
    "SVGPatternElement.cpp",
    "SVGPointList.cpp",
    "SVGPointListSMILType.cpp",
    "SVGPolyElement.cpp",
    "SVGPolygonElement.cpp",
    "SVGPolylineElement.cpp",
    "SVGPreserveAspectRatio.cpp",
    "SVGRect.cpp",
    "SVGRectElement.cpp",
    "SVGScriptElement.cpp",
    "SVGSetElement.cpp",
    "SVGStopElement.cpp",
    "SVGStringList.cpp",
    "SVGStyleElement.cpp",
    "SVGSVGElement.cpp",
    "SVGSwitchElement.cpp",
    "SVGSymbolElement.cpp",
    "SVGTests.cpp",
    "SVGTextContentElement.cpp",
    "SVGTextElement.cpp",
    "SVGTextPathElement.cpp",
    "SVGTextPositioningElement.cpp",
    "SVGTitleElement.cpp",
    "SVGTransform.cpp",
    "SVGTransformableElement.cpp",
    "SVGTransformList.cpp",
    "SVGTransformListParser.cpp",
    "SVGTransformListSMILType.cpp",
    "SVGTSpanElement.cpp",
    "SVGUseElement.cpp",
    "SVGViewBoxSMILType.cpp",
    "SVGViewElement.cpp",
    "SVGViewportElement.cpp",
]

include("/ipc/chromium/chromium-config.mozbuild")

FINAL_LIBRARY = "xul"
LOCAL_INCLUDES += [
    "/dom",
    "/dom/base",
    "/dom/html",
    "/dom/smil",
    "/dom/svg",
    "/dom/xml",
    "/layout/base",
    "/layout/generic",
    "/layout/style",
    "/layout/svg",
    "/layout/xul",
]

if CONFIG["CC_TYPE"] in ("clang", "gcc"):
    CXXFLAGS += ["-Wno-error=shadow"]
