# Copyright (c) 2022 The WebRTC project authors. All Rights Reserved.
#
# Use of this source code is governed by a BSD-style license
# that can be found in the LICENSE file in the root of the source
# tree. An additional intellectual property rights grant can be found
# in the file PATENTS.  All contributing project authors may
# be found in the AUTHORS file in the root of the source tree.

{
  'basic_suites': {
    'desktop_tests': {
      'audio_decoder_unittests': {},
      'common_audio_unittests': {},
      'common_video_unittests': {},
      'dcsctp_unittests': {},
      'low_bandwidth_audio_test': {},
      'modules_tests': {
        'swarming': {
          'shards': 2
        },
      },
      'modules_unittests': {
        'swarming': {
          'shards': 6
        },
      },
      'peerconnection_unittests': {
        'swarming': {
          'shards': 4
        },
      },
      'rtc_media_unittests': {},
      'rtc_pc_unittests': {},
      'rtc_stats_unittests': {},
      'rtc_unittests': {
        'swarming': {
          'shards': 6
        },
      },
      'system_wrappers_unittests': {},
      'test_support_unittests': {},
      'tools_unittests': {},
      'video_engine_tests': {
        'swarming': {
          'shards': 4
        },
      },
      'voip_unittests': {},
      'webrtc_nonparallel_tests': {},
    },
    'video_capture_tests_linux': {
      'video_capture_tests': {
        'remove_mixins': ['linux-bionic'],
        'mixins': ['linux', 'baremetal-pool'],
      }
    },
    'video_capture_tests_linux_tryserver': {
      'video_capture_tests': {
        'remove_mixins': ['linux-bionic'],
        'mixins': ['linux', 'baremetal-try-pool'],
      }
    },
    'video_capture_tests_mac': {
      'video_capture_tests': {
        'remove_mixins': ['mac11'],
        'mixins': ['mac', 'baremetal-pool'],
      }
    },
    'video_capture_tests_mac_tryserver': {
      'video_capture_tests': {
        'remove_mixins': ['mac11'],
        'mixins': ['mac', 'baremetal-try-pool'],
      }
    },
    'video_capture_tests_win': {
      'video_capture_tests': {
        'remove_mixins': ['win7'],
        'mixins': ['win', 'baremetal-pool'],
      }
    },
    'video_capture_tests_win_tryserver': {
      'video_capture_tests': {
        'remove_mixins': ['win7'],
        'mixins': ['win', 'baremetal-try-pool'],
      }
    },
    'webrtc_perf_tests_linux_tryserver': {
      'webrtc_perf_tests': {
        'remove_mixins': ['linux-bionic', 'resultdb-json-format'],
        'mixins': [
          'linux', 'baremetal-try-pool', 'quick-perf-tests',
          'resultdb-gtest-json-format'
        ],
      }
    },
    'webrtc_perf_tests_mac_tryserver': {
      'webrtc_perf_tests': {
        'remove_mixins': ['mac11', 'resultdb-json-format'],
        'mixins': [
          'mac', 'baremetal-try-pool', 'quick-perf-tests',
          'resultdb-gtest-json-format'
        ],
      }
    },
    'webrtc_perf_tests_win_tryserver': {
      'webrtc_perf_tests': {
        'remove_mixins': ['win7', 'resultdb-json-format'],
        'mixins': [
          'win', 'baremetal-try-pool', 'quick-perf-tests',
          'resultdb-gtest-json-format'
        ],
      }
    },
  },
  'compound_suites': {
    'desktop_tests_linux': [
      'desktop_tests',
      'video_capture_tests_linux',
    ],
    'desktop_tests_linux_tryserver': [
      'desktop_tests',
      'video_capture_tests_linux_tryserver',
      'webrtc_perf_tests_linux_tryserver',
    ],
    'desktop_tests_mac': [
      'desktop_tests',
      'video_capture_tests_mac',
    ],
    'desktop_tests_mac_tryserver': [
      'desktop_tests',
      'video_capture_tests_mac_tryserver',
      'webrtc_perf_tests_mac_tryserver',
    ],
    'desktop_tests_win': [
      'desktop_tests',
      'video_capture_tests_win',
    ],
    'desktop_tests_win_tryserver': [
      'desktop_tests',
      'video_capture_tests_win_tryserver',
      'webrtc_perf_tests_win_tryserver',
    ],
  },
}
