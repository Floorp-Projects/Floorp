/*
 * Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/licenses/publicdomain/
 */

let data = new Uint8Array([
  0x02, 0xd5, 0x00, 0x22, 0x00, 0x02, 0xff, 0xff, 0xff, 0xf7, 0xff, 0xff,
  0xff, 0xdf, 0xff, 0xff, 0xff, 0x5f, 0xff, 0x32, 0x03, 0x02, 0xff, 0xff,
  0x34, 0xff, 0x72, 0x65, 0x6c, 0x6f, 0x61, 0x64, 0x0b, 0x0, 0x0, 0x0,
  0x0, 0x0, 0x0, 0x0
]);
let cloneBuffer = serialize(null);
cloneBuffer.clonebuffer = data.buffer;
try {
  deserialize(cloneBuffer);
  assertEq("reached here", false);
} catch (e) {
  assertEq(e + "", "TypeError: invalid transferable array for structured clone");
}
