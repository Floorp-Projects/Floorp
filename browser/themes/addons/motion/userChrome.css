@charset "UTF-8";

@-moz-document url(chrome://browser/content/browser.xhtml) {

    :root[tabsintitlebar]{
        --uc-window-control-width: 138px;
        --uc-window-drag-space-width: 0px; 
      }
      
      #nav-bar::before,
      #nav-bar::after{
        content: "";
        display: -moz-box;
        width: var(--uc-window-drag-space-width,0);
      }
      toolbar#nav-bar::after{ width: calc(var(--uc-window-control-width,0px) + var(--uc-window-drag-space-width,0px)) }
      @supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled"){
        :root{ --uc-window-control-width: 72px; }
        :root[tabsintitlebar="true"]:not([sizemode="fullscreen"]) #nav-bar::before{
          width: calc(var(--uc-window-control-width,0px) + var(--uc-window-drag-space-width,0px))
        }
        :root[tabsintitlebar="true"]:not([sizemode="fullscreen"]) toolbar#nav-bar::after{ width: var(--uc-window-drag-space-width,0px); }
      }
      
      
      @namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"); 
      
      .tab-content:not([pinned])::before{
        display: -moz-box;
        content: "";
        -moz-box-flex: 1;
      }
      
      
      :root{ --uc-titlebar-padding: 0px; }
      :root[sizemode="maximized"][tabsintitlebar]{ --uc-titlebar-padding: 8px }
      
      #toolbar-menubar[autohide="true"] > .titlebar-buttonbox-container,
      #TabsToolbar > .titlebar-buttonbox-container{
        position: fixed;
        display: block;
        top: var(--uc-titlebar-padding,0px);
        right:0;
        height: 40px;
      }
      /*macOS用（使われることはないと思うが）*/
      @supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled"){
        @media not (-moz-os-version: windows-win10){
          :root{ --uc-titlebar-padding: 0px !important }
        }
        .titlebar-buttonbox-container{ left:0; right: unset !important; }
      }
      
      :root[uidensity="compact"] #TabsToolbar > .titlebar-buttonbox-container{ height: 32px }
      
      #toolbar-menubar[inactive] > .titlebar-buttonbox-container{ opacity: 0 }
      
      #navigator-toolbox{ padding-top: var(--uc-titlebar-padding,0px) !important; }
      
      
      .titlebar-buttonbox-container > .titlebar-buttonbox{ height: 100%; }
      
      #titlebar{
        -moz-box-ordinal-group: 2;
        -moz-appearance: none !important;
        --tabs-navbar-shadow-size: 0px;
      }
      
      .titlebar-placeholder,
      #TabsToolbar .titlebar-spacer{ display: none; }
      #navigator-toolbox::after{ display: none !important; }
      
      @media (-moz-gtk-csd-close-button){ .titlebar-button{ -moz-box-orient: vertical } }
      
      toolbox#navigator-toolbox > toolbar#nav-bar.browser-toolbar{ animation: none; }
      #navigator-toolbox:hover #TabsToolbar{ animation: slidein ease-out 48ms 1 }
      
      .toolbar-items{
          display: none !important;
      }
      .browser-toolbar titlebar-color{
          display: none;
      }
      
      #navigator-toolbox :is(toolbar, #nav-bar-customization-target):not(#toolbar-menubar) {
          min-height: 0px !important;
      }
}


/* Sidebar min and max width removal */
#sidebar {
  max-width: none !important;
  min-width: 0px !important;
}
/* Hide splitter, when using Tree Style Tab. */
#sidebar-box[sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"] + #sidebar-splitter {
  display: none !important;
}
/* Hide sidebar header, when using Tree Style Tab. */
#sidebar-box[sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"] #sidebar-header {
  visibility: collapse;
}

/* Shrink sidebar until hovered, when using Tree Style Tab. */
:root {
  --thin-tab-width: 30px;
  --wide-tab-width: 200px;
}
#sidebar-box:not([sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"]) {
  min-width: var(--wide-tab-width) !important;
  max-width: none !important;
}
#sidebar-box[sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"] {
  position: relative !important;
  transition: all 100ms !important;
  min-width: 3.65em !important;
  max-width: 3.65em !important;
}
#sidebar-box[sidebarcommand="treestyletab_piro_sakura_ne_jp-sidebar-action"]:hover {
  transition: all 200ms !important;
  transition-delay: 0.2s !important;
  min-width: 20em !important;
  max-width: 20em !important;
  margin-right: calc((20em - 3.65em) * -1) !important;
  z-index: 1;
}

And the associated tab theme to put into TST Addon preferences "Extra style rules for sidebar contents":

/* Hide border on tab bar, force its state to 'scroll', adjust margin-left for width of scrollbar. */
#tabbar { border: 0; overflow-y: scroll !important; margin-left: -18px !important; scrollbar-width: auto; }

/* Hide .twisty and adjust margins so favicons have 7px on left. */
tab-item .twisty {
  visibility: hidden;
  margin-left: -12px;
}

/* Push tab labels slightly to the right so they're completely hidden in collapsed state. */
tab-item .label {
  margin-left: 7px;
}

/* Hide close buttons on tabs. */
tab-item .closebox {
  visibility: collapse;
}

tab-item:hover .closebox {
  visibility: initial;
}

/* Hide sound playing/muted button. */
.sound-button::before {
  display: none !important;
}

/* Center the new tab sign in collapsed state. */
.newtab-button{
  padding-left: 0.48em !important;
}

/* ################################################ */
/* ##### COLOR THEME ############################## */
/* ################################################ */

:root {
  background-color: #383838;
}
#tabbar {
  border-right: 1px solid #1d1d1d;
  box-shadow: none !important;
}
tab-item {
  box-shadow: none !important;
}
tab-item:hover {
 filter: opacity(80%) drop-shadow(0px 0px 0px #3498DB);
}

/* Adjust style for tab that has sound playing. */
tab-item.sound-playing .favicon::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  background: #FFFFFF;
  animation: pulse 2s ease-out 0s infinite;
  z-index: -1;
  opacity: 0;
}

/* Adjust style for tab that is muted. */
tab-item.muted {
  opacity: 0.5;
}

/* Better alignment of Favicons when collapsed */
tab-item[data-level][data-level="0"] tab-item-substance {
margin-left: 2% !important;
}
tab-item[data-level][data-level="1"] tab-item-substance {
margin-left: 4% !important;
}
tab-item[data-level][data-level="2"] tab-item-substance {
margin-left: 6% !important;
}
tab-item[data-level][data-level="3"] tab-item-substance {
margin-left: 8% !important;
}
tab-item[data-level][data-level="4"] tab-item-substance {
margin-left: 10% !important;
}
tab-item[data-level][data-level="5"] tab-item-substance {
margin-left: 12% !important;
}
tab-item[data-level][data-level="6"] tab-item-substance {
margin-left: 14% !important;
}
tab-item[data-level][data-level="7"] tab-item-substance {
margin-left: 16% !important;
}