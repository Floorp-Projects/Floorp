<!DOCTYPE html>
<meta charset="utf8">
<script>
window.onload = async () => {
  parent.postMessage("ready", "*");
}

window.addEventListener("message", async function listener(event) {
  if (event.data[0] == "gimme") {
    let worker = new SharedWorker("file_reduceTimePrecision_iframe_worker.sjs");
    let worker_result = await new Promise(resolve => {
      worker.port.onmessage = function(e) {
        resolve(e.data);
      };
    });

    parent.postMessage(worker_result, "*")
  }
});
</script>
