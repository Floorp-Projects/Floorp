/*! THIS FILE IS AUTO-GENERATED: webpack.system-addon.config.js */
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_components_Base_Base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
/* harmony import */ var content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77);
/* harmony import */ var content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(81);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const store = Object(content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__["initStore"])(common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__["reducers"]);
new content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__["DetectUserSessionStart"](store).sendEventOrAddListener();
store.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
  type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST
}));
react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.hydrate(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__["Provider"], {
  store: store
}, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_Base_Base__WEBPACK_IMPORTED_MODULE_1__["Base"], {
  isFirstrun: global.document.location.href === "about:welcome",
  locale: global.document.documentElement.lang,
  strings: global.gActivityStreamStrings
})), document.getElementById("root"));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 1 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAIN_MESSAGE_TYPE", function() { return MAIN_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONTENT_MESSAGE_TYPE", function() { return CONTENT_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PRELOAD_MESSAGE_TYPE", function() { return PRELOAD_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI_CODE", function() { return UI_CODE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_PROCESS", function() { return BACKGROUND_PROCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "globalImportContext", function() { return globalImportContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionTypes", function() { return actionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterActions", function() { return ASRouterActions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionCreators", function() { return actionCreators; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionUtils", function() { return actionUtils; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */


var MAIN_MESSAGE_TYPE = "ActivityStream:Main";
var CONTENT_MESSAGE_TYPE = "ActivityStream:Content";
var PRELOAD_MESSAGE_TYPE = "ActivityStream:PreloadedBrowser";
var UI_CODE = 1;
var BACKGROUND_PROCESS = 2;
/**
 * globalImportContext - Are we in UI code (i.e. react, a dom) or some kind of background process?
 *                       Use this in action creators if you need different logic
 *                       for ui/background processes.
 */

const globalImportContext = typeof Window === "undefined" ? BACKGROUND_PROCESS : UI_CODE; // Export for tests

// Create an object that avoids accidental differing key/value pairs:
// {
//   INIT: "INIT",
//   UNINIT: "UNINIT"
// }
const actionTypes = {};

for (const type of ["ADDONS_INFO_REQUEST", "ADDONS_INFO_RESPONSE", "ARCHIVE_FROM_POCKET", "AS_ROUTER_INITIALIZED", "AS_ROUTER_PREF_CHANGED", "AS_ROUTER_TARGETING_UPDATE", "AS_ROUTER_TELEMETRY_USER_EVENT", "BLOCK_URL", "BOOKMARK_URL", "CLEAR_PREF", "COPY_DOWNLOAD_LINK", "DELETE_BOOKMARK_BY_ID", "DELETE_FROM_POCKET", "DELETE_HISTORY_URL", "DIALOG_CANCEL", "DIALOG_OPEN", "DISCOVERY_STREAM_CONFIG_CHANGE", "DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS", "DISCOVERY_STREAM_CONFIG_SETUP", "DISCOVERY_STREAM_CONFIG_SET_VALUE", "DISCOVERY_STREAM_FEEDS_UPDATE", "DISCOVERY_STREAM_FEED_UPDATE", "DISCOVERY_STREAM_IMPRESSION_STATS", "DISCOVERY_STREAM_LAYOUT_RESET", "DISCOVERY_STREAM_LAYOUT_UPDATE", "DISCOVERY_STREAM_LINK_BLOCKED", "DISCOVERY_STREAM_LOADED_CONTENT", "DISCOVERY_STREAM_RETRY_FEED", "DISCOVERY_STREAM_SPOCS_CAPS", "DISCOVERY_STREAM_SPOCS_ENDPOINT", "DISCOVERY_STREAM_SPOCS_FILL", "DISCOVERY_STREAM_SPOCS_PLACEMENTS", "DISCOVERY_STREAM_SPOCS_UPDATE", "DISCOVERY_STREAM_SPOC_BLOCKED", "DISCOVERY_STREAM_SPOC_IMPRESSION", "DOWNLOAD_CHANGED", "FAKE_FOCUS_SEARCH", "FILL_SEARCH_TERM", "HANDOFF_SEARCH_TO_AWESOMEBAR", "HIDE_PRIVACY_INFO", "HIDE_SEARCH", "INIT", "NEW_TAB_INIT", "NEW_TAB_INITIAL_STATE", "NEW_TAB_LOAD", "NEW_TAB_REHYDRATED", "NEW_TAB_STATE_REQUEST", "NEW_TAB_UNLOAD", "OPEN_DOWNLOAD_FILE", "OPEN_LINK", "OPEN_NEW_WINDOW", "OPEN_PRIVATE_WINDOW", "OPEN_WEBEXT_SETTINGS", "PLACES_BOOKMARK_ADDED", "PLACES_BOOKMARK_REMOVED", "PLACES_HISTORY_CLEARED", "PLACES_LINKS_CHANGED", "PLACES_LINK_BLOCKED", "PLACES_LINK_DELETED", "PLACES_SAVED_TO_POCKET", "POCKET_CTA", "POCKET_LINK_DELETED_OR_ARCHIVED", "POCKET_LOGGED_IN", "POCKET_WAITING_FOR_SPOC", "PREFS_INITIAL_VALUES", "PREF_CHANGED", "PREVIEW_REQUEST", "PREVIEW_REQUEST_CANCEL", "PREVIEW_RESPONSE", "REMOVE_DOWNLOAD_FILE", "RICH_ICON_MISSING", "SAVE_SESSION_PERF_DATA", "SAVE_TO_POCKET", "SCREENSHOT_UPDATED", "SECTION_DEREGISTER", "SECTION_DISABLE", "SECTION_ENABLE", "SECTION_MOVE", "SECTION_OPTIONS_CHANGED", "SECTION_REGISTER", "SECTION_UPDATE", "SECTION_UPDATE_CARD", "SETTINGS_CLOSE", "SETTINGS_OPEN", "SET_PREF", "SHOW_DOWNLOAD_FILE", "SHOW_FIREFOX_ACCOUNTS", "SHOW_PRIVACY_INFO", "SHOW_SEARCH", "SKIPPED_SIGNIN", "SNIPPETS_BLOCKLIST_CLEARED", "SNIPPETS_BLOCKLIST_UPDATED", "SNIPPETS_DATA", "SNIPPETS_PREVIEW_MODE", "SNIPPETS_RESET", "SNIPPET_BLOCKED", "SUBMIT_EMAIL", "SUBMIT_SIGNIN", "SYSTEM_TICK", "TELEMETRY_IMPRESSION_STATS", "TELEMETRY_PERFORMANCE_EVENT", "TELEMETRY_UNDESIRED_EVENT", "TELEMETRY_USER_EVENT", "TOP_SITES_CANCEL_EDIT", "TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL", "TOP_SITES_EDIT", "TOP_SITES_INSERT", "TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL", "TOP_SITES_PIN", "TOP_SITES_PREFS_UPDATED", "TOP_SITES_UNPIN", "TOP_SITES_UPDATED", "TOTAL_BOOKMARKS_REQUEST", "TOTAL_BOOKMARKS_RESPONSE", "TRAILHEAD_ENROLL_EVENT", "UNINIT", "UPDATE_PINNED_SEARCH_SHORTCUTS", "UPDATE_SEARCH_SHORTCUTS", "UPDATE_SECTION_PREFS", "WEBEXT_CLICK", "WEBEXT_DISMISS"]) {
  actionTypes[type] = type;
} // These are acceptable actions for AS Router messages to have. They can show up
// as call-to-action buttons in snippets, onboarding tour, etc.


const ASRouterActions = {};

for (const type of ["HIGHLIGHT_FEATURE", "INSTALL_ADDON_FROM_URL", "OPEN_APPLICATIONS_MENU", "OPEN_PRIVATE_BROWSER_WINDOW", "OPEN_URL", "OPEN_ABOUT_PAGE", "OPEN_PREFERENCES_PAGE", "SHOW_FIREFOX_ACCOUNTS", "PIN_CURRENT_TAB", "ENABLE_FIREFOX_MONITOR", "OPEN_PROTECTION_PANEL", "OPEN_PROTECTION_REPORT", "DISABLE_STP_DOORHANGERS", "SHOW_MIGRATION_WIZARD"]) {
  ASRouterActions[type] = type;
} // Helper function for creating routed actions between content and main
// Not intended to be used by consumers


function _RouteMessage(action, options) {
  const meta = action.meta ? { ...action.meta
  } : {};

  if (!options || !options.from || !options.to) {
    throw new Error("Routed Messages must have options as the second parameter, and must at least include a .from and .to property.");
  } // For each of these fields, if they are passed as an option,
  // add them to the action. If they are not defined, remove them.


  ["from", "to", "toTarget", "fromTarget", "skipMain", "skipLocal"].forEach(o => {
    if (typeof options[o] !== "undefined") {
      meta[o] = options[o];
    } else if (meta[o]) {
      delete meta[o];
    }
  });
  return { ...action,
    meta
  };
}
/**
 * AlsoToMain - Creates a message that will be dispatched locally and also sent to the Main process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {bool}   skipLocal Used by OnlyToMain to skip the main reducer
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */


function AlsoToMain(action, fromTarget, skipLocal) {
  return _RouteMessage(action, {
    from: CONTENT_MESSAGE_TYPE,
    to: MAIN_MESSAGE_TYPE,
    fromTarget,
    skipLocal
  });
}
/**
 * OnlyToMain - Creates a message that will be sent to the Main process and skip the local reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */


function OnlyToMain(action, fromTarget) {
  return AlsoToMain(action, fromTarget, true);
}
/**
 * BroadcastToContent - Creates a message that will be dispatched to main and sent to ALL content processes.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */


function BroadcastToContent(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE
  });
}
/**
 * AlsoToOneContent - Creates a message that will be will be dispatched to the main store
 *                    and also sent to a particular Content process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @param  {bool} skipMain Used by OnlyToOneContent to skip the main process
 * @return {object} An action with added .meta properties
 */


function AlsoToOneContent(action, target, skipMain) {
  if (!target) {
    throw new Error("You must provide a target ID as the second parameter of AlsoToOneContent. If you want to send to all content processes, use BroadcastToContent");
  }

  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    toTarget: target,
    skipMain
  });
}
/**
 * OnlyToOneContent - Creates a message that will be sent to a particular Content process
 *                    and skip the main reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @return {object} An action with added .meta properties
 */


function OnlyToOneContent(action, target) {
  return AlsoToOneContent(action, target, true);
}
/**
 * AlsoToPreloaded - Creates a message that dispatched to the main reducer and also sent to the preloaded tab.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */


function AlsoToPreloaded(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: PRELOAD_MESSAGE_TYPE
  });
}
/**
 * UserEvent - A telemetry ping indicating a user action. This should only
 *                   be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */


function UserEvent(data) {
  return AlsoToMain({
    type: actionTypes.TELEMETRY_USER_EVENT,
    data
  });
}
/**
 * ASRouterUserEvent - A telemetry ping indicating a user action from AS router. This should only
 *                     be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */


function ASRouterUserEvent(data) {
  return AlsoToMain({
    type: actionTypes.AS_ROUTER_TELEMETRY_USER_EVENT,
    data
  });
}
/**
 * DiscoveryStreamSpocsFill - A telemetry ping indicating a SPOCS Fill event.
 *
 * @param  {object} data Fields to include in the ping (spoc_fills, etc.)
 * @param  {int} importContext (For testing) Override the import context for testing.
 * @return {object} An AlsoToMain action
 */


function DiscoveryStreamSpocsFill(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_SPOCS_FILL,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * UndesiredEvent - A telemetry ping indicating an undesired state.
 *
 * @param  {object} data Fields to include in the ping (value, etc.)
 * @param  {int} importContext (For testing) Override the import context for testing.
 * @return {object} An action. For UI code, a AlsoToMain action.
 */


function UndesiredEvent(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_UNDESIRED_EVENT,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * PerfEvent - A telemetry ping indicating a performance-related event.
 *
 * @param  {object} data Fields to include in the ping (value, etc.)
 * @param  {int} importContext (For testing) Override the import context for testing.
 * @return {object} An action. For UI code, a AlsoToMain action.
 */


function PerfEvent(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_PERFORMANCE_EVENT,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * ImpressionStats - A telemetry ping indicating an impression stats.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function ImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_IMPRESSION_STATS,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * DiscoveryStreamImpressionStats - A telemetry ping indicating an impression stats in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function DiscoveryStreamImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_IMPRESSION_STATS,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * DiscoveryStreamLoadedContent - A telemetry ping indicating a content gets loaded in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function DiscoveryStreamLoadedContent(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_LOADED_CONTENT,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function SetPref(name, value, importContext = globalImportContext) {
  const action = {
    type: actionTypes.SET_PREF,
    data: {
      name,
      value
    }
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function WebExtEvent(type, data, importContext = globalImportContext) {
  if (!data || !data.source) {
    throw new Error('WebExtEvent actions should include a property "source", the id of the webextension that should receive the event.');
  }

  const action = {
    type,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

var actionCreators = {
  BroadcastToContent,
  UserEvent,
  ASRouterUserEvent,
  UndesiredEvent,
  PerfEvent,
  ImpressionStats,
  AlsoToOneContent,
  OnlyToOneContent,
  AlsoToMain,
  OnlyToMain,
  AlsoToPreloaded,
  SetPref,
  WebExtEvent,
  DiscoveryStreamImpressionStats,
  DiscoveryStreamLoadedContent,
  DiscoveryStreamSpocsFill
}; // These are helpers to test for certain kinds of actions

var actionUtils = {
  isSendToMain(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.to === MAIN_MESSAGE_TYPE && action.meta.from === CONTENT_MESSAGE_TYPE;
  },

  isBroadcastToContent(action) {
    if (!action.meta) {
      return false;
    }

    if (action.meta.to === CONTENT_MESSAGE_TYPE && !action.meta.toTarget) {
      return true;
    }

    return false;
  },

  isSendToOneContent(action) {
    if (!action.meta) {
      return false;
    }

    if (action.meta.to === CONTENT_MESSAGE_TYPE && action.meta.toTarget) {
      return true;
    }

    return false;
  },

  isSendToPreloaded(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.to === PRELOAD_MESSAGE_TYPE && action.meta.from === MAIN_MESSAGE_TYPE;
  },

  isFromMain(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.from === MAIN_MESSAGE_TYPE && action.meta.to === CONTENT_MESSAGE_TYPE;
  },

  getPortIdOfSender(action) {
    return action.meta && action.meta.fromTarget || null;
  },

  _RouteMessage
};

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Base", function() { return _Base; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseContent", function() { return BaseContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Base", function() { return Base; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_components_ASRouterAdmin_ASRouterAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony import */ var _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);
/* harmony import */ var content_src_components_ConfirmDialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var content_src_components_DiscoveryStreamBase_DiscoveryStreamBase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(31);
/* harmony import */ var content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(47);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var content_src_components_Search_Search__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(76);
/* harmony import */ var content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(59);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */











const PrefsButton = props => react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
  className: "prefs-button"
}, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button", {
  className: "icon icon-settings",
  onClick: props.onClick,
  "data-l10n-id": "newtab-settings-button"
})); // Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.


function debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }

    let wakeUp = () => {
      timer = null;
    };

    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}

class _Base extends react__WEBPACK_IMPORTED_MODULE_7___default.a.PureComponent {
  componentWillMount() {
    if (this.props.isFirstrun) {
      global.document.body.classList.add("welcome", "hide-main");
    }
  }

  componentWillUnmount() {
    this.updateTheme();
  }

  componentWillUpdate() {
    this.updateTheme();
  }

  updateTheme() {
    const bodyClassName = ["activity-stream", // If we skipped the about:welcome overlay and removed the CSS classes
    // we don't want to add them back to the Activity Stream view
    document.body.classList.contains("welcome") ? "welcome" : "", document.body.classList.contains("hide-main") ? "hide-main" : "", document.body.classList.contains("inline-onboarding") ? "inline-onboarding" : ""].filter(v => v).join(" ");
    global.document.body.className = bodyClassName;
  }

  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const isDevtoolsEnabled = props.Prefs.values["asrouter.devtoolsEnabled"];

    if (!App.initialized) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], {
      className: "base-content-fallback"
    }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(BaseContent, this.props), isDevtoolsEnabled ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_ASRouterAdmin_ASRouterAdmin__WEBPACK_IMPORTED_MODULE_1__["ASRouterAdmin"], null) : null));
  }

}
class BaseContent extends react__WEBPACK_IMPORTED_MODULE_7___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.openPreferences = this.openPreferences.bind(this);
    this.onWindowScroll = debounce(this.onWindowScroll.bind(this), 5);
    this.state = {
      fixedSearch: false
    };
  }

  componentDidMount() {
    global.addEventListener("scroll", this.onWindowScroll);
  }

  componentWillUnmount() {
    global.removeEventListener("scroll", this.onWindowScroll);
  }

  onWindowScroll() {
    const SCROLL_THRESHOLD = 34;

    if (global.scrollY > SCROLL_THRESHOLD && !this.state.fixedSearch) {
      this.setState({
        fixedSearch: true
      });
    } else if (global.scrollY <= SCROLL_THRESHOLD && this.state.fixedSearch) {
      this.setState({
        fixedSearch: false
      });
    }
  }

  openPreferences() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SETTINGS_OPEN
    }));
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "OPEN_NEWTAB_PREFS"
    }));
  }

  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const {
      initialized
    } = App;
    const prefs = props.Prefs.values;
    const isDiscoveryStream = props.DiscoveryStream.config && props.DiscoveryStream.config.enabled;
    let filteredSections = props.Sections; // Filter out highlights for DS

    if (isDiscoveryStream) {
      filteredSections = filteredSections.filter(section => section.id !== "highlights");
    }

    const noSectionsEnabled = !prefs["feeds.topsites"] && filteredSections.filter(section => section.enabled).length === 0;
    const searchHandoffEnabled = prefs["improvesearch.handoffToAwesomebar"];
    const outerClassName = ["outer-wrapper", isDiscoveryStream && "ds-outer-wrapper-search-alignment", isDiscoveryStream && "ds-outer-wrapper-breakpoint-override", prefs.showSearch && this.state.fixedSearch && !noSectionsEnabled && "fixed-search", prefs.showSearch && noSectionsEnabled && "only-search"].filter(v => v).join(" ");
    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: outerClassName
    }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("main", null, prefs.showSearch && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "non-collapsible-section"
    }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_Search_Search__WEBPACK_IMPORTED_MODULE_8__["Search"], _extends({
      showLogo: noSectionsEnabled,
      handoffEnabled: searchHandoffEnabled
    }, props.Search)))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_2__["ASRouterUISurface"], {
      appUpdateChannel: this.props.Prefs.values.appUpdateChannel,
      fxaEndpoint: this.props.Prefs.values.fxa_endpoint,
      dispatch: this.props.dispatch
    }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: `body-wrapper${initialized ? " on" : ""}`
    }, isDiscoveryStream ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], {
      className: "borderless-error"
    }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_DiscoveryStreamBase_DiscoveryStreamBase__WEBPACK_IMPORTED_MODULE_5__["DiscoveryStreamBase"], null)) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_9__["Sections"], null), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(PrefsButton, {
      onClick: this.openPreferences
    })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(content_src_components_ConfirmDialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_3__["ConfirmDialog"], null))));
  }

}
const Base = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(state => ({
  App: state.App,
  Prefs: state.Prefs,
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Search: state.Search
}))(_Base);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleStoryButton", function() { return ToggleStoryButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TogglePrefCheckbox", function() { return TogglePrefCheckbox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiscoveryStreamAdmin", function() { return DiscoveryStreamAdmin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterAdminInner", function() { return ASRouterAdminInner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseToggle", function() { return CollapseToggle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterAdmin", function() { return ASRouterAdmin; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SimpleHashRouter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(29);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







const Row = props => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", _extends({
  className: "message-item"
}, props), props.children);

function relativeTime(timestamp) {
  if (!timestamp) {
    return "";
  }

  const seconds = Math.floor((Date.now() - timestamp) / 1000);
  const minutes = Math.floor((Date.now() - timestamp) / 60000);

  if (seconds < 2) {
    return "just now";
  } else if (seconds < 60) {
    return `${seconds} seconds ago`;
  } else if (minutes === 1) {
    return "1 minute ago";
  } else if (minutes < 600) {
    return `${minutes} minutes ago`;
  }

  return new Date(timestamp).toLocaleString();
}

const LAYOUT_VARIANTS = {
  basic: "Basic default layout (on by default in nightly)",
  staging_spocs: "A layout with all spocs shown",
  "dev-test-all": "A little bit of everything. Good layout for testing all components",
  "dev-test-feeds": "Stress testing for slow feeds"
};
class ToggleStoryButton extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    this.props.onClick(this.props.story);
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      onClick: this.handleClick
    }, "collapse/open");
  }

}
class TogglePrefCheckbox extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onChange = this.onChange.bind(this);
  }

  onChange(event) {
    this.props.onChange(this.props.pref, event.target.checked);
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
      type: "checkbox",
      checked: this.props.checked,
      onChange: this.onChange
    }), " ", this.props.pref, " ");
  }

}
class DiscoveryStreamAdmin extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.restorePrefDefaults = this.restorePrefDefaults.bind(this);
    this.setConfigValue = this.setConfigValue.bind(this);
    this.expireCache = this.expireCache.bind(this);
    this.changeEndpointVariant = this.changeEndpointVariant.bind(this);
    this.onStoryToggle = this.onStoryToggle.bind(this);
    this.state = {
      toggledStories: {}
    };
  }

  setConfigValue(name, value) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_SET_VALUE,
      data: {
        name,
        value
      }
    }));
  }

  restorePrefDefaults(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS
    }));
  }

  expireCache() {
    const {
      config
    } = this.props.state;
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_CHANGE,
      data: config
    }));
  }

  changeEndpointVariant(event) {
    const endpoint = this.props.state.config.layout_endpoint;

    if (endpoint) {
      this.setConfigValue("layout_endpoint", endpoint.replace(/layout_variant=.+/, `layout_variant=${event.target.value}`));
    }
  }

  renderComponent(width, component) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Type"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, component.type)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Width"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, width)), component.feed && this.renderFeed(component.feed)));
  }

  isCurrentVariant(id) {
    const endpoint = this.props.state.config.layout_endpoint;
    const isMatch = endpoint && !!endpoint.match(`layout_variant=${id}`);
    return isMatch;
  }

  renderFeedData(url) {
    const {
      feeds
    } = this.props.state;
    const feed = feeds.data[url].data;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h4", null, "Feed url: ", url), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, feed.recommendations.map(story => this.renderStoryData(story)))));
  }

  renderFeedsData() {
    const {
      feeds
    } = this.props.state;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, Object.keys(feeds.data).map(url => this.renderFeedData(url)));
  }

  renderSpocs() {
    const {
      spocs
    } = this.props.state;
    let spocsData = [];

    if (spocs.data && spocs.data.spocs && spocs.data.spocs.length) {
      spocsData = spocs.data.spocs;
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "spocs_endpoint"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, spocs.spocs_endpoint)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, relativeTime(spocs.lastUpdated))))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h4", null, "Spoc data"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, spocsData.map(spoc => this.renderStoryData(spoc)))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h4", null, "Spoc frequency caps"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, spocs.frequency_caps.map(spoc => this.renderStoryData(spoc)))));
  }

  onStoryToggle(story) {
    const {
      toggledStories
    } = this.state;
    this.setState({
      toggledStories: { ...toggledStories,
        [story.id]: !toggledStories[story.id]
      }
    });
  }

  renderStoryData(story) {
    let storyData = "";

    if (this.state.toggledStories[story.id]) {
      storyData = JSON.stringify(story, null, 2);
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      className: "message-item",
      key: story.id
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "message-id"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, story.id, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ToggleStoryButton, {
      story: story,
      onClick: this.onStoryToggle
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "message-summary"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("pre", null, storyData)));
  }

  renderFeed(feed) {
    const {
      feeds
    } = this.props.state;

    if (!feed.url) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Feed url"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, feed.url)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, relativeTime(feeds.data[feed.url] ? feeds.data[feed.url].lastUpdated : null) || "(no data)")));
  }

  render() {
    const prefToggles = "enabled hardcoded_layout show_spocs personalized collapsible".split(" ");
    const {
      config,
      lastUpdated,
      layout
    } = this.props.state;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "button",
      onClick: this.restorePrefDefaults
    }, "Restore Pref Defaults"), " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "button",
      onClick: this.expireCache
    }, "Expire Cache"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, prefToggles.map(pref => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, {
      key: pref
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TogglePrefCheckbox, {
      checked: config[pref],
      pref: pref,
      onChange: this.setConfigValue
    })))))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Endpoint variant"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, "You can also change this manually by changing this pref:", " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("code", null, "browser.newtabpage.activity-stream.discoverystream.config")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", {
      style: config.enabled && !config.hardcoded_layout ? null : {
        opacity: 0.5
      }
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, Object.keys(LAYOUT_VARIANTS).map(id => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, {
      key: id
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
      type: "radio",
      value: id,
      checked: this.isCurrentVariant(id),
      onChange: this.changeEndpointVariant
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, id), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, LAYOUT_VARIANTS[id]))))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Caching info"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", {
      style: config.enabled ? null : {
        opacity: 0.5
      }
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Row, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, relativeTime(lastUpdated) || "(no data)")))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Layout"), layout.map((row, rowIndex) => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      key: `row-${rowIndex}`
    }, row.components.map((component, componentIndex) => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      key: `component-${componentIndex}`,
      className: "ds-component"
    }, this.renderComponent(row.width, component))))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Feeds Data"), this.renderFeedsData(), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Spocs"), this.renderSpocs());
  }

}
class ASRouterAdminInner extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onMessage = this.onMessage.bind(this);
    this.handleEnabledToggle = this.handleEnabledToggle.bind(this);
    this.handleUserPrefToggle = this.handleUserPrefToggle.bind(this);
    this.onChangeMessageFilter = this.onChangeMessageFilter.bind(this);
    this.findOtherBundledMessagesOfSameTemplate = this.findOtherBundledMessagesOfSameTemplate.bind(this);
    this.handleExpressionEval = this.handleExpressionEval.bind(this);
    this.onChangeTargetingParameters = this.onChangeTargetingParameters.bind(this);
    this.onChangeAttributionParameters = this.onChangeAttributionParameters.bind(this);
    this.setAttribution = this.setAttribution.bind(this);
    this.onCopyTargetingParams = this.onCopyTargetingParams.bind(this);
    this.onPasteTargetingParams = this.onPasteTargetingParams.bind(this);
    this.onNewTargetingParams = this.onNewTargetingParams.bind(this);
    this.state = {
      messageFilter: "all",
      evaluationStatus: {},
      trailhead: {},
      stringTargetingParameters: null,
      newStringTargetingParameters: null,
      copiedToClipboard: false,
      pasteFromClipboard: false,
      attributionParameters: {
        source: "addons.mozilla.org",
        campaign: "non-fx-button",
        content: "iridium@particlecore.github.io"
      }
    };
  }

  onMessage({
    data: action
  }) {
    if (action.type === "ADMIN_SET_STATE") {
      this.setState(action.data);

      if (!this.state.stringTargetingParameters) {
        const stringTargetingParameters = {};

        for (const param of Object.keys(action.data.targetingParameters)) {
          stringTargetingParameters[param] = JSON.stringify(action.data.targetingParameters[param], null, 2);
        }

        this.setState({
          stringTargetingParameters
        });
      }
    }
  }

  componentWillMount() {
    const endpoint = _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].getPreviewEndpoint();
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "ADMIN_CONNECT_STATE",
      data: {
        endpoint
      }
    });
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].addListener(this.onMessage);
  }

  componentWillUnmount() {
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].removeListener(this.onMessage);
  }

  findOtherBundledMessagesOfSameTemplate(template) {
    return this.state.messages.filter(msg => msg.template === template && msg.bundled);
  }

  handleBlock(msg) {
    if (msg.bundled) {
      // If we are blocking a message that belongs to a bundle, block all other messages that are bundled of that same template
      let bundle = this.findOtherBundledMessagesOfSameTemplate(msg.template);
      return () => _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].blockBundle(bundle);
    }

    return () => _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].blockById(msg.id);
  }

  handleUnblock(msg) {
    if (msg.bundled) {
      // If we are unblocking a message that belongs to a bundle, unblock all other messages that are bundled of that same template
      let bundle = this.findOtherBundledMessagesOfSameTemplate(msg.template);
      return () => _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].unblockBundle(bundle);
    }

    return () => _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].unblockById(msg.id);
  }

  handleOverride(id) {
    return () => _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].overrideMessage(id);
  }

  expireCache() {
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "EXPIRE_QUERY_CACHE"
    });
  }

  resetPref() {
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "RESET_PROVIDER_PREF"
    });
  }

  handleExpressionEval() {
    const context = {};

    for (const param of Object.keys(this.state.stringTargetingParameters)) {
      const value = this.state.stringTargetingParameters[param];
      context[param] = value ? JSON.parse(value) : null;
    }

    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "EVALUATE_JEXL_EXPRESSION",
      data: {
        expression: this.refs.expressionInput.value,
        context
      }
    });
  }

  onChangeTargetingParameters(event) {
    const {
      name
    } = event.target;
    const {
      value
    } = event.target;
    this.setState(({
      stringTargetingParameters
    }) => {
      let targetingParametersError = null;
      const updatedParameters = { ...stringTargetingParameters
      };
      updatedParameters[name] = value;

      try {
        JSON.parse(value);
      } catch (e) {
        console.log(`Error parsing value of parameter ${name}`); // eslint-disable-line no-console

        targetingParametersError = {
          id: name
        };
      }

      return {
        copiedToClipboard: false,
        evaluationStatus: {},
        stringTargetingParameters: updatedParameters,
        targetingParametersError
      };
    });
  }

  handleEnabledToggle(event) {
    const provider = this.state.providerPrefs.find(p => p.id === event.target.dataset.provider);
    const userPrefInfo = this.state.userPrefs;
    const isUserEnabled = provider.id in userPrefInfo ? userPrefInfo[provider.id] : true;
    const isSystemEnabled = provider.enabled;
    const isEnabling = event.target.checked;

    if (isEnabling) {
      if (!isUserEnabled) {
        _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
          type: "SET_PROVIDER_USER_PREF",
          data: {
            id: provider.id,
            value: true
          }
        });
      }

      if (!isSystemEnabled) {
        _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
          type: "ENABLE_PROVIDER",
          data: provider.id
        });
      }
    } else {
      _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
        type: "DISABLE_PROVIDER",
        data: provider.id
      });
    }

    this.setState({
      messageFilter: "all"
    });
  }

  handleUserPrefToggle(event) {
    const action = {
      type: "SET_PROVIDER_USER_PREF",
      data: {
        id: event.target.dataset.provider,
        value: event.target.checked
      }
    };
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage(action);
    this.setState({
      messageFilter: "all"
    });
  }

  onChangeMessageFilter(event) {
    this.setState({
      messageFilter: event.target.value
    });
  } // Simulate a copy event that sets to clipboard all targeting paramters and values


  onCopyTargetingParams(event) {
    const stringTargetingParameters = { ...this.state.stringTargetingParameters
    };

    for (const key of Object.keys(stringTargetingParameters)) {
      // If the value is not set the parameter will be lost when we stringify
      if (stringTargetingParameters[key] === undefined) {
        stringTargetingParameters[key] = null;
      }
    }

    const setClipboardData = e => {
      e.preventDefault();
      e.clipboardData.setData("text", JSON.stringify(stringTargetingParameters, null, 2));
      document.removeEventListener("copy", setClipboardData);
      this.setState({
        copiedToClipboard: true
      });
    };

    document.addEventListener("copy", setClipboardData);
    document.execCommand("copy");
  } // Copy all clipboard data to targeting parameters


  onPasteTargetingParams(event) {
    this.setState(({
      pasteFromClipboard
    }) => ({
      pasteFromClipboard: !pasteFromClipboard,
      newStringTargetingParameters: ""
    }));
  }

  onNewTargetingParams(event) {
    this.setState({
      newStringTargetingParameters: event.target.value
    });
    event.target.classList.remove("errorState");
    this.refs.targetingParamsEval.innerText = "";

    try {
      const stringTargetingParameters = JSON.parse(event.target.value);
      this.setState({
        stringTargetingParameters
      });
    } catch (e) {
      event.target.classList.add("errorState");
      this.refs.targetingParamsEval.innerText = e.message;
    }
  }

  renderMessageItem(msg) {
    const isBlocked = this.state.messageBlockList.includes(msg.id) || this.state.messageBlockList.includes(msg.campaign);
    const impressions = this.state.messageImpressions[msg.id] ? this.state.messageImpressions[msg.id].length : 0;
    let itemClassName = "message-item";

    if (isBlocked) {
      itemClassName += " blocked";
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      className: itemClassName,
      key: `${msg.id}-${msg.provider}`
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "message-id"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, msg.id, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: `button ${isBlocked ? "" : " primary"}`,
      onClick: isBlocked ? this.handleUnblock(msg) : this.handleBlock(msg)
    }, isBlocked ? "Unblock" : "Block"), isBlocked ? null : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "button",
      onClick: this.handleOverride(msg.id)
    }, "Show"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null), "(", impressions, " impressions)"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "message-summary"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("pre", null, JSON.stringify(msg, null, 2))));
  }

  renderMessages() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messageFilter === "all" ? this.state.messages : this.state.messages.filter(message => message.provider === this.state.messageFilter);
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderMessageItem(msg))));
  }

  renderMessageFilter() {
    if (!this.state.providers) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, "Show messages from", " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("select", {
      value: this.state.messageFilter,
      onChange: this.onChangeMessageFilter
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option", {
      value: "all"
    }, "all providers"), this.state.providers.map(provider => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("option", {
      key: provider.id,
      value: provider.id
    }, provider.id))));
  }

  renderTableHead() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      className: "message-item"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Provider ID"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, "Source"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Cohort"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Last Updated")));
  }

  renderProviders() {
    const providersConfig = this.state.providerPrefs;
    const providerInfo = this.state.providers;
    const userPrefInfo = this.state.userPrefs;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, this.renderTableHead(), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, providersConfig.map((provider, i) => {
      const isTestProvider = provider.id.includes("_local_testing");
      const info = providerInfo.find(p => p.id === provider.id) || {};
      const isUserEnabled = provider.id in userPrefInfo ? userPrefInfo[provider.id] : true;
      const isSystemEnabled = isTestProvider || provider.enabled;
      let label = "local";

      if (provider.type === "remote") {
        label = react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, "endpoint (", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
          className: "providerUrl",
          target: "_blank",
          href: info.url,
          rel: "noopener noreferrer"
        }, info.url), ")");
      } else if (provider.type === "remote-settings") {
        label = `remote settings (${provider.bucket})`;
      }

      let reasonsDisabled = [];

      if (!isSystemEnabled) {
        reasonsDisabled.push("system pref");
      }

      if (!isUserEnabled) {
        reasonsDisabled.push("user pref");
      }

      if (reasonsDisabled.length) {
        label = `disabled via ${reasonsDisabled.join(", ")}`;
      }

      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
        className: "message-item",
        key: i
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, isTestProvider ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
        type: "checkbox",
        disabled: true,
        readOnly: true,
        checked: true
      }) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
        type: "checkbox",
        "data-provider": provider.id,
        checked: isUserEnabled && isSystemEnabled,
        onChange: this.handleEnabledToggle
      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, provider.id), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
        className: `sourceLabel${isUserEnabled && isSystemEnabled ? "" : " isDisabled"}`
      }, label)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, provider.cohort), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
        style: {
          whiteSpace: "nowrap"
        }
      }, info.lastUpdated ? new Date(info.lastUpdated).toLocaleString() : ""));
    })));
  }

  renderPasteModal() {
    if (!this.state.pasteFromClipboard) {
      return null;
    }

    const errors = this.refs.targetingParamsEval && this.refs.targetingParamsEval.innerText.length;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_3__["ModalOverlay"], {
      innerStyle: "pasteModal",
      title: "New targeting parameters",
      button_label: errors ? "Cancel" : "Done",
      onDismissBundle: this.onPasteTargetingParams
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "onboardingMessage"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("textarea", {
      onChange: this.onNewTargetingParams,
      value: this.state.newStringTargetingParameters,
      rows: "20",
      cols: "60"
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
      ref: "targetingParamsEval"
    })));
  }

  renderTargetingParameters() {
    // There was no error and the result is truthy
    const success = this.state.evaluationStatus.success && !!this.state.evaluationStatus.result;
    const result = JSON.stringify(this.state.evaluationStatus.result, null, 2) || "(Empty result)";
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Evaluate JEXL expression"))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("textarea", {
      ref: "expressionInput",
      rows: "10",
      cols: "60",
      placeholder: "Evaluate JEXL expressions and mock parameters by changing their values below"
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, "Status:", " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      ref: "evaluationStatus"
    }, success ? "" : "", ", Result: ", result))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.handleExpressionEval
    }, "Evaluate"))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Modify targeting parameters"))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.onCopyTargetingParams,
      disabled: this.state.copiedToClipboard
    }, this.state.copiedToClipboard ? "Parameters copied!" : "Copy parameters"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.onPasteTargetingParams,
      disabled: this.state.pasteFromClipboard
    }, "Paste parameters"))), this.state.stringTargetingParameters && Object.keys(this.state.stringTargetingParameters).map((param, i) => {
      const value = this.state.stringTargetingParameters[param];
      const errorState = this.state.targetingParametersError && this.state.targetingParametersError.id === param;
      const className = errorState ? "errorState" : "";
      const inputComp = (value && value.length) > 30 ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("textarea", {
        name: param,
        className: className,
        value: value,
        rows: "10",
        cols: "60",
        onChange: this.onChangeTargetingParameters
      }) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
        name: param,
        className: className,
        value: value,
        onChange: this.onChangeTargetingParameters
      });
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
        key: i
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, param), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, inputComp));
    })));
  }

  onChangeAttributionParameters(event) {
    const {
      name,
      value
    } = event.target;
    this.setState(({
      attributionParameters
    }) => {
      const updatedParameters = { ...attributionParameters
      };
      updatedParameters[name] = value;
      return {
        attributionParameters: updatedParameters
      };
    });
  }

  setAttribution(e) {
    _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "FORCE_ATTRIBUTION",
      data: this.state.attributionParameters
    });
  }

  renderPocketStory(story) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      className: "message-item",
      key: story.guid
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "message-id"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, story.guid, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "message-summary"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("pre", null, JSON.stringify(story, null, 2))));
  }

  renderPocketStories() {
    const {
      rows
    } = this.props.Sections.find(Section => Section.id === "topstories") || {};
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, rows && rows.map(story => this.renderPocketStory(story))));
  }

  renderDiscoveryStream() {
    const {
      config
    } = this.props.DiscoveryStream;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      className: "message-item"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Enabled"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, config.enabled ? "yes" : "no")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      className: "message-item"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      className: "min"
    }, "Endpoint"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, config.endpoint || "(empty)")))));
  }

  renderAttributionParamers() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, " Attribution Parameters "), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, " ", "This forces the browser to set some attribution parameters, useful for testing the Return To AMO feature. Clicking on 'Force Attribution', with the default values in each field, will demo the Return To AMO flow with the addon called 'Iridium for Youtube'. If you wish to try different attribution parameters, enter them in the text boxes. If you wish to try a different addon with the Return To AMO flow, make sure the 'content' text box has the addon GUID, then click 'Force Attribution'."), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("b", null, " Source ")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
      type: "text",
      name: "source",
      placeholder: "addons.mozilla.org",
      value: this.state.attributionParameters.source,
      onChange: this.onChangeAttributionParameters
    }), " ")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("b", null, " Campaign ")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
      type: "text",
      name: "campaign",
      placeholder: "non-fx-button",
      value: this.state.attributionParameters.campaign,
      onChange: this.onChangeAttributionParameters
    }), " ")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("b", null, " Content ")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
      type: "text",
      name: "content",
      placeholder: "iridium@particlecore.github.io",
      value: this.state.attributionParameters.content,
      onChange: this.onChangeAttributionParameters
    }), " ")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "ASRouterButton primary button",
      onClick: this.setAttribution
    }, " ", "Force Attribution", " "), " "))));
  }

  renderErrorMessage({
    id,
    errors
  }) {
    const providerId = react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", {
      rowSpan: errors.length
    }, id); // .reverse() so that the last error (most recent) is first

    return errors.map(({
      error,
      timestamp
    }, cellKey) => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", {
      key: cellKey
    }, cellKey === errors.length - 1 ? providerId : null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, error.message), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, relativeTime(timestamp)))).reverse();
  }

  renderErrors() {
    const providersWithErrors = this.state.providers && this.state.providers.filter(p => p.errors && p.errors.length);

    if (providersWithErrors && providersWithErrors.length) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", {
        className: "errorReporting"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("thead", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("th", null, "Provider ID"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("th", null, "Message"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("th", null, "Timestamp"))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, providersWithErrors.map(this.renderErrorMessage)));
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, "No errors");
  }

  renderTrailheadInfo() {
    const {
      trailheadInterrupt,
      trailheadTriplet
    } = this.state.trailhead;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("table", {
      className: "minimal-table"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, "Interrupt branch"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, trailheadInterrupt)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, "Triplet branch"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("td", null, trailheadTriplet))));
  }

  getSection() {
    const [section] = this.props.location.routes;

    switch (section) {
      case "targeting":
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Targeting Utilities"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
          className: "button",
          onClick: this.expireCache
        }, "Expire Cache"), " ", "(This expires the cache in ASR Targeting for bookmarks and top sites)", this.renderTargetingParameters(), this.renderAttributionParamers());

      case "pocket":
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Pocket"), this.renderPocketStories());

      case "ds":
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Discovery Stream"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DiscoveryStreamAdmin, {
          state: this.props.DiscoveryStream,
          otherPrefs: this.props.Prefs.values,
          dispatch: this.props.dispatch
        }));

      case "errors":
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "ASRouter Errors"), this.renderErrors());

      default:
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Message Providers", " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
          title: "Restore all provider settings that ship with Firefox",
          className: "button",
          onClick: this.resetPref
        }, "Restore default prefs")), this.state.providers ? this.renderProviders() : null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Trailhead"), this.renderTrailheadInfo(), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Messages"), this.renderMessageFilter(), this.renderMessages(), this.renderPasteModal());
    }
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: `asrouter-admin ${this.props.collapsed ? "collapsed" : "expanded"}`
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("aside", {
      className: "sidebar"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      href: "#devtools"
    }, "General")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      href: "#devtools-targeting"
    }, "Targeting")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      href: "#devtools-pocket"
    }, "Pocket")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      href: "#devtools-ds"
    }, "Discovery Stream")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      href: "#devtools-errors"
    }, "Errors")))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("main", {
      className: "main-panel"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", null, "AS Router Admin"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
      className: "helpLink"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, "Need help using these tools? Check out our", " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      target: "blank",
      href: "https://github.com/mozilla/activity-stream/blob/master/content-src/asrouter/docs/debugging-docs.md"
    }, "documentation"))), this.getSection()));
  }

}
class CollapseToggle extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onCollapseToggle = this.onCollapseToggle.bind(this);
    this.state = {
      collapsed: false
    };
  }

  get renderAdmin() {
    const {
      props
    } = this;
    return props.location.hash && (props.location.hash.startsWith("#asrouter") || props.location.hash.startsWith("#devtools"));
  }

  onCollapseToggle(e) {
    e.preventDefault();
    this.setState(state => ({
      collapsed: !state.collapsed
    }));
  }

  setBodyClass() {
    if (this.renderAdmin && !this.state.collapsed) {
      global.document.body.classList.add("no-scroll");
    } else {
      global.document.body.classList.remove("no-scroll");
    }
  }

  componentDidMount() {
    this.setBodyClass();
  }

  componentDidUpdate() {
    this.setBodyClass();
  }

  componentWillUnmount() {
    global.document.body.classList.remove("no-scroll");
  }

  render() {
    const {
      props
    } = this;
    const {
      renderAdmin
    } = this;
    const isCollapsed = this.state.collapsed || !renderAdmin;
    const label = `${isCollapsed ? "Expand" : "Collapse"} devtools`;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      href: "#devtools",
      title: label,
      "aria-label": label,
      className: `asrouter-toggle ${isCollapsed ? "collapsed" : "expanded"}`,
      onClick: this.renderAdmin ? this.onCollapseToggle : null
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "icon icon-devtools"
    })), renderAdmin ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ASRouterAdminInner, _extends({}, props, {
      collapsed: this.state.collapsed
    })) : null);
  }

}

const _ASRouterAdmin = props => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SimpleHashRouter__WEBPACK_IMPORTED_MODULE_5__["SimpleHashRouter"], null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CollapseToggle, props));

const ASRouterAdmin = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(state => ({
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs
}))(_ASRouterAdmin);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterUtils", function() { return ASRouterUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterUISurface", function() { return ASRouterUISurface; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _rich_text_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80);
/* harmony import */ var _components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var fluent_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(78);
/* harmony import */ var content_src_lib_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(12);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _templates_template_manifest__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(79);
/* harmony import */ var _templates_FirstRun_FirstRun__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(82);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const INCOMING_MESSAGE_NAME = "ASRouter:parent-to-child";
const OUTGOING_MESSAGE_NAME = "ASRouter:child-to-parent";
const TEMPLATES_ABOVE_PAGE = ["trailhead", "full_page_interrupt", "return_to_amo_overlay", "extended_triplets"];
const FIRST_RUN_TEMPLATES = TEMPLATES_ABOVE_PAGE;
const TEMPLATES_BELOW_SEARCH = ["simple_below_search_snippet"];
const ASRouterUtils = {
  addListener(listener) {
    if (global.RPMAddMessageListener) {
      global.RPMAddMessageListener(INCOMING_MESSAGE_NAME, listener);
    }
  },

  removeListener(listener) {
    if (global.RPMRemoveMessageListener) {
      global.RPMRemoveMessageListener(INCOMING_MESSAGE_NAME, listener);
    }
  },

  sendMessage(action) {
    if (global.RPMSendAsyncMessage) {
      global.RPMSendAsyncMessage(OUTGOING_MESSAGE_NAME, action);
    }
  },

  blockById(id, options) {
    ASRouterUtils.sendMessage({
      type: "BLOCK_MESSAGE_BY_ID",
      data: {
        id,
        ...options
      }
    });
  },

  dismissById(id) {
    ASRouterUtils.sendMessage({
      type: "DISMISS_MESSAGE_BY_ID",
      data: {
        id
      }
    });
  },

  executeAction(button_action) {
    ASRouterUtils.sendMessage({
      type: "USER_ACTION",
      data: button_action
    });
  },

  unblockById(id) {
    ASRouterUtils.sendMessage({
      type: "UNBLOCK_MESSAGE_BY_ID",
      data: {
        id
      }
    });
  },

  unblockBundle(bundle) {
    ASRouterUtils.sendMessage({
      type: "UNBLOCK_BUNDLE",
      data: {
        bundle
      }
    });
  },

  overrideMessage(id) {
    ASRouterUtils.sendMessage({
      type: "OVERRIDE_MESSAGE",
      data: {
        id
      }
    });
  },

  sendTelemetry(ping) {
    if (global.RPMSendAsyncMessage) {
      const payload = common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ASRouterUserEvent(ping);
      global.RPMSendAsyncMessage(content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_1__["OUTGOING_MESSAGE_NAME"], payload);
    }
  },

  getPreviewEndpoint() {
    if (global.location && global.location.href.includes("endpoint")) {
      const params = new URLSearchParams(global.location.href.slice(global.location.href.indexOf("endpoint")));

      try {
        const endpoint = new URL(params.get("endpoint"));
        return {
          url: endpoint.href,
          snippetId: params.get("snippetId"),
          theme: this.getPreviewTheme()
        };
      } catch (e) {}
    }

    return null;
  },

  getPreviewTheme() {
    return new URLSearchParams(global.location.href.slice(global.location.href.indexOf("theme"))).get("theme");
  }

}; // Note: nextProps/prevProps refer to props passed to <ImpressionsWrapper />, not <ASRouterUISurface />

function shouldSendImpressionOnUpdate(nextProps, prevProps) {
  return nextProps.message.id && (!prevProps.message || prevProps.message.id !== nextProps.message.id);
}

class ASRouterUISurface extends react__WEBPACK_IMPORTED_MODULE_6___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onMessageFromParent = this.onMessageFromParent.bind(this);
    this.sendClick = this.sendClick.bind(this);
    this.sendImpression = this.sendImpression.bind(this);
    this.sendUserActionTelemetry = this.sendUserActionTelemetry.bind(this);
    this.onUserAction = this.onUserAction.bind(this);
    this.fetchFlowParams = this.fetchFlowParams.bind(this);
    this.state = {
      message: {},
      interruptCleared: false
    };

    if (props.document) {
      this.headerPortal = props.document.getElementById("header-asrouter-container");
      this.footerPortal = props.document.getElementById("footer-asrouter-container");
    }
  }

  async fetchFlowParams(params = {}) {
    let result = {};
    const {
      fxaEndpoint,
      dispatch
    } = this.props;

    if (!fxaEndpoint) {
      const err = "Tried to fetch flow params before fxaEndpoint pref was ready";
      console.error(err); // eslint-disable-line no-console
    }

    try {
      const urlObj = new URL(fxaEndpoint);
      urlObj.pathname = "metrics-flow";
      Object.keys(params).forEach(key => {
        urlObj.searchParams.append(key, params[key]);
      });
      const response = await fetch(urlObj.toString(), {
        credentials: "omit"
      });

      if (response.status === 200) {
        const {
          deviceId,
          flowId,
          flowBeginTime
        } = await response.json();
        result = {
          deviceId,
          flowId,
          flowBeginTime
        };
      } else {
        console.error("Non-200 response", response); // eslint-disable-line no-console

        dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TELEMETRY_UNDESIRED_EVENT,
          data: {
            event: "FXA_METRICS_FETCH_ERROR",
            value: response.status
          }
        }));
      }
    } catch (error) {
      console.error(error); // eslint-disable-line no-console

      dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TELEMETRY_UNDESIRED_EVENT,
        data: {
          event: "FXA_METRICS_ERROR"
        }
      }));
    }

    return result;
  }

  sendUserActionTelemetry(extraProps = {}) {
    const {
      message
    } = this.state;
    const eventType = `${message.provider}_user_event`;
    ASRouterUtils.sendTelemetry({
      message_id: message.id,
      source: extraProps.id,
      action: eventType,
      ...extraProps
    });
  }

  sendImpression(extraProps) {
    if (this.state.message.provider === "preview") {
      return;
    }

    ASRouterUtils.sendMessage({
      type: "IMPRESSION",
      data: this.state.message
    });
    this.sendUserActionTelemetry({
      event: "IMPRESSION",
      ...extraProps
    });
  } // If link has a `metric` data attribute send it as part of the `event_context`
  // telemetry field which can have arbitrary values.
  // Used for router messages with links as part of the content.


  sendClick(event) {
    const metric = {
      event_context: event.target.dataset.metric,
      // Used for the `source` of the event. Needed to differentiate
      // from other snippet or onboarding events that may occur.
      id: "NEWTAB_FOOTER_BAR_CONTENT"
    };
    const action = {
      type: event.target.dataset.action,
      data: {
        args: event.target.dataset.args
      }
    };

    if (action.type) {
      ASRouterUtils.executeAction(action);
    }

    if (!this.state.message.content.do_not_autoblock && !event.target.dataset.do_not_autoblock) {
      ASRouterUtils.blockById(this.state.message.id);
    }

    if (this.state.message.provider !== "preview") {
      this.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        ...metric
      });
    }
  }

  onBlockById(id) {
    return options => ASRouterUtils.blockById(id, options);
  }

  onDismissById(id) {
    return () => ASRouterUtils.dismissById(id);
  }

  clearMessage(id) {
    // Request new set of dynamic triplet cards when click on a card CTA clear
    // message and 'id' matches one of the cards in message bundle
    if (this.state.message && this.state.message.bundle && this.state.message.bundle.find(card => card.id === id)) {
      this.requestMessage();
    }

    if (id === this.state.message.id) {
      this.setState({
        message: {}
      }); // Remove any styles related to the RTAMO message

      document.body.classList.remove("welcome", "hide-main", "amo");
    }
  }

  onMessageFromParent({
    data: action
  }) {
    switch (action.type) {
      case "SET_MESSAGE":
        this.setState({
          message: action.data
        });
        break;

      case "CLEAR_INTERRUPT":
        this.setState({
          interruptCleared: true
        });
        break;

      case "CLEAR_MESSAGE":
        this.clearMessage(action.data.id);
        break;

      case "CLEAR_PROVIDER":
        if (action.data.id === this.state.message.provider) {
          this.setState({
            message: {}
          });
        }

        break;

      case "CLEAR_ALL":
        this.setState({
          message: {}
        });
        break;

      case "AS_ROUTER_TARGETING_UPDATE":
        action.data.forEach(id => this.clearMessage(id));
        break;
    }
  }

  requestMessage(endpoint) {
    // If we are loading about:welcome we want to trigger the onboarding messages
    if (this.props.document && this.props.document.location.href === "about:welcome") {
      ASRouterUtils.sendMessage({
        type: "TRIGGER",
        data: {
          trigger: {
            id: "firstRun"
          }
        }
      });
    } else {
      ASRouterUtils.sendMessage({
        type: "NEWTAB_MESSAGE_REQUEST",
        data: {
          endpoint
        }
      });
    }
  }

  componentWillMount() {
    const endpoint = ASRouterUtils.getPreviewEndpoint();

    if (endpoint && endpoint.theme === "dark") {
      global.window.dispatchEvent(new CustomEvent("LightweightTheme:Set", {
        detail: {
          data: content_src_lib_constants__WEBPACK_IMPORTED_MODULE_5__["NEWTAB_DARK_THEME"]
        }
      }));
    }

    ASRouterUtils.addListener(this.onMessageFromParent);
    this.requestMessage(endpoint);
  }

  componentWillUnmount() {
    ASRouterUtils.removeListener(this.onMessageFromParent);
  }

  async getMonitorUrl({
    url,
    flowRequestParams = {}
  }) {
    const flowValues = await this.fetchFlowParams(flowRequestParams); // Note that flowParams are actually added dynamically on the page

    const urlObj = new URL(url);
    ["deviceId", "flowId", "flowBeginTime"].forEach(key => {
      if (key in flowValues) {
        urlObj.searchParams.append(key, flowValues[key]);
      }
    });
    return urlObj.toString();
  }

  async onUserAction(action) {
    switch (action.type) {
      // This needs to be handled locally because its
      case common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["ASRouterActions"].ENABLE_FIREFOX_MONITOR:
        const url = await this.getMonitorUrl(action.data.args);
        ASRouterUtils.executeAction({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["ASRouterActions"].OPEN_URL,
          data: {
            args: url
          }
        });
        break;

      default:
        ASRouterUtils.executeAction(action);
    }
  }

  renderSnippets() {
    const {
      message
    } = this.state;

    if (!_templates_template_manifest__WEBPACK_IMPORTED_MODULE_8__["SnippetsTemplates"][message.template]) {
      return null;
    }

    const SnippetComponent = _templates_template_manifest__WEBPACK_IMPORTED_MODULE_8__["SnippetsTemplates"][message.template];
    const {
      content
    } = this.state.message;
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_3__["ImpressionsWrapper"], {
      id: "NEWTAB_FOOTER_BAR",
      message: this.state.message,
      sendImpression: this.sendImpression,
      shouldSendImpressionOnUpdate: shouldSendImpressionOnUpdate // This helps with testing
      ,
      document: this.props.document
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(fluent_react__WEBPACK_IMPORTED_MODULE_4__["LocalizationProvider"], {
      bundles: Object(_rich_text_strings__WEBPACK_IMPORTED_MODULE_2__["generateBundles"])(content)
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(SnippetComponent, _extends({}, this.state.message, {
      UISurface: "NEWTAB_FOOTER_BAR",
      onBlock: this.onBlockById(this.state.message.id),
      onDismiss: this.onDismissById(this.state.message.id),
      onAction: this.onUserAction,
      sendClick: this.sendClick,
      sendUserActionTelemetry: this.sendUserActionTelemetry
    }))));
  }

  renderPreviewBanner() {
    if (this.state.message.provider !== "preview") {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "snippets-preview-banner"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span", null, "Preview Purposes Only"));
  }

  renderFirstRun() {
    const {
      message
    } = this.state;

    if (FIRST_RUN_TEMPLATES.includes(message.template)) {
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_3__["ImpressionsWrapper"], {
        id: "FIRST_RUN",
        message: this.state.message,
        sendImpression: this.sendImpression,
        shouldSendImpressionOnUpdate: shouldSendImpressionOnUpdate // This helps with testing
        ,
        document: this.props.document
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_templates_FirstRun_FirstRun__WEBPACK_IMPORTED_MODULE_9__["FirstRun"], {
        document: this.props.document,
        interruptCleared: this.state.interruptCleared,
        message: message,
        sendUserActionTelemetry: this.sendUserActionTelemetry,
        executeAction: ASRouterUtils.executeAction,
        dispatch: this.props.dispatch,
        onBlockById: ASRouterUtils.blockById,
        onDismiss: this.onDismissById(this.state.message.id),
        fxaEndpoint: this.props.fxaEndpoint,
        appUpdateChannel: this.props.appUpdateChannel,
        fetchFlowParams: this.fetchFlowParams
      }));
    }

    return null;
  }

  render() {
    const {
      message
    } = this.state;

    if (!message.id) {
      return null;
    }

    const shouldRenderBelowSearch = TEMPLATES_BELOW_SEARCH.includes(message.template);
    const shouldRenderInHeader = TEMPLATES_ABOVE_PAGE.includes(message.template);
    return shouldRenderBelowSearch ? // Render special below search snippets in place;
    react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "below-search-snippet-wrapper"
    }, this.renderSnippets()) : // For onboarding, regular snippets etc. we should render
    // everything in our footer container.
    react_dom__WEBPACK_IMPORTED_MODULE_7___default.a.createPortal(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, this.renderPreviewBanner(), this.renderFirstRun(), this.renderSnippets()), shouldRenderInHeader ? this.headerPortal : this.footerPortal);
  }

}
ASRouterUISurface.defaultProps = {
  document: global.document
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MERGE_STORE_ACTION", function() { return MERGE_STORE_ACTION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OUTGOING_MESSAGE_NAME", function() { return OUTGOING_MESSAGE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INCOMING_MESSAGE_NAME", function() { return INCOMING_MESSAGE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EARLY_QUEUED_ACTIONS", function() { return EARLY_QUEUED_ACTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rehydrationMiddleware", function() { return rehydrationMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queueEarlyMessageMiddleware", function() { return queueEarlyMessageMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initStore", function() { return initStore; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-env mozilla/frame-script */


const MERGE_STORE_ACTION = "NEW_TAB_INITIAL_STATE";
const OUTGOING_MESSAGE_NAME = "ActivityStream:ContentToMain";
const INCOMING_MESSAGE_NAME = "ActivityStream:MainToContent";
const EARLY_QUEUED_ACTIONS = [common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA];
/**
 * A higher-order function which returns a reducer that, on MERGE_STORE action,
 * will return the action.data object merged into the previous state.
 *
 * For all other actions, it merely calls mainReducer.
 *
 * Because we want this to merge the entire state object, it's written as a
 * higher order function which takes the main reducer (itself often a call to
 * combineReducers) as a parameter.
 *
 * @param  {function} mainReducer reducer to call if action != MERGE_STORE_ACTION
 * @return {function}             a reducer that, on MERGE_STORE_ACTION action,
 *                                will return the action.data object merged
 *                                into the previous state, and the result
 *                                of calling mainReducer otherwise.
 */

function mergeStateReducer(mainReducer) {
  return (prevState, action) => {
    if (action.type === MERGE_STORE_ACTION) {
      return { ...prevState,
        ...action.data
      };
    }

    return mainReducer(prevState, action);
  };
}
/**
 * messageMiddleware - Middleware that looks for SentToMain type actions, and sends them if necessary
 */


const messageMiddleware = store => next => action => {
  const skipLocal = action.meta && action.meta.skipLocal;

  if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToMain(action)) {
    RPMSendAsyncMessage(OUTGOING_MESSAGE_NAME, action);
  }

  if (!skipLocal) {
    next(action);
  }
};

const rehydrationMiddleware = store => next => action => {
  if (store._didRehydrate) {
    return next(action);
  }

  const isMergeStoreAction = action.type === MERGE_STORE_ACTION;
  const isRehydrationRequest = action.type === common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST;

  if (isRehydrationRequest) {
    store._didRequestInitialState = true;
    return next(action);
  }

  if (isMergeStoreAction) {
    store._didRehydrate = true;
    return next(action);
  } // If init happened after our request was made, we need to re-request


  if (store._didRequestInitialState && action.type === common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].INIT) {
    return next(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST
    }));
  }

  if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isBroadcastToContent(action) || common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToOneContent(action) || common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToPreloaded(action)) {
    // Note that actions received before didRehydrate will not be dispatched
    // because this could negatively affect preloading and the the state
    // will be replaced by rehydration anyway.
    return null;
  }

  return next(action);
};
/**
 * This middleware queues up all the EARLY_QUEUED_ACTIONS until it receives
 * the first action from main. This is useful for those actions for main which
 * require higher reliability, i.e. the action will not be lost in the case
 * that it gets sent before the main is ready to receive it. Conversely, any
 * actions allowed early are accepted to be ignorable or re-sendable.
 */

const queueEarlyMessageMiddleware = store => next => action => {
  if (store._receivedFromMain) {
    next(action);
  } else if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isFromMain(action)) {
    next(action);
    store._receivedFromMain = true; // Sending out all the early actions as main is ready now

    if (store._earlyActionQueue) {
      store._earlyActionQueue.forEach(next);

      store._earlyActionQueue = [];
    }
  } else if (EARLY_QUEUED_ACTIONS.includes(action.type)) {
    store._earlyActionQueue = store._earlyActionQueue || [];

    store._earlyActionQueue.push(action);
  } else {
    // Let any other type of action go through
    next(action);
  }
};
/**
 * initStore - Create a store and listen for incoming actions
 *
 * @param  {object} reducers An object containing Redux reducers
 * @param  {object} intialState (optional) The initial state of the store, if desired
 * @return {object}          A redux store
 */

function initStore(reducers) {
  const store = Object(redux__WEBPACK_IMPORTED_MODULE_1__["createStore"])(mergeStateReducer(Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])(reducers)), global.RPMAddMessageListener && Object(redux__WEBPACK_IMPORTED_MODULE_1__["applyMiddleware"])(rehydrationMiddleware, queueEarlyMessageMiddleware, messageMiddleware));
  store._didRehydrate = false;
  store._didRequestInitialState = false;

  if (global.RPMAddMessageListener) {
    global.RPMAddMessageListener(INCOMING_MESSAGE_NAME, msg => {
      try {
        store.dispatch(msg.data);
      } catch (ex) {
        console.error("Content msg:", msg, "Dispatch error: ", ex); // eslint-disable-line no-console

        dump(`Content msg: ${JSON.stringify(msg)}\nDispatch error: ${ex}\n${ex.stack}`);
      }
    });
  }

  return store;
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = Redux;

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VISIBLE", function() { return VISIBLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VISIBILITY_CHANGE_EVENT", function() { return VISIBILITY_CHANGE_EVENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpressionsWrapper", function() { return ImpressionsWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
/**
 * Component wrapper used to send telemetry pings on every impression.
 */

class ImpressionsWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.
  sendImpressionOrAddListener() {
    if (this.props.document.visibilityState === VISIBLE) {
      this.props.sendImpression({
        id: this.props.id
      });
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      } // When the page becomes visible, send the impression stats ping if the section isn't collapsed.


      this._onVisibilityChange = () => {
        if (this.props.document.visibilityState === VISIBLE) {
          this.props.sendImpression({
            id: this.props.id
          });
          this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      this.props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentDidMount() {
    if (this.props.sendOnMount) {
      this.sendImpressionOrAddListener();
    }
  }

  componentDidUpdate(prevProps) {
    if (this.props.shouldSendImpressionOnUpdate(this.props, prevProps)) {
      this.sendImpressionOrAddListener();
    }
  }

  render() {
    return this.props.children;
  }

}
ImpressionsWrapper.defaultProps = {
  document: global.document,
  sendOnMount: true
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),
/* 10 */
/***/ (function(module, exports) {

module.exports = PropTypes;

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IS_NEWTAB", function() { return IS_NEWTAB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEWTAB_DARK_THEME", function() { return NEWTAB_DARK_THEME; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const IS_NEWTAB = global.document && global.document.documentURI === "about:newtab";
const NEWTAB_DARK_THEME = {
  ntp_background: {
    r: 42,
    g: 42,
    b: 46,
    a: 1
  },
  ntp_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1
  },
  sidebar: {
    r: 56,
    g: 56,
    b: 61,
    a: 1
  },
  sidebar_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ }),
/* 13 */
/***/ (function(module) {

module.exports = {"title":"EOYSnippet","description":"Fundraising Snippet","version":"1.1.0","type":"object","definitions":{"plainText":{"description":"Plain text (no HTML allowed)","type":"string"},"richText":{"description":"Text with HTML subset allowed: i, b, u, strong, em, br","type":"string"},"link_url":{"description":"Target for links or buttons","type":"string","format":"uri"}},"properties":{"donation_form_url":{"type":"string","description":"Url to the donation form."},"currency_code":{"type":"string","description":"The code for the currency. Examle gbp, cad, usd.","default":"usd"},"locale":{"type":"string","description":"String for the locale code.","default":"en-US"},"text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"text_color":{"type":"string","description":"Modify the text message color"},"background_color":{"type":"string","description":"Snippet background color."},"highlight_color":{"type":"string","description":"Paragraph em highlight color."},"donation_amount_first":{"type":"number","description":"First button amount."},"donation_amount_second":{"type":"number","description":"Second button amount."},"donation_amount_third":{"type":"number","description":"Third button amount."},"donation_amount_fourth":{"type":"number","description":"Fourth button amount."},"selected_button":{"type":"string","description":"Default donation_amount_second. Donation amount button that's selected by default.","default":"donation_amount_second"},"icon":{"type":"string","description":"Snippet icon. 64x64px. SVG or PNG preferred."},"icon_dark_theme":{"type":"string","description":"Snippet icon. Dark theme variant. 64x64px. SVG or PNG preferred."},"icon_alt_text":{"type":"string","description":"Alt text for accessibility","default":""},"title":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Snippet title displayed before snippet text"}]},"title_icon":{"type":"string","description":"Small icon that shows up before the title / text. 16x16px. SVG or PNG preferred. Grayscale."},"title_icon_dark_theme":{"type":"string","description":"Small icon that shows up before the title / text. Dark theme variant. 16x16px. SVG or PNG preferred. Grayscale."},"button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for a button next to main snippet text that links to button_url. Requires button_url."}]},"button_color":{"type":"string","description":"The text color of the button. Valid CSS color."},"button_background_color":{"type":"string","description":"The background color of the button. Valid CSS color."},"block_button_text":{"type":"string","description":"Tooltip text used for dismiss button."},"monthly_checkbox_label_text":{"type":"string","description":"Label text for monthly checkbox.","default":"Make my donation monthly"},"test":{"type":"string","description":"Different styles for the snippet. Options are bold and takeover."},"do_not_autoblock":{"type":"boolean","description":"Used to prevent blocking the snippet after the CTA (link or button) has been clicked"},"links":{"additionalProperties":{"url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"The url where the link points to."}]},"metric":{"type":"string","description":"Custom event name sent with telemetry event."},"args":{"type":"string","description":"Additional parameters for link action, example which specific menu the button should open"}}}},"additionalProperties":false,"required":["text","donation_form_url","donation_amount_first","donation_amount_second","donation_amount_third","donation_amount_fourth","button_label","currency_code"],"dependencies":{"button_color":["button_label"],"button_background_color":["button_label"]}};

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "convertLinks", function() { return convertLinks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichText", function() { return RichText; });
/* harmony import */ var fluent_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(78);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _rich_text_strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80);
/* harmony import */ var _template_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



 // Elements allowed in snippet content

const ALLOWED_TAGS = {
  b: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b", null),
  i: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("i", null),
  u: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("u", null),
  strong: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("strong", null),
  em: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("em", null),
  br: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br", null)
};
/**
 * Transform an object (tag name: {url}) into (tag name: anchor) where the url
 * is used as href, in order to render links inside a Fluent.Localized component.
 */

function convertLinks(links, sendClick, doNotAutoBlock, openNewWindow = false) {
  if (links) {
    return Object.keys(links).reduce((acc, linkTag) => {
      const {
        action
      } = links[linkTag]; // Setting the value to false will not include the attribute in the anchor

      const url = action ? false : Object(_template_utils__WEBPACK_IMPORTED_MODULE_3__["safeURI"])(links[linkTag].url);
      acc[linkTag] = // eslint was getting a false positive caused by the dynamic injection
      // of content.
      // eslint-disable-next-line jsx-a11y/anchor-has-content
      react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
        href: url,
        target: openNewWindow ? "_blank" : "",
        "data-metric": links[linkTag].metric,
        "data-action": action,
        "data-args": links[linkTag].args,
        "data-do_not_autoblock": doNotAutoBlock,
        onClick: sendClick
      });
      return acc;
    }, {});
  }

  return null;
}
/**
 * Message wrapper used to sanitize markup and render HTML.
 */

function RichText(props) {
  if (!_rich_text_strings__WEBPACK_IMPORTED_MODULE_2__["RICH_TEXT_KEYS"].includes(props.localization_id)) {
    throw new Error(`ASRouter: ${props.localization_id} is not a valid rich text property. If you want it to be processed, you need to add it to asrouter/rich-text-strings.js`);
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(fluent_react__WEBPACK_IMPORTED_MODULE_0__["Localized"], _extends({
    id: props.localization_id
  }, ALLOWED_TAGS, props.customElements, convertLinks(props.links, props.sendClick, props.doNotAutoBlock, props.openNewWindow)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, props.text));
}

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "safeURI", function() { return safeURI; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
function safeURI(url) {
  if (!url) {
    return "";
  }

  const {
    protocol
  } = new URL(url);
  const isAllowed = ["http:", "https:", "data:", "resource:", "chrome:"].includes(protocol);

  if (!isAllowed) {
    console.warn(`The protocol ${protocol} is not allowed for template URLs.`); // eslint-disable-line no-console
  }

  return isAllowed ? url : "";
}

/***/ }),
/* 16 */
/***/ (function(module) {

module.exports = {"title":"SimpleSnippet","description":"A simple template with an icon, text, and optional button.","version":"1.1.1","type":"object","definitions":{"plainText":{"description":"Plain text (no HTML allowed)","type":"string"},"richText":{"description":"Text with HTML subset allowed: i, b, u, strong, em, br","type":"string"},"link_url":{"description":"Target for links or buttons","type":"string","format":"uri"}},"properties":{"title":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Snippet title displayed before snippet text"}]},"text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"icon":{"type":"string","description":"Snippet icon. 64x64px. SVG or PNG preferred."},"icon_dark_theme":{"type":"string","description":"Snippet icon, dark theme variant. 64x64px. SVG or PNG preferred."},"icon_alt_text":{"type":"string","description":"Alt text describing icon for screen readers","default":""},"title_icon":{"type":"string","description":"Small icon that shows up before the title / text. 16x16px. SVG or PNG preferred. Grayscale."},"title_icon_dark_theme":{"type":"string","description":"Small icon that shows up before the title / text. Dark theme variant. 16x16px. SVG or PNG preferred. Grayscale."},"title_icon_alt_text":{"type":"string","description":"Alt text describing title icon for screen readers","default":""},"button_action":{"type":"string","description":"The type of action the button should trigger."},"button_url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"A url, button_label links to this"}]},"button_action_args":{"description":"Additional parameters for button action, example which specific menu the button should open"},"button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for a button next to main snippet text that links to button_url. Requires button_url."}]},"button_color":{"type":"string","description":"The text color of the button. Valid CSS color."},"button_background_color":{"type":"string","description":"The background color of the button. Valid CSS color."},"block_button_text":{"type":"string","description":"Tooltip text used for dismiss button.","default":"Remove this"},"tall":{"type":"boolean","description":"To be used by fundraising only, increases height to roughly 120px. Defaults to false."},"do_not_autoblock":{"type":"boolean","description":"Used to prevent blocking the snippet after the CTA (link or button) has been clicked"},"links":{"additionalProperties":{"url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"The url where the link points to."}]},"metric":{"type":"string","description":"Custom event name sent with telemetry event."},"args":{"type":"string","description":"Additional parameters for link action, example which specific menu the button should open"}}},"section_title_icon":{"type":"string","description":"Section title icon. 16x16px. SVG or PNG preferred. section_title_text must also be specified to display."},"section_title_icon_dark_theme":{"type":"string","description":"Section title icon, dark theme variant. 16x16px. SVG or PNG preferred. section_title_text must also be specified to display."},"section_title_text":{"type":"string","description":"Section title text. section_title_icon must also be specified to display."},"section_title_url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"A url, section_title_text links to this"}]}},"additionalProperties":false,"required":["text"],"dependencies":{"button_action":["button_label"],"button_url":["button_label"],"button_color":["button_label"],"button_background_color":["button_label"],"section_title_url":["section_title_text"]}};

/***/ }),
/* 17 */
/***/ (function(module) {

module.exports = {"title":"FXASignupSnippet","description":"A snippet template for FxA sign up/sign in","version":"1.2.0","type":"object","definitions":{"plainText":{"description":"Plain text (no HTML allowed)","type":"string"},"richText":{"description":"Text with HTML subset allowed: i, b, u, strong, em, br","type":"string"},"link_url":{"description":"Target for links or buttons","type":"string","format":"uri"}},"properties":{"scene1_title":{"allof":[{"$ref":"#/definitions/plainText"},{"description":"snippet title displayed before snippet text"}]},"scene1_text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"scene1_section_title_icon":{"type":"string","description":"Section title icon for scene 1. 16x16px. SVG or PNG preferred. scene1_section_title_text must also be specified to display."},"scene1_section_title_icon_dark_theme":{"type":"string","description":"Section title icon for scene 1, dark theme variant. 16x16px. SVG or PNG preferred. scene1_section_title_text must also be specified to display."},"scene1_section_title_text":{"type":"string","description":"Section title text for scene 1. scene1_section_title_icon must also be specified to display."},"scene1_section_title_url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"A url, scene1_section_title_text links to this"}]},"scene2_title":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Title displayed before text in scene 2. Should be plain text."}]},"scene2_text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"scene1_icon":{"type":"string","description":"Snippet icon. 64x64px. SVG or PNG preferred."},"scene1_icon_dark_theme":{"type":"string","description":"Snippet icon. Dark theme variant. 64x64px. SVG or PNG preferred."},"scene1_title_icon":{"type":"string","description":"Small icon that shows up before the title / text. 16x16px. SVG or PNG preferred. Grayscale."},"scene1_title_icon_dark_theme":{"type":"string","description":"Small icon that shows up before the title / text. Dark theme variant. 16x16px. SVG or PNG preferred. Grayscale."},"scene2_email_placeholder_text":{"type":"string","description":"Value to show while input is empty.","default":"Your email here"},"scene2_button_label":{"type":"string","description":"Label for form submit button","default":"Sign me up"},"scene2_dismiss_button_text":{"type":"string","description":"Label for the dismiss button when the sign-up form is expanded.","default":"Dismiss"},"hidden_inputs":{"type":"object","description":"Each entry represents a hidden input, key is used as value for the name property.","properties":{"action":{"type":"string","enum":["email"]},"context":{"type":"string","enum":["fx_desktop_v3"]},"entrypoint":{"type":"string","enum":["snippets"]},"utm_content":{"type":"number","description":"Firefox version number"},"utm_source":{"type":"string","enum":["snippet"]},"utm_campaign":{"type":"string","description":"(fxa) Value to pass through to GA as utm_campaign."},"utm_term":{"type":"string","description":"(fxa) Value to pass through to GA as utm_term."},"additionalProperties":false}},"scene1_button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for a button next to main snippet text that links to button_url. Requires button_url."}],"default":"Learn more"},"scene1_button_color":{"type":"string","description":"The text color of the button. Valid CSS color."},"scene1_button_background_color":{"type":"string","description":"The background color of the button. Valid CSS color."},"retry_button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for the button in the event of a submission error/failure."}],"default":"Try again"},"do_not_autoblock":{"type":"boolean","description":"Used to prevent blocking the snippet after the CTA (link or button) has been clicked","default":false},"utm_campaign":{"type":"string","description":"(fxa) Value to pass through to GA as utm_campaign."},"utm_term":{"type":"string","description":"(fxa) Value to pass through to GA as utm_term."},"links":{"additionalProperties":{"url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"The url where the link points to."}]},"metric":{"type":"string","description":"Custom event name sent with telemetry event."}}}},"additionalProperties":false,"required":["scene1_text","scene2_text","scene1_button_label"],"dependencies":{"scene1_button_color":["scene1_button_label"],"scene1_button_background_color":["scene1_button_label"]}};

/***/ }),
/* 18 */
/***/ (function(module) {

module.exports = {"title":"NewsletterSnippet","description":"A snippet template for send to device mobile download","version":"1.2.0","type":"object","definitions":{"plainText":{"description":"Plain text (no HTML allowed)","type":"string"},"richText":{"description":"Text with HTML subset allowed: i, b, u, strong, em, br","type":"string"},"link_url":{"description":"Target for links or buttons","type":"string","format":"uri"}},"properties":{"locale":{"type":"string","description":"Two to five character string for the locale code","default":"en-US"},"scene1_title":{"allof":[{"$ref":"#/definitions/plainText"},{"description":"snippet title displayed before snippet text"}]},"scene1_text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"scene1_section_title_icon":{"type":"string","description":"Section title icon for scene 1. 16x16px. SVG or PNG preferred. scene1_section_title_text must also be specified to display."},"scene1_section_title_icon_dark_theme":{"type":"string","description":"Section title icon for scene 1, dark theme variant. 16x16px. SVG or PNG preferred. scene1_section_title_text must also be specified to display."},"scene1_section_title_text":{"type":"string","description":"Section title text for scene 1. scene1_section_title_icon must also be specified to display."},"scene1_section_title_url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"A url, scene1_section_title_text links to this"}]},"scene2_title":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Title displayed before text in scene 2. Should be plain text."}]},"scene2_text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"scene1_icon":{"type":"string","description":"Snippet icon. 64x64px. SVG or PNG preferred."},"scene1_icon_dark_theme":{"type":"string","description":"Snippet icon. Dark theme variant. 64x64px. SVG or PNG preferred."},"scene1_title_icon":{"type":"string","description":"Small icon that shows up before the title / text. 16x16px. SVG or PNG preferred. Grayscale."},"scene1_title_icon_dark_theme":{"type":"string","description":"Small icon that shows up before the title / text. Dark theme variant. 16x16px. SVG or PNG preferred. Grayscale."},"scene2_email_placeholder_text":{"type":"string","description":"Value to show while input is empty.","default":"Your email here"},"scene2_button_label":{"type":"string","description":"Label for form submit button","default":"Sign me up"},"scene2_privacy_html":{"type":"string","description":"(send to device) Html for disclaimer and link underneath input box."},"scene2_dismiss_button_text":{"type":"string","description":"Label for the dismiss button when the sign-up form is expanded.","default":"Dismiss"},"hidden_inputs":{"type":"object","description":"Each entry represents a hidden input, key is used as value for the name property.","properties":{"fmt":{"type":"string","description":"","default":"H"}}},"scene1_button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for a button next to main snippet text that links to button_url. Requires button_url."}],"default":"Learn more"},"scene1_button_color":{"type":"string","description":"The text color of the button. Valid CSS color."},"scene1_button_background_color":{"type":"string","description":"The background color of the button. Valid CSS color."},"retry_button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for the button in the event of a submission error/failure."}],"default":"Try again"},"do_not_autoblock":{"type":"boolean","description":"Used to prevent blocking the snippet after the CTA (link or button) has been clicked","default":false},"success_text":{"type":"string","description":"Message shown on successful registration."},"error_text":{"type":"string","description":"Message shown if registration failed."},"scene2_newsletter":{"type":"string","description":"Newsletter/basket id user is subscribing to.","default":"mozilla-foundation"},"links":{"additionalProperties":{"url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"The url where the link points to."}]},"metric":{"type":"string","description":"Custom event name sent with telemetry event."}}}},"additionalProperties":false,"required":["scene1_text","scene2_text","scene1_button_label"],"dependencies":{"scene1_button_color":["scene1_button_label"],"scene1_button_background_color":["scene1_button_label"]}};

/***/ }),
/* 19 */
/***/ (function(module) {

module.exports = {"title":"SendToDeviceSnippet","description":"A snippet template for send to device mobile download","version":"1.2.0","type":"object","definitions":{"plainText":{"description":"Plain text (no HTML allowed)","type":"string"},"richText":{"description":"Text with HTML subset allowed: i, b, u, strong, em, br","type":"string"},"link_url":{"description":"Target for links or buttons","type":"string","format":"uri"}},"properties":{"locale":{"type":"string","description":"Two to five character string for the locale code","default":"en-US"},"country":{"type":"string","description":"Two character string for the country code (used for SMS)","default":"us"},"scene1_title":{"allof":[{"$ref":"#/definitions/plainText"},{"description":"snippet title displayed before snippet text"}]},"scene1_text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"scene1_section_title_icon":{"type":"string","description":"Section title icon for scene 1. 16x16px. SVG or PNG preferred. scene1_section_title_text must also be specified to display."},"scene1_section_title_icon_dark_theme":{"type":"string","description":"Section title icon for scene 1, dark theme variant. 16x16px. SVG or PNG preferred. scene1_section_title_text must also be specified to display."},"scene1_section_title_text":{"type":"string","description":"Section title text for scene 1. scene1_section_title_icon must also be specified to display."},"scene1_section_title_url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"A url, scene1_section_title_text links to this"}]},"scene2_title":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Title displayed before text in scene 2. Should be plain text."}]},"scene2_text":{"allOf":[{"$ref":"#/definitions/richText"},{"description":"Main body text of snippet. HTML subset allowed: i, b, u, strong, em, br"}]},"scene1_icon":{"type":"string","description":"Snippet icon. 64x64px. SVG or PNG preferred."},"scene1_icon_dark_theme":{"type":"string","description":"Snippet icon. Dark theme variant. 64x64px. SVG or PNG preferred."},"scene2_icon":{"type":"string","description":"(send to device) Image to display above the form. Dark theme variant. 98x98px. SVG or PNG preferred."},"scene2_icon_dark_theme":{"type":"string","description":"(send to device) Image to display above the form. 98x98px. SVG or PNG preferred."},"scene1_title_icon":{"type":"string","description":"Small icon that shows up before the title / text. 16x16px. SVG or PNG preferred. Grayscale."},"scene1_title_icon_dark_theme":{"type":"string","description":"Small icon that shows up before the title / text. Dark theme variant. 16x16px. SVG or PNG preferred. Grayscale."},"scene2_button_label":{"type":"string","description":"Label for form submit button","default":"Send"},"scene2_input_placeholder":{"type":"string","description":"(send to device) Value to show while input is empty.","default":"Your email here"},"scene2_disclaimer_html":{"type":"string","description":"(send to device) Html for disclaimer and link underneath input box."},"scene2_dismiss_button_text":{"type":"string","description":"Label for the dismiss button when the sign-up form is expanded.","default":"Dismiss"},"hidden_inputs":{"type":"object","description":"Each entry represents a hidden input, key is used as value for the name property.","properties":{"action":{"type":"string","enum":["email"]},"context":{"type":"string","enum":["fx_desktop_v3"]},"entrypoint":{"type":"string","enum":["snippets"]},"utm_content":{"type":"string","description":"Firefox version number"},"utm_source":{"type":"string","enum":["snippet"]},"utm_campaign":{"type":"string","description":"(fxa) Value to pass through to GA as utm_campaign."},"utm_term":{"type":"string","description":"(fxa) Value to pass through to GA as utm_term."},"additionalProperties":false}},"scene1_button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for a button next to main snippet text that links to button_url. Requires button_url."}],"default":"Learn more"},"scene1_button_color":{"type":"string","description":"The text color of the button. Valid CSS color."},"scene1_button_background_color":{"type":"string","description":"The background color of the button. Valid CSS color."},"retry_button_label":{"allOf":[{"$ref":"#/definitions/plainText"},{"description":"Text for the button in the event of a submission error/failure."}],"default":"Try again"},"do_not_autoblock":{"type":"boolean","description":"Used to prevent blocking the snippet after the CTA (link or button) has been clicked","default":false},"success_title":{"type":"string","description":"(send to device) Title shown before text on successful registration."},"success_text":{"type":"string","description":"Message shown on successful registration."},"error_text":{"type":"string","description":"Message shown if registration failed."},"include_sms":{"type":"boolean","description":"(send to device) Allow users to send an SMS message with the form?","default":false},"message_id_sms":{"type":"string","description":"(send to device) Newsletter/basket id representing the SMS message to be sent."},"message_id_email":{"type":"string","description":"(send to device) Newsletter/basket id representing the email message to be sent. Must be a value from the 'Slug' column here: https://basket.mozilla.org/news/."},"utm_campaign":{"type":"string","description":"(fxa) Value to pass through to GA as utm_campaign."},"utm_term":{"type":"string","description":"(fxa) Value to pass through to GA as utm_term."},"links":{"additionalProperties":{"url":{"allOf":[{"$ref":"#/definitions/link_url"},{"description":"The url where the link points to."}]},"metric":{"type":"string","description":"Custom event name sent with telemetry event."}}}},"additionalProperties":false,"required":["scene1_text","scene2_text","scene1_button_label"],"dependencies":{"scene1_button_color":["scene1_button_label"],"scene1_button_background_color":["scene1_button_label"]}};

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Trailhead", function() { return Trailhead; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21);
/* harmony import */ var _components_FxASignupForm_FxASignupForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22);
/* harmony import */ var _FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




 // From resource://devtools/client/shared/focus.js

const FOCUSABLE_SELECTOR = ["a[href]:not([tabindex='-1'])", "button:not([disabled]):not([tabindex='-1'])", "iframe:not([tabindex='-1'])", "input:not([disabled]):not([tabindex='-1'])", "select:not([disabled]):not([tabindex='-1'])", "textarea:not([disabled]):not([tabindex='-1'])", "[tabindex]:not([tabindex='-1'])"].join(", ");
class Trailhead extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.closeModal = this.closeModal.bind(this);
    this.onStartBlur = this.onStartBlur.bind(this);
  }

  get dialog() {
    return this.props.document.getElementById("trailheadDialog");
  }

  componentDidMount() {
    // We need to remove hide-main since we should show it underneath everything that has rendered
    this.props.document.body.classList.remove("hide-main"); // The rest of the page is "hidden" to screen readers when the modal is open

    this.props.document.getElementById("root").setAttribute("aria-hidden", "true");
  }

  onStartBlur(event) {
    // Make sure focus stays within the dialog when tabbing from the button
    const {
      dialog
    } = this;

    if (event.relatedTarget && !(dialog.compareDocumentPosition(event.relatedTarget) & dialog.DOCUMENT_POSITION_CONTAINED_BY)) {
      dialog.querySelector(FOCUSABLE_SELECTOR).focus();
    }
  }

  closeModal(ev) {
    global.removeEventListener("visibilitychange", this.closeModal);
    this.props.document.body.classList.remove("welcome");
    this.props.document.getElementById("root").removeAttribute("aria-hidden");
    this.props.onNextScene(); // If closeModal() was triggered by a visibilitychange event, the user actually
    // submitted the email form so we don't send a SKIPPED_SIGNIN ping.

    if (!ev || ev.type !== "visibilitychange") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "SKIPPED_SIGNIN",
        ...this._getFormInfo()
      }));
    } // Bug 1190882 - Focus in a disappearing dialog confuses screen readers


    this.props.document.activeElement.blur();
  }
  /**
   * Report to telemetry additional information about the form submission.
   */


  _getFormInfo() {
    const value = {
      has_flow_params: !!this.props.flowParams.flowId.length
    };
    return {
      value
    };
  }

  render() {
    const {
      props
    } = this;
    const {
      UTMTerm
    } = props;
    const {
      content
    } = props.message;
    const innerClassName = ["trailhead", content && content.className].filter(v => v).join(" ");
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_1__["ModalOverlayWrapper"], {
      innerClassName: innerClassName,
      onClose: this.closeModal,
      id: "trailheadDialog",
      headerId: "trailheadHeader",
      hasDismissIcon: true
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "trailheadInner"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "trailheadContent"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
      "data-l10n-id": content.title.string_id,
      id: "trailheadHeader"
    }), content.subtitle && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
      "data-l10n-id": content.subtitle.string_id
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", {
      className: "trailheadBenefits"
    }, content.benefits.map(item => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", {
      key: item.id,
      className: item.id
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", {
      "data-l10n-id": item.title.string_id
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
      "data-l10n-id": item.text.string_id
    })))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      className: "trailheadLearn",
      "data-l10n-id": content.learn.text.string_id,
      href: Object(_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_3__["addUtmParams"])(content.learn.url, UTMTerm),
      target: "_blank",
      rel: "noopener noreferrer"
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "trailhead-join-form"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_FxASignupForm_FxASignupForm__WEBPACK_IMPORTED_MODULE_2__["FxASignupForm"], {
      document: this.props.document,
      content: content,
      dispatch: this.props.dispatch,
      fxaEndpoint: this.props.fxaEndpoint,
      UTMTerm: UTMTerm,
      flowParams: this.props.flowParams,
      onClose: this.closeModal
    }))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      className: "trailheadStart",
      "data-l10n-id": content.skipButton.string_id,
      onBlur: this.onStartBlur,
      onClick: this.closeModal
    }));
  }

}
Trailhead.defaultProps = {
  flowParams: {
    deviceId: "",
    flowId: "",
    flowBeginTime: ""
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalOverlayWrapper", function() { return ModalOverlayWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalOverlay", function() { return ModalOverlay; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ModalOverlayWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onKeyDown = this.onKeyDown.bind(this);
  } // The intended behaviour is to listen for an escape key
  // but not for a click; see Bug 1582242


  onKeyDown(event) {
    if (event.key === "Escape") {
      this.props.onClose(event);
    }
  }

  componentWillMount() {
    this.props.document.addEventListener("keydown", this.onKeyDown);
    this.props.document.body.classList.add("modal-open");
    this.header = this.props.document.getElementById("header-asrouter-container");

    if (this.header) {
      this.header.classList.add("modal-scroll");
      this.props.document.getElementById("root").classList.add("modal-height");
    }
  }

  componentWillUnmount() {
    this.props.document.removeEventListener("keydown", this.onKeyDown);
    this.props.document.body.classList.remove("modal-open");

    if (this.header) {
      this.header.classList.remove("modal-scroll");
      this.props.document.getElementById("root").classList.remove("modal-height");
    }
  }

  render() {
    const {
      props
    } = this;
    let className = props.unstyled ? "" : "modalOverlayInner active";

    if (props.innerClassName) {
      className += ` ${props.innerClassName}`;
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "modalOverlayOuter active",
      onKeyDown: this.onKeyDown,
      role: "presentation"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: className,
      "aria-labelledby": props.headerId,
      id: props.id,
      role: "dialog"
    }, props.hasDismissIcon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "icon icon-dismiss",
      onClick: props.onClose,
      "data-l10n-id": "onboarding-cards-dismiss"
    }), props.children));
  }

}
ModalOverlayWrapper.defaultProps = {
  document: global.document
};
class ModalOverlay extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      title,
      button_label
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ModalOverlayWrapper, {
      onClose: this.props.onDismissBundle
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, " ", title, " "), this.props.children, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "footer"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "button primary modalButton",
      onClick: this.props.onDismissBundle
    }, " ", button_label, " ")));
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FxASignupForm", function() { return FxASignupForm; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class FxASignupForm extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onSubmit = this.onSubmit.bind(this);
    this.onInputChange = this.onInputChange.bind(this);
    this.onInputInvalid = this.onInputInvalid.bind(this);
    this.handleSignIn = this.handleSignIn.bind(this);
    this.state = {
      emailInput: ""
    };
  }

  get email() {
    return this.props.document.getElementById("fxaSignupForm").querySelector("input[name=email]");
  }

  onSubmit(event) {
    let userEvent = "SUBMIT_EMAIL";
    const {
      email
    } = event.target.elements;

    if (email.disabled) {
      userEvent = "SUBMIT_SIGNIN";
    } else if (!email.value.length) {
      email.required = true;
      email.checkValidity();
      event.preventDefault();
      return;
    } // Report to telemetry additional information about the form submission.


    const value = {
      has_flow_params: !!this.props.flowParams.flowId.length
    };
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: userEvent,
      value
    }));
    global.addEventListener("visibilitychange", this.props.onClose);
  }

  handleSignIn(event) {
    // Set disabled to prevent email from appearing in url resulting in the wrong page
    this.email.disabled = true;
  }

  componentDidMount() {
    // Start with focus in the email input box
    if (this.email) {
      this.email.focus();
    }
  }

  onInputChange(e) {
    let error = e.target.previousSibling;
    this.setState({
      emailInput: e.target.value
    });
    error.classList.remove("active");
    e.target.classList.remove("invalid");
  }

  onInputInvalid(e) {
    let error = e.target.previousSibling;
    error.classList.add("active");
    e.target.classList.add("invalid");
    e.preventDefault(); // Override built-in form validation popup

    e.target.focus();
  }

  render() {
    const {
      content,
      UTMTerm
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      id: "fxaSignupForm",
      role: "group",
      "aria-labelledby": "joinFormHeader",
      "aria-describedby": "joinFormBody",
      className: "fxaSignupForm"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
      id: "joinFormHeader",
      "data-l10n-id": content.form.title.string_id
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      id: "joinFormBody",
      "data-l10n-id": content.form.text.string_id
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("form", {
      method: "get",
      action: this.props.fxaEndpoint,
      target: "_blank",
      rel: "noopener noreferrer",
      onSubmit: this.onSubmit
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "action",
      type: "hidden",
      value: "email"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "context",
      type: "hidden",
      value: "fx_desktop_v3"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "entrypoint",
      type: "hidden",
      value: "activity-stream-firstrun"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "utm_source",
      type: "hidden",
      value: "activity-stream"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "utm_campaign",
      type: "hidden",
      value: _templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_1__["BASE_PARAMS"].utm_campaign
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "utm_term",
      type: "hidden",
      value: UTMTerm
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "device_id",
      type: "hidden",
      value: this.props.flowParams.deviceId
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "flow_id",
      type: "hidden",
      value: this.props.flowParams.flowId
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "flow_begin_time",
      type: "hidden",
      value: this.props.flowParams.flowBeginTime
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      name: "style",
      type: "hidden",
      value: "trailhead"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      "data-l10n-id": "onboarding-join-form-email-error",
      className: "error"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
      "data-l10n-id": content.form.email.string_id,
      name: "email",
      type: "email",
      onInvalid: this.onInputInvalid,
      onChange: this.onInputChange
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      className: "fxa-terms",
      "data-l10n-id": "onboarding-join-form-legal"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
      "data-l10n-name": "terms",
      target: "_blank",
      rel: "noopener noreferrer",
      href: Object(_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_1__["addUtmParams"])("https://accounts.firefox.com/legal/terms", UTMTerm)
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
      "data-l10n-name": "privacy",
      target: "_blank",
      rel: "noopener noreferrer",
      href: Object(_templates_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_1__["addUtmParams"])("https://accounts.firefox.com/legal/privacy", UTMTerm)
    })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      "data-l10n-id": content.form.button.string_id,
      type: "submit"
    }), this.props.showSignInLink && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "fxa-signin"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      "data-l10n-id": "onboarding-join-form-signin-label"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      "data-l10n-id": "onboarding-join-form-signin",
      onClick: this.handleSignIn
    }))));
  }

}
FxASignupForm.defaultProps = {
  document: global.document
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BASE_PARAMS", function() { return BASE_PARAMS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addUtmParams", function() { return addUtmParams; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * BASE_PARAMS keys/values can be modified from outside this file
 */
const BASE_PARAMS = {
  utm_source: "activity-stream",
  utm_campaign: "firstrun",
  utm_medium: "referral"
};
/**
 * Takes in a url as a string or URL object and returns a URL object with the
 * utm_* parameters added to it. If a URL object is passed in, the paraemeters
 * are added to it (the return value can be ignored in that case as it's the
 * same object).
 */

function addUtmParams(url, utmTerm) {
  let returnUrl = url;

  if (typeof returnUrl === "string") {
    returnUrl = new URL(url);
  }

  Object.keys(BASE_PARAMS).forEach(key => {
    returnUrl.searchParams.append(key, BASE_PARAMS[key]);
  });
  returnUrl.searchParams.append("utm_term", utmTerm);
  return returnUrl;
}

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReturnToAMO", function() { return ReturnToAMO; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_RichText_RichText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

 // Alt text if available; in the future this should come from the server. See bug 1551711

const ICON_ALT_TEXT = "";
class ReturnToAMO extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClickAddExtension = this.onClickAddExtension.bind(this);
    this.onBlockButton = this.onBlockButton.bind(this);
  }

  componentWillMount() {
    global.document.body.classList.add("amo");
  }

  componentDidMount() {
    this.props.sendUserActionTelemetry({
      event: "IMPRESSION",
      id: this.props.UISurface
    }); // Hide the page content from screen readers while the modal is open

    this.props.document.getElementById("root").setAttribute("aria-hidden", "true");
  }

  onClickAddExtension() {
    this.props.onAction(this.props.content.primary_button.action);
    this.props.sendUserActionTelemetry({
      event: "INSTALL",
      id: this.props.UISurface
    });
  }

  onBlockButton() {
    this.props.onBlock();
    document.body.classList.remove("welcome", "hide-main", "amo");
    this.props.sendUserActionTelemetry({
      event: "BLOCK",
      id: this.props.UISurface
    }); // Re-enable the document for screen readers

    this.props.document.getElementById("root").setAttribute("aria-hidden", "false");
  }

  renderText() {
    const customElement = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: this.props.content.addon_icon,
      width: "20px",
      height: "20px",
      alt: ICON_ALT_TEXT
    });
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_RichText_RichText__WEBPACK_IMPORTED_MODULE_1__["RichText"], {
      customElements: {
        icon: customElement
      },
      amo_html: this.props.content.text,
      localization_id: "amo_html"
    });
  }

  render() {
    const {
      content
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ReturnToAMOOverlay"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, " ", content.header, " "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ReturnToAMOContainer"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ReturnToAMOAddonContents"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, " ", content.title, " "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ReturnToAMOText"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, " ", this.renderText(), " ")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      onClick: this.onClickAddExtension,
      className: "puffy blue ReturnToAMOAddExtension"
    }, " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "icon icon-add"
    }), " ", content.primary_button.label, " ")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ReturnToAMOIcon"
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      onClick: this.onBlockButton,
      className: "default grey ReturnToAMOGetStarted"
    }, " ", content.secondary_button.label, " ")));
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FxAccounts", function() { return FxAccounts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FxCards", function() { return FxCards; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FullPageInterrupt", function() { return FullPageInterrupt; });
/* harmony import */ var _FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23);
/* harmony import */ var _components_FxASignupForm_FxASignupForm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22);
/* harmony import */ var _templates_OnboardingMessage_OnboardingMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




const FxAccounts = ({
  document,
  content,
  dispatch,
  fxaEndpoint,
  flowParams,
  removeOverlay,
  url,
  UTMTerm
}) => react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
  className: "fullpage-left-section",
  "aria-labelledby": "fullpage-left-title",
  "aria-describedby": "fullpage-left-content"
}, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", {
  id: "fullpage-left-title",
  className: "fullpage-left-title",
  "data-l10n-id": "onboarding-welcome-body"
}), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
  id: "fullpage-left-content",
  className: "fullpage-left-content",
  "data-l10n-id": "onboarding-benefit-products-text"
}), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
  className: "fullpage-left-content",
  "data-l10n-id": "onboarding-benefit-privacy-text"
}), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
  className: "fullpage-left-link",
  href: Object(_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_0__["addUtmParams"])(url, UTMTerm),
  target: "_blank",
  rel: "noopener noreferrer",
  "data-l10n-id": "onboarding-welcome-learn-more"
}), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
  className: "fullpage-icon fx-systems-icons"
})), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
  className: "fullpage-form"
}, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_FxASignupForm_FxASignupForm__WEBPACK_IMPORTED_MODULE_1__["FxASignupForm"], {
  document: document,
  content: content,
  dispatch: dispatch,
  fxaEndpoint: fxaEndpoint,
  UTMTerm: UTMTerm,
  flowParams: flowParams,
  onClose: removeOverlay,
  showSignInLink: true
})));
const FxCards = ({
  cards,
  onCardAction,
  sendUserActionTelemetry
}) => react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, cards.map(card => react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_templates_OnboardingMessage_OnboardingMessage__WEBPACK_IMPORTED_MODULE_2__["OnboardingCard"], _extends({
  key: card.id,
  message: card,
  className: "trailheadCard",
  sendUserActionTelemetry: sendUserActionTelemetry,
  onAction: onCardAction,
  UISurface: "TRAILHEAD"
}, card))));
class FullPageInterrupt extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.removeOverlay = this.removeOverlay.bind(this);
    this.onCardAction = this.onCardAction.bind(this);
  }

  componentWillMount() {
    global.document.body.classList.add("trailhead-fullpage");
  }

  componentDidMount() {
    // Hide the page content from screen readers while the full page interrupt is open
    this.props.document.getElementById("root").setAttribute("aria-hidden", "true");
  }

  removeOverlay() {
    window.removeEventListener("visibilitychange", this.removeOverlay);
    document.body.classList.remove("hide-main", "trailhead-fullpage"); // Re-enable the document for screen readers

    this.props.document.getElementById("root").setAttribute("aria-hidden", "false");
    this.props.onBlock();
    document.body.classList.remove("welcome");
  }

  onCardAction(action, message) {
    let actionUpdates = {};
    const {
      flowParams,
      UTMTerm
    } = this.props;

    if (action.type === "OPEN_URL") {
      let url = new URL(action.data.args);
      Object(_FirstRun_addUtmParams__WEBPACK_IMPORTED_MODULE_0__["addUtmParams"])(url, UTMTerm);

      if (action.addFlowParams) {
        url.searchParams.append("device_id", flowParams.deviceId);
        url.searchParams.append("flow_id", flowParams.flowId);
        url.searchParams.append("flow_begin_time", flowParams.flowBeginTime);
      }

      actionUpdates = {
        data: { ...action.data,
          args: url.toString()
        }
      };
    }

    this.props.onAction({ ...action,
      ...actionUpdates
    }); // Only block if message is in dynamic triplets experiment

    if (message.blockOnClick) {
      this.props.onBlockById(message.id, {
        preloadedOnly: true
      });
    }

    this.removeOverlay();
  }

  render() {
    const {
      props
    } = this;
    const {
      content
    } = props.message;
    const cards = react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FxCards, {
      cards: props.cards,
      onCardAction: this.onCardAction,
      sendUserActionTelemetry: props.sendUserActionTelemetry
    });
    const accounts = react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FxAccounts, {
      document: props.document,
      content: content,
      dispatch: props.dispatch,
      fxaEndpoint: props.fxaEndpoint,
      flowParams: props.flowParams,
      removeOverlay: this.removeOverlay,
      url: content.learn.url,
      UTMTerm: props.UTMTerm
    }); // By default we show accounts section on top and
    // cards section in bottom half of the full page interrupt

    const cardsFirst = content && content.className === "fullPageCardsAtTop";
    const firstContainerClassName = ["container", content && content.className].join(" ");
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "fullpage-wrapper"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "fullpage-icon brand-logo"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", {
      className: "welcome-title",
      "data-l10n-id": "onboarding-welcome-header"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", {
      className: "welcome-subtitle",
      "data-l10n-id": "onboarding-fullpage-welcome-subheader"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: firstContainerClassName
    }, cardsFirst ? cards : accounts), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "section-divider"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "container"
    }, cardsFirst ? accounts : cards));
  }

}
FullPageInterrupt.defaultProps = {
  flowParams: {
    deviceId: "",
    flowId: "",
    flowBeginTime: ""
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardingCard", function() { return OnboardingCard; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class OnboardingCard extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
  }

  onClick() {
    const {
      props
    } = this;
    const ping = {
      event: "CLICK_BUTTON",
      message_id: props.id,
      id: props.UISurface
    };
    props.sendUserActionTelemetry(ping);
    props.onAction(props.content.primary_button.action, props.message);
  }

  render() {
    const {
      content
    } = this.props;
    const className = this.props.className || "onboardingMessage";
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: className
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: `onboardingMessageImage ${content.icon}`
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "onboardingContent"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
      className: "onboardingTitle",
      "data-l10n-id": content.title.string_id
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "onboardingText",
      "data-l10n-id": content.text.string_id
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "onboardingButtonContainer"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      "data-l10n-id": content.primary_button.label.string_id,
      className: "button onboardingButton",
      onClick: this.onClick
    }))));
  }

}

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Triplets", function() { return Triplets; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _templates_OnboardingMessage_OnboardingMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);
/* harmony import */ var _addUtmParams__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class Triplets extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onCardAction = this.onCardAction.bind(this);
    this.onHideContainer = this.onHideContainer.bind(this);
  }

  componentWillMount() {
    global.document.body.classList.add("inline-onboarding");
  }

  componentWillUnmount() {
    this.props.document.body.classList.remove("inline-onboarding");
  }

  onCardAction(action, message) {
    let actionUpdates = {};
    const {
      flowParams,
      UTMTerm
    } = this.props;

    if (action.type === "OPEN_URL") {
      let url = new URL(action.data.args);
      Object(_addUtmParams__WEBPACK_IMPORTED_MODULE_2__["addUtmParams"])(url, UTMTerm);

      if (action.addFlowParams) {
        url.searchParams.append("device_id", flowParams.deviceId);
        url.searchParams.append("flow_id", flowParams.flowId);
        url.searchParams.append("flow_begin_time", flowParams.flowBeginTime);
      }

      actionUpdates = {
        data: { ...action.data,
          args: url.toString()
        }
      };
    }

    this.props.onAction({ ...action,
      ...actionUpdates
    }); // Only block if message is in dynamic triplets experiment

    if (message.blockOnClick) {
      this.props.onBlockById(message.id, {
        preloadedOnly: true
      });
    }
  }

  onHideContainer() {
    const {
      sendUserActionTelemetry,
      cards,
      hideContainer
    } = this.props;
    hideContainer();
    sendUserActionTelemetry({
      event: "DISMISS",
      id: "onboarding-cards",
      message_id: cards.map(m => m.id).join(","),
      action: "onboarding_user_event"
    });
  }

  render() {
    const {
      cards,
      headerId,
      showCardPanel,
      showContent,
      sendUserActionTelemetry
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: `trailheadCards ${showCardPanel ? "expanded" : "collapsed"}`
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "trailheadCardsInner",
      "aria-hidden": !showContent
    }, headerId && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
      "data-l10n-id": headerId
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: `trailheadCardGrid${showContent ? " show" : ""}`
    }, cards.map(card => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_templates_OnboardingMessage_OnboardingMessage__WEBPACK_IMPORTED_MODULE_1__["OnboardingCard"], _extends({
      key: card.id,
      message: card,
      className: "trailheadCard",
      sendUserActionTelemetry: sendUserActionTelemetry,
      onAction: this.onCardAction,
      UISurface: "TRAILHEAD"
    }, card)))), showCardPanel && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "icon icon-dismiss",
      onClick: this.onHideContainer,
      "data-l10n-id": "onboarding-cards-dismiss"
    })));
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 28 */
/***/ (function(module, exports) {

module.exports = ReactRedux;

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleHashRouter", function() { return SimpleHashRouter; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SimpleHashRouter extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onHashChange = this.onHashChange.bind(this);
    this.state = {
      hash: global.location.hash
    };
  }

  onHashChange() {
    this.setState({
      hash: global.location.hash
    });
  }

  componentWillMount() {
    global.addEventListener("hashchange", this.onHashChange);
  }

  componentWillUnmount() {
    global.removeEventListener("hashchange", this.onHashChange);
  }

  render() {
    const [, ...routes] = this.state.hash.split("-");
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(this.props.children, {
      location: {
        hash: this.state.hash,
        routes
      }
    });
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_ConfirmDialog", function() { return _ConfirmDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmDialog", function() { return ConfirmDialog; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



/**
 * ConfirmDialog component.
 * One primary action button, one cancel button.
 *
 * Content displayed is controlled by `data` prop the component receives.
 * Example:
 * data: {
 *   // Any sort of data needed to be passed around by actions.
 *   payload: site.url,
 *   // Primary button AlsoToMain action.
 *   action: "DELETE_HISTORY_URL",
 *   // Primary button USerEvent action.
 *   userEvent: "DELETE",
 *   // Array of locale ids to display.
 *   message_body: ["confirm_history_delete_p1", "confirm_history_delete_notice_p2"],
 *   // Text for primary button.
 *   confirm_button_string_id: "menu_action_delete"
 * },
 */

class _ConfirmDialog extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this._handleCancelBtn = this._handleCancelBtn.bind(this);
    this._handleConfirmBtn = this._handleConfirmBtn.bind(this);
  }

  _handleCancelBtn() {
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_CANCEL
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_CANCEL,
      source: this.props.data.eventSource
    }));
  }

  _handleConfirmBtn() {
    this.props.data.onConfirm.forEach(this.props.dispatch);
  }

  _renderModalMessage() {
    const message_body = this.props.data.body_string_id;

    if (!message_body) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, message_body.map(msg => react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      key: msg,
      "data-l10n-id": msg
    })));
  }

  render() {
    if (!this.props.visible) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "confirmation-dialog"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "modal-overlay",
      onClick: this._handleCancelBtn,
      role: "presentation"
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "modal"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: "modal-message"
    }, this.props.data.icon && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: `icon icon-spacer icon-${this.props.data.icon}`
    }), this._renderModalMessage()), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: "actions"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      onClick: this._handleCancelBtn,
      "data-l10n-id": this.props.data.cancel_button_string_id
    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      className: "done",
      onClick: this._handleConfirmBtn,
      "data-l10n-id": this.props.data.confirm_button_string_id
    }))));
  }

}
const ConfirmDialog = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => state.Dialog)(_ConfirmDialog);

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAllowedCSS", function() { return isAllowedCSS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_DiscoveryStreamBase", function() { return _DiscoveryStreamBase; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiscoveryStreamBase", function() { return DiscoveryStreamBase; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(46);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSMessage_DSMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(53);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSPrivacyModal_DSPrivacyModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(54);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSTextPromo_DSTextPromo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(55);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Hero_Hero__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(56);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Highlights_Highlights__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(58);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_HorizontalRule_HorizontalRule__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(71);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_List_List__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(57);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(72);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_SectionTitle_SectionTitle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(73);
/* harmony import */ var content_src_lib_selectLayoutRender__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(74);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(75);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

















const ALLOWED_CSS_URL_PREFIXES = ["chrome://", "resource://", "https://img-getpocket.cdn.mozilla.net/"];
const DUMMY_CSS_SELECTOR = "DUMMY#CSS.SELECTOR";
let rollCache = []; // Cache of random probability values for a spoc position

/**
 * Validate a CSS declaration. The values are assumed to be normalized by CSSOM.
 */

function isAllowedCSS(property, value) {
  // Bug 1454823: INTERNAL properties, e.g., -moz-context-properties, are
  // exposed but their values aren't resulting in getting nothing. Fortunately,
  // we don't care about validating the values of the current set of properties.
  if (value === undefined) {
    return true;
  } // Make sure all urls are of the allowed protocols/prefixes


  const urls = value.match(/url\("[^"]+"\)/g);
  return !urls || urls.every(url => ALLOWED_CSS_URL_PREFIXES.some(prefix => url.slice(5).startsWith(prefix)));
}
class _DiscoveryStreamBase extends react__WEBPACK_IMPORTED_MODULE_13___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onStyleMount = this.onStyleMount.bind(this);
  }

  onStyleMount(style) {
    // Unmounting style gets rid of old styles, so nothing else to do
    if (!style) {
      return;
    }

    const {
      sheet
    } = style;
    const styles = JSON.parse(style.dataset.styles);
    styles.forEach((row, rowIndex) => {
      row.forEach((component, componentIndex) => {
        // Nothing to do without optional styles overrides
        if (!component) {
          return;
        }

        Object.entries(component).forEach(([selectors, declarations]) => {
          // Start with a dummy rule to validate declarations and selectors
          sheet.insertRule(`${DUMMY_CSS_SELECTOR} {}`);
          const [rule] = sheet.cssRules; // Validate declarations and remove any offenders. CSSOM silently
          // discards invalid entries, so here we apply extra restrictions.

          rule.style = declarations;
          [...rule.style].forEach(property => {
            const value = rule.style[property];

            if (!isAllowedCSS(property, value)) {
              console.error(`Bad CSS declaration ${property}: ${value}`); // eslint-disable-line no-console

              rule.style.removeProperty(property);
            }
          }); // Set the actual desired selectors scoped to the component

          const prefix = `.ds-layout > .ds-column:nth-child(${rowIndex + 1}) .ds-column-grid > :nth-child(${componentIndex + 1})`; // NB: Splitting on "," doesn't work with strings with commas, but
          // we're okay with not supporting those selectors

          rule.selectorText = selectors.split(",").map(selector => prefix + ( // Assume :pseudo-classes are for component instead of descendant
          selector[0] === ":" ? "" : " ") + selector).join(","); // CSSOM silently ignores bad selectors, so we'll be noisy instead

          if (rule.selectorText === DUMMY_CSS_SELECTOR) {
            console.error(`Bad CSS selector ${selectors}`); // eslint-disable-line no-console
          }
        });
      });
    });
  }

  renderComponent(component, embedWidth) {
    const ENGAGEMENT_LABEL_ENABLED = this.props.Prefs.values[`discoverystream.engagementLabelEnabled`];

    switch (component.type) {
      case "Highlights":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_Highlights_Highlights__WEBPACK_IMPORTED_MODULE_9__["Highlights"], null);

      case "TopSites":
        let promoAlignment;

        if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
          promoAlignment = component.spocs.positions[0].index === 0 ? "left" : "right";
        }

        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_16__["TopSites"], {
          header: component.header,
          data: component.data,
          promoAlignment: promoAlignment
        });

      case "TextPromo":
        if (!component.data || !component.data.spocs || !component.data.spocs[0]) {
          return null;
        } // Grab the first item in the array as we only have 1 spoc position.


        const [spoc] = component.data.spocs;
        const {
          image_src,
          raw_image_src,
          alt_text,
          title,
          url,
          context,
          cta,
          flight_id,
          id,
          shim
        } = spoc;
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_4__["DSDismiss"], {
          data: {
            url: spoc.url,
            guid: spoc.id,
            shim: spoc.shim
          },
          dispatch: this.props.dispatch,
          shouldSendImpressionStats: true,
          extraClasses: `ds-dismiss-ds-text-promo`
        }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSTextPromo_DSTextPromo__WEBPACK_IMPORTED_MODULE_7__["DSTextPromo"], {
          dispatch: this.props.dispatch,
          image: image_src,
          raw_image_src: raw_image_src,
          alt_text: alt_text || title,
          header: title,
          cta_text: cta,
          cta_url: url,
          subtitle: context,
          flightId: flight_id,
          id: id,
          pos: 0,
          shim: shim,
          type: component.type
        }));

      case "Message":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSMessage_DSMessage__WEBPACK_IMPORTED_MODULE_5__["DSMessage"], {
          title: component.header && component.header.title,
          subtitle: component.header && component.header.subtitle,
          link_text: component.header && component.header.link_text,
          link_url: component.header && component.header.link_url,
          icon: component.header && component.header.icon
        });

      case "SectionTitle":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_SectionTitle_SectionTitle__WEBPACK_IMPORTED_MODULE_14__["SectionTitle"], {
          header: component.header
        });

      case "Navigation":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_12__["Navigation"], {
          links: component.properties.links,
          alignment: component.properties.alignment,
          header: component.header
        });

      case "CardGrid":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_1__["CardGrid"], {
          title: component.header && component.header.title,
          data: component.data,
          feed: component.feed,
          border: component.properties.border,
          type: component.type,
          dispatch: this.props.dispatch,
          items: component.properties.items,
          cta_variant: component.cta_variant,
          display_engagement_labels: ENGAGEMENT_LABEL_ENABLED
        });

      case "Hero":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_Hero_Hero__WEBPACK_IMPORTED_MODULE_8__["Hero"], {
          subComponentType: embedWidth >= 9 ? `cards` : `list`,
          feed: component.feed,
          title: component.header && component.header.title,
          data: component.data,
          border: component.properties.border,
          type: component.type,
          dispatch: this.props.dispatch,
          items: component.properties.items
        });

      case "HorizontalRule":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_HorizontalRule_HorizontalRule__WEBPACK_IMPORTED_MODULE_10__["HorizontalRule"], null);

      case "List":
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_List_List__WEBPACK_IMPORTED_MODULE_11__["List"], {
          data: component.data,
          feed: component.feed,
          fullWidth: component.properties.full_width,
          hasBorders: component.properties.border === "border",
          hasImages: component.properties.has_images,
          hasNumbers: component.properties.has_numbers,
          items: component.properties.items,
          type: component.type,
          header: component.header
        });

      default:
        return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("div", null, component.type);
    }
  }

  renderStyles(styles) {
    // Use json string as both the key and styles to render so React knows when
    // to unmount and mount a new instance for new styles.
    const json = JSON.stringify(styles);
    return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("style", {
      key: json,
      "data-styles": json,
      ref: this.onStyleMount
    });
  }

  componentWillReceiveProps(oldProps) {
    if (this.props.DiscoveryStream.layout !== oldProps.DiscoveryStream.layout) {
      rollCache = [];
    }
  }

  render() {
    // Select layout render data by adding spocs and position to recommendations
    const {
      layoutRender,
      spocsFill
    } = Object(content_src_lib_selectLayoutRender__WEBPACK_IMPORTED_MODULE_15__["selectLayoutRender"])({
      state: this.props.DiscoveryStream,
      prefs: this.props.Prefs.values,
      rollCache,
      lang: this.props.document.documentElement.lang
    });
    const {
      config,
      spocs,
      feeds
    } = this.props.DiscoveryStream; // Send SPOCS Fill if any. Note that it should not send it again if the same
    // page gets re-rendered by state changes.

    if (spocs.loaded && feeds.loaded && spocsFill.length && !this._spocsFillSent) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamSpocsFill({
        spoc_fills: spocsFill
      }));
      this._spocsFillSent = true;
    } // Allow rendering without extracting special components


    if (!config.collapsible) {
      return this.renderLayout(layoutRender);
    } // Find the first component of a type and remove it from layout


    const extractComponent = type => {
      for (const [rowIndex, row] of Object.entries(layoutRender)) {
        for (const [index, component] of Object.entries(row.components)) {
          if (component.type === type) {
            // Remove the row if it was the only component or the single item
            if (row.components.length === 1) {
              layoutRender.splice(rowIndex, 1);
            } else {
              row.components.splice(index, 1);
            }

            return component;
          }
        }
      }

      return null;
    }; // Get "topstories" Section state for default values


    const topStories = this.props.Sections.find(s => s.id === "topstories");

    if (!topStories) {
      return null;
    } // Extract TopSites to render before the rest and Message to use for header


    const topSites = extractComponent("TopSites");
    const message = extractComponent("Message") || {
      header: {
        link_text: topStories.learnMore.link.message,
        link_url: topStories.learnMore.link.href,
        title: topStories.title
      }
    }; // Render a DS-style TopSites then the rest if any in a collapsible section

    return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, this.props.DiscoveryStream.isPrivacyInfoModalVisible && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSPrivacyModal_DSPrivacyModal__WEBPACK_IMPORTED_MODULE_6__["DSPrivacyModal"], {
      dispatch: this.props.dispatch
    }), topSites && this.renderLayout([{
      width: 12,
      components: [topSites]
    }]), !!layoutRender.length && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: "ds-layout",
      collapsed: topStories.pref.collapsed,
      dispatch: this.props.dispatch,
      icon: topStories.icon,
      id: topStories.id,
      isFixed: true,
      learnMore: {
        link: {
          href: message.header.link_url,
          message: message.header.link_text
        }
      },
      privacyNoticeURL: topStories.privacyNoticeURL,
      showPrefName: topStories.pref.feed,
      title: message.header.title
    }, this.renderLayout(layoutRender)), this.renderLayout([{
      width: 12,
      components: [{
        type: "Highlights"
      }]
    }]));
  }

  renderLayout(layoutRender) {
    const styles = [];
    return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("div", {
      className: "discovery-stream ds-layout"
    }, layoutRender.map((row, rowIndex) => react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("div", {
      key: `row-${rowIndex}`,
      className: `ds-column ds-column-${row.width}`
    }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("div", {
      className: "ds-column-grid"
    }, row.components.map((component, componentIndex) => {
      if (!component) {
        return null;
      }

      styles[rowIndex] = [...(styles[rowIndex] || []), component.styles];
      return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("div", {
        key: `component-${componentIndex}`
      }, this.renderComponent(component, row.width));
    })))), this.renderStyles(styles));
  }

}
const DiscoveryStreamBase = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(state => ({
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs,
  Sections: state.Sections,
  document: global.document
}))(_DiscoveryStreamBase);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardGrid", function() { return CardGrid; });
/* harmony import */ var _DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33);
/* harmony import */ var _DSEmptyState_DSEmptyState_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(45);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class CardGrid extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  renderCards() {
    const recs = this.props.data.recommendations.slice(0, this.props.items);
    const cards = [];

    for (let index = 0; index < this.props.items; index++) {
      const rec = recs[index];
      cards.push(!rec || rec.placeholder ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__["PlaceholderDSCard"], {
        key: `dscard-${index}`
      }) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__["DSCard"], {
        key: `dscard-${rec.id}`,
        pos: rec.pos,
        flightId: rec.flight_id,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        title: rec.title,
        excerpt: rec.excerpt,
        url: rec.url,
        id: rec.id,
        shim: rec.shim,
        type: this.props.type,
        context: rec.context,
        sponsor: rec.sponsor,
        dispatch: this.props.dispatch,
        source: rec.domain,
        pocket_id: rec.pocket_id,
        context_type: rec.context_type,
        bookmarkGuid: rec.bookmarkGuid,
        engagement: rec.engagement,
        display_engagement_labels: this.props.display_engagement_labels,
        cta: rec.cta,
        cta_variant: this.props.cta_variant
      }));
    }

    let divisibility = ``;

    if (this.props.items % 4 === 0) {
      divisibility = `divisible-by-4`;
    } else if (this.props.items % 3 === 0) {
      divisibility = `divisible-by-3`;
    }

    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: `ds-card-grid ds-card-grid-${this.props.border} ds-card-grid-${divisibility}`
    }, cards);
  }

  render() {
    const {
      data
    } = this.props; // Handle a render before feed has been fetched by displaying nothing

    if (!data) {
      return null;
    } // Handle the case where a user has dismissed all recommendations


    const isEmpty = data.recommendations.length === 0;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, this.props.title && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "ds-header"
    }, this.props.title), isEmpty ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "ds-card-grid empty"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_DSEmptyState_DSEmptyState_jsx__WEBPACK_IMPORTED_MODULE_1__["DSEmptyState"], {
      status: data.status,
      dispatch: this.props.dispatch,
      feed: this.props.feed
    })) : this.renderCards());
  }

}
CardGrid.defaultProps = {
  border: `border`,
  items: 4 // Number of stories to display

};

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultMeta", function() { return DefaultMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CTAButtonMeta", function() { return CTAButtonMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSCard", function() { return DSCard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceholderDSCard", function() { return PlaceholderDSCard; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(34);
/* harmony import */ var _DSLinkMenu_DSLinkMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41);
/* harmony import */ var _DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(42);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






 // Default Meta that displays CTA as link if cta_variant in layout is set as "link"

const DefaultMeta = ({
  display_engagement_labels,
  source,
  title,
  excerpt,
  context,
  context_type,
  cta,
  engagement,
  cta_variant
}) => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
  className: "meta"
}, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
  className: "info-wrap"
}, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
  className: "source clamp"
}, source), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("header", {
  className: "title clamp"
}, title), excerpt && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
  className: "excerpt clamp"
}, excerpt), cta_variant === "link" && cta && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
  role: "link",
  className: "cta-link icon icon-arrow",
  tabIndex: "0"
}, cta)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_6__["DSContextFooter"], {
  context_type: context_type,
  context: context,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement
}));
const CTAButtonMeta = ({
  display_engagement_labels,
  source,
  title,
  excerpt,
  context,
  context_type,
  cta,
  engagement,
  sponsor
}) => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
  className: "meta"
}, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
  className: "info-wrap"
}, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
  className: "source clamp"
}, sponsor ? sponsor : source, context && `  Sponsored`), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("header", {
  className: "title clamp"
}, title), excerpt && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
  className: "excerpt clamp"
}, excerpt)), context && cta && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
  className: "button cta-button"
}, cta), !context && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_6__["DSContextFooter"], {
  context_type: context_type,
  context: context,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement
}));
class DSCard extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);

    this.setPlaceholderRef = element => {
      this.placeholderElement = element;
    };

    this.state = {
      isSeen: false
    };
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source: this.props.type.toUpperCase(),
        action_position: this.props.pos,
        value: {
          card_type: this.props.flightId ? "spoc" : "organic"
        }
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source: this.props.type.toUpperCase(),
        click: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.click ? {
            shim: this.props.shim.click
          } : {})
        }]
      }));
    }
  }

  onSeen(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);

      if (entry) {
        if (this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        } // Stop observing since element has been seen


        this.setState({
          isSeen: true
        });
      }
    }
  }

  onIdleCallback() {
    if (!this.state.isSeen) {
      if (this.observer && this.placeholderElement) {
        this.observer.unobserve(this.placeholderElement);
      }

      this.setState({
        isSeen: true
      });
    }
  }

  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));

    if (this.placeholderElement) {
      this.observer = new IntersectionObserver(this.onSeen.bind(this));
      this.observer.observe(this.placeholderElement);
    }
  }

  componentWillUnmount() {
    // Remove observer on unmount
    if (this.observer && this.placeholderElement) {
      this.observer.unobserve(this.placeholderElement);
    }

    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  render() {
    if (this.props.placeholder || !this.state.isSeen) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "ds-card placeholder",
        ref: this.setPlaceholderRef
      });
    }

    const isButtonCTA = this.props.cta_variant === "button";
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "ds-card"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__["SafeAnchor"], {
      className: "ds-card-link",
      dispatch: this.props.dispatch,
      onLinkClick: !this.props.placeholder ? this.onLinkClick : undefined,
      url: this.props.url
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "img-wrapper"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_1__["DSImage"], {
      extraClassNames: "img",
      source: this.props.image_src,
      rawSource: this.props.raw_image_src
    })), isButtonCTA ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CTAButtonMeta, {
      display_engagement_labels: this.props.display_engagement_labels,
      source: this.props.source,
      title: this.props.title,
      excerpt: this.props.excerpt,
      context: this.props.context,
      context_type: this.props.context_type,
      engagement: this.props.engagement,
      cta: this.props.cta,
      sponsor: this.props.sponsor
    }) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DefaultMeta, {
      display_engagement_labels: this.props.display_engagement_labels,
      source: this.props.source,
      title: this.props.title,
      excerpt: this.props.excerpt,
      context: this.props.context,
      engagement: this.props.engagement,
      context_type: this.props.context_type,
      cta: this.props.cta,
      cta_variant: this.props.cta_variant
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        ...(this.props.shim && this.props.shim.impression ? {
          shim: this.props.shim.impression
        } : {})
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DSLinkMenu_DSLinkMenu__WEBPACK_IMPORTED_MODULE_2__["DSLinkMenu"], {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: this.props.source,
      type: this.props.type,
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: this.props.flightId
    }));
  }

}
DSCard.defaultProps = {
  windowObj: window // Added to support unit tests

};
const PlaceholderDSCard = props => react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(DSCard, {
  placeholder: true
});

/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSImage", function() { return DSImage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class DSImage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onOptimizedImageError = this.onOptimizedImageError.bind(this);
    this.onNonOptimizedImageError = this.onNonOptimizedImageError.bind(this);
    this.state = {
      isSeen: false,
      optimizedImageFailed: false,
      useTransition: false
    };
  }

  onSeen(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);

      if (entry) {
        if (this.props.optimize) {
          this.setState({
            // Thumbor doesn't handle subpixels and just errors out, so rounding...
            containerWidth: Math.round(entry.boundingClientRect.width),
            containerHeight: Math.round(entry.boundingClientRect.height)
          });
        }

        this.setState({
          isSeen: true
        }); // Stop observing since element has been seen

        this.observer.unobserve(react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this));
      }
    }
  }

  onIdleCallback() {
    if (!this.state.isSeen) {
      this.setState({
        useTransition: true
      });
    }
  }

  reformatImageURL(url, width, height) {
    // Change the image URL to request a size tailored for the parent container width
    // Also: force JPEG, quality 60, no upscaling, no EXIF data
    // Uses Thumbor: https://thumbor.readthedocs.io/en/latest/usage.html
    return `https://img-getpocket.cdn.mozilla.net/${width}x${height}/filters:format(jpeg):quality(60):no_upscale():strip_exif()/${encodeURIComponent(url)}`;
  }

  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
    this.observer = new IntersectionObserver(this.onSeen.bind(this), {
      // Assume an image will be eventually seen if it is within
      // half the average Desktop vertical screen size:
      // http://gs.statcounter.com/screen-resolution-stats/desktop/north-america
      rootMargin: `540px`
    });
    this.observer.observe(react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this));
  }

  componentWillUnmount() {
    // Remove observer on unmount
    if (this.observer) {
      this.observer.unobserve(react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.findDOMNode(this));
    }

    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  render() {
    let classNames = `ds-image
      ${this.props.extraClassNames ? ` ${this.props.extraClassNames}` : ``}
      ${this.state && this.state.useTransition ? ` use-transition` : ``}
      ${this.state && this.state.isSeen ? ` loaded` : ``}
    `;
    let img;

    if (this.state && this.state.isSeen) {
      if (this.props.optimize && this.props.rawSource && !this.state.optimizedImageFailed) {
        let source;
        let source2x;

        if (this.state && this.state.containerWidth) {
          let baseSource = this.props.rawSource;
          source = this.reformatImageURL(baseSource, this.state.containerWidth, this.state.containerHeight);
          source2x = this.reformatImageURL(baseSource, this.state.containerWidth * 2, this.state.containerHeight * 2);
          img = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
            alt: this.props.alt_text,
            crossOrigin: "anonymous",
            onError: this.onOptimizedImageError,
            src: source,
            srcSet: `${source2x} 2x`
          });
        }
      } else if (!this.state.nonOptimizedImageFailed) {
        img = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onError: this.onNonOptimizedImageError,
          src: this.props.source
        });
      } else {
        // Remove the img element if both sources fail. Render a placeholder instead.
        img = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "broken-image"
        });
      }
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("picture", {
      className: classNames
    }, img);
  }

  onOptimizedImageError() {
    // This will trigger a re-render and the unoptimized 450px image will be used as a fallback
    this.setState({
      optimizedImageFailed: true
    });
  }

  onNonOptimizedImageError() {
    this.setState({
      nonOptimizedImageFailed: true
    });
  }

}
DSImage.defaultProps = {
  source: null,
  // The current source style from Pocket API (always 450px)
  rawSource: null,
  // Unadulterated image URL to filter through Thumbor
  extraClassNames: null,
  // Additional classnames to append to component
  optimize: true,
  // Measure parent container to request exact sizes
  alt_text: null,
  windowObj: window // Added to support unit tests

};

/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSLinkMenu", function() { return DSLinkMenu; });
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(39);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSLinkMenu extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
    this.contextMenuButtonRef = react__WEBPACK_IMPORTED_MODULE_2___default.a.createRef();
  }

  onMenuUpdate(showContextMenu) {
    if (!showContextMenu) {
      const dsLinkMenuHostDiv = this.contextMenuButtonRef.current.parentElement;
      dsLinkMenuHostDiv.parentElement.classList.remove("active", "last-item");
    }
  }

  nextAnimationFrame() {
    return new Promise(resolve => this.props.windowObj.requestAnimationFrame(resolve));
  }

  async onMenuShow() {
    const dsLinkMenuHostDiv = this.contextMenuButtonRef.current.parentElement; // Wait for next frame before computing scrollMaxX to allow fluent menu strings to be visible

    await this.nextAnimationFrame();

    if (this.props.windowObj.scrollMaxX > 0) {
      dsLinkMenuHostDiv.parentElement.classList.add("last-item");
    }

    dsLinkMenuHostDiv.parentElement.classList.add("active");
  }

  render() {
    const {
      index,
      dispatch
    } = this.props;
    const TOP_STORIES_CONTEXT_MENU_OPTIONS = ["CheckBookmarkOrArchive", "CheckSavedToPocket", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(this.props.flightId ? ["ShowPrivacyInfo"] : [])];
    const type = this.props.type || "DISCOVERY_STREAM";
    const title = this.props.title || this.props.source;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_1__["ContextMenuButton"], {
      refFunction: this.contextMenuButtonRef,
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuUpdate
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_0__["LinkMenu"], {
      dispatch: dispatch,
      index: index,
      source: type.toUpperCase(),
      onShow: this.onMenuShow,
      options: TOP_STORIES_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title: this.props.title,
        type: this.props.type,
        url: this.props.url,
        guid: this.props.id,
        pocket_id: this.props.pocket_id,
        shim: this.props.shim,
        bookmarkGuid: this.props.bookmarkGuid,
        flight_id: this.props.flightId
      }
    })));
  }

}
DSLinkMenu.defaultProps = {
  windowObj: window // Added to support unit tests

};

/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_LinkMenu", function() { return _LinkMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkMenu", function() { return LinkMenu; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(37);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(38);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const DEFAULT_SITE_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl"];
class _LinkMenu extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  getOptions() {
    const {
      props
    } = this;
    const {
      site,
      index,
      source,
      isPrivateBrowsingEnabled,
      siteInfo,
      platform
    } = props; // Handle special case of default site

    const propOptions = !site.isDefault || site.searchTopSite ? props.options : DEFAULT_SITE_MENU_OPTIONS;
    const options = propOptions.map(o => content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__["LinkMenuOptions"][o](site, index, source, isPrivateBrowsingEnabled, siteInfo, platform)).map(option => {
      const {
        action,
        impression,
        id,
        type,
        userEvent
      } = option;

      if (!type && id) {
        option.onClick = () => {
          props.dispatch(action);

          if (userEvent) {
            const userEventData = Object.assign({
              event: userEvent,
              source,
              action_position: index
            }, siteInfo);
            props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(userEventData));
          }

          if (impression && props.shouldSendImpressionStats) {
            props.dispatch(impression);
          }
        };
      }

      return option;
    }); // This is for accessibility to support making each item tabbable.
    // We want to know which item is the first and which item
    // is the last, so we can close the context menu accordingly.

    options[0].first = true;
    options[options.length - 1].last = true;
    return options;
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_2__["ContextMenu"], {
      onUpdate: this.props.onUpdate,
      onShow: this.props.onShow,
      options: this.getOptions(),
      keyboardAccess: this.props.keyboardAccess
    });
  }

}

const getState = state => ({
  isPrivateBrowsingEnabled: state.Prefs.values.isPrivateBrowsingEnabled,
  platform: state.Prefs.values.platform
});

const LinkMenu = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(getState)(_LinkMenu);

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenu", function() { return ContextMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenuItem", function() { return ContextMenuItem; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ContextMenu extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.hideContext = this.hideContext.bind(this);
    this.onShow = this.onShow.bind(this);
    this.onClick = this.onClick.bind(this);
  }

  hideContext() {
    this.props.onUpdate(false);
  }

  onShow() {
    if (this.props.onShow) {
      this.props.onShow();
    }
  }

  componentDidMount() {
    this.onShow();
    setTimeout(() => {
      global.addEventListener("click", this.hideContext);
    }, 0);
  }

  componentWillUnmount() {
    global.removeEventListener("click", this.hideContext);
  }

  onClick(event) {
    // Eat all clicks on the context menu so they don't bubble up to window.
    // This prevents the context menu from closing when clicking disabled items
    // or the separators.
    event.stopPropagation();
  }

  render() {
    // Disabling focus on the menu span allows the first tab to focus on the first menu item instead of the wrapper.
    return (// eslint-disable-next-line jsx-a11y/interactive-supports-focus
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "context-menu"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        role: "menu",
        onClick: this.onClick,
        onKeyDown: this.onClick,
        className: "context-menu-list"
      }, this.props.options.map((option, i) => option.type === "separator" ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        key: i,
        className: "separator",
        role: "separator"
      }) : option.type !== "empty" && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContextMenuItem, {
        key: i,
        option: option,
        hideContext: this.hideContext,
        keyboardAccess: this.props.keyboardAccess
      }))))
    );
  }

}
class ContextMenuItem extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onKeyUp = this.onKeyUp.bind(this);
    this.focusFirst = this.focusFirst.bind(this);
  }

  onClick() {
    this.props.hideContext();
    this.props.option.onClick();
  } // Focus the first menu item if the menu was accessed via the keyboard.


  focusFirst(button) {
    if (this.props.keyboardAccess && button) {
      button.focus();
    }
  } // This selects the correct node based on the key pressed


  focusSibling(target, key) {
    const parent = target.parentNode;
    const closestSiblingSelector = key === "ArrowUp" ? "previousSibling" : "nextSibling";

    if (!parent[closestSiblingSelector]) {
      return;
    }

    if (parent[closestSiblingSelector].firstElementChild) {
      parent[closestSiblingSelector].firstElementChild.focus();
    } else {
      parent[closestSiblingSelector][closestSiblingSelector].firstElementChild.focus();
    }
  }

  onKeyDown(event) {
    const {
      option
    } = this.props;

    switch (event.key) {
      case "Tab":
        // tab goes down in context menu, shift + tab goes up in context menu
        // if we're on the last item, one more tab will close the context menu
        // similarly, if we're on the first item, one more shift + tab will close it
        if (event.shiftKey && option.first || !event.shiftKey && option.last) {
          this.props.hideContext();
        }

        break;

      case "ArrowUp":
      case "ArrowDown":
        event.preventDefault();
        this.focusSibling(event.target, event.key);
        break;

      case "Enter":
      case " ":
        event.preventDefault();
        this.props.hideContext();
        option.onClick();
        break;

      case "Escape":
        this.props.hideContext();
        break;
    }
  } // Prevents the default behavior of spacebar
  // scrolling the page & auto-triggering buttons.


  onKeyUp(event) {
    if (event.key === " ") {
      event.preventDefault();
    }
  }

  render() {
    const {
      option
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      role: "presentation",
      className: "context-menu-item"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: option.disabled ? "disabled" : "",
      role: "menuitem",
      onClick: this.onClick,
      onKeyDown: this.onKeyDown,
      onKeyUp: this.onKeyUp,
      ref: option.first ? this.focusFirst : null
    }, option.icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: `icon icon-spacer icon-${option.icon}`
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      "data-l10n-id": option.string_id || option.id
    })));
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkMenuOptions", function() { return LinkMenuOptions; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const _OpenInPrivateWindow = site => ({
  id: "newtab-menu-open-new-private-window",
  icon: "new-window-private",
  action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
    type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_PRIVATE_WINDOW,
    data: {
      url: site.url,
      referrer: site.referrer
    }
  }),
  userEvent: "OPEN_PRIVATE_WINDOW"
});
/**
 * List of functions that return items that can be included as menu options in a
 * LinkMenu. All functions take the site as the first parameter, and optionally
 * the index of the site.
 */


const LinkMenuOptions = {
  Separator: () => ({
    type: "separator"
  }),
  EmptyItem: () => ({
    type: "empty"
  }),
  ShowPrivacyInfo: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_PRIVACY_INFO
    },
    userEvent: "SHOW_PRIVACY_INFO"
  }),
  RemoveBookmark: site => ({
    id: "newtab-menu-remove-bookmark",
    icon: "bookmark-added",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_BOOKMARK_BY_ID,
      data: site.bookmarkGuid
    }),
    userEvent: "BOOKMARK_DELETE"
  }),
  AddBookmark: site => ({
    id: "newtab-menu-bookmark",
    icon: "bookmark-hollow",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].BOOKMARK_URL,
      data: {
        url: site.url,
        title: site.title,
        type: site.type
      }
    }),
    userEvent: "BOOKMARK_ADD"
  }),
  OpenInNewWindow: site => ({
    id: "newtab-menu-open-new-window",
    icon: "new-window",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_NEW_WINDOW,
      data: {
        referrer: site.referrer,
        typedBonus: site.typedBonus,
        url: site.url
      }
    }),
    userEvent: "OPEN_NEW_WINDOW"
  }),
  // This blocks the url for regular stories,
  // but also sends a message to DiscoveryStream with flight_id.
  // If DiscoveryStream sees this message for a flight_id
  // it also blocks it on the flight_id.
  BlockUrl: (site, index, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].BLOCK_URL,
      data: {
        url: site.open_url || site.url,
        pocket_id: site.pocket_id,
        ...(site.flight_id ? {
          flight_id: site.flight_id
        } : {})
      }
    }),
    impression: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: [{
        id: site.guid,
        pos: index,
        ...(site.shim && site.shim.delete ? {
          shim: site.shim.delete
        } : {})
      }]
    }),
    userEvent: "BLOCK"
  }),
  // This is an option for web extentions which will result in remove items from
  // memory and notify the web extenion, rather than using the built-in block list.
  WebExtDismiss: (site, index, eventSource) => ({
    id: "menu_action_webext_dismiss",
    string_id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].WebExtEvent(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].WEBEXT_DISMISS, {
      source: eventSource,
      url: site.url,
      action_position: index
    })
  }),
  DeleteUrl: (site, index, eventSource, isEnabled, siteInfo) => ({
    id: "newtab-menu-delete-history",
    icon: "delete",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_OPEN,
      data: {
        onConfirm: [common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_HISTORY_URL,
          data: {
            url: site.url,
            pocket_id: site.pocket_id,
            forceBlock: site.bookmarkGuid
          }
        }), common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
          event: "DELETE",
          source: eventSource,
          action_position: index
        }, siteInfo))],
        eventSource,
        body_string_id: ["newtab-confirm-delete-history-p1", "newtab-confirm-delete-history-p2"],
        confirm_button_string_id: "newtab-topsites-delete-history-button",
        cancel_button_string_id: "newtab-topsites-cancel-button",
        icon: "modal-delete"
      }
    },
    userEvent: "DIALOG_OPEN"
  }),
  ShowFile: site => ({
    id: "newtab-menu-show-file",
    icon: "search",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  OpenFile: site => ({
    id: "newtab-menu-open-file",
    icon: "open-file",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  CopyDownloadLink: site => ({
    id: "newtab-menu-copy-download-link",
    icon: "copy",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].COPY_DOWNLOAD_LINK,
      data: {
        url: site.url
      }
    })
  }),
  GoToDownloadPage: site => ({
    id: "newtab-menu-go-to-download-page",
    icon: "download",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
      data: {
        url: site.referrer
      }
    }),
    disabled: !site.referrer
  }),
  RemoveDownload: site => ({
    id: "newtab-menu-remove-download",
    icon: "delete",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].REMOVE_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  PinSpocTopSite: (site, index) => ({
    id: "newtab-menu-pin",
    icon: "pin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_PIN,
      data: {
        site,
        index
      }
    }),
    userEvent: "PIN"
  }),
  PinTopSite: ({
    url,
    searchTopSite,
    label
  }, index) => ({
    id: "newtab-menu-pin",
    icon: "pin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_PIN,
      data: {
        site: {
          url,
          ...(searchTopSite && {
            searchTopSite,
            label
          })
        },
        index
      }
    }),
    userEvent: "PIN"
  }),
  UnpinTopSite: site => ({
    id: "newtab-menu-unpin",
    icon: "unpin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_UNPIN,
      data: {
        site: {
          url: site.url
        }
      }
    }),
    userEvent: "UNPIN"
  }),
  SaveToPocket: (site, index, eventSource) => ({
    id: "newtab-menu-save-to-pocket",
    icon: "pocket-save",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_TO_POCKET,
      data: {
        site: {
          url: site.url,
          title: site.title
        }
      }
    }),
    impression: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
      source: eventSource,
      pocket: 0,
      tiles: [{
        id: site.guid,
        pos: index,
        ...(site.shim && site.shim.save ? {
          shim: site.shim.save
        } : {})
      }]
    }),
    userEvent: "SAVE_TO_POCKET"
  }),
  DeleteFromPocket: site => ({
    id: "newtab-menu-delete-pocket",
    icon: "pocket-delete",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_FROM_POCKET,
      data: {
        pocket_id: site.pocket_id
      }
    }),
    userEvent: "DELETE_FROM_POCKET"
  }),
  ArchiveFromPocket: site => ({
    id: "newtab-menu-archive-pocket",
    icon: "pocket-archive",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].ARCHIVE_FROM_POCKET,
      data: {
        pocket_id: site.pocket_id
      }
    }),
    userEvent: "ARCHIVE_FROM_POCKET"
  }),
  EditTopSite: (site, index) => ({
    id: "newtab-menu-edit-topsites",
    icon: "edit",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index
      }
    }
  }),
  CheckBookmark: site => site.bookmarkGuid ? LinkMenuOptions.RemoveBookmark(site) : LinkMenuOptions.AddBookmark(site),
  CheckPinTopSite: (site, index) => site.isPinned ? LinkMenuOptions.UnpinTopSite(site) : LinkMenuOptions.PinTopSite(site, index),
  CheckSavedToPocket: (site, index) => site.pocket_id ? LinkMenuOptions.DeleteFromPocket(site) : LinkMenuOptions.SaveToPocket(site, index),
  CheckBookmarkOrArchive: site => site.pocket_id ? LinkMenuOptions.ArchiveFromPocket(site) : LinkMenuOptions.CheckBookmark(site),
  OpenInPrivateWindow: (site, index, eventSource, isEnabled) => isEnabled ? _OpenInPrivateWindow(site) : LinkMenuOptions.EmptyItem()
};

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenuButton", function() { return ContextMenuButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ContextMenuButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false,
      contextMenuKeyboard: false
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
  }

  openContextMenu(isKeyBoard, event) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }

    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }

  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }

  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }

  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }

    this.setState({
      showContextMenu
    });
  }

  render() {
    const {
      tooltipArgs,
      tooltip,
      children,
      refFunction
    } = this.props;
    const {
      showContextMenu,
      contextMenuKeyboard
    } = this.state;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      "aria-haspopup": "true",
      "data-l10n-id": tooltip,
      "data-l10n-args": tooltipArgs ? JSON.stringify(tooltipArgs) : null,
      className: "context-menu-button icon",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      ref: refFunction
    }), showContextMenu ? react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(children, {
      keyboardAccess: contextMenuKeyboard,
      onUpdate: this.onUpdate
    }) : null);
  }

}

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTERSECTION_RATIO", function() { return INTERSECTION_RATIO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpressionStats", function() { return ImpressionStats; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange"; // Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test

const INTERSECTION_RATIO = 0.5;
/**
 * Impression wrapper for Discovery Stream related React components.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 *
 * Note:
 *   * This wrapper used to be used either at the individual card level,
 *     or by the card container components.
 *     It is now only used for individual card level.
 *   * Each impression will be sent only once as soon as the desired
 *     visibility is detected
 *   * Batching is not yet implemented, hence it might send multiple
 *     impression pings separately
 */

class ImpressionStats extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  // This checks if the given cards are the same as those in the last impression ping.
  // If so, it should not send the same impression ping again.
  _needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.impressionCardGuids[i]) {
        return true;
      }
    }

    return false;
  }

  _dispatchImpressionStats() {
    const {
      props
    } = this;
    const cards = props.rows;

    if (this.props.flightId) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_SPOC_IMPRESSION,
        data: {
          flightId: this.props.flightId
        }
      }));
    }

    if (this._needsImpressionStats(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamImpressionStats({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos,
          ...(link.shim ? {
            shim: link.shim
          } : {})
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.id);
    }
  } // This checks if the given cards are the same as those in the last loaded content ping.
  // If so, it should not send the same loaded content ping again.


  _needsLoadedContent(cards) {
    if (!this.loadedContentGuids || this.loadedContentGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.loadedContentGuids[i]) {
        return true;
      }
    }

    return false;
  }

  _dispatchLoadedContent() {
    const {
      props
    } = this;
    const cards = props.rows;

    if (this._needsLoadedContent(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamLoadedContent({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos
        }))
      }));
      this.loadedContentGuids = cards.map(link => link.id);
    }
  }

  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;

    if (!props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      // Send the loaded content ping once the page is visible.
      this._dispatchLoadedContent();

      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          // Send the loaded content ping once the page is visible.
          this._dispatchLoadedContent();

          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */


  setImpressionObserver() {
    const {
      props
    } = this;

    if (!props.rows.length) {
      return;
    }

    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();

        this.impressionObserver.unobserve(this.refs.impression);
      }
    };

    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.impression);
  }

  componentDidMount() {
    if (this.props.rows.length) {
      this.setImpressionObserverOrAddListener();
    }
  }

  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.impression);
    }

    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      ref: "impression",
      className: "impression-observer"
    }, this.props.children);
  }

}
ImpressionStats.defaultProps = {
  IntersectionObserver: global.IntersectionObserver,
  document: global.document,
  rows: [],
  source: ""
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeAnchor", function() { return SafeAnchor; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SafeAnchor extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
  }

  onClick(event) {
    // Use dispatch instead of normal link click behavior to include referrer
    if (this.props.dispatch) {
      event.preventDefault();
      const {
        altKey,
        button,
        ctrlKey,
        metaKey,
        shiftKey
      } = event;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          referrer: "https://getpocket.com/recommendations",
          // Use the anchor's url, which could have been cleaned up
          url: event.currentTarget.href
        }
      }));
    } // Propagate event if there's a handler


    if (this.props.onLinkClick) {
      this.props.onLinkClick(event);
    }
  }

  safeURI(url) {
    let protocol = null;

    try {
      protocol = new URL(url).protocol;
    } catch (e) {
      return "";
    }

    const isAllowed = ["http:", "https:"].includes(protocol);

    if (!isAllowed) {
      console.warn(`${url} is not allowed for anchor targets.`); // eslint-disable-line no-console

      return "";
    }

    return url;
  }

  render() {
    const {
      url,
      className
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      href: this.safeURI(url),
      className: className,
      onClick: this.onClick
    }, this.props.children);
  }

}

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusMessage", function() { return StatusMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSContextFooter", function() { return DSContextFooter; });
/* harmony import */ var _Card_types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(43);
/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44);
/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_transition_group__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


 // Animation time is mirrored in DSContextFooter.scss

const ANIMATION_DURATION = 3000;
const StatusMessage = ({
  icon,
  fluentID
}) => react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
  className: "status-message"
}, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
  "aria-haspopup": "true",
  className: `story-badge-icon icon icon-${icon}`
}), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
  className: "story-context-label",
  "data-l10n-id": fluentID
}));
class DSContextFooter extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  render() {
    // display_engagement_labels is based on pref `browser.newtabpage.activity-stream.discoverystream.engagementLabelEnabled`
    const {
      context,
      context_type,
      engagement,
      display_engagement_labels
    } = this.props;
    const {
      icon,
      fluentID
    } = _Card_types_js__WEBPACK_IMPORTED_MODULE_0__["cardContextTypes"][context_type] || {};
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "story-footer"
    }, context && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      className: "story-sponsored-label clamp"
    }, context), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_1__["TransitionGroup"], {
      component: null
    }, !context && (context_type || display_engagement_labels && engagement) && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_1__["CSSTransition"], {
      key: fluentID,
      timeout: ANIMATION_DURATION,
      classNames: "story-animate"
    }, engagement && !context_type ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "story-view-count"
    }, engagement) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(StatusMessage, {
      icon: icon,
      fluentID: fluentID
    }))));
  }

}

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardContextTypes", function() { return cardContextTypes; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const cardContextTypes = {
  history: {
    fluentID: "newtab-label-visited",
    icon: "history-item"
  },
  removedBookmark: {
    fluentID: "newtab-label-removed-bookmark",
    icon: "bookmark-removed"
  },
  bookmark: {
    fluentID: "newtab-label-bookmarked",
    icon: "bookmark-added"
  },
  trending: {
    fluentID: "newtab-label-recommended",
    icon: "trending"
  },
  pocket: {
    fluentID: "newtab-label-saved",
    icon: "pocket"
  },
  download: {
    fluentID: "newtab-label-download",
    icon: "download"
  }
};

/***/ }),
/* 44 */
/***/ (function(module, exports) {

module.exports = ReactTransitionGroup;

/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSEmptyState", function() { return DSEmptyState; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class DSEmptyState extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onReset = this.onReset.bind(this);
    this.state = {};
  }

  componentWillUnmount() {
    if (this.timeout) {
      clearTimeout(this.timeout);
    }
  }

  onReset() {
    if (this.props.dispatch && this.props.feed) {
      const {
        feed
      } = this.props;
      const {
        url
      } = feed;
      this.props.dispatch({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_FEED_UPDATE,
        data: {
          feed: { ...feed,
            data: { ...feed.data,
              status: "waiting"
            }
          },
          url
        }
      });
      this.setState({
        waiting: true
      });
      this.timeout = setTimeout(() => {
        this.timeout = null;
        this.setState({
          waiting: false
        });
      }, 300);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_RETRY_FEED,
        data: {
          feed
        }
      }));
    }
  }

  renderButton() {
    if (this.props.status === "waiting" || this.state.waiting) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
        className: "try-again-button waiting",
        "data-l10n-id": "newtab-discovery-empty-section-topstories-loading"
      });
    }

    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "try-again-button",
      onClick: this.onReset,
      "data-l10n-id": "newtab-discovery-empty-section-topstories-try-again-button"
    });
  }

  renderState() {
    if (this.props.status === "waiting" || this.props.status === "failed") {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2", {
        "data-l10n-id": "newtab-discovery-empty-section-topstories-timed-out"
      }), this.renderButton());
    }

    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-header"
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-content"
    }));
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "section-empty-state"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "empty-state-message"
    }, this.renderState()));
  }

}

/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapsibleSection", function() { return CollapsibleSection; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(49);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var content_src_components_SectionMenu_SectionMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(50);
/* harmony import */ var content_src_lib_section_menu_options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(39);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
class CollapsibleSection extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onBodyMount = this.onBodyMount.bind(this);
    this.onHeaderClick = this.onHeaderClick.bind(this);
    this.onKeyPress = this.onKeyPress.bind(this);
    this.onTransitionEnd = this.onTransitionEnd.bind(this);
    this.enableOrDisableAnimation = this.enableOrDisableAnimation.bind(this);
    this.onMenuButtonMouseEnter = this.onMenuButtonMouseEnter.bind(this);
    this.onMenuButtonMouseLeave = this.onMenuButtonMouseLeave.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.state = {
      enableAnimation: true,
      isAnimating: false,
      menuButtonHover: false,
      showContextMenu: false
    };
    this.setContextMenuButtonRef = this.setContextMenuButtonRef.bind(this);
  }

  componentWillMount() {
    this.props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this.enableOrDisableAnimation);
  }

  componentWillUpdate(nextProps) {
    // Check if we're about to go from expanded to collapsed
    if (!this.props.collapsed && nextProps.collapsed) {
      // This next line forces a layout flush of the section body, which has a
      // max-height style set, so that the upcoming collapse animation can
      // animate from that height to the collapsed height. Without this, the
      // update is coalesced and there's no animation from no-max-height to 0.
      this.sectionBody.scrollHeight; // eslint-disable-line no-unused-expressions
    }
  }

  setContextMenuButtonRef(element) {
    this.contextMenuButtonRef = element;
  }

  componentDidMount() {
    this.contextMenuButtonRef.addEventListener("mouseenter", this.onMenuButtonMouseEnter);
    this.contextMenuButtonRef.addEventListener("mouseleave", this.onMenuButtonMouseLeave);
  }

  componentWillUnmount() {
    this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this.enableOrDisableAnimation);
    this.contextMenuButtonRef.removeEventListener("mouseenter", this.onMenuButtonMouseEnter);
    this.contextMenuButtonRef.removeEventListener("mouseleave", this.onMenuButtonMouseLeave);
  }

  enableOrDisableAnimation() {
    // Only animate the collapse/expand for visible tabs.
    const visible = this.props.document.visibilityState === VISIBLE;

    if (this.state.enableAnimation !== visible) {
      this.setState({
        enableAnimation: visible
      });
    }
  }

  onBodyMount(node) {
    this.sectionBody = node;
  }

  onHeaderClick() {
    // If this.sectionBody is unset, it means that we're in some sort of error
    // state, probably displaying the error fallback, so we won't be able to
    // compute the height, and we don't want to persist the preference.
    // If props.collapsed is undefined handler shouldn't do anything.
    if (!this.sectionBody || this.props.collapsed === undefined) {
      return;
    } // Get the current height of the body so max-height transitions can work


    this.setState({
      isAnimating: true,
      maxHeight: `${this._getSectionBodyHeight()}px`
    });
    const {
      action,
      userEvent
    } = content_src_lib_section_menu_options__WEBPACK_IMPORTED_MODULE_5__["SectionMenuOptions"].CheckCollapsed(this.props);
    this.props.dispatch(action);
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: userEvent,
      source: this.props.source
    }));
  }

  onKeyPress(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.onHeaderClick();
    }
  }

  _getSectionBodyHeight() {
    const div = this.sectionBody;

    if (div.style.display === "none") {
      // If the div isn't displayed, we can't get it's height. So we display it
      // to get the height (it doesn't show up because max-height is set to 0px
      // in CSS). We don't undo this because we are about to expand the section.
      div.style.display = "block";
    }

    return div.scrollHeight;
  }

  onTransitionEnd(event) {
    // Only update the animating state for our own transition (not a child's)
    if (event.target === event.currentTarget) {
      this.setState({
        isAnimating: false
      });
    }
  }

  renderIcon() {
    const {
      icon
    } = this.props;

    if (icon && icon.startsWith("moz-extension://")) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "icon icon-small-spacer",
        style: {
          backgroundImage: `url('${icon}')`
        }
      });
    }

    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: `icon icon-small-spacer icon-${icon || "webextension"}`
    });
  }

  onMenuButtonMouseEnter() {
    this.setState({
      menuButtonHover: true
    });
  }

  onMenuButtonMouseLeave() {
    this.setState({
      menuButtonHover: false
    });
  }

  onMenuUpdate(showContextMenu) {
    this.setState({
      showContextMenu
    });
  }

  render() {
    const isCollapsible = this.props.collapsed !== undefined;
    const {
      enableAnimation,
      isAnimating,
      maxHeight,
      menuButtonHover,
      showContextMenu
    } = this.state;
    const {
      id,
      eventSource,
      collapsed,
      learnMore,
      title,
      extraMenuOptions,
      showPrefName,
      privacyNoticeURL,
      dispatch,
      isFixed,
      isFirst,
      isLast,
      isWebExtension
    } = this.props;
    const active = menuButtonHover || showContextMenu;
    let bodyStyle;

    if (isAnimating && !collapsed) {
      bodyStyle = {
        maxHeight
      };
    } else if (!isAnimating && collapsed) {
      bodyStyle = {
        display: "none"
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
      className: `collapsible-section ${this.props.className}${enableAnimation ? " animation-enabled" : ""}${collapsed ? " collapsed" : ""}${active ? " active" : ""}`,
      "aria-expanded": !collapsed // Note: data-section-id is used for web extension api tests in mozilla central
      ,
      "data-section-id": id
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "section-top-bar"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", {
      className: "section-title"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "click-target-container"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "click-target",
      role: "button",
      tabIndex: "0",
      onKeyPress: this.onKeyPress,
      onClick: this.onHeaderClick
    }, this.renderIcon(), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: title
    }), isCollapsible && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      "data-l10n-id": collapsed ? "newtab-section-expand-section-label" : "newtab-section-collapse-section-label",
      className: `collapsible-arrow icon ${collapsed ? "icon-arrowhead-forward-small" : "icon-arrowhead-down-small"}`
    })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "learn-more-link-wrapper"
    }, learnMore && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "learn-more-link"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: learnMore.link.message
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: learnMore.link.href
    })))))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_6__["ContextMenuButton"], {
      tooltip: "newtab-menu-section-tooltip",
      onUpdate: this.onMenuUpdate,
      refFunction: this.setContextMenuButtonRef
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_SectionMenu_SectionMenu__WEBPACK_IMPORTED_MODULE_4__["SectionMenu"], {
      id: id,
      extraOptions: extraMenuOptions,
      eventSource: eventSource,
      showPrefName: showPrefName,
      privacyNoticeURL: privacyNoticeURL,
      collapsed: collapsed,
      isFixed: isFixed,
      isFirst: isFirst,
      isLast: isLast,
      dispatch: dispatch,
      isWebExtension: isWebExtension
    })))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_1__["ErrorBoundary"], {
      className: "section-body-fallback"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: `section-body${isAnimating ? " animating" : ""}`,
      onTransitionEnd: this.onTransitionEnd,
      ref: this.onBodyMount,
      style: bodyStyle
    }, this.props.children)));
  }

}
CollapsibleSection.defaultProps = {
  document: global.document || {
    addEventListener: () => {},
    removeEventListener: () => {},
    visibilityState: "hidden"
  },
  Prefs: {
    values: {}
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorBoundaryFallback", function() { return ErrorBoundaryFallback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorBoundary", function() { return ErrorBoundary; });
/* harmony import */ var content_src_components_A11yLinkButton_A11yLinkButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ErrorBoundaryFallback extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.windowObj = this.props.windowObj || window;
    this.onClick = this.onClick.bind(this);
  }
  /**
   * Since we only get here if part of the page has crashed, do a
   * forced reload to give us the best chance at recovering.
   */


  onClick() {
    this.windowObj.location.reload(true);
  }

  render() {
    const defaultClass = "as-error-fallback";
    let className;

    if ("className" in this.props) {
      className = `${this.props.className} ${defaultClass}`;
    } else {
      className = defaultClass;
    } // "A11yLinkButton" to force normal link styling stuff (eg cursor on hover)


    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: className
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      "data-l10n-id": "newtab-error-fallback-info"
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_A11yLinkButton_A11yLinkButton__WEBPACK_IMPORTED_MODULE_0__["A11yLinkButton"], {
      className: "reload-button",
      onClick: this.onClick,
      "data-l10n-id": "newtab-error-fallback-refresh-link"
    })));
  }

}
ErrorBoundaryFallback.defaultProps = {
  className: "as-error-fallback"
};
class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      hasError: false
    };
  }

  componentDidCatch(error, info) {
    this.setState({
      hasError: true
    });
  }

  render() {
    if (!this.state.hasError) {
      return this.props.children;
    }

    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(this.props.FallbackComponent, {
      className: this.props.className
    });
  }

}
ErrorBoundary.defaultProps = {
  FallbackComponent: ErrorBoundaryFallback
};

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A11yLinkButton", function() { return A11yLinkButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

function A11yLinkButton(props) {
  // function for merging classes, if necessary
  let className = "a11y-link-button";

  if (props.className) {
    className += ` ${props.className}`;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", _extends({
    type: "button"
  }, props, {
    className: className
  }), props.children);
}

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FluentOrText", function() { return FluentOrText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Set text on a child element/component depending on if the message is already
 * translated plain text or a fluent id with optional args.
 */

class FluentOrText extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    // Ensure we have a single child to attach attributes
    const {
      children,
      message
    } = this.props;
    const child = children ? react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.only(children) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null); // For a string message, just use it as the child's text

    let grandChildren = message;
    let extraProps; // Convert a message object to set desired fluent-dom attributes

    if (typeof message === "object") {
      const args = message.args || message.values;
      extraProps = {
        "data-l10n-args": args && JSON.stringify(args),
        "data-l10n-id": message.id || message.string_id
      }; // Use original children potentially with data-l10n-name attributes

      grandChildren = child.props.children;
    } // Add the message to the child via fluent attributes or text node


    return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, extraProps, grandChildren);
  }

}

/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_SectionMenu", function() { return _SectionMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionMenu", function() { return SectionMenu; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var content_src_lib_section_menu_options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(51);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




const DEFAULT_SECTION_MENU_OPTIONS = ["MoveUp", "MoveDown", "Separator", "RemoveSection", "CheckCollapsed", "Separator", "ManageSection"];
const WEBEXT_SECTION_MENU_OPTIONS = ["MoveUp", "MoveDown", "Separator", "CheckCollapsed", "Separator", "ManageWebExtension"];
class _SectionMenu extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  handleAddWhileCollapsed() {
    const {
      action,
      userEvent
    } = content_src_lib_section_menu_options__WEBPACK_IMPORTED_MODULE_3__["SectionMenuOptions"].ExpandSection(this.props);
    this.props.dispatch(action);

    if (userEvent) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: userEvent,
        source: this.props.source
      }));
    }
  }

  getOptions() {
    const {
      props
    } = this;
    const propOptions = props.isWebExtension ? [...WEBEXT_SECTION_MENU_OPTIONS] : [...DEFAULT_SECTION_MENU_OPTIONS]; // Remove the move related options if the section is fixed

    if (props.isFixed) {
      propOptions.splice(propOptions.indexOf("MoveUp"), 3);
    } // Prepend custom options and a separator


    if (props.extraOptions) {
      propOptions.splice(0, 0, ...props.extraOptions, "Separator");
    } // Insert privacy notice before the last option ("ManageSection")


    if (props.privacyNoticeURL) {
      propOptions.splice(-1, 0, "PrivacyNotice");
    }

    const options = propOptions.map(o => content_src_lib_section_menu_options__WEBPACK_IMPORTED_MODULE_3__["SectionMenuOptions"][o](props)).map(option => {
      const {
        action,
        id,
        type,
        userEvent
      } = option;

      if (!type && id) {
        option.onClick = () => {
          const hasAddEvent = userEvent === "MENU_ADD_TOPSITE" || userEvent === "MENU_ADD_SEARCH";

          if (props.collapsed && hasAddEvent) {
            this.handleAddWhileCollapsed();
          }

          props.dispatch(action);

          if (userEvent) {
            props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
              event: userEvent,
              source: props.source
            }));
          }
        };
      }

      return option;
    }); // This is for accessibility to support making each item tabbable.
    // We want to know which item is the first and which item
    // is the last, so we can close the context menu accordingly.

    options[0].first = true;
    options[options.length - 1].last = true;
    return options;
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_1__["ContextMenu"], {
      onUpdate: this.props.onUpdate,
      options: this.getOptions(),
      keyboardAccess: this.props.keyboardAccess
    });
  }

}
const SectionMenu = _SectionMenu;

/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionMenuOptions", function() { return SectionMenuOptions; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * List of functions that return items that can be included as menu options in a
 * SectionMenu. All functions take the section as the only parameter.
 */

const SectionMenuOptions = {
  Separator: () => ({
    type: "separator"
  }),
  MoveUp: section => ({
    id: "newtab-section-menu-move-up",
    icon: "arrowhead-up",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SECTION_MOVE,
      data: {
        id: section.id,
        direction: -1
      }
    }),
    userEvent: "MENU_MOVE_UP",
    disabled: !!section.isFirst
  }),
  MoveDown: section => ({
    id: "newtab-section-menu-move-down",
    icon: "arrowhead-down",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SECTION_MOVE,
      data: {
        id: section.id,
        direction: +1
      }
    }),
    userEvent: "MENU_MOVE_DOWN",
    disabled: !!section.isLast
  }),
  RemoveSection: section => ({
    id: "newtab-section-menu-remove-section",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].SetPref(section.showPrefName, false),
    userEvent: "MENU_REMOVE"
  }),
  CollapseSection: section => ({
    id: "newtab-section-menu-collapse-section",
    icon: "minimize",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].UPDATE_SECTION_PREFS,
      data: {
        id: section.id,
        value: {
          collapsed: true
        }
      }
    }),
    userEvent: "MENU_COLLAPSE"
  }),
  ExpandSection: section => ({
    id: "newtab-section-menu-expand-section",
    icon: "maximize",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].UPDATE_SECTION_PREFS,
      data: {
        id: section.id,
        value: {
          collapsed: false
        }
      }
    }),
    userEvent: "MENU_EXPAND"
  }),
  ManageSection: section => ({
    id: "newtab-section-menu-manage-section",
    icon: "settings",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SETTINGS_OPEN
    }),
    userEvent: "MENU_MANAGE"
  }),
  ManageWebExtension: section => ({
    id: "newtab-section-menu-manage-webext",
    icon: "settings",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_WEBEXT_SETTINGS,
      data: section.id
    })
  }),
  AddTopSite: section => ({
    id: "newtab-section-menu-add-topsite",
    icon: "add",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index: -1
      }
    },
    userEvent: "MENU_ADD_TOPSITE"
  }),
  AddSearchShortcut: section => ({
    id: "newtab-section-menu-add-search-engine",
    icon: "search",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL
    },
    userEvent: "MENU_ADD_SEARCH"
  }),
  PrivacyNotice: section => ({
    id: "newtab-section-menu-privacy-notice",
    icon: "info",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
      data: {
        url: section.privacyNoticeURL
      }
    }),
    userEvent: "MENU_PRIVACY_NOTICE"
  }),
  CheckCollapsed: section => section.collapsed ? SectionMenuOptions.ExpandSection(section) : SectionMenuOptions.CollapseSection(section)
};

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSDismiss", function() { return DSDismiss; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSDismiss extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.onHover = this.onHover.bind(this);
    this.offHover = this.offHover.bind(this);
    this.state = {
      hovering: false
    };
  }

  onDismissClick() {
    const index = 0;
    const source = "DISCOVERY_STREAM";
    const blockUrlOption = content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_2__["LinkMenuOptions"].BlockUrl(this.props.data, index, source);
    const {
      action,
      impression,
      userEvent
    } = blockUrlOption;
    this.props.dispatch(action);
    const userEventData = Object.assign({
      event: userEvent,
      source,
      action_position: index
    }, this.props.data);
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(userEventData));

    if (impression && this.props.shouldSendImpressionStats) {
      this.props.dispatch(impression);
    }
  }

  onHover() {
    this.setState({
      hovering: true
    });
  }

  offHover() {
    this.setState({
      hovering: false
    });
  }

  render() {
    let className = `ds-dismiss
      ${this.state.hovering ? ` hovering` : ``}
      ${this.props.extraClasses ? ` ${this.props.extraClasses}` : ``}`;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: className
    }, this.props.children, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "ds-dismiss-button",
      onHover: this.onHover,
      onClick: this.onDismissClick,
      onMouseEnter: this.onHover,
      onMouseLeave: this.offHover,
      "aria-label": "dismiss"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "icon icon-dismiss"
    })));
  }

}

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSMessage", function() { return DSMessage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(49);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSMessage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-message"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", {
      className: "title"
    }, this.props.icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "glyph",
      style: {
        backgroundImage: `url(${this.props.icon})`
      }
    }), this.props.title && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "title-text"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: this.props.title
    })), this.props.link_text && this.props.link_url && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__["SafeAnchor"], {
      className: "link",
      url: this.props.link_url
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: this.props.link_text
    }))));
  }

}

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSPrivacyModal", function() { return DSPrivacyModal; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
/* harmony import */ var content_src_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSPrivacyModal extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.closeModal = this.closeModal.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  onLinkClick(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].UserEvent({
      event: "CLICK_PRIVACY_INFO",
      source: "DS_PRIVACY_MODAL"
    }));
  }

  closeModal() {
    this.props.dispatch({
      type: `HIDE_PRIVACY_INFO`,
      data: {}
    });
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_2__["ModalOverlayWrapper"], {
      onClose: this.closeModal,
      innerClassName: "ds-privacy-modal"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "privacy-notice"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
      "data-l10n-id": "newtab-privacy-modal-header"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      "data-l10n-id": "newtab-privacy-modal-paragraph"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      "data-l10n-id": "newtab-privacy-modal-link",
      onClick: this.onLinkClick,
      href: "https://www.mozilla.org/en-US/privacy/firefox/"
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
      className: "actions"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.closeModal,
      "data-l10n-id": "newtab-privacy-modal-button-done"
    })));
  }

}

/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSTextPromo", function() { return DSTextPromo; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(34);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(41);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class DSTextPromo extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  onLinkClick() {
    if (this.props.dispatch) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source: this.props.type.toUpperCase(),
        action_position: this.props.pos
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source: this.props.type.toUpperCase(),
        click: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.click ? {
            shim: this.props.shim.click
          } : {})
        }]
      }));
    }
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "ds-text-promo"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_1__["DSImage"], {
      alt_text: this.props.alt_text,
      source: this.props.image,
      rawSource: this.props.raw_image_src
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "text"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, `${this.props.header}\u2003`, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_4__["SafeAnchor"], {
      className: "ds-chevron-link",
      dispatch: this.props.dispatch,
      onLinkClick: this.onLinkClick,
      url: this.props.cta_url
    }, this.props.cta_text)), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "subtitle"
    }, this.props.subtitle)), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_2__["ImpressionStats"], {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        shim: this.props.shim && this.props.shim.impression
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    }));
  }

}

/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Hero", function() { return Hero; });
/* harmony import */ var _DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
/* harmony import */ var _DSEmptyState_DSEmptyState_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(45);
/* harmony import */ var _DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(34);
/* harmony import */ var _DSLinkMenu_DSLinkMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40);
/* harmony import */ var _List_List_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(57);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(41);
/* harmony import */ var _DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(42);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










class Hero extends react__WEBPACK_IMPORTED_MODULE_7___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].UserEvent({
        event: "CLICK",
        source: this.props.type.toUpperCase(),
        action_position: this.heroRec.pos
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].ImpressionStats({
        source: this.props.type.toUpperCase(),
        click: 0,
        tiles: [{
          id: this.heroRec.id,
          pos: this.heroRec.pos,
          ...(this.heroRec.shim && this.heroRec.shim.click ? {
            shim: this.heroRec.shim.click
          } : {})
        }]
      }));
    }
  }

  renderHero() {
    let [heroRec, ...otherRecs] = this.props.data.recommendations.slice(0, this.props.items);
    this.heroRec = heroRec;
    const cards = [];

    for (let index = 0; index < this.props.items - 1; index++) {
      const rec = otherRecs[index];
      cards.push(!rec || rec.placeholder ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__["PlaceholderDSCard"], {
        key: `dscard-${index}`
      }) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__["DSCard"], {
        flightId: rec.flight_id,
        key: `dscard-${rec.id}`,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        title: rec.title,
        url: rec.url,
        id: rec.id,
        shim: rec.shim,
        pos: rec.pos,
        type: this.props.type,
        dispatch: this.props.dispatch,
        context: rec.context,
        context_type: rec.context_type,
        source: rec.domain,
        pocket_id: rec.pocket_id,
        bookmarkGuid: rec.bookmarkGuid,
        engagement: rec.engagement
      }));
    }

    let heroCard = null;

    if (!heroRec || heroRec.placeholder) {
      heroCard = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSCard_DSCard_jsx__WEBPACK_IMPORTED_MODULE_0__["PlaceholderDSCard"], null);
    } else {
      heroCard = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: "ds-hero-item",
        key: `dscard-${heroRec.id}`
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_8__["SafeAnchor"], {
        className: "wrapper",
        dispatch: this.props.dispatch,
        onLinkClick: this.onLinkClick,
        url: heroRec.url
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: "img-wrapper"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_3__["DSImage"], {
        extraClassNames: "img",
        source: heroRec.image_src,
        rawSource: heroRec.raw_image_src
      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: "meta"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
        className: "header-and-excerpt"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p", {
        className: "source clamp"
      }, heroRec.domain), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("header", {
        className: "clamp"
      }, heroRec.title), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p", {
        className: "excerpt clamp"
      }, heroRec.excerpt)), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_9__["DSContextFooter"], {
        context: heroRec.context,
        context_type: heroRec.context_type,
        engagement: heroRec.engagement
      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_5__["ImpressionStats"], {
        flightId: heroRec.flight_id,
        rows: [{
          id: heroRec.id,
          pos: heroRec.pos,
          ...(heroRec.shim && heroRec.shim.impression ? {
            shim: heroRec.shim.impression
          } : {})
        }],
        dispatch: this.props.dispatch,
        source: this.props.type
      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSLinkMenu_DSLinkMenu__WEBPACK_IMPORTED_MODULE_4__["DSLinkMenu"], {
        id: heroRec.id,
        index: heroRec.pos,
        dispatch: this.props.dispatch,
        url: heroRec.url,
        title: heroRec.title,
        source: heroRec.domain,
        type: this.props.type,
        pocket_id: heroRec.pocket_id,
        shim: heroRec.shim,
        bookmarkGuid: heroRec.bookmarkGuid,
        flightId: heroRec.flight_id
      }));
    }

    let list = react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_List_List_jsx__WEBPACK_IMPORTED_MODULE_6__["List"], {
      recStartingPoint: 1,
      data: this.props.data,
      feed: this.props.feed,
      hasImages: true,
      hasBorders: this.props.border === `border`,
      items: this.props.items - 1,
      type: `Hero`
    });
    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: `ds-hero ds-hero-${this.props.border}`
    }, heroCard, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: `${this.props.subComponentType}`
    }, this.props.subComponentType === `cards` ? cards : list));
  }

  render() {
    const {
      data
    } = this.props; // Handle a render before feed has been fetched by displaying nothing

    if (!data || !data.recommendations) {
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null);
    } // Handle the case where a user has dismissed all recommendations


    const isEmpty = data.recommendations.length === 0;
    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "ds-header"
    }, this.props.title), isEmpty ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "ds-hero empty"
    }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_DSEmptyState_DSEmptyState_jsx__WEBPACK_IMPORTED_MODULE_2__["DSEmptyState"], {
      status: data.status,
      dispatch: this.props.dispatch,
      feed: this.props.feed
    })) : this.renderHero());
  }

}
Hero.defaultProps = {
  data: {},
  border: `border`,
  items: 1 // Number of stories to display

};

/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListItem", function() { return ListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceholderListItem", function() { return PlaceholderListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_List", function() { return _List; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "List", function() { return List; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _DSEmptyState_DSEmptyState_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(45);
/* harmony import */ var _DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(34);
/* harmony import */ var _DSLinkMenu_DSLinkMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41);
/* harmony import */ var _DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(42);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









/**
 * @note exported for testing only
 */

class ListItem extends react__WEBPACK_IMPORTED_MODULE_6___default.a.PureComponent {
  // TODO performance: get feeds to send appropriately sized images rather
  // than waiting longer and scaling down on client?
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source: this.props.type.toUpperCase(),
        action_position: this.props.pos,
        value: {
          card_type: this.props.flightId ? "spoc" : "organic"
        }
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source: this.props.type.toUpperCase(),
        click: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.click ? {
            shim: this.props.shim.click
          } : {})
        }]
      }));
    }
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li", {
      className: `ds-list-item${this.props.placeholder ? " placeholder" : ""}`
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_7__["SafeAnchor"], {
      className: "ds-list-item-link",
      dispatch: this.props.dispatch,
      onLinkClick: !this.props.placeholder ? this.onLinkClick : undefined,
      url: this.props.url
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "ds-list-item-text"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span", {
      className: "ds-list-item-info clamp"
    }, this.props.domain)), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "ds-list-item-body"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "ds-list-item-title clamp"
    }, this.props.title), this.props.excerpt && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "ds-list-item-excerpt clamp"
    }, this.props.excerpt)), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DSContextFooter_DSContextFooter_jsx__WEBPACK_IMPORTED_MODULE_8__["DSContextFooter"], {
      context: this.props.context,
      context_type: this.props.context_type,
      engagement: this.props.engagement
    })), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_3__["DSImage"], {
      extraClassNames: "ds-list-image",
      source: this.props.image_src,
      rawSource: this.props.raw_image_src
    }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_5__["ImpressionStats"], {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        ...(this.props.shim && this.props.shim.impression ? {
          shim: this.props.shim.impression
        } : {})
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    })), !this.props.placeholder && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DSLinkMenu_DSLinkMenu__WEBPACK_IMPORTED_MODULE_4__["DSLinkMenu"], {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: this.props.source,
      type: this.props.type,
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: this.props.flightId
    }));
  }

}
const PlaceholderListItem = props => react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(ListItem, {
  placeholder: true
});
/**
 * @note exported for testing only
 */

function _List(props) {
  const renderList = () => {
    const recs = props.data.recommendations.slice(props.recStartingPoint, props.recStartingPoint + props.items);
    const recMarkup = [];

    for (let index = 0; index < props.items; index++) {
      const rec = recs[index];
      recMarkup.push(!rec || rec.placeholder ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(PlaceholderListItem, {
        key: `ds-list-item-${index}`
      }) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(ListItem, {
        key: `ds-list-item-${rec.id}`,
        dispatch: props.dispatch,
        flightId: rec.flight_id,
        domain: rec.domain,
        excerpt: rec.excerpt,
        id: rec.id,
        shim: rec.shim,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        pos: rec.pos,
        title: rec.title,
        context: rec.context,
        context_type: rec.context_type,
        type: props.type,
        url: rec.url,
        pocket_id: rec.pocket_id,
        bookmarkGuid: rec.bookmarkGuid,
        engagement: rec.engagement
      }));
    }

    const listStyles = ["ds-list", props.fullWidth ? "ds-list-full-width" : "", props.hasBorders ? "ds-list-borders" : "", props.hasImages ? "ds-list-images" : "", props.hasNumbers ? "ds-list-numbers" : ""];
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul", {
      className: listStyles.join(" ")
    }, recMarkup);
  };

  const {
    data
  } = props;

  if (!data || !data.recommendations) {
    return null;
  } // Handle the case where a user has dismissed all recommendations


  const isEmpty = data.recommendations.length === 0;
  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", null, props.header && props.header.title ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "ds-header"
  }, props.header.title) : null, isEmpty ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "ds-list empty"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DSEmptyState_DSEmptyState_jsx__WEBPACK_IMPORTED_MODULE_2__["DSEmptyState"], {
    status: data.status,
    dispatch: props.dispatch,
    feed: props.feed
  })) : renderList());
}
_List.defaultProps = {
  recStartingPoint: 0,
  // Index of recommendations to start displaying from
  fullWidth: false,
  // Display items taking up the whole column
  hasBorders: false,
  // Display lines separating each item
  hasImages: false,
  // Display images for each item
  hasNumbers: false,
  // Display numbers for each item
  items: 6 // Number of stories to display.  TODO: get from endpoint

};
const List = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(_List);

/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Highlights", function() { return _Highlights; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Highlights", function() { return Highlights; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class _Highlights extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const section = this.props.Sections.find(s => s.id === "highlights");

    if (!section || !section.enabled) {
      return null;
    }

    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "ds-highlights sections-list"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_2__["SectionIntl"], _extends({}, section, {
      isFixed: true
    })));
  }

}
const Highlights = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  Sections: state.Sections
}))(_Highlights);

/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionIntl", function() { return SectionIntl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Sections", function() { return _Sections; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sections", function() { return Sections; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(46);
/* harmony import */ var content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(49);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var content_src_components_MoreRecommendations_MoreRecommendations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64);
/* harmony import */ var content_src_components_PocketLoggedInCta_PocketLoggedInCta__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var content_src_components_Topics_Topics__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(66);
/* harmony import */ var content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(67);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */











const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
const CARDS_PER_ROW_DEFAULT = 3;
const CARDS_PER_ROW_COMPACT_WIDE = 4;
class Section extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  get numRows() {
    const {
      rowsPref,
      maxRows,
      Prefs
    } = this.props;
    return rowsPref ? Prefs.values[rowsPref] : maxRows;
  }

  _dispatchImpressionStats() {
    const {
      props
    } = this;
    let cardsPerRow = CARDS_PER_ROW_DEFAULT;

    if (props.compactCards && global.matchMedia(`(min-width: 1072px)`).matches) {
      // If the section has compact cards and the viewport is wide enough, we show
      // 4 columns instead of 3.
      // $break-point-widest = 1072px (from _variables.scss)
      cardsPerRow = CARDS_PER_ROW_COMPACT_WIDE;
    }

    const maxCards = cardsPerRow * this.numRows;
    const cards = props.rows.slice(0, maxCards);

    if (this.needsImpressionStats(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source: props.eventSource,
        tiles: cards.map(link => ({
          id: link.guid
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.guid);
    }
  } // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.


  sendImpressionStatsOrAddListener() {
    const {
      props
    } = this;

    if (!props.shouldSendImpressionStats || !props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      this._dispatchImpressionStats();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      } // When the page becomes visible, send the impression stats ping if the section isn't collapsed.


      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          if (!this.props.pref.collapsed) {
            this._dispatchImpressionStats();
          }

          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentWillMount() {
    this.sendNewTabRehydrated(this.props.initialized);
  }

  componentDidMount() {
    if (this.props.rows.length && !this.props.pref.collapsed) {
      this.sendImpressionStatsOrAddListener();
    }
  }

  componentDidUpdate(prevProps) {
    const {
      props
    } = this;
    const isCollapsed = props.pref.collapsed;
    const wasCollapsed = prevProps.pref.collapsed;

    if ( // Don't send impression stats for the empty state
    props.rows.length && ( // We only want to send impression stats if the content of the cards has changed
    // and the section is not collapsed...
    props.rows !== prevProps.rows && !isCollapsed || // or if we are expanding a section that was collapsed.
    wasCollapsed && !isCollapsed)) {
      this.sendImpressionStatsOrAddListener();
    }
  }

  componentWillUpdate(nextProps) {
    this.sendNewTabRehydrated(nextProps.initialized);
  }

  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].guid !== this.impressionCardGuids[i]) {
        return true;
      }
    }

    return false;
  } // The NEW_TAB_REHYDRATED event is used to inform feeds that their
  // data has been consumed e.g. for counting the number of tabs that
  // have rendered that data.


  sendNewTabRehydrated(initialized) {
    if (initialized && !this.renderNotified) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_REHYDRATED,
        data: {}
      }));
      this.renderNotified = true;
    }
  }

  render() {
    const {
      id,
      eventSource,
      title,
      icon,
      rows,
      Pocket,
      topics,
      emptyState,
      dispatch,
      compactCards,
      read_more_endpoint,
      contextMenuOptions,
      initialized,
      learnMore,
      pref,
      privacyNoticeURL,
      isFirst,
      isLast
    } = this.props;
    const waitingForSpoc = id === "topstories" && this.props.Pocket.waitingForSpoc;
    const maxCardsPerRow = compactCards ? CARDS_PER_ROW_COMPACT_WIDE : CARDS_PER_ROW_DEFAULT;
    const {
      numRows
    } = this;
    const maxCards = maxCardsPerRow * numRows;
    const maxCardsOnNarrow = CARDS_PER_ROW_DEFAULT * numRows;
    const {
      pocketCta,
      isUserLoggedIn
    } = Pocket || {};
    const {
      useCta
    } = pocketCta || {}; // Don't display anything until we have a definitve result from Pocket,
    // to avoid a flash of logged out state while we render.

    const isPocketLoggedInDefined = isUserLoggedIn === true || isUserLoggedIn === false;
    const hasTopics = topics && !!topics.length;
    const shouldShowPocketCta = id === "topstories" && useCta && isUserLoggedIn === false; // Show topics only for top stories and if it has loaded with topics.
    // The classs .top-stories-bottom-container ensures content doesn't shift as things load.

    const shouldShowTopics = id === "topstories" && hasTopics && (useCta && isUserLoggedIn === true || !useCta && isPocketLoggedInDefined); // We use topics to determine language support for read more.

    const shouldShowReadMore = read_more_endpoint && hasTopics;
    const realRows = rows.slice(0, maxCards); // The empty state should only be shown after we have initialized and there is no content.
    // Otherwise, we should show placeholders.

    const shouldShowEmptyState = initialized && !rows.length;
    const cards = [];

    if (!shouldShowEmptyState) {
      for (let i = 0; i < maxCards; i++) {
        const link = realRows[i]; // On narrow viewports, we only show 3 cards per row. We'll mark the rest as
        // .hide-for-narrow to hide in CSS via @media query.

        const className = i >= maxCardsOnNarrow ? "hide-for-narrow" : "";
        let usePlaceholder = !link; // If we are in the third card and waiting for spoc,
        // use the placeholder.

        if (!usePlaceholder && i === 2 && waitingForSpoc) {
          usePlaceholder = true;
        }

        cards.push(!usePlaceholder ? react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__["Card"], {
          key: i,
          index: i,
          className: className,
          dispatch: dispatch,
          link: link,
          contextMenuOptions: contextMenuOptions,
          eventSource: eventSource,
          shouldSendImpressionStats: this.props.shouldSendImpressionStats,
          isWebExtension: this.props.isWebExtension
        }) : react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__["PlaceholderCard"], {
          key: i,
          className: className
        }));
      }
    }

    const sectionClassName = ["section", compactCards ? "compact-cards" : "normal-cards"].join(" "); // <Section> <-- React component
    // <section> <-- HTML5 element

    return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__["ComponentPerfTimer"], this.props, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: sectionClassName,
      icon: icon,
      title: title,
      id: id,
      eventSource: eventSource,
      collapsed: this.props.pref.collapsed,
      showPrefName: pref && pref.feed || id,
      privacyNoticeURL: privacyNoticeURL,
      Prefs: this.props.Prefs,
      isFixed: this.props.isFixed,
      isFirst: isFirst,
      isLast: isLast,
      learnMore: learnMore,
      dispatch: this.props.dispatch,
      isWebExtension: this.props.isWebExtension
    }, !shouldShowEmptyState && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("ul", {
      className: "section-list",
      style: {
        padding: 0
      }
    }, cards), shouldShowEmptyState && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "section-empty-state"
    }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "empty-state"
    }, emptyState.icon && emptyState.icon.startsWith("moz-extension://") ? react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span", {
      className: "empty-state-icon icon",
      style: {
        "background-image": `url('${emptyState.icon}')`
      }
    }) : react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span", {
      className: `empty-state-icon icon icon-${emptyState.icon}`
    }), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_4__["FluentOrText"], {
      message: emptyState.message
    }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p", {
      className: "empty-state-message"
    })))), id === "topstories" && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "top-stories-bottom-container"
    }, shouldShowTopics && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-topics"
    }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Topics_Topics__WEBPACK_IMPORTED_MODULE_9__["Topics"], {
      topics: this.props.topics
    })), shouldShowPocketCta && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-cta"
    }, react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_PocketLoggedInCta_PocketLoggedInCta__WEBPACK_IMPORTED_MODULE_7__["PocketLoggedInCta"], null)), react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-more-recommendations"
    }, shouldShowReadMore && react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_MoreRecommendations_MoreRecommendations__WEBPACK_IMPORTED_MODULE_6__["MoreRecommendations"], {
      read_more_endpoint: read_more_endpoint
    })))));
  }

}
Section.defaultProps = {
  document: global.document,
  rows: [],
  emptyState: {},
  pref: {},
  title: ""
};
const SectionIntl = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(state => ({
  Prefs: state.Prefs,
  Pocket: state.Pocket
}))(Section);
class _Sections extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  renderSections() {
    const sections = [];
    const enabledSections = this.props.Sections.filter(section => section.enabled);
    const {
      sectionOrder,
      "feeds.topsites": showTopSites
    } = this.props.Prefs.values; // Enabled sections doesn't include Top Sites, so we add it if enabled.

    const expectedCount = enabledSections.length + ~~showTopSites;

    for (const sectionId of sectionOrder.split(",")) {
      const commonProps = {
        key: sectionId,
        isFirst: sections.length === 0,
        isLast: sections.length === expectedCount - 1
      };

      if (sectionId === "topsites" && showTopSites) {
        sections.push(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_10__["TopSites"], commonProps));
      } else {
        const section = enabledSections.find(s => s.id === sectionId);

        if (section) {
          sections.push(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(SectionIntl, _extends({}, section, commonProps)));
        }
      }
    }

    return sections;
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "sections-list"
    }, this.renderSections());
  }

}
const Sections = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(state => ({
  Sections: state.Sections,
  Prefs: state.Prefs
}))(_Sections);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Card", function() { return _Card; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Card", function() { return Card; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceholderCard", function() { return PlaceholderCard; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(43);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(36);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(61);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






 // Keep track of pending image loads to only request once

const gImageLoading = new Map();
/**
 * Card component.
 * Cards are found within a Section component and contain information about a link such
 * as preview image, page title, page description, and some context about if the page
 * was visited, bookmarked, trending etc...
 * Each Section can make an unordered list of Cards which will create one instane of
 * this class. Each card will then get a context menu which reflects the actions that
 * can be done on this Card.
 */

class _Card extends react__WEBPACK_IMPORTED_MODULE_5___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      activeCard: null,
      imageLoaded: false,
      cardImage: null
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
  }
  /**
   * Helper to conditionally load an image and update state when it loads.
   */


  async maybeLoadImage() {
    // No need to load if it's already loaded or no image
    const {
      cardImage
    } = this.state;

    if (!cardImage) {
      return;
    }

    const imageUrl = cardImage.url;

    if (!this.state.imageLoaded) {
      // Initialize a promise to share a load across multiple card updates
      if (!gImageLoading.has(imageUrl)) {
        const loaderPromise = new Promise((resolve, reject) => {
          const loader = new Image();
          loader.addEventListener("load", resolve);
          loader.addEventListener("error", reject);
          loader.src = imageUrl;
        }); // Save and remove the promise only while it's pending

        gImageLoading.set(imageUrl, loaderPromise);
        loaderPromise.catch(ex => ex).then(() => gImageLoading.delete(imageUrl)).catch();
      } // Wait for the image whether just started loading or reused promise


      await gImageLoading.get(imageUrl); // Only update state if we're still waiting to load the original image

      if (content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].isRemoteImageLocal(this.state.cardImage, this.props.link.image) && !this.state.imageLoaded) {
        this.setState({
          imageLoaded: true
        });
      }
    }
  }
  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */


  static getNextStateFromProps(nextProps, prevState) {
    const {
      image
    } = nextProps.link;
    const imageInState = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].isRemoteImageLocal(prevState.cardImage, image);
    let nextState = null; // Image is updating.

    if (!imageInState && nextProps.link) {
      nextState = {
        imageLoaded: false
      };
    }

    if (imageInState) {
      return nextState;
    } // Since image was updated, attempt to revoke old image blob URL, if it exists.


    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].maybeRevokeBlobObjectURL(prevState.cardImage);
    nextState = nextState || {};
    nextState.cardImage = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].createLocalImageObject(image);
    return nextState;
  }

  onMenuButtonUpdate(isOpen) {
    if (isOpen) {
      this.setState({
        activeCard: this.props.index
      });
    } else {
      this.setState({
        activeCard: null
      });
    }
  }
  /**
   * Report to telemetry additional information about the item.
   */


  _getTelemetryInfo() {
    // Filter out "history" type for being the default
    if (this.props.link.type !== "history") {
      return {
        value: {
          card_type: this.props.link.type
        }
      };
    }

    return null;
  }

  onLinkClick(event) {
    event.preventDefault();

    if (this.props.link.type === "download") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_DOWNLOAD_FILE,
        data: this.props.link
      }));
    } else {
      const {
        altKey,
        button,
        ctrlKey,
        metaKey,
        shiftKey
      } = event;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    }

    if (this.props.isWebExtension) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].WebExtEvent(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].WEBEXT_CLICK, {
        source: this.props.eventSource,
        url: this.props.link.url,
        action_position: this.props.index
      }));
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
        event: "CLICK",
        source: this.props.eventSource,
        action_position: this.props.index
      }, this._getTelemetryInfo())));

      if (this.props.shouldSendImpressionStats) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
          source: this.props.eventSource,
          click: 0,
          tiles: [{
            id: this.props.link.guid,
            pos: this.props.index
          }]
        }));
      }
    }
  }

  componentDidMount() {
    this.maybeLoadImage();
  }

  componentDidUpdate() {
    this.maybeLoadImage();
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillMount() {
    const nextState = _Card.getNextStateFromProps(this.props, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillReceiveProps(nextProps) {
    const nextState = _Card.getNextStateFromProps(nextProps, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  }

  componentWillUnmount() {
    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].maybeRevokeBlobObjectURL(this.state.cardImage);
  }

  render() {
    const {
      index,
      className,
      link,
      dispatch,
      contextMenuOptions,
      eventSource,
      shouldSendImpressionStats
    } = this.props;
    const {
      props
    } = this;
    const title = link.title || link.hostname;
    const isContextMenuOpen = this.state.activeCard === index; // Display "now" as "trending" until we have new strings #3402

    const {
      icon,
      fluentID
    } = _types__WEBPACK_IMPORTED_MODULE_1__["cardContextTypes"][link.type === "now" ? "trending" : link.type] || {};
    const hasImage = this.state.cardImage || link.hasImage;
    const imageStyle = {
      backgroundImage: this.state.cardImage ? `url(${this.state.cardImage.url})` : "none"
    };
    const outerClassName = ["card-outer", className, isContextMenuOpen && "active", props.placeholder && "placeholder"].filter(v => v).join(" ");
    return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
      className: outerClassName
    }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      href: link.type === "pocket" ? link.open_url : link.url,
      onClick: !props.placeholder ? this.onLinkClick : undefined
    }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card"
    }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-preview-image-outer"
    }, hasImage && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: `card-preview-image${this.state.imageLoaded ? " loaded" : ""}`,
      style: imageStyle
    })), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-details"
    }, link.type === "download" && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-host-name alternate",
      "data-l10n-id": "newtab-menu-show-file"
    }), link.hostname && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-host-name"
    }, link.hostname.slice(0, 100), link.type === "download" && `  \u2014 ${link.description}`), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: ["card-text", icon ? "" : "no-context", link.description ? "" : "no-description", link.hostname ? "" : "no-host-name"].join(" ")
    }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h4", {
      className: "card-title",
      dir: "auto"
    }, link.title), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
      className: "card-description",
      dir: "auto"
    }, link.description)), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context"
    }, icon && !link.context && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      "aria-haspopup": "true",
      className: `card-context-icon icon icon-${icon}`
    }), link.icon && link.context && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      "aria-haspopup": "true",
      className: "card-context-icon icon",
      style: {
        backgroundImage: `url('${link.icon}')`
      }
    }), fluentID && !link.context && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context-label",
      "data-l10n-id": fluentID
    }), link.context && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context-label"
    }, link.context))))), !props.placeholder && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_3__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_4__["LinkMenu"], {
      dispatch: dispatch,
      index: index,
      source: eventSource,
      options: link.contextMenuOptions || contextMenuOptions,
      site: link,
      siteInfo: this._getTelemetryInfo(),
      shouldSendImpressionStats: shouldSendImpressionStats
    })));
  }

}
_Card.defaultProps = {
  link: {}
};
const Card = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(state => ({
  platform: state.Prefs.values.platform
}))(_Card);
const PlaceholderCard = props => react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Card, {
  placeholder: true,
  className: props.className
});

/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenshotUtils", function() { return ScreenshotUtils; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * List of helper functions for screenshot-based images.
 *
 * There are two kinds of images:
 * 1. Remote Image: This is the image from the main process and it refers to
 *    the image in the React props. This can either be an object with the `data`
 *    and `path` properties, if it is a blob, or a string, if it is a normal image.
 * 2. Local Image: This is the image object in the content process and it refers
 *    to the image *object* in the React component's state. All local image
 *    objects have the `url` property, and an additional property `path`, if they
 *    are blobs.
 */
const ScreenshotUtils = {
  isBlob(isLocal, image) {
    return !!(image && image.path && (!isLocal && image.data || isLocal && image.url));
  },

  // This should always be called with a remote image and not a local image.
  createLocalImageObject(remoteImage) {
    if (!remoteImage) {
      return null;
    }

    if (this.isBlob(false, remoteImage)) {
      return {
        url: global.URL.createObjectURL(remoteImage.data),
        path: remoteImage.path
      };
    }

    return {
      url: remoteImage
    };
  },

  // Revokes the object URL of the image if the local image is a blob.
  // This should always be called with a local image and not a remote image.
  maybeRevokeBlobObjectURL(localImage) {
    if (this.isBlob(true, localImage)) {
      global.URL.revokeObjectURL(localImage.url);
    }
  },

  // Checks if remoteImage and localImage are the same.
  isRemoteImageLocal(localImage, remoteImage) {
    // Both remoteImage and localImage are present.
    if (remoteImage && localImage) {
      return this.isBlob(false, remoteImage) ? localImage.path === remoteImage.path : localImage.url === remoteImage;
    } // This will only handle the remaining three possible outcomes.
    // (i.e. everything except when both image and localImage are present)


    return !remoteImage && !localImage;
  }

};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentPerfTimer", function() { return ComponentPerfTimer; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var common_PerfService_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


 // Currently record only a fixed set of sections. This will prevent data
// from custom sections from showing up or from topstories.

const RECORDED_SECTIONS = ["highlights", "topsites"];
class ComponentPerfTimer extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {
  constructor(props) {
    super(props); // Just for test dependency injection:

    this.perfSvc = this.props.perfSvc || common_PerfService_jsm__WEBPACK_IMPORTED_MODULE_1__["perfService"];
    this._sendBadStateEvent = this._sendBadStateEvent.bind(this);
    this._sendPaintedEvent = this._sendPaintedEvent.bind(this);
    this._reportMissingData = false;
    this._timestampHandled = false;
    this._recordedFirstRender = false;
  }

  componentDidMount() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }

    this._maybeSendPaintedEvent();
  }

  componentDidUpdate() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }

    this._maybeSendPaintedEvent();
  }
  /**
   * Call the given callback after the upcoming frame paints.
   *
   * @note Both setTimeout and requestAnimationFrame are throttled when the page
   * is hidden, so this callback may get called up to a second or so after the
   * requestAnimationFrame "paint" for hidden tabs.
   *
   * Newtabs hidden while loading will presumably be fairly rare (other than
   * preloaded tabs, which we will be filtering out on the server side), so such
   * cases should get lost in the noise.
   *
   * If we decide that it's important to find out when something that's hidden
   * has "painted", however, another option is to post a message to this window.
   * That should happen even faster than setTimeout, and, at least as of this
   * writing, it's not throttled in hidden windows in Firefox.
   *
   * @param {Function} callback
   *
   * @returns void
   */


  _afterFramePaint(callback) {
    requestAnimationFrame(() => setTimeout(callback, 0));
  }

  _maybeSendBadStateEvent() {
    // Follow up bugs:
    // https://github.com/mozilla/activity-stream/issues/3691
    if (!this.props.initialized) {
      // Remember to report back when data is available.
      this._reportMissingData = true;
    } else if (this._reportMissingData) {
      this._reportMissingData = false; // Report how long it took for component to become initialized.

      this._sendBadStateEvent();
    }
  }

  _maybeSendPaintedEvent() {
    // If we've already handled a timestamp, don't do it again.
    if (this._timestampHandled || !this.props.initialized) {
      return;
    } // And if we haven't, we're doing so now, so remember that. Even if
    // something goes wrong in the callback, we can't try again, as we'd be
    // sending back the wrong data, and we have to do it here, so that other
    // calls to this method while waiting for the next frame won't also try to
    // handle it.


    this._timestampHandled = true;

    this._afterFramePaint(this._sendPaintedEvent);
  }
  /**
   * Triggered by call to render. Only first call goes through due to
   * `_recordedFirstRender`.
   */


  _ensureFirstRenderTsRecorded() {
    // Used as t0 for recording how long component took to initialize.
    if (!this._recordedFirstRender) {
      this._recordedFirstRender = true; // topsites_first_render_ts, highlights_first_render_ts.

      const key = `${this.props.id}_first_render_ts`;
      this.perfSvc.mark(key);
    }
  }
  /**
   * Creates `TELEMETRY_UNDESIRED_EVENT` with timestamp in ms
   * of how much longer the data took to be ready for display than it would
   * have been the ideal case.
   * https://github.com/mozilla/ping-centre/issues/98
   */


  _sendBadStateEvent() {
    // highlights_data_ready_ts, topsites_data_ready_ts.
    const dataReadyKey = `${this.props.id}_data_ready_ts`;
    this.perfSvc.mark(dataReadyKey);

    try {
      const firstRenderKey = `${this.props.id}_first_render_ts`; // value has to be Int32.

      const value = parseInt(this.perfSvc.getMostRecentAbsMarkStartByName(dataReadyKey) - this.perfSvc.getMostRecentAbsMarkStartByName(firstRenderKey), 10);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        // highlights_data_late_by_ms, topsites_data_late_by_ms.
        data: {
          [`${this.props.id}_data_late_by_ms`]: value
        }
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.
    }
  }

  _sendPaintedEvent() {
    // Record first_painted event but only send if topsites.
    if (this.props.id !== "topsites") {
      return;
    } // topsites_first_painted_ts.


    const key = `${this.props.id}_first_painted_ts`;
    this.perfSvc.mark(key);

    try {
      const data = {};
      data[key] = this.perfSvc.getMostRecentAbsMarkStartByName(key);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        data
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up, and should continue
      // to set this._timestampHandled to avoid going through this again.
    }
  }

  render() {
    if (RECORDED_SECTIONS.includes(this.props.id)) {
      this._ensureFirstRenderTsRecorded();

      this._maybeSendBadStateEvent();
    }

    return this.props.children;
  }

}

/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_PerfService", function() { return _PerfService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "perfService", function() { return perfService; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


if (typeof ChromeUtils !== "undefined") {
  // Use a var here instead of let outside to avoid creating a locally scoped
  // variable that hides the global, which we modify for testing.
  // eslint-disable-next-line no-var, vars-on-top
  var {
    Services
  } = ChromeUtils.import("resource://gre/modules/Services.jsm");
}

let usablePerfObj;
/* istanbul ignore else */
// eslint-disable-next-line block-scoped-var

if (typeof Services !== "undefined") {
  // Borrow the high-resolution timer from the hidden window....
  // eslint-disable-next-line block-scoped-var
  usablePerfObj = Services.appShell.hiddenDOMWindow.performance;
} else {
  // we must be running in content space
  // eslint-disable-next-line no-undef
  usablePerfObj = performance;
}

function _PerfService(options) {
  // For testing, so that we can use a fake Window.performance object with
  // known state.
  if (options && options.performanceObj) {
    this._perf = options.performanceObj;
  } else {
    this._perf = usablePerfObj;
  }
}
_PerfService.prototype = {
  /**
   * Calls the underlying mark() method on the appropriate Window.performance
   * object to add a mark with the given name to the appropriate performance
   * timeline.
   *
   * @param  {String} name  the name to give the current mark
   * @return {void}
   */
  mark: function mark(str) {
    this._perf.mark(str);
  },

  /**
   * Calls the underlying getEntriesByName on the appropriate Window.performance
   * object.
   *
   * @param  {String} name
   * @param  {String} type eg "mark"
   * @return {Array}       Performance* objects
   */
  getEntriesByName: function getEntriesByName(name, type) {
    return this._perf.getEntriesByName(name, type);
  },

  /**
   * The timeOrigin property from the appropriate performance object.
   * Used to ensure that timestamps from the add-on code and the content code
   * are comparable.
   *
   * @note If this is called from a context without a window
   * (eg a JSM in chrome), it will return the timeOrigin of the XUL hidden
   * window, which appears to be the first created window (and thus
   * timeOrigin) in the browser.  Note also, however, there is also a private
   * hidden window, presumably for private browsing, which appears to be
   * created dynamically later.  Exactly how/when that shows up needs to be
   * investigated.
   *
   * @return {Number} A double of milliseconds with a precision of 0.5us.
   */
  get timeOrigin() {
    return this._perf.timeOrigin;
  },

  /**
   * Returns the "absolute" version of performance.now(), i.e. one that
   * should ([bug 1401406](https://bugzilla.mozilla.org/show_bug.cgi?id=1401406)
   * be comparable across both chrome and content.
   *
   * @return {Number}
   */
  absNow: function absNow() {
    return this.timeOrigin + this._perf.now();
  },

  /**
   * This returns the absolute startTime from the most recent performance.mark()
   * with the given name.
   *
   * @param  {String} name  the name to lookup the start time for
   *
   * @return {Number}       the returned start time, as a DOMHighResTimeStamp
   *
   * @throws {Error}        "No Marks with the name ..." if none are available
   *
   * @note Always surround calls to this by try/catch.  Otherwise your code
   * may fail when the `privacy.resistFingerprinting` pref is true.  When
   * this pref is set, all attempts to get marks will likely fail, which will
   * cause this method to throw.
   *
   * See [bug 1369303](https://bugzilla.mozilla.org/show_bug.cgi?id=1369303)
   * for more info.
   */
  getMostRecentAbsMarkStartByName(name) {
    let entries = this.getEntriesByName(name, "mark");

    if (!entries.length) {
      throw new Error(`No marks with the name ${name}`);
    }

    let mostRecentEntry = entries[entries.length - 1];
    return this._perf.timeOrigin + mostRecentEntry.startTime;
  }

};
var perfService = new _PerfService();

/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoreRecommendations", function() { return MoreRecommendations; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class MoreRecommendations extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      read_more_endpoint
    } = this.props;

    if (read_more_endpoint) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "more-recommendations",
        href: read_more_endpoint,
        "data-l10n-id": "newtab-pocket-more-recommendations"
      });
    }

    return null;
  }

}

/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_PocketLoggedInCta", function() { return _PocketLoggedInCta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PocketLoggedInCta", function() { return PocketLoggedInCta; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class _PocketLoggedInCta extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const {
      pocketCta
    } = this.props.Pocket;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "pocket-logged-in-cta"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      className: "pocket-cta-button",
      href: pocketCta.ctaUrl ? pocketCta.ctaUrl : "https://getpocket.com/"
    }, pocketCta.ctaButton ? pocketCta.ctaButton : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-cta-button"
    })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      href: pocketCta.ctaUrl ? pocketCta.ctaUrl : "https://getpocket.com/"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "cta-text"
    }, pocketCta.ctaText ? pocketCta.ctaText : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-cta-text"
    }))));
  }

}
const PocketLoggedInCta = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  Pocket: state.Pocket
}))(_PocketLoggedInCta);

/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topics", function() { return Topics; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class Topic extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      url,
      name
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      key: name,
      href: url
    }, name));
  }

}
class Topics extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      topics
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "topics"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-read-more"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, topics && topics.map(t => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Topic, {
      key: t.name,
      url: t.url,
      name: t.name
    }))));
  }

}

/***/ }),
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_TopSites", function() { return _TopSites; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSites", function() { return TopSites; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(46);
/* harmony import */ var content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _SearchShortcutsForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(69);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(81);
/* harmony import */ var _TopSiteForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(83);
/* harmony import */ var _TopSite__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(70);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */












function topSiteIconType(link) {
  if (link.customScreenshotURL) {
    return "custom_screenshot";
  }

  if (link.tippyTopIcon || link.faviconRef === "tippytop") {
    return "tippytop";
  }

  if (link.faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_RICH_FAVICON_SIZE"]) {
    return "rich_icon";
  }

  if (link.screenshot && link.faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_CORNER_FAVICON_SIZE"]) {
    return "screenshot_with_icon";
  }

  if (link.screenshot) {
    return "screenshot";
  }

  return "no_image";
}
/**
 * Iterates through TopSites and counts types of images.
 * @param acc Accumulator for reducer.
 * @param topsite Entry in TopSites.
 */


function countTopSitesIconsTypes(topSites) {
  const countTopSitesTypes = (acc, link) => {
    acc[topSiteIconType(link)]++;
    return acc;
  };

  return topSites.reduce(countTopSitesTypes, {
    custom_screenshot: 0,
    screenshot_with_icon: 0,
    screenshot: 0,
    tippytop: 0,
    rich_icon: 0,
    no_image: 0
  });
}

class _TopSites extends react__WEBPACK_IMPORTED_MODULE_6___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEditFormClose = this.onEditFormClose.bind(this);
    this.onSearchShortcutsFormClose = this.onSearchShortcutsFormClose.bind(this);
  }
  /**
   * Dispatch session statistics about the quality of TopSites icons and pinned count.
   */


  _dispatchTopSitesStats() {
    const topSites = this._getVisibleTopSites().filter(topSite => topSite !== null && topSite !== undefined);

    const topSitesIconsStats = countTopSitesIconsTypes(topSites);
    const topSitesPinned = topSites.filter(site => !!site.isPinned).length;
    const searchShortcuts = topSites.filter(site => !!site.searchTopSite).length; // Dispatch telemetry event with the count of TopSites images types.

    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
      data: {
        topsites_icon_stats: topSitesIconsStats,
        topsites_pinned: topSitesPinned,
        topsites_search_shortcuts: searchShortcuts
      }
    }));
  }
  /**
   * Return the TopSites that are visible based on prefs and window width.
   */


  _getVisibleTopSites() {
    // We hide 2 sites per row when not in the wide layout.
    let sitesPerRow = common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_8__["TOP_SITES_MAX_SITES_PER_ROW"]; // $break-point-widest = 1072px (from _variables.scss)

    if (!global.matchMedia(`(min-width: 1072px)`).matches) {
      sitesPerRow -= 2;
    }

    return this.props.TopSites.rows.slice(0, this.props.TopSitesRows * sitesPerRow);
  }

  componentDidUpdate() {
    this._dispatchTopSitesStats();
  }

  componentDidMount() {
    this._dispatchTopSitesStats();
  }

  onEditFormClose() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      event: "TOP_SITES_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_CANCEL_EDIT
    });
  }

  onSearchShortcutsFormClose() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      event: "SEARCH_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL
    });
  }

  render() {
    const {
      props
    } = this;
    const {
      editForm,
      showSearchShortcutsForm
    } = props.TopSites;
    const extraMenuOptions = ["AddTopSite"];

    if (props.Prefs.values["improvesearch.topSiteSearchShortcuts"]) {
      extraMenuOptions.push("AddSearchShortcut");
    }

    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__["ComponentPerfTimer"], {
      id: "topsites",
      initialized: props.TopSites.initialized,
      dispatch: props.dispatch
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: "top-sites",
      icon: "topsites",
      id: "topsites",
      title: this.props.title || {
        id: "newtab-section-header-topsites"
      },
      extraMenuOptions: extraMenuOptions,
      showPrefName: "feeds.topsites",
      eventSource: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      collapsed: props.TopSites.pref ? props.TopSites.pref.collapsed : undefined,
      isFixed: props.isFixed,
      isFirst: props.isFirst,
      isLast: props.isLast,
      dispatch: props.dispatch
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_TopSite__WEBPACK_IMPORTED_MODULE_10__["TopSiteList"], {
      TopSites: props.TopSites,
      TopSitesRows: props.TopSitesRows,
      dispatch: props.dispatch,
      topSiteIconType: topSiteIconType
    }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-topsites-wrapper"
    }, editForm && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-topsites"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__["ModalOverlayWrapper"], {
      unstyled: true,
      onClose: this.onEditFormClose,
      innerClassName: "modal"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_TopSiteForm__WEBPACK_IMPORTED_MODULE_9__["TopSiteForm"], _extends({
      site: props.TopSites.rows[editForm.index],
      onClose: this.onEditFormClose,
      dispatch: this.props.dispatch
    }, editForm)))), showSearchShortcutsForm && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-search-shortcuts"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__["ModalOverlayWrapper"], {
      unstyled: true,
      onClose: this.onSearchShortcutsFormClose,
      innerClassName: "modal"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_SearchShortcutsForm__WEBPACK_IMPORTED_MODULE_7__["SearchShortcutsForm"], {
      TopSites: props.TopSites,
      onClose: this.onSearchShortcutsFormClose,
      dispatch: this.props.dispatch
    }))))));
  }

}
const TopSites = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])((state, props) => ({
  // For SPOC Experiment only, take TopSites from DiscoveryStream TopSites that takes in SPOC Data
  TopSites: props.TopSitesWithSpoc || state.TopSites,
  Prefs: state.Prefs,
  TopSitesRows: state.Prefs.values.topSitesRows
}))(_TopSites);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SOURCE", function() { return TOP_SITES_SOURCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_RICH_FAVICON_SIZE", function() { return MIN_RICH_FAVICON_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_CORNER_FAVICON_SIZE", function() { return MIN_CORNER_FAVICON_SIZE; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const TOP_SITES_SOURCE = "TOP_SITES";
const TOP_SITES_CONTEXT_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "DeleteUrl"];
const TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS = ["PinSpocTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "ShowPrivacyInfo"]; // the special top site for search shortcut experiment can only have the option to unpin (which removes) the topsite

const TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS = ["CheckPinTopSite", "Separator", "BlockUrl"]; // minimum size necessary to show a rich icon instead of a screenshot

const MIN_RICH_FAVICON_SIZE = 96; // minimum size necessary to show any icon in the top left corner with a screenshot

const MIN_CORNER_FAVICON_SIZE = 16;

/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectableSearchShortcut", function() { return SelectableSearchShortcut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchShortcutsForm", function() { return SearchShortcutsForm; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(68);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class SelectableSearchShortcut extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const {
      shortcut,
      selected
    } = this.props;
    const imageStyle = {
      backgroundImage: `url("${shortcut.tippyTopIcon}")`
    };
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-outer search-shortcut"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
      type: "checkbox",
      id: shortcut.keyword,
      name: shortcut.keyword,
      checked: selected,
      onChange: this.props.onChange
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label", {
      htmlFor: shortcut.keyword
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-inner"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "tile"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-icon rich-icon",
      style: imageStyle,
      "data-fallback": "@"
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-icon search-topsite"
    })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "title"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      dir: "auto"
    }, shortcut.keyword))))));
  }

}
class SearchShortcutsForm extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onSaveButtonClick = this.onSaveButtonClick.bind(this); // clone the shortcuts and add them to the state so we can add isSelected property

    const shortcuts = [];
    const {
      rows,
      searchShortcuts
    } = props.TopSites;
    searchShortcuts.forEach(shortcut => {
      shortcuts.push({ ...shortcut,
        isSelected: !!rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword)
      });
    });
    this.state = {
      shortcuts
    };
  }

  handleChange(event) {
    const {
      target
    } = event;
    const {
      name,
      checked
    } = target;
    this.setState(prevState => {
      const shortcuts = prevState.shortcuts.slice();
      let shortcut = shortcuts.find(({
        keyword
      }) => keyword === name);
      shortcut.isSelected = checked;
      return {
        shortcuts
      };
    });
  }

  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }

  onSaveButtonClick(ev) {
    ev.preventDefault(); // Check if there were any changes and act accordingly

    const {
      rows
    } = this.props.TopSites;
    const pinQueue = [];
    const unpinQueue = [];
    this.state.shortcuts.forEach(shortcut => {
      const alreadyPinned = rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword);

      if (shortcut.isSelected && !alreadyPinned) {
        pinQueue.push(this._searchTopSite(shortcut));
      } else if (!shortcut.isSelected && alreadyPinned) {
        unpinQueue.push({
          url: alreadyPinned.url,
          searchVendor: shortcut.shortURL
        });
      }
    }); // Tell the feed to do the work.

    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].UPDATE_PINNED_SEARCH_SHORTCUTS,
      data: {
        addedShortcuts: pinQueue,
        deletedShortcuts: unpinQueue
      }
    })); // Send the Telemetry pings.

    pinQueue.forEach(shortcut => {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_SOURCE"],
        event: "SEARCH_EDIT_ADD",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    unpinQueue.forEach(shortcut => {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_SOURCE"],
        event: "SEARCH_EDIT_DELETE",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    this.props.onClose();
  }

  _searchTopSite(shortcut) {
    return {
      url: shortcut.url,
      searchTopSite: true,
      label: shortcut.keyword,
      searchVendor: shortcut.shortURL
    };
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form", {
      className: "topsite-form"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "search-shortcuts-container"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": "newtab-topsites-add-search-engine-header"
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, this.state.shortcuts.map(shortcut => react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SelectableSearchShortcut, {
      key: shortcut.keyword,
      shortcut: shortcut,
      selected: shortcut.isSelected,
      onChange: this.handleChange
    })))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
      className: "actions"
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.onSaveButtonClick,
      "data-l10n-id": "newtab-topsites-save-button"
    })));
  }

}

/***/ }),
/* 70 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteLink", function() { return TopSiteLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSite", function() { return TopSite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSitePlaceholder", function() { return TopSitePlaceholder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteList", function() { return TopSiteList; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(61);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(81);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(39);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const SPOC_TYPE = "SPOC";
class TopSiteLink extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      screenshotImage: null
    };
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onKeyPress = this.onKeyPress.bind(this);
  }
  /*
   * Helper to determine whether the drop zone should allow a drop. We only allow
   * dropping top sites for now.
   */


  _allowDrop(e) {
    return e.dataTransfer.types.includes("text/topsite-index");
  }

  onDragEvent(event) {
    switch (event.type) {
      case "click":
        // Stop any link clicks if we started any dragging
        if (this.dragged) {
          event.preventDefault();
        }

        break;

      case "dragstart":
        this.dragged = true;
        event.dataTransfer.effectAllowed = "move";
        event.dataTransfer.setData("text/topsite-index", this.props.index);
        event.target.blur();
        this.props.onDragEvent(event, this.props.index, this.props.link, this.props.title);
        break;

      case "dragend":
        this.props.onDragEvent(event);
        break;

      case "dragenter":
      case "dragover":
      case "drop":
        if (this._allowDrop(event)) {
          event.preventDefault();
          this.props.onDragEvent(event, this.props.index);
        }

        break;

      case "mousedown":
        // Block the scroll wheel from appearing for middle clicks on search top sites
        if (event.button === 1 && this.props.link.searchTopSite) {
          event.preventDefault();
        } // Reset at the first mouse event of a potential drag


        this.dragged = false;
        break;
    }
  }
  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */


  static getNextStateFromProps(nextProps, prevState) {
    const {
      screenshot
    } = nextProps.link;
    const imageInState = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].isRemoteImageLocal(prevState.screenshotImage, screenshot);

    if (imageInState) {
      return null;
    } // Since image was updated, attempt to revoke old image blob URL, if it exists.


    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].maybeRevokeBlobObjectURL(prevState.screenshotImage);
    return {
      screenshotImage: content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].createLocalImageObject(screenshot)
    };
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillMount() {
    const nextState = TopSiteLink.getNextStateFromProps(this.props, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillReceiveProps(nextProps) {
    const nextState = TopSiteLink.getNextStateFromProps(nextProps, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  }

  componentWillUnmount() {
    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].maybeRevokeBlobObjectURL(this.state.screenshotImage);
  }

  onKeyPress(event) {
    // If we have tabbed to a search shortcut top site, and we click 'enter',
    // we should execute the onClick function. This needs to be added because
    // search top sites are anchor tags without an href. See bug 1483135
    if (this.props.link.searchTopSite && event.key === "Enter") {
      this.props.onClick(event);
    }
  }

  render() {
    const {
      children,
      className,
      defaultStyle,
      isDraggable,
      link,
      onClick,
      title
    } = this.props;
    const topSiteOuterClassName = `top-site-outer${className ? ` ${className}` : ""}${link.isDragged ? " dragged" : ""}${link.searchTopSite ? " search-shortcut" : ""}`;
    const {
      tippyTopIcon,
      faviconSize
    } = link;
    const [letterFallback] = title;
    let imageClassName;
    let imageStyle;
    let showSmallFavicon = false;
    let smallFaviconStyle;
    let smallFaviconFallback;
    let hasScreenshotImage = this.state.screenshotImage && this.state.screenshotImage.url;

    if (defaultStyle) {
      // force no styles (letter fallback) even if the link has imagery
      smallFaviconFallback = false;
    } else if (link.searchTopSite) {
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon})`
      };
      smallFaviconStyle = {
        backgroundImage: `url(${tippyTopIcon})`
      };
    } else if (link.customScreenshotURL) {
      // assume high quality custom screenshot and use rich icon styles and class names
      // TopSite spoc experiment only
      const spocImgURL = link.type === SPOC_TYPE ? link.customScreenshotURL : "";
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: hasScreenshotImage ? `url(${this.state.screenshotImage.url})` : `url(${spocImgURL})`
      };
    } else if (tippyTopIcon || faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_RICH_FAVICON_SIZE"]) {
      // styles and class names for top sites with rich icons
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon || link.favicon})`
      };
    } else {
      // styles and class names for top sites with screenshot + small icon in top left corner
      imageClassName = `screenshot${hasScreenshotImage ? " active" : ""}`;
      imageStyle = {
        backgroundImage: hasScreenshotImage ? `url(${this.state.screenshotImage.url})` : "none"
      }; // only show a favicon in top left if it's greater than 16x16

      if (faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_CORNER_FAVICON_SIZE"]) {
        showSmallFavicon = true;
        smallFaviconStyle = {
          backgroundImage: `url(${link.favicon})`
        };
      } else if (hasScreenshotImage) {
        // Don't show a small favicon if there is no screenshot, because that
        // would result in two fallback icons
        showSmallFavicon = true;
        smallFaviconFallback = true;
      }
    }

    let draggableProps = {};

    if (isDraggable) {
      draggableProps = {
        onClick: this.onDragEvent,
        onDragEnd: this.onDragEvent,
        onDragStart: this.onDragEvent,
        onMouseDown: this.onDragEvent
      };
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", _extends({
      className: topSiteOuterClassName,
      onDrop: this.onDragEvent,
      onDragOver: this.onDragEvent,
      onDragEnter: this.onDragEvent,
      onDragLeave: this.onDragEvent
    }, draggableProps), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-inner"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      className: "top-site-button",
      href: link.searchTopSite ? undefined : link.url,
      tabIndex: "0",
      onKeyPress: this.onKeyPress,
      onClick: onClick,
      draggable: true
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "tile",
      "aria-hidden": true,
      "data-fallback": letterFallback
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: imageClassName,
      style: imageStyle
    }), link.searchTopSite && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-icon search-topsite"
    }), showSmallFavicon && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-icon default-icon",
      "data-fallback": smallFaviconFallback && letterFallback,
      style: smallFaviconStyle
    })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: `title ${link.isPinned ? "pinned" : ""}`
    }, link.isPinned && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "icon icon-pin-small"
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      dir: "auto"
    }, title)), link.type === SPOC_TYPE ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "top-site-spoc-label"
    }, "Sponsored") : null), children, link.type === SPOC_TYPE ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: link.flightId,
      rows: [{
        id: link.id,
        pos: link.pos,
        shim: link.shim && link.shim.impression
      }],
      dispatch: this.props.dispatch,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"]
    }) : null));
  }

}
TopSiteLink.defaultProps = {
  title: "",
  link: {},
  isDraggable: true
};
class TopSite extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false
    };
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
  }
  /**
   * Report to telemetry additional information about the item.
   */


  _getTelemetryInfo() {
    const value = {
      icon_type: this.props.link.iconType
    }; // Filter out "not_pinned" type for being the default

    if (this.props.link.isPinned) {
      value.card_type = "pinned";
    }

    if (this.props.link.searchTopSite) {
      // Set the card_type as "search" regardless of its pinning status
      value.card_type = "search";
      value.search_vendor = this.props.link.hostname;
    }

    if (this.props.link.type === SPOC_TYPE) {
      value.card_type = "spoc";
    }

    return {
      value
    };
  }

  userEvent(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
      event,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      action_position: this.props.index
    }, this._getTelemetryInfo())));
  }

  onLinkClick(event) {
    this.userEvent("CLICK"); // Specially handle a top site link click for "typed" frecency bonus as
    // specified as a property on the link.

    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;

    if (!this.props.link.searchTopSite) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      })); // Fire off a spoc specific impression.

      if (this.props.link.type === SPOC_TYPE) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
          source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
          click: 0,
          tiles: [{
            id: this.props.link.id,
            pos: this.props.link.pos,
            shim: this.props.link.shim && this.props.link.shim.click
          }]
        }));
      }
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].FILL_SEARCH_TERM,
        data: {
          label: this.props.link.label
        }
      }));
    }
  }

  onMenuUpdate(isOpen) {
    if (isOpen) {
      this.props.onActivate(this.props.index);
    } else {
      this.props.onActivate();
    }
  }

  render() {
    const {
      props
    } = this;
    const {
      link
    } = props;
    const isContextMenuOpen = props.activeIndex === props.index;
    const title = link.label || link.hostname;
    const menuOptions = link.type !== SPOC_TYPE ? _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_CONTEXT_MENU_OPTIONS"] : _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS"];
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSiteLink, _extends({}, props, {
      onClick: this.onLinkClick,
      onDragEvent: this.props.onDragEvent,
      className: `${props.className || ""}${isContextMenuOpen ? " active" : ""}`,
      title: title
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_7__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuUpdate
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_2__["LinkMenu"], {
      dispatch: props.dispatch,
      index: props.index,
      onUpdate: this.onMenuUpdate,
      options: link.searchTopSite ? _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS"] : menuOptions,
      site: link,
      shouldSendImpressionStats: link.type === SPOC_TYPE,
      siteInfo: this._getTelemetryInfo(),
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"]
    }))));
  }

}
TopSite.defaultProps = {
  link: {},

  onActivate() {}

};
class TopSitePlaceholder extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEditButtonClick = this.onEditButtonClick.bind(this);
  }

  onEditButtonClick() {
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index: this.props.index
      }
    });
  }

  render() {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSiteLink, _extends({}, this.props, {
      className: `placeholder ${this.props.className || ""}`,
      isDraggable: false
    }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      "aria-haspopup": "true",
      className: "context-menu-button edit-button icon",
      "data-l10n-id": "newtab-menu-topsites-placeholder-tooltip",
      onClick: this.onEditButtonClick
    }));
  }

}
class TopSiteList extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  static get DEFAULT_STATE() {
    return {
      activeIndex: null,
      draggedIndex: null,
      draggedSite: null,
      draggedTitle: null,
      topSitesPreview: null
    };
  }

  constructor(props) {
    super(props);
    this.state = TopSiteList.DEFAULT_STATE;
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onActivate = this.onActivate.bind(this);
  }

  componentWillReceiveProps(nextProps) {
    if (this.state.draggedSite) {
      const prevTopSites = this.props.TopSites && this.props.TopSites.rows;
      const newTopSites = nextProps.TopSites && nextProps.TopSites.rows;

      if (prevTopSites && prevTopSites[this.state.draggedIndex] && prevTopSites[this.state.draggedIndex].url === this.state.draggedSite.url && (!newTopSites[this.state.draggedIndex] || newTopSites[this.state.draggedIndex].url !== this.state.draggedSite.url)) {
        // We got the new order from the redux store via props. We can clear state now.
        this.setState(TopSiteList.DEFAULT_STATE);
      }
    }
  }

  userEvent(event, index) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      action_position: index
    }));
  }

  onDragEvent(event, index, link, title) {
    switch (event.type) {
      case "dragstart":
        this.dropped = false;
        this.setState({
          draggedIndex: index,
          draggedSite: link,
          draggedTitle: title,
          activeIndex: null
        });
        this.userEvent("DRAG", index);
        break;

      case "dragend":
        if (!this.dropped) {
          // If there was no drop event, reset the state to the default.
          this.setState(TopSiteList.DEFAULT_STATE);
        }

        break;

      case "dragenter":
        if (index === this.state.draggedIndex) {
          this.setState({
            topSitesPreview: null
          });
        } else {
          this.setState({
            topSitesPreview: this._makeTopSitesPreview(index)
          });
        }

        break;

      case "drop":
        if (index !== this.state.draggedIndex) {
          this.dropped = true;
          this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
            type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_INSERT,
            data: {
              site: {
                url: this.state.draggedSite.url,
                label: this.state.draggedTitle,
                customScreenshotURL: this.state.draggedSite.customScreenshotURL,
                // Only if the search topsites experiment is enabled
                ...(this.state.draggedSite.searchTopSite && {
                  searchTopSite: true
                })
              },
              index,
              draggedFromIndex: this.state.draggedIndex
            }
          }));
          this.userEvent("DROP", index);
        }

        break;
    }
  }

  _getTopSites() {
    // Make a copy of the sites to truncate or extend to desired length
    let topSites = this.props.TopSites.rows.slice();
    topSites.length = this.props.TopSitesRows * common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_6__["TOP_SITES_MAX_SITES_PER_ROW"];
    return topSites;
  }
  /**
   * Make a preview of the topsites that will be the result of dropping the currently
   * dragged site at the specified index.
   */


  _makeTopSitesPreview(index) {
    const topSites = this._getTopSites();

    topSites[this.state.draggedIndex] = null;
    const pinnedOnly = topSites.map(site => site && site.isPinned ? site : null);
    const unpinned = topSites.filter(site => site && !site.isPinned);
    const siteToInsert = Object.assign({}, this.state.draggedSite, {
      isPinned: true,
      isDragged: true
    });

    if (!pinnedOnly[index]) {
      pinnedOnly[index] = siteToInsert;
    } else {
      // Find the hole to shift the pinned site(s) towards. We shift towards the
      // hole left by the site being dragged.
      let holeIndex = index;
      const indexStep = index > this.state.draggedIndex ? -1 : 1;

      while (pinnedOnly[holeIndex]) {
        holeIndex += indexStep;
      } // Shift towards the hole.


      const shiftingStep = index > this.state.draggedIndex ? 1 : -1;

      while (holeIndex !== index) {
        const nextIndex = holeIndex + shiftingStep;
        pinnedOnly[holeIndex] = pinnedOnly[nextIndex];
        holeIndex = nextIndex;
      }

      pinnedOnly[index] = siteToInsert;
    } // Fill in the remaining holes with unpinned sites.


    const preview = pinnedOnly;

    for (let i = 0; i < preview.length; i++) {
      if (!preview[i]) {
        preview[i] = unpinned.shift() || null;
      }
    }

    return preview;
  }

  onActivate(index) {
    this.setState({
      activeIndex: index
    });
  }

  render() {
    const {
      props
    } = this;

    const topSites = this.state.topSitesPreview || this._getTopSites();

    const topSitesUI = [];
    const commonProps = {
      onDragEvent: this.onDragEvent,
      dispatch: props.dispatch
    }; // We assign a key to each placeholder slot. We need it to be independent
    // of the slot index (i below) so that the keys used stay the same during
    // drag and drop reordering and the underlying DOM nodes are reused.
    // This mostly (only?) affects linux so be sure to test on linux before changing.

    let holeIndex = 0; // On narrow viewports, we only show 6 sites per row. We'll mark the rest as
    // .hide-for-narrow to hide in CSS via @media query.

    const maxNarrowVisibleIndex = props.TopSitesRows * 6;

    for (let i = 0, l = topSites.length; i < l; i++) {
      const link = topSites[i] && Object.assign({}, topSites[i], {
        iconType: this.props.topSiteIconType(topSites[i])
      });
      const slotProps = {
        key: link ? link.url : holeIndex++,
        index: i
      };

      if (i >= maxNarrowVisibleIndex) {
        slotProps.className = "hide-for-narrow";
      }

      topSitesUI.push(!link ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSitePlaceholder, _extends({}, slotProps, commonProps)) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSite, _extends({
        link: link,
        activeIndex: this.state.activeIndex,
        onActivate: this.onActivate
      }, slotProps, commonProps)));
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", {
      className: `top-sites-list${this.state.draggedSite ? " dnd-active" : ""}`
    }, topSitesUI);
  }

}

/***/ }),
/* 71 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HorizontalRule", function() { return HorizontalRule; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class HorizontalRule extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", {
      className: "ds-hr"
    });
  }

}

/***/ }),
/* 72 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Navigation", function() { return Navigation; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(49);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class Topic extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      url,
      name
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__["SafeAnchor"], {
      key: name,
      url: url
    }, name));
  }

}
class Navigation extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      links
    } = this.props || [];
    const {
      alignment
    } = this.props || "centered";
    const header = this.props.header || {};
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: `ds-navigation ds-navigation-${alignment}`
    }, header.title ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: header.title
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-header"
    })) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, links && links.map(t => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Topic, {
      key: t.name,
      url: t.url,
      name: t.name
    })))));
  }

}

/***/ }),
/* 73 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionTitle", function() { return SectionTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SectionTitle extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      header: {
        title,
        subtitle
      }
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-section-title"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "title"
    }, title), subtitle ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "subtitle"
    }, subtitle) : null);
  }

}

/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectLayoutRender", function() { return selectLayoutRender; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const selectLayoutRender = ({
  state = {},
  prefs = {},
  rollCache = [],
  lang = ""
}) => {
  const {
    layout,
    feeds,
    spocs
  } = state;
  let spocIndexMap = {};
  let bufferRollCache = []; // Records the chosen and unchosen spocs by the probability selection.

  let chosenSpocs = new Set();
  let unchosenSpocs = new Set();

  function rollForSpocs(data, spocsConfig, spocsData, placementName) {
    if (!spocIndexMap[placementName] && spocIndexMap[placementName] !== 0) {
      spocIndexMap[placementName] = 0;
    }

    const results = [...data];

    for (let position of spocsConfig.positions) {
      const spoc = spocsData[spocIndexMap[placementName]];

      if (!spoc) {
        break;
      } // Cache random number for a position


      let rickRoll;

      if (!rollCache.length) {
        rickRoll = Math.random();
        bufferRollCache.push(rickRoll);
      } else {
        rickRoll = rollCache.shift();
        bufferRollCache.push(rickRoll);
      }

      if (rickRoll <= spocsConfig.probability) {
        spocIndexMap[placementName]++;

        if (!spocs.blocked.includes(spoc.url)) {
          results.splice(position.index, 0, spoc);
          chosenSpocs.add(spoc);
        }
      } else {
        unchosenSpocs.add(spoc);
      }
    }

    return results;
  }

  const positions = {};
  const DS_COMPONENTS = ["Message", "TextPromo", "SectionTitle", "Navigation", "CardGrid", "Hero", "HorizontalRule", "List"];
  const filterArray = [];

  if (!prefs["feeds.topsites"]) {
    filterArray.push("TopSites");
  }

  if (!lang.startsWith("en-")) {
    filterArray.push("Navigation");
  }

  if (!prefs["feeds.section.topstories"]) {
    filterArray.push(...DS_COMPONENTS);
  }

  const placeholderComponent = component => {
    if (!component.feed) {
      // TODO we now need a placeholder for topsites and textPromo.
      return { ...component,
        data: {
          spocs: []
        }
      };
    }

    const data = {
      recommendations: []
    };
    let items = 0;

    if (component.properties && component.properties.items) {
      items = component.properties.items;
    }

    for (let i = 0; i < items; i++) {
      data.recommendations.push({
        placeholder: true
      });
    }

    return { ...component,
      data
    };
  }; // TODO update devtools to show placements


  const handleSpocs = (data, component) => {
    let result = [...data]; // Do we ever expect to possibly have a spoc.

    if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "spocs";
      const spocsData = spocs.data[placementName]; // We expect a spoc, spocs are loaded, and the server returned spocs.

      if (spocs.loaded && spocsData && spocsData.length) {
        result = rollForSpocs(result, component.spocs, spocsData, placementName);
      }
    }

    return result;
  };

  const handleComponent = component => {
    return { ...component,
      data: {
        spocs: handleSpocs([], component)
      }
    };
  };

  const handleComponentWithFeed = component => {
    positions[component.type] = positions[component.type] || 0;
    let data = {
      recommendations: []
    };
    const feed = feeds.data[component.feed.url];

    if (feed && feed.data) {
      data = { ...feed.data,
        recommendations: [...(feed.data.recommendations || [])]
      };
    }

    if (component && component.properties && component.properties.offset) {
      data = { ...data,
        recommendations: data.recommendations.slice(component.properties.offset)
      };
    }

    data = { ...data,
      recommendations: handleSpocs(data.recommendations, component)
    };
    let items = 0;

    if (component.properties && component.properties.items) {
      items = Math.min(component.properties.items, data.recommendations.length);
    } // loop through a component items
    // Store the items position sequentially for multiple components of the same type.
    // Example: A second card grid starts pos offset from the last card grid.


    for (let i = 0; i < items; i++) {
      data.recommendations[i] = { ...data.recommendations[i],
        pos: positions[component.type]++
      };
    }

    return { ...component,
      data
    };
  };

  const renderLayout = () => {
    const renderedLayoutArray = [];

    for (const row of layout.filter(r => r.components.filter(c => !filterArray.includes(c.type)).length)) {
      let components = [];
      renderedLayoutArray.push({ ...row,
        components
      });

      for (const component of row.components.filter(c => !filterArray.includes(c.type))) {
        const spocsConfig = component.spocs;

        if (spocsConfig || component.feed) {
          // TODO make sure this still works for different loading cases.
          if (component.feed && !feeds.data[component.feed.url] || spocsConfig && spocsConfig.positions && spocsConfig.positions.length && !spocs.loaded) {
            components.push(placeholderComponent(component));
            return renderedLayoutArray;
          }

          if (component.feed) {
            components.push(handleComponentWithFeed(component));
          } else {
            components.push(handleComponent(component));
          }
        } else {
          components.push(component);
        }
      }
    }

    return renderedLayoutArray;
  };

  const layoutRender = renderLayout(); // If empty, fill rollCache with random probability values from bufferRollCache

  if (!rollCache.length) {
    rollCache.push(...bufferRollCache);
  } // Generate the payload for the SPOCS Fill ping. Note that a SPOC could be rejected
  // by the `probability_selection` first, then gets chosen for the next position. For
  // all other SPOCS that never went through the probabilistic selection, its reason will
  // be "out_of_position".


  let spocsFill = [];

  if (spocs.loaded && feeds.loaded && spocs.data.spocs) {
    const chosenSpocsFill = [...chosenSpocs].map(spoc => ({
      id: spoc.id,
      reason: "n/a",
      displayed: 1,
      full_recalc: 0
    }));
    const unchosenSpocsFill = [...unchosenSpocs].filter(spoc => !chosenSpocs.has(spoc)).map(spoc => ({
      id: spoc.id,
      reason: "probability_selection",
      displayed: 0,
      full_recalc: 0
    }));
    const outOfPositionSpocsFill = spocs.data.spocs.slice(spocIndexMap.spocs).filter(spoc => !unchosenSpocs.has(spoc)).map(spoc => ({
      id: spoc.id,
      reason: "out_of_position",
      displayed: 0,
      full_recalc: 0
    }));
    spocsFill = [...chosenSpocsFill, ...unchosenSpocsFill, ...outOfPositionSpocsFill];
  }

  return {
    spocsFill,
    layoutRender
  };
};

/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_TopSites", function() { return _TopSites; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSites", function() { return TopSites; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class _TopSites extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  // Find a SPOC that doesn't already exist in User's TopSites
  getFirstAvailableSpoc(topSites, data) {
    const {
      spocs
    } = data;

    if (!spocs || spocs.length === 0) {
      return null;
    }

    const userTopSites = new Set(topSites.map(topSite => topSite && topSite.url)); // We "clean urls" with http in TopSiteForm.jsx
    // Spoc domains are in the format 'sponsorname.com'

    return spocs.find(spoc => !userTopSites.has(spoc.url) && !userTopSites.has(`http://${spoc.domain}`) && !userTopSites.has(`https://${spoc.domain}`) && !userTopSites.has(`http://www.${spoc.domain}`) && !userTopSites.has(`https://www.${spoc.domain}`));
  } // Find the first empty or unpinned index we can place the SPOC in.
  // Return -1 if no available index and we should push it at the end.


  getFirstAvailableIndex(topSites, promoAlignment) {
    if (promoAlignment === "left") {
      return topSites.findIndex(topSite => !topSite || !topSite.isPinned);
    } // The row isn't full so we can push it to the end of the row.


    if (topSites.length < common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_MAX_SITES_PER_ROW"]) {
      return -1;
    } // If the row is full, we can check the row first for unpinned topsites to replace.
    // Else we can check after the row. This behavior is how unpinned topsites move while drag and drop.


    let endOfRow = common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_MAX_SITES_PER_ROW"] - 1;

    for (let i = endOfRow; i >= 0; i--) {
      if (!topSites[i] || !topSites[i].isPinned) {
        return i;
      }
    }

    for (let i = endOfRow + 1; i < topSites.length; i++) {
      if (!topSites[i] || !topSites[i].isPinned) {
        return i;
      }
    }

    return -1;
  }

  insertSpocContent(TopSites, data, promoAlignment) {
    if (!TopSites.rows || TopSites.rows.length === 0 || !data.spocs || data.spocs.length === 0) {
      return null;
    }

    let topSites = [...TopSites.rows];
    const topSiteSpoc = this.getFirstAvailableSpoc(topSites, data);

    if (!topSiteSpoc) {
      return null;
    }

    const link = {
      customScreenshotURL: topSiteSpoc.image_src,
      type: "SPOC",
      label: topSiteSpoc.sponsor,
      title: topSiteSpoc.sponsor,
      url: topSiteSpoc.url,
      flightId: topSiteSpoc.flight_id,
      id: topSiteSpoc.id,
      guid: topSiteSpoc.id,
      shim: topSiteSpoc.shim,
      // For now we are assuming position based on intended position.
      // Actual position can shift based on other content.
      // We also hard code left and right to be 0 and 7.
      // We send the intended postion in the ping.
      pos: promoAlignment === "left" ? 0 : 7
    };
    const firstAvailableIndex = this.getFirstAvailableIndex(topSites, promoAlignment);

    if (firstAvailableIndex === -1) {
      topSites.push(link);
    } else {
      // Normal insertion will not work since pinned topsites are in their correct index already
      // Similar logic is done to handle drag and drop with pinned topsites in TopSite.jsx
      let shiftedTopSite = topSites[firstAvailableIndex];
      let index = firstAvailableIndex + 1; // Shift unpinned topsites to the right by finding the next unpinned topsite to replace

      while (shiftedTopSite) {
        if (index === topSites.length) {
          topSites.push(shiftedTopSite);
          shiftedTopSite = null;
        } else if (topSites[index] && topSites[index].isPinned) {
          index += 1;
        } else {
          const nextTopSite = topSites[index];
          topSites[index] = shiftedTopSite;
          shiftedTopSite = nextTopSite;
          index += 1;
        }
      }

      topSites[firstAvailableIndex] = link;
    }

    return { ...TopSites,
      rows: topSites
    };
  }

  render() {
    const {
      header = {},
      data,
      promoAlignment,
      TopSites
    } = this.props;
    const TopSitesWithSpoc = TopSites && data && promoAlignment ? this.insertSpocContent(TopSites, data, promoAlignment) : null;
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: `ds-top-sites ${TopSitesWithSpoc ? "top-sites-spoc" : ""}`
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_1__["TopSites"], {
      isFixed: true,
      title: header.title,
      TopSitesWithSpoc: TopSitesWithSpoc
    }));
  }

}
const TopSites = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  TopSites: state.TopSites
}))(_TopSites);

/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Search", function() { return _Search; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Search", function() { return Search; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* globals ContentSearchUIController */






class _Search extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onSearchClick = this.onSearchClick.bind(this);
    this.onSearchHandoffClick = this.onSearchHandoffClick.bind(this);
    this.onSearchHandoffPaste = this.onSearchHandoffPaste.bind(this);
    this.onSearchHandoffDrop = this.onSearchHandoffDrop.bind(this);
    this.onInputMount = this.onInputMount.bind(this);
    this.onSearchHandoffButtonMount = this.onSearchHandoffButtonMount.bind(this);
  }

  handleEvent(event) {
    // Also track search events with our own telemetry
    if (event.detail.type === "Search") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "SEARCH"
      }));
    }
  }

  onSearchClick(event) {
    window.gContentSearchController.search(event);
  }

  doSearchHandoff(text) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].HANDOFF_SEARCH_TO_AWESOMEBAR,
      data: {
        text
      }
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].FAKE_FOCUS_SEARCH
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "SEARCH_HANDOFF"
    }));

    if (text) {
      this.props.dispatch({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].HIDE_SEARCH
      });
    }
  }

  onSearchHandoffClick(event) {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    event.preventDefault();
    this.doSearchHandoff();
  }

  onSearchHandoffPaste(event) {
    event.preventDefault();
    this.doSearchHandoff(event.clipboardData.getData("Text"));
  }

  onSearchHandoffDrop(event) {
    event.preventDefault();
    let text = event.dataTransfer.getData("text");

    if (text) {
      this.doSearchHandoff(text);
    }
  }

  componentWillUnmount() {
    delete window.gContentSearchController;
  }

  onInputMount(input) {
    if (input) {
      // The "healthReportKey" and needs to be "newtab" or "abouthome" so that
      // BrowserUsageTelemetry.jsm knows to handle events with this name, and
      // can add the appropriate telemetry probes for search. Without the correct
      // name, certain tests like browser_UsageTelemetry_content.js will fail
      // (See github ticket #2348 for more details)
      const healthReportKey = content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__["IS_NEWTAB"] ? "newtab" : "abouthome"; // The "searchSource" needs to be "newtab" or "homepage" and is sent with
      // the search data and acts as context for the search request (See
      // nsISearchEngine.getSubmission). It is necessary so that search engine
      // plugins can correctly atribute referrals. (See github ticket #3321 for
      // more details)

      const searchSource = content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__["IS_NEWTAB"] ? "newtab" : "homepage"; // gContentSearchController needs to exist as a global so that tests for
      // the existing about:home can find it; and so it allows these tests to pass.
      // In the future, when activity stream is default about:home, this can be renamed

      window.gContentSearchController = new ContentSearchUIController(input, input.parentNode, healthReportKey, searchSource);
      addEventListener("ContentSearchClient", this);
    } else {
      window.gContentSearchController = null;
      removeEventListener("ContentSearchClient", this);
    }
  }

  onSearchHandoffButtonMount(button) {
    // Keep a reference to the button for use during "paste" event handling.
    this._searchHandoffButton = button;
  }
  /*
   * Do not change the ID on the input field, as legacy newtab code
   * specifically looks for the id 'newtab-search-text' on input fields
   * in order to execute searches in various tests
   */


  render() {
    const wrapperClassName = ["search-wrapper", this.props.hide && "search-hidden", this.props.fakeFocus && "fake-focus"].filter(v => v).join(" ");
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: wrapperClassName
    }, this.props.showLogo && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "logo-and-wordmark"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "logo"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wordmark"
    })), !this.props.handoffEnabled && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "search-inner-wrapper"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      id: "newtab-search-text",
      "data-l10n-id": "newtab-search-box-search-the-web-input",
      maxLength: "256",
      ref: this.onInputMount,
      type: "search"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      id: "searchSubmit",
      className: "search-button",
      "data-l10n-id": "newtab-search-box-search-button",
      onClick: this.onSearchClick
    })), this.props.handoffEnabled && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "search-inner-wrapper"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "search-handoff-button",
      "data-l10n-id": "newtab-search-box-search-the-web-input",
      ref: this.onSearchHandoffButtonMount,
      onClick: this.onSearchHandoffClick,
      tabIndex: "-1"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "fake-textbox",
      "data-l10n-id": "newtab-search-box-search-the-web-text"
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "search",
      className: "fake-editable",
      tabIndex: "-1",
      "aria-hidden": "true",
      onDrop: this.onSearchHandoffDrop,
      onPaste: this.onSearchHandoffPaste
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "fake-caret"
    })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "search",
      style: {
        display: "none"
      },
      ref: this.onInputMount
    })));
  }

}
const Search = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])()(_Search);

/***/ }),
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetectUserSessionStart", function() { return DetectUserSessionStart; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var common_PerfService_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
class DetectUserSessionStart {
  constructor(store, options = {}) {
    this._store = store; // Overrides for testing

    this.document = options.document || global.document;
    this._perfService = options.perfService || common_PerfService_jsm__WEBPACK_IMPORTED_MODULE_1__["perfService"];
    this._onVisibilityChange = this._onVisibilityChange.bind(this);
  }
  /**
   * sendEventOrAddListener - Notify immediately if the page is already visible,
   *                    or else set up a listener for when visibility changes.
   *                    This is needed for accurate session tracking for telemetry,
   *                    because tabs are pre-loaded.
   */


  sendEventOrAddListener() {
    if (this.document.visibilityState === VISIBLE) {
      // If the document is already visible, to the user, send a notification
      // immediately that a session has started.
      this._sendEvent();
    } else {
      // If the document is not visible, listen for when it does become visible.
      this.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * _sendEvent - Sends a message to the main process to indicate the current
   *              tab is now visible to the user, includes the
   *              visibility_event_rcvd_ts time in ms from the UNIX epoch.
   */


  _sendEvent() {
    this._perfService.mark("visibility_event_rcvd_ts");

    try {
      let visibility_event_rcvd_ts = this._perfService.getMostRecentAbsMarkStartByName("visibility_event_rcvd_ts");

      this._store.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        data: {
          visibility_event_rcvd_ts
        }
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up.
    }
  }
  /**
   * _onVisibilityChange - If the visibility has changed to visible, sends a notification
   *                      and removes the event listener. This should only be called once per tab.
   */


  _onVisibilityChange() {
    if (this.document.visibilityState === VISIBLE) {
      this._sendEvent();

      this.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))

/***/ }),
/* 78 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(9);

// EXTERNAL MODULE: external "PropTypes"
var external_PropTypes_ = __webpack_require__(10);
var external_PropTypes_default = /*#__PURE__*/__webpack_require__.n(external_PropTypes_);

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/map_sync.js
/*
 * Synchronously map an identifier or an array of identifiers to the best
 * `FluentBundle` instance(s).
 *
 * @param {Iterable} iterable
 * @param {string|Array<string>} ids
 * @returns {FluentBundle|Array<FluentBundle>}
 */
function mapBundleSync(iterable, ids) {
  if (!Array.isArray(ids)) {
    return getBundleForId(iterable, ids);
  }

  return ids.map(
    id => getBundleForId(iterable, id)
  );
}

/*
 * Find the best `FluentBundle` with the translation for `id`.
 */
function getBundleForId(iterable, id) {
  for (const bundle of iterable) {
    if (bundle.hasMessage(id)) {
      return bundle;
    }
  }

  return null;
}

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/map_async.js
/*
 * Asynchronously map an identifier or an array of identifiers to the best
 * `FluentBundle` instance(s).
 *
 * @param {AsyncIterable} iterable
 * @param {string|Array<string>} ids
 * @returns {Promise<FluentBundle|Array<FluentBundle>>}
 */
async function mapBundleAsync(iterable, ids) {
  if (!Array.isArray(ids)) {
    for await (const bundle of iterable) {
      if (bundle.hasMessage(ids)) {
        return bundle;
      }
    }
  }

  let remainingCount = ids.length;
  const foundBundles = new Array(remainingCount).fill(null);

  for await (const bundle of iterable) {
    for (const [index, id] of ids.entries()) {
      if (!foundBundles[index] && bundle.hasMessage(id)) {
        foundBundles[index] = bundle;
        remainingCount--;
      }

      // Return early when all ids have been mapped to contexts.
      if (remainingCount === 0) {
        return foundBundles;
      }
    }
  }

  return foundBundles;
}

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/index.js
/*
 * @module fluent-sequence
 * @overview Manage ordered sequences of FluentBundles.
 */




// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs
/*
 * Base CachedIterable class.
 */
class CachedIterable extends Array {
    /**
     * Create a `CachedIterable` instance from an iterable or, if another
     * instance of `CachedIterable` is passed, return it without any
     * modifications.
     *
     * @param {Iterable} iterable
     * @returns {CachedIterable}
     */
    static from(iterable) {
        if (iterable instanceof this) {
            return iterable;
        }

        return new this(iterable);
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs


/*
 * CachedSyncIterable caches the elements yielded by an iterable.
 *
 * It can be used to iterate over an iterable many times without depleting the
 * iterable.
 */
class cached_sync_iterable_CachedSyncIterable extends CachedIterable {
    /**
     * Create an `CachedSyncIterable` instance.
     *
     * @param {Iterable} iterable
     * @returns {CachedSyncIterable}
     */
    constructor(iterable) {
        super();

        if (Symbol.iterator in Object(iterable)) {
            this.iterator = iterable[Symbol.iterator]();
        } else {
            throw new TypeError("Argument must implement the iteration protocol.");
        }
    }

    [Symbol.iterator]() {
        const cached = this;
        let cur = 0;

        return {
            next() {
                if (cached.length <= cur) {
                    cached.push(cached.iterator.next());
                }
                return cached[cur++];
            }
        };
    }

    /**
     * This method allows user to consume the next element from the iterator
     * into the cache.
     *
     * @param {number} count - number of elements to consume
     */
    touchNext(count = 1) {
        let idx = 0;
        while (idx++ < count) {
            const last = this[this.length - 1];
            if (last && last.done) {
                break;
            }
            this.push(this.iterator.next());
        }
        // Return the last cached {value, done} object to allow the calling
        // code to decide if it needs to call touchNext again.
        return this[this.length - 1];
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs


/*
 * CachedAsyncIterable caches the elements yielded by an async iterable.
 *
 * It can be used to iterate over an iterable many times without depleting the
 * iterable.
 */
class cached_async_iterable_CachedAsyncIterable extends CachedIterable {
    /**
     * Create an `CachedAsyncIterable` instance.
     *
     * @param {Iterable} iterable
     * @returns {CachedAsyncIterable}
     */
    constructor(iterable) {
        super();

        if (Symbol.asyncIterator in Object(iterable)) {
            this.iterator = iterable[Symbol.asyncIterator]();
        } else if (Symbol.iterator in Object(iterable)) {
            this.iterator = iterable[Symbol.iterator]();
        } else {
            throw new TypeError("Argument must implement the iteration protocol.");
        }
    }

    /**
     * Synchronous iterator over the cached elements.
     *
     * Return a generator object implementing the iterator protocol over the
     * cached elements of the original (async or sync) iterable.
     */
    [Symbol.iterator]() {
        const cached = this;
        let cur = 0;

        return {
            next() {
                if (cached.length === cur) {
                    return {value: undefined, done: true};
                }
                return cached[cur++];
            }
        };
    }

    /**
     * Asynchronous iterator caching the yielded elements.
     *
     * Elements yielded by the original iterable will be cached and available
     * synchronously. Returns an async generator object implementing the
     * iterator protocol over the elements of the original (async or sync)
     * iterable.
     */
    [Symbol.asyncIterator]() {
        const cached = this;
        let cur = 0;

        return {
            async next() {
                if (cached.length <= cur) {
                    cached.push(await cached.iterator.next());
                }
                return cached[cur++];
            }
        };
    }

    /**
     * This method allows user to consume the next element from the iterator
     * into the cache.
     *
     * @param {number} count - number of elements to consume
     */
    async touchNext(count = 1) {
        let idx = 0;
        while (idx++ < count) {
            const last = this[this.length - 1];
            if (last && last.done) {
                break;
            }
            this.push(await this.iterator.next());
        }
        // Return the last cached {value, done} object to allow the calling
        // code to decide if it needs to call touchNext again.
        return this[this.length - 1];
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs



// CONCATENATED MODULE: ./node_modules/fluent-react/src/localization.js


/*
 * `ReactLocalization` handles translation formatting and fallback.
 *
 * The current negotiated fallback chain of languages is stored in the
 * `ReactLocalization` instance in form of an iterable of `FluentBundle`
 * instances.  This iterable is used to find the best existing translation for
 * a given identifier.
 *
 * `Localized` components must subscribe to the changes of the
 * `ReactLocalization`'s fallback chain.  When the fallback chain changes (the
 * `bundles` iterable is set anew), all subscribed compontent must relocalize.
 *
 * The `ReactLocalization` class instances are exposed to `Localized` elements
 * via the `LocalizationProvider` component.
 */

class localization_ReactLocalization {
  constructor(bundles) {
    this.bundles = cached_sync_iterable_CachedSyncIterable.from(bundles);
    this.subs = new Set();
  }
  /*
   * Subscribe a `Localized` component to changes of `bundles`.
   */


  subscribe(comp) {
    this.subs.add(comp);
  }
  /*
   * Unsubscribe a `Localized` component from `bundles` changes.
   */


  unsubscribe(comp) {
    this.subs.delete(comp);
  }
  /*
   * Set a new `bundles` iterable and trigger the retranslation.
   */


  setBundles(bundles) {
    this.bundles = cached_sync_iterable_CachedSyncIterable.from(bundles); // Update all subscribed Localized components.

    this.subs.forEach(comp => comp.relocalize());
  }

  getBundle(id) {
    return mapBundleSync(this.bundles, id);
  }
  /*
   * Find a translation by `id` and format it to a string using `args`.
   */


  getString(id, args, fallback) {
    const bundle = this.getBundle(id);

    if (bundle === null) {
      return fallback || id;
    }

    const msg = bundle.getMessage(id);
    return bundle.format(msg, args);
  }

}
function isReactLocalization(props, propName) {
  const prop = props[propName];

  if (prop instanceof localization_ReactLocalization) {
    return null;
  }

  return new Error(`The ${propName} context field must be an instance of ReactLocalization.`);
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/markup.js
/* eslint-env browser */
let cachedParseMarkup; // We use a function creator to make the reference to `document` lazy. At the
// same time, it's eager enough to throw in <LocalizationProvider> as soon as
// it's first mounted which reduces the risk of this error making it to the
// runtime without developers noticing it in development.

function createParseMarkup() {
  if (typeof document === "undefined") {
    // We can't use <template> to sanitize translations.
    throw new Error("`document` is undefined. Without it, translations cannot " + "be safely sanitized. Consult the documentation at " + "https://github.com/projectfluent/fluent.js/wiki/React-Overlays.");
  }

  if (!cachedParseMarkup) {
    const template = document.createElement("template");

    cachedParseMarkup = function parseMarkup(str) {
      template.innerHTML = str;
      return Array.from(template.content.childNodes);
    };
  }

  return cachedParseMarkup;
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/provider.js




/*
 * The Provider component for the `ReactLocalization` class.
 *
 * Exposes a `ReactLocalization` instance to all descendants via React's
 * context feature.  It makes translations available to all localizable
 * elements in the descendant's render tree without the need to pass them
 * explicitly.
 *
 *     <LocalizationProvider bundles={}>
 *         
 *     </LocalizationProvider>
 *
 * The `LocalizationProvider` component takes one prop: `bundles`.  It should
 * be an iterable of `FluentBundle` instances in order of the user's
 * preferred languages.  The `FluentBundle` instances will be used by
 * `ReactLocalization` to format translations.  If a translation is missing in
 * one instance, `ReactLocalization` will fall back to the next one.
 */

class provider_LocalizationProvider extends external_React_["Component"] {
  constructor(props) {
    super(props);
    const {
      bundles,
      parseMarkup
    } = props;

    if (bundles === undefined) {
      throw new Error("LocalizationProvider must receive the bundles prop.");
    }

    if (!bundles[Symbol.iterator]) {
      throw new Error("The bundles prop must be an iterable.");
    }

    this.l10n = new localization_ReactLocalization(bundles);
    this.parseMarkup = parseMarkup || createParseMarkup();
  }

  getChildContext() {
    return {
      l10n: this.l10n,
      parseMarkup: this.parseMarkup
    };
  }

  componentWillReceiveProps(next) {
    const {
      bundles
    } = next;

    if (bundles !== this.props.bundles) {
      this.l10n.setBundles(bundles);
    }
  }

  render() {
    return external_React_["Children"].only(this.props.children);
  }

}
provider_LocalizationProvider.childContextTypes = {
  l10n: isReactLocalization,
  parseMarkup: external_PropTypes_default.a.func
};
provider_LocalizationProvider.propTypes = {
  children: external_PropTypes_default.a.element.isRequired,
  bundles: isIterable,
  parseMarkup: external_PropTypes_default.a.func
};

function isIterable(props, propName, componentName) {
  const prop = props[propName];

  if (Symbol.iterator in Object(prop)) {
    return null;
  }

  return new Error(`The ${propName} prop supplied to ${componentName} must be an iterable.`);
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/with_localization.js


function withLocalization(Inner) {
  class WithLocalization extends external_React_["Component"] {
    componentDidMount() {
      const {
        l10n
      } = this.context;

      if (l10n) {
        l10n.subscribe(this);
      }
    }

    componentWillUnmount() {
      const {
        l10n
      } = this.context;

      if (l10n) {
        l10n.unsubscribe(this);
      }
    }
    /*
     * Rerender this component in a new language.
     */


    relocalize() {
      // When the `ReactLocalization`'s fallback chain changes, update the
      // component.
      this.forceUpdate();
    }
    /*
     * Find a translation by `id` and format it to a string using `args`.
     */


    getString(id, args, fallback) {
      const {
        l10n
      } = this.context;

      if (!l10n) {
        return fallback || id;
      }

      return l10n.getString(id, args, fallback);
    }

    render() {
      return Object(external_React_["createElement"])(Inner, Object.assign( // getString needs to be re-bound on updates to trigger a re-render
      {
        getString: (...args) => this.getString(...args)
      }, this.props));
    }

  }

  WithLocalization.displayName = `WithLocalization(${displayName(Inner)})`;
  WithLocalization.contextTypes = {
    l10n: isReactLocalization
  };
  return WithLocalization;
}

function displayName(component) {
  return component.displayName || component.name || "Component";
}
// CONCATENATED MODULE: ./node_modules/fluent-react/vendor/omittedCloseTags.js
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in this directory.
 */
// For HTML, certain tags should omit their close tag. We keep a whitelist for
// those special-case tags.
var omittedCloseTags = {
  area: true,
  base: true,
  br: true,
  col: true,
  embed: true,
  hr: true,
  img: true,
  input: true,
  keygen: true,
  link: true,
  meta: true,
  param: true,
  source: true,
  track: true,
  wbr: true // NOTE: menuitem's close tag should be omitted, but that causes problems.

};
/* harmony default export */ var vendor_omittedCloseTags = (omittedCloseTags);
// CONCATENATED MODULE: ./node_modules/fluent-react/vendor/voidElementTags.js
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in this directory.
 */
 // For HTML, certain tags cannot have children. This has the same purpose as
// `omittedCloseTags` except that `menuitem` should still have its closing tag.

var voidElementTags = {
  menuitem: true,
  ...vendor_omittedCloseTags
};
/* harmony default export */ var vendor_voidElementTags = (voidElementTags);
// CONCATENATED MODULE: ./node_modules/fluent-react/src/localized.js



 // Match the opening angle bracket (<) in HTML tags, and HTML entities like
// &amp;, &#0038;, &#x0026;.

const reMarkup = /<|&#?\w+;/;
/*
 * Prepare props passed to `Localized` for formatting.
 */

function toArguments(props) {
  const args = {};
  const elems = {};

  for (const [propname, propval] of Object.entries(props)) {
    if (propname.startsWith("$")) {
      const name = propname.substr(1);
      args[name] = propval;
    } else if (Object(external_React_["isValidElement"])(propval)) {
      // We'll try to match localNames of elements found in the translation with
      // names of elements passed as props. localNames are always lowercase.
      const name = propname.toLowerCase();
      elems[name] = propval;
    }
  }

  return [args, elems];
}
/*
 * The `Localized` class renders its child with translated props and children.
 *
 *     <Localized id="hello-world">
 *         <p>{'Hello, world!'}</p>
 *     </Localized>
 *
 * The `id` prop should be the unique identifier of the translation.  Any
 * attributes found in the translation will be applied to the wrapped element.
 *
 * Arguments to the translation can be passed as `$`-prefixed props on
 * `Localized`.
 *
 *     <Localized id="hello-world" $username={name}>
 *         <p>{'Hello, { $username }!'}</p>
 *     </Localized>
 *
 *  It's recommended that the contents of the wrapped component be a string
 *  expression.  The string will be used as the ultimate fallback if no
 *  translation is available.  It also makes it easy to grep for strings in the
 *  source code.
 */


class localized_Localized extends external_React_["Component"] {
  componentDidMount() {
    const {
      l10n
    } = this.context;

    if (l10n) {
      l10n.subscribe(this);
    }
  }

  componentWillUnmount() {
    const {
      l10n
    } = this.context;

    if (l10n) {
      l10n.unsubscribe(this);
    }
  }
  /*
   * Rerender this component in a new language.
   */


  relocalize() {
    // When the `ReactLocalization`'s fallback chain changes, update the
    // component.
    this.forceUpdate();
  }

  render() {
    const {
      l10n,
      parseMarkup
    } = this.context;
    const {
      id,
      attrs,
      children: elem
    } = this.props; // Validate that the child element isn't an array

    if (Array.isArray(elem)) {
      throw new Error("<Localized/> expected to receive a single " + "React node child");
    }

    if (!l10n) {
      // Use the wrapped component as fallback.
      return elem;
    }

    const bundle = l10n.getBundle(id);

    if (bundle === null) {
      // Use the wrapped component as fallback.
      return elem;
    }

    const msg = bundle.getMessage(id);
    const [args, elems] = toArguments(this.props);
    const messageValue = bundle.format(msg, args); // Check if the fallback is a valid element -- if not then it's not
    // markup (e.g. nothing or a fallback string) so just use the
    // formatted message value

    if (!Object(external_React_["isValidElement"])(elem)) {
      return messageValue;
    } // The default is to forbid all message attributes. If the attrs prop exists
    // on the Localized instance, only set message attributes which have been
    // explicitly allowed by the developer.


    if (attrs && msg.attrs) {
      var localizedProps = {};

      for (const [name, allowed] of Object.entries(attrs)) {
        if (allowed && msg.attrs.hasOwnProperty(name)) {
          localizedProps[name] = bundle.format(msg.attrs[name], args);
        }
      }
    } // If the wrapped component is a known void element, explicitly dismiss the
    // message value and do not pass it to cloneElement in order to avoid the
    // "void element tags must neither have `children` nor use
    // `dangerouslySetInnerHTML`" error.


    if (elem.type in vendor_voidElementTags) {
      return Object(external_React_["cloneElement"])(elem, localizedProps);
    } // If the message has a null value, we're only interested in its attributes.
    // Do not pass the null value to cloneElement as it would nuke all children
    // of the wrapped component.


    if (messageValue === null) {
      return Object(external_React_["cloneElement"])(elem, localizedProps);
    } // If the message value doesn't contain any markup nor any HTML entities,
    // insert it as the only child of the wrapped component.


    if (!reMarkup.test(messageValue)) {
      return Object(external_React_["cloneElement"])(elem, localizedProps, messageValue);
    } // If the message contains markup, parse it and try to match the children
    // found in the translation with the props passed to this Localized.


    const translationNodes = parseMarkup(messageValue);
    const translatedChildren = translationNodes.map(childNode => {
      if (childNode.nodeType === childNode.TEXT_NODE) {
        return childNode.textContent;
      } // If the child is not expected just take its textContent.


      if (!elems.hasOwnProperty(childNode.localName)) {
        return childNode.textContent;
      }

      const sourceChild = elems[childNode.localName]; // If the element passed as a prop to <Localized> is a known void element,
      // explicitly dismiss any textContent which might have accidentally been
      // defined in the translation to prevent the "void element tags must not
      // have children" error.

      if (sourceChild.type in vendor_voidElementTags) {
        return sourceChild;
      } // TODO Protect contents of elements wrapped in <Localized>
      // https://github.com/projectfluent/fluent.js/issues/184
      // TODO  Control localizable attributes on elements passed as props
      // https://github.com/projectfluent/fluent.js/issues/185


      return Object(external_React_["cloneElement"])(sourceChild, null, childNode.textContent);
    });
    return Object(external_React_["cloneElement"])(elem, localizedProps, ...translatedChildren);
  }

}
localized_Localized.contextTypes = {
  l10n: isReactLocalization,
  parseMarkup: external_PropTypes_default.a.func
};
localized_Localized.propTypes = {
  children: external_PropTypes_default.a.node
};
// CONCATENATED MODULE: ./node_modules/fluent-react/src/index.js
/* concated harmony reexport LocalizationProvider */__webpack_require__.d(__webpack_exports__, "LocalizationProvider", function() { return provider_LocalizationProvider; });
/* concated harmony reexport withLocalization */__webpack_require__.d(__webpack_exports__, "withLocalization", function() { return withLocalization; });
/* concated harmony reexport Localized */__webpack_require__.d(__webpack_exports__, "Localized", function() { return localized_Localized; });
/* concated harmony reexport ReactLocalization */__webpack_require__.d(__webpack_exports__, "ReactLocalization", function() { return localization_ReactLocalization; });
/* concated harmony reexport isReactLocalization */__webpack_require__.d(__webpack_exports__, "isReactLocalization", function() { return isReactLocalization; });
/*
 * @module fluent-react
 * @overview
 *

 * `fluent-react` provides React bindings for Fluent.  It takes advantage of
 * React's Components system and the virtual DOM.  Translations are exposed to
 * components via the provider pattern.
 *
 *     <LocalizationProvider bundles={}>
 *         <Localized id="hello-world">
 *             <p>{'Hello, world!'}</p>
 *         </Localized>
 *     </LocalizationProvider>
 *
 * Consult the documentation of the `LocalizationProvider` and the `Localized`
 * components for more information.
 */





/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(9);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// EXTERNAL MODULE: ./content-src/asrouter/templates/EOYSnippet/EOYSnippet.schema.json
var EOYSnippet_schema = __webpack_require__(13);

// CONCATENATED MODULE: ./content-src/asrouter/components/Button/Button.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const ALLOWED_STYLE_TAGS = ["color", "backgroundColor"];
const Button = props => {
  const style = {}; // Add allowed style tags from props, e.g. props.color becomes style={color: props.color}

  for (const tag of ALLOWED_STYLE_TAGS) {
    if (typeof props[tag] !== "undefined") {
      style[tag] = props[tag];
    }
  } // remove border if bg is set to something custom


  if (style.backgroundColor) {
    style.border = "0";
  }

  return external_React_default.a.createElement("button", {
    onClick: props.onClick,
    className: props.className || "ASRouterButton secondary",
    style: style
  }, props.children);
};
// CONCATENATED MODULE: ./content-src/asrouter/components/ConditionalWrapper/ConditionalWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
// lifted from https://gist.github.com/kitze/23d82bb9eb0baabfd03a6a720b1d637f
const ConditionalWrapper = ({
  condition,
  wrap,
  children
}) => condition ? wrap(children) : children;

/* harmony default export */ var ConditionalWrapper_ConditionalWrapper = (ConditionalWrapper);
// EXTERNAL MODULE: ./content-src/asrouter/components/RichText/RichText.jsx
var RichText = __webpack_require__(14);

// EXTERNAL MODULE: ./content-src/asrouter/template-utils.js
var template_utils = __webpack_require__(15);

// EXTERNAL MODULE: ./content-src/asrouter/templates/SimpleSnippet/SimpleSnippet.schema.json
var SimpleSnippet_schema = __webpack_require__(16);

// CONCATENATED MODULE: ./content-src/asrouter/components/SnippetBase/SnippetBase.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SnippetBase_SnippetBase extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onBlockClicked = this.onBlockClicked.bind(this);
    this.onDismissClicked = this.onDismissClicked.bind(this);
    this.setBlockButtonRef = this.setBlockButtonRef.bind(this);
    this.onBlockButtonMouseEnter = this.onBlockButtonMouseEnter.bind(this);
    this.onBlockButtonMouseLeave = this.onBlockButtonMouseLeave.bind(this);
    this.state = {
      blockButtonHover: false
    };
  }

  componentDidMount() {
    if (this.blockButtonRef) {
      this.blockButtonRef.addEventListener("mouseenter", this.onBlockButtonMouseEnter);
      this.blockButtonRef.addEventListener("mouseleave", this.onBlockButtonMouseLeave);
    }
  }

  componentWillUnmount() {
    if (this.blockButtonRef) {
      this.blockButtonRef.removeEventListener("mouseenter", this.onBlockButtonMouseEnter);
      this.blockButtonRef.removeEventListener("mouseleave", this.onBlockButtonMouseLeave);
    }
  }

  setBlockButtonRef(element) {
    this.blockButtonRef = element;
  }

  onBlockButtonMouseEnter() {
    this.setState({
      blockButtonHover: true
    });
  }

  onBlockButtonMouseLeave() {
    this.setState({
      blockButtonHover: false
    });
  }

  onBlockClicked() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "BLOCK",
        id: this.props.UISurface
      });
    }

    this.props.onBlock();
  }

  onDismissClicked() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "DISMISS",
        id: this.props.UISurface
      });
    }

    this.props.onDismiss();
  }

  renderDismissButton() {
    if (this.props.footerDismiss) {
      return external_React_default.a.createElement("div", {
        className: "footer"
      }, external_React_default.a.createElement("div", {
        className: "footer-content"
      }, external_React_default.a.createElement("button", {
        className: "ASRouterButton secondary",
        onClick: this.onDismissClicked
      }, this.props.content.scene2_dismiss_button_text)));
    }

    const label = this.props.content.block_button_text || SimpleSnippet_schema.properties.block_button_text.default;
    return external_React_default.a.createElement("button", {
      className: "blockButton",
      title: label,
      "aria-label": label,
      onClick: this.onBlockClicked,
      ref: this.setBlockButtonRef
    });
  }

  render() {
    const {
      props
    } = this;
    const {
      blockButtonHover
    } = this.state;
    const containerClassName = `SnippetBaseContainer${props.className ? ` ${props.className}` : ""}${blockButtonHover ? " active" : ""}`;
    return external_React_default.a.createElement("div", {
      className: containerClassName,
      style: this.props.textStyle
    }, external_React_default.a.createElement("div", {
      className: "innerWrapper"
    }, props.children), this.renderDismissButton());
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/SimpleSnippet/SimpleSnippet.jsx
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const DEFAULT_ICON_PATH = "chrome://branding/content/icon64.png"; // Alt text placeholder in case the prop from the server isn't available

const ICON_ALT_TEXT = "";
class SimpleSnippet_SimpleSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = this.onButtonClick.bind(this);
  }

  onButtonClick() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        id: this.props.UISurface
      });
    }

    const {
      button_url
    } = this.props.content; // If button_url is defined handle it as OPEN_URL action

    const type = this.props.content.button_action || button_url && "OPEN_URL";
    this.props.onAction({
      type,
      data: {
        args: this.props.content.button_action_args || button_url
      }
    });

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  _shouldRenderButton() {
    return this.props.content.button_action || this.props.onButtonClick || this.props.content.button_url;
  }

  renderTitle() {
    const {
      title
    } = this.props.content;
    return title ? external_React_default.a.createElement("h3", {
      className: `title ${this._shouldRenderButton() ? "title-inline" : ""}`
    }, this.renderTitleIcon(), " ", title) : null;
  }

  renderTitleIcon() {
    const titleIconLight = Object(template_utils["safeURI"])(this.props.content.title_icon);
    const titleIconDark = Object(template_utils["safeURI"])(this.props.content.title_icon_dark_theme || this.props.content.title_icon);

    if (!titleIconLight) {
      return null;
    }

    return external_React_default.a.createElement(external_React_default.a.Fragment, null, external_React_default.a.createElement("span", {
      className: "titleIcon icon-light-theme",
      style: {
        backgroundImage: `url("${titleIconLight}")`
      }
    }), external_React_default.a.createElement("span", {
      className: "titleIcon icon-dark-theme",
      style: {
        backgroundImage: `url("${titleIconDark}")`
      }
    }));
  }

  renderButton() {
    const {
      props
    } = this;

    if (!this._shouldRenderButton()) {
      return null;
    }

    return external_React_default.a.createElement(Button, {
      onClick: props.onButtonClick || this.onButtonClick,
      color: props.content.button_color,
      backgroundColor: props.content.button_background_color
    }, props.content.button_label);
  }

  renderText() {
    const {
      props
    } = this;
    return external_React_default.a.createElement(RichText["RichText"], {
      text: props.content.text,
      customElements: this.props.customElements,
      localization_id: "text",
      links: props.content.links,
      sendClick: props.sendClick
    });
  }

  wrapSectionHeader(url) {
    return function (children) {
      return external_React_default.a.createElement("a", {
        href: url
      }, children);
    };
  }

  wrapSnippetContent(children) {
    return external_React_default.a.createElement("div", {
      className: "innerContentWrapper"
    }, children);
  }

  renderSectionHeader() {
    const {
      props
    } = this; // an icon and text must be specified to render the section header

    if (props.content.section_title_icon && props.content.section_title_text) {
      const sectionTitleIconLight = Object(template_utils["safeURI"])(props.content.section_title_icon);
      const sectionTitleIconDark = Object(template_utils["safeURI"])(props.content.section_title_icon_dark_theme || props.content.section_title_icon);
      const sectionTitleURL = props.content.section_title_url;
      return external_React_default.a.createElement("div", {
        className: "section-header"
      }, external_React_default.a.createElement("h3", {
        className: "section-title"
      }, external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
        condition: sectionTitleURL,
        wrap: this.wrapSectionHeader(sectionTitleURL)
      }, external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-light-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconLight}")`
        }
      }), external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-dark-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconDark}")`
        }
      }), external_React_default.a.createElement("span", {
        className: "section-title-text"
      }, props.content.section_title_text))));
    }

    return null;
  }

  render() {
    const {
      props
    } = this;
    const sectionHeader = this.renderSectionHeader();
    let className = "SimpleSnippet";

    if (props.className) {
      className += ` ${props.className}`;
    }

    if (props.content.tall) {
      className += " tall";
    }

    if (sectionHeader) {
      className += " has-section-header";
    }

    return external_React_default.a.createElement("div", {
      className: "snippet-hover-wrapper"
    }, external_React_default.a.createElement(SnippetBase_SnippetBase, _extends({}, props, {
      className: className,
      textStyle: this.props.textStyle
    }), sectionHeader, external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
      condition: sectionHeader,
      wrap: this.wrapSnippetContent
    }, external_React_default.a.createElement("img", {
      src: Object(template_utils["safeURI"])(props.content.icon) || DEFAULT_ICON_PATH,
      className: "icon icon-light-theme",
      alt: props.content.icon_alt_text || ICON_ALT_TEXT
    }), external_React_default.a.createElement("img", {
      src: Object(template_utils["safeURI"])(props.content.icon_dark_theme || props.content.icon) || DEFAULT_ICON_PATH,
      className: "icon icon-dark-theme",
      alt: props.content.icon_alt_text || ICON_ALT_TEXT
    }), external_React_default.a.createElement("div", null, this.renderTitle(), " ", external_React_default.a.createElement("p", {
      className: "body"
    }, this.renderText()), this.props.extraContent), external_React_default.a.createElement("div", null, this.renderButton()))));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/EOYSnippet/EOYSnippet.jsx
function EOYSnippet_extends() { EOYSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return EOYSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class EOYSnippet_EOYSnippetBase extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  /**
   * setFrequencyValue - `frequency` form parameter value should be `monthly`
   *                     if `monthly-checkbox` is selected or `single` otherwise
   */


  setFrequencyValue() {
    const frequencyCheckbox = this.refs.form.querySelector("#monthly-checkbox");

    if (frequencyCheckbox.checked) {
      this.refs.form.querySelector("[name='frequency']").value = "monthly";
    }
  }

  handleSubmit(event) {
    event.preventDefault();
    this.setFrequencyValue();
    this.refs.form.submit();

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  renderDonations() {
    const fieldNames = ["first", "second", "third", "fourth"];
    const numberFormat = new Intl.NumberFormat(this.props.content.locale || navigator.language, {
      style: "currency",
      currency: this.props.content.currency_code,
      minimumFractionDigits: 0
    }); // Default to `second` button

    const {
      selected_button
    } = this.props.content;
    const btnStyle = {
      color: this.props.content.button_color,
      backgroundColor: this.props.content.button_background_color
    };
    const donationURLParams = [];
    const paramsStartIndex = this.props.content.donation_form_url.indexOf("?");

    for (const entry of new URLSearchParams(this.props.content.donation_form_url.slice(paramsStartIndex)).entries()) {
      donationURLParams.push(entry);
    }

    return external_React_default.a.createElement("form", {
      className: "EOYSnippetForm",
      action: this.props.content.donation_form_url,
      method: this.props.form_method,
      onSubmit: this.handleSubmit,
      ref: "form"
    }, donationURLParams.map(([key, value], idx) => external_React_default.a.createElement("input", {
      type: "hidden",
      name: key,
      value: value,
      key: idx
    })), fieldNames.map((field, idx) => {
      const button_name = `donation_amount_${field}`;
      const amount = this.props.content[button_name];
      return external_React_default.a.createElement(external_React_default.a.Fragment, {
        key: idx
      }, external_React_default.a.createElement("input", {
        type: "radio",
        name: "amount",
        value: amount,
        id: field,
        defaultChecked: button_name === selected_button
      }), external_React_default.a.createElement("label", {
        htmlFor: field,
        className: "donation-amount"
      }, numberFormat.format(amount)));
    }), external_React_default.a.createElement("div", {
      className: "monthly-checkbox-container"
    }, external_React_default.a.createElement("input", {
      id: "monthly-checkbox",
      type: "checkbox"
    }), external_React_default.a.createElement("label", {
      htmlFor: "monthly-checkbox"
    }, this.props.content.monthly_checkbox_label_text)), external_React_default.a.createElement("input", {
      type: "hidden",
      name: "frequency",
      value: "single"
    }), external_React_default.a.createElement("input", {
      type: "hidden",
      name: "currency",
      value: this.props.content.currency_code
    }), external_React_default.a.createElement("input", {
      type: "hidden",
      name: "presets",
      value: fieldNames.map(field => this.props.content[`donation_amount_${field}`])
    }), external_React_default.a.createElement("button", {
      style: btnStyle,
      type: "submit",
      className: "ASRouterButton primary donation-form-url"
    }, this.props.content.button_label));
  }

  render() {
    const textStyle = {
      color: this.props.content.text_color,
      backgroundColor: this.props.content.background_color
    };
    const customElement = external_React_default.a.createElement("em", {
      style: {
        backgroundColor: this.props.content.highlight_color
      }
    });
    return external_React_default.a.createElement(SimpleSnippet_SimpleSnippet, EOYSnippet_extends({}, this.props, {
      className: this.props.content.test,
      customElements: {
        em: customElement
      },
      textStyle: textStyle,
      extraContent: this.renderDonations()
    }));
  }

}

const EOYSnippet = props => {
  const extendedContent = {
    monthly_checkbox_label_text: EOYSnippet_schema.properties.monthly_checkbox_label_text.default,
    locale: EOYSnippet_schema.properties.locale.default,
    currency_code: EOYSnippet_schema.properties.currency_code.default,
    selected_button: EOYSnippet_schema.properties.selected_button.default,
    ...props.content
  };
  return external_React_default.a.createElement(EOYSnippet_EOYSnippetBase, EOYSnippet_extends({}, props, {
    content: extendedContent,
    form_method: "GET"
  }));
};
// EXTERNAL MODULE: ./content-src/asrouter/templates/FXASignupSnippet/FXASignupSnippet.schema.json
var FXASignupSnippet_schema = __webpack_require__(17);

// CONCATENATED MODULE: ./content-src/asrouter/templates/SubmitFormSnippet/SubmitFormSnippet.jsx
function SubmitFormSnippet_extends() { SubmitFormSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SubmitFormSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





 // Alt text placeholder in case the prop from the server isn't available

const SubmitFormSnippet_ICON_ALT_TEXT = "";
class SubmitFormSnippet_SubmitFormSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.expandSnippet = this.expandSnippet.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
    this.handleSubmitAttempt = this.handleSubmitAttempt.bind(this);
    this.onInputChange = this.onInputChange.bind(this);
    this.state = {
      expanded: false,
      submitAttempted: false,
      signupSubmitted: false,
      signupSuccess: false,
      disableForm: false
    };
  }

  handleSubmitAttempt() {
    if (!this.state.submitAttempted) {
      this.setState({
        submitAttempted: true
      });
    }
  }

  async handleSubmit(event) {
    let json;

    if (this.state.disableForm) {
      return;
    }

    event.preventDefault();
    this.setState({
      disableForm: true
    });
    this.props.sendUserActionTelemetry({
      event: "CLICK_BUTTON",
      event_context: "conversion-subscribe-activation",
      id: "NEWTAB_FOOTER_BAR_CONTENT"
    });

    if (this.props.form_method.toUpperCase() === "GET") {
      this.props.onBlock({
        preventDismiss: true
      });
      this.refs.form.submit();
      return;
    }

    const {
      url,
      formData
    } = this.props.processFormData ? this.props.processFormData(this.refs.mainInput, this.props) : {
      url: this.refs.form.action,
      formData: new FormData(this.refs.form)
    };

    try {
      const fetchRequest = new Request(url, {
        body: formData,
        method: "POST",
        credentials: "omit"
      });
      const response = await fetch(fetchRequest); // eslint-disable-line fetch-options/no-fetch-credentials

      json = await response.json();
    } catch (err) {
      console.log(err); // eslint-disable-line no-console
    }

    if (json && json.status === "ok") {
      this.setState({
        signupSuccess: true,
        signupSubmitted: true
      });

      if (!this.props.content.do_not_autoblock) {
        this.props.onBlock({
          preventDismiss: true
        });
      }

      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        event_context: "subscribe-success",
        id: "NEWTAB_FOOTER_BAR_CONTENT"
      });
    } else {
      // eslint-disable-next-line no-console
      console.error("There was a problem submitting the form", json || "[No JSON response]");
      this.setState({
        signupSuccess: false,
        signupSubmitted: true
      });
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        event_context: "subscribe-error",
        id: "NEWTAB_FOOTER_BAR_CONTENT"
      });
    }

    this.setState({
      disableForm: false
    });
  }

  expandSnippet() {
    this.props.sendUserActionTelemetry({
      event: "CLICK_BUTTON",
      event_context: "scene1-button-learn-more",
      id: this.props.UISurface
    });
    this.setState({
      expanded: true,
      signupSuccess: false,
      signupSubmitted: false
    });
  }

  renderHiddenFormInputs() {
    const {
      hidden_inputs
    } = this.props.content;

    if (!hidden_inputs) {
      return null;
    }

    return Object.keys(hidden_inputs).map((key, idx) => external_React_default.a.createElement("input", {
      key: idx,
      type: "hidden",
      name: key,
      value: hidden_inputs[key]
    }));
  }

  renderDisclaimer() {
    const {
      content
    } = this.props;

    if (!content.scene2_disclaimer_html) {
      return null;
    }

    return external_React_default.a.createElement("p", {
      className: "disclaimerText"
    }, external_React_default.a.createElement(RichText["RichText"], {
      text: content.scene2_disclaimer_html,
      localization_id: "disclaimer_html",
      links: content.links,
      doNotAutoBlock: true,
      openNewWindow: true,
      sendClick: this.props.sendClick
    }));
  }

  renderFormPrivacyNotice() {
    const {
      content
    } = this.props;

    if (!content.scene2_privacy_html) {
      return null;
    }

    return external_React_default.a.createElement("p", {
      className: "privacyNotice"
    }, external_React_default.a.createElement("input", {
      type: "checkbox",
      id: "id_privacy",
      name: "privacy",
      required: "required"
    }), external_React_default.a.createElement("label", {
      htmlFor: "id_privacy"
    }, external_React_default.a.createElement(RichText["RichText"], {
      text: content.scene2_privacy_html,
      localization_id: "privacy_html",
      links: content.links,
      doNotAutoBlock: true,
      openNewWindow: true,
      sendClick: this.props.sendClick
    })));
  }

  renderSignupSubmitted() {
    const {
      content
    } = this.props;
    const isSuccess = this.state.signupSuccess;
    const successTitle = isSuccess && content.success_title;
    const bodyText = isSuccess ? {
      success_text: content.success_text
    } : {
      error_text: content.error_text
    };
    const retryButtonText = content.retry_button_label;
    return external_React_default.a.createElement(SnippetBase_SnippetBase, this.props, external_React_default.a.createElement("div", {
      className: "submissionStatus"
    }, successTitle ? external_React_default.a.createElement("h2", {
      className: "submitStatusTitle"
    }, successTitle) : null, external_React_default.a.createElement("p", null, external_React_default.a.createElement(RichText["RichText"], SubmitFormSnippet_extends({}, bodyText, {
      localization_id: isSuccess ? "success_text" : "error_text"
    })), isSuccess ? null : external_React_default.a.createElement(Button, {
      onClick: this.expandSnippet
    }, retryButtonText))));
  }

  onInputChange(event) {
    if (!this.props.validateInput) {
      return;
    }

    const hasError = this.props.validateInput(event.target.value, this.props.content);
    event.target.setCustomValidity(hasError);
  }

  renderInput() {
    const placholder = this.props.content.scene2_email_placeholder_text || this.props.content.scene2_input_placeholder;
    return external_React_default.a.createElement("input", {
      ref: "mainInput",
      type: this.props.inputType || "email",
      className: `mainInput${this.state.submitAttempted ? "" : " clean"}`,
      name: "email",
      required: true,
      placeholder: placholder,
      onChange: this.props.validateInput ? this.onInputChange : null
    });
  }

  renderSignupView() {
    const {
      content
    } = this.props;
    const containerClass = `SubmitFormSnippet ${this.props.className}`;
    return external_React_default.a.createElement(SnippetBase_SnippetBase, SubmitFormSnippet_extends({}, this.props, {
      className: containerClass,
      footerDismiss: true
    }), content.scene2_icon ? external_React_default.a.createElement("div", {
      className: "scene2Icon"
    }, external_React_default.a.createElement("img", {
      src: Object(template_utils["safeURI"])(content.scene2_icon),
      className: "icon-light-theme",
      alt: content.scene2_icon_alt_text || SubmitFormSnippet_ICON_ALT_TEXT
    }), external_React_default.a.createElement("img", {
      src: Object(template_utils["safeURI"])(content.scene2_icon_dark_theme || content.scene2_icon),
      className: "icon-dark-theme",
      alt: content.scene2_icon_alt_text || SubmitFormSnippet_ICON_ALT_TEXT
    })) : null, external_React_default.a.createElement("div", {
      className: "message"
    }, external_React_default.a.createElement("p", null, content.scene2_title && external_React_default.a.createElement("h3", {
      className: "scene2Title"
    }, content.scene2_title), " ", content.scene2_text && external_React_default.a.createElement(RichText["RichText"], {
      scene2_text: content.scene2_text,
      localization_id: "scene2_text"
    }))), external_React_default.a.createElement("form", {
      action: this.props.form_action,
      method: this.props.form_method,
      onSubmit: this.handleSubmit,
      ref: "form"
    }, this.renderHiddenFormInputs(), external_React_default.a.createElement("div", null, this.renderInput(), external_React_default.a.createElement("button", {
      type: "submit",
      className: "ASRouterButton primary",
      onClick: this.handleSubmitAttempt,
      ref: "formSubmitBtn"
    }, content.scene2_button_label)), this.renderFormPrivacyNotice() || this.renderDisclaimer()));
  }

  getFirstSceneContent() {
    return Object.keys(this.props.content).filter(key => key.includes("scene1")).reduce((acc, key) => {
      acc[key.substr(7)] = this.props.content[key];
      return acc;
    }, {});
  }

  render() {
    const content = { ...this.props.content,
      ...this.getFirstSceneContent()
    };

    if (this.state.signupSubmitted) {
      return this.renderSignupSubmitted();
    }

    if (this.state.expanded) {
      return this.renderSignupView();
    }

    return external_React_default.a.createElement(SimpleSnippet_SimpleSnippet, SubmitFormSnippet_extends({}, this.props, {
      content: content,
      onButtonClick: this.expandSnippet
    }));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/FXASignupSnippet/FXASignupSnippet.jsx
function FXASignupSnippet_extends() { FXASignupSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return FXASignupSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



const FXASignupSnippet = props => {
  const userAgent = window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);
  const firefox_version = userAgent ? parseInt(userAgent[1], 10) : 0;
  const extendedContent = {
    scene1_button_label: FXASignupSnippet_schema.properties.scene1_button_label.default,
    retry_button_label: FXASignupSnippet_schema.properties.retry_button_label.default,
    scene2_email_placeholder_text: FXASignupSnippet_schema.properties.scene2_email_placeholder_text.default,
    scene2_button_label: FXASignupSnippet_schema.properties.scene2_button_label.default,
    scene2_dismiss_button_text: FXASignupSnippet_schema.properties.scene2_dismiss_button_text.default,
    ...props.content,
    hidden_inputs: {
      action: "email",
      context: "fx_desktop_v3",
      entrypoint: "snippets",
      utm_source: "snippet",
      utm_content: firefox_version,
      utm_campaign: props.content.utm_campaign,
      utm_term: props.content.utm_term,
      ...props.content.hidden_inputs
    }
  };
  return external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, FXASignupSnippet_extends({}, props, {
    content: extendedContent,
    form_action: "https://accounts.firefox.com/",
    form_method: "GET"
  }));
};
// EXTERNAL MODULE: ./content-src/asrouter/templates/NewsletterSnippet/NewsletterSnippet.schema.json
var NewsletterSnippet_schema = __webpack_require__(18);

// CONCATENATED MODULE: ./content-src/asrouter/templates/NewsletterSnippet/NewsletterSnippet.jsx
function NewsletterSnippet_extends() { NewsletterSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return NewsletterSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



const NewsletterSnippet = props => {
  const extendedContent = {
    scene1_button_label: NewsletterSnippet_schema.properties.scene1_button_label.default,
    retry_button_label: NewsletterSnippet_schema.properties.retry_button_label.default,
    scene2_email_placeholder_text: NewsletterSnippet_schema.properties.scene2_email_placeholder_text.default,
    scene2_button_label: NewsletterSnippet_schema.properties.scene2_button_label.default,
    scene2_dismiss_button_text: NewsletterSnippet_schema.properties.scene2_dismiss_button_text.default,
    scene2_newsletter: NewsletterSnippet_schema.properties.scene2_newsletter.default,
    ...props.content,
    hidden_inputs: {
      newsletters: props.content.scene2_newsletter || NewsletterSnippet_schema.properties.scene2_newsletter.default,
      fmt: NewsletterSnippet_schema.properties.hidden_inputs.properties.fmt.default,
      lang: props.content.locale || NewsletterSnippet_schema.properties.locale.default,
      source_url: `https://snippets.mozilla.com/show/${props.id}`,
      ...props.content.hidden_inputs
    }
  };
  return external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, NewsletterSnippet_extends({}, props, {
    content: extendedContent,
    form_action: "https://basket.mozilla.org/subscribe.json",
    form_method: "POST"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/isEmailOrPhoneNumber.js
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Checks if a given string is an email or phone number or neither
 * @param {string} val The user input
 * @param {ASRMessageContent} content .content property on ASR message
 * @returns {"email"|"phone"|""} The type of the input
 */
function isEmailOrPhoneNumber(val, content) {
  const {
    locale
  } = content; // http://emailregex.com/

  const email_re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  const check_email = email_re.test(val);
  let check_phone; // depends on locale

  switch (locale) {
    case "en-US":
    case "en-CA":
      // allow 10-11 digits in case user wants to enter country code
      check_phone = val.length >= 10 && val.length <= 11 && !isNaN(val);
      break;

    case "de":
      // allow between 2 and 12 digits for german phone numbers
      check_phone = val.length >= 2 && val.length <= 12 && !isNaN(val);
      break;
    // this case should never be hit, but good to have a fallback just in case

    default:
      check_phone = !isNaN(val);
      break;
  }

  if (check_email) {
    return "email";
  } else if (check_phone) {
    return "phone";
  }

  return "";
}
// EXTERNAL MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/SendToDeviceSnippet.schema.json
var SendToDeviceSnippet_schema = __webpack_require__(19);

// CONCATENATED MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/SendToDeviceSnippet.jsx
function SendToDeviceSnippet_extends() { SendToDeviceSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SendToDeviceSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





function validateInput(value, content) {
  const type = isEmailOrPhoneNumber(value, content);
  return type ? "" : "Must be an email or a phone number.";
}

function processFormData(input, message) {
  const {
    content
  } = message;
  const type = content.include_sms ? isEmailOrPhoneNumber(input.value, content) : "email";
  const formData = new FormData();
  let url;

  if (type === "phone") {
    url = "https://basket.mozilla.org/news/subscribe_sms/";
    formData.append("mobile_number", input.value);
    formData.append("msg_name", content.message_id_sms);
    formData.append("country", content.country);
  } else if (type === "email") {
    url = "https://basket.mozilla.org/news/subscribe/";
    formData.append("email", input.value);
    formData.append("newsletters", content.message_id_email);
    formData.append("source_url", encodeURIComponent(`https://snippets.mozilla.com/show/${message.id}`));
  }

  formData.append("lang", content.locale);
  return {
    formData,
    url
  };
}

function addDefaultValues(props) {
  return { ...props,
    content: {
      scene1_button_label: SendToDeviceSnippet_schema.properties.scene1_button_label.default,
      retry_button_label: SendToDeviceSnippet_schema.properties.retry_button_label.default,
      scene2_dismiss_button_text: SendToDeviceSnippet_schema.properties.scene2_dismiss_button_text.default,
      scene2_button_label: SendToDeviceSnippet_schema.properties.scene2_button_label.default,
      scene2_input_placeholder: SendToDeviceSnippet_schema.properties.scene2_input_placeholder.default,
      locale: SendToDeviceSnippet_schema.properties.locale.default,
      country: SendToDeviceSnippet_schema.properties.country.default,
      message_id_email: "",
      include_sms: SendToDeviceSnippet_schema.properties.include_sms.default,
      ...props.content
    }
  };
}

const SendToDeviceSnippet = props => {
  const propsWithDefaults = addDefaultValues(props);
  return external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, SendToDeviceSnippet_extends({}, propsWithDefaults, {
    form_method: "POST",
    className: "send_to_device_snippet",
    inputType: propsWithDefaults.content.include_sms ? "text" : "email",
    validateInput: propsWithDefaults.content.include_sms ? validateInput : null,
    processFormData: processFormData
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SimpleBelowSearchSnippet/SimpleBelowSearchSnippet.jsx
function SimpleBelowSearchSnippet_extends() { SimpleBelowSearchSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SimpleBelowSearchSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const SimpleBelowSearchSnippet_DEFAULT_ICON_PATH = "chrome://branding/content/icon64.png"; // Alt text placeholder in case the prop from the server isn't available

const SimpleBelowSearchSnippet_ICON_ALT_TEXT = "";
class SimpleBelowSearchSnippet_SimpleBelowSearchSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = this.onButtonClick.bind(this);
  }

  renderText() {
    const {
      props
    } = this;
    return props.content.text ? external_React_default.a.createElement(RichText["RichText"], {
      text: props.content.text,
      customElements: this.props.customElements,
      localization_id: "text",
      links: props.content.links,
      sendClick: props.sendClick
    }) : null;
  }

  renderTitle() {
    const {
      title
    } = this.props.content;
    return title ? external_React_default.a.createElement("h3", {
      className: "title title-inline"
    }, title, external_React_default.a.createElement("br", null)) : null;
  }

  async onButtonClick() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        id: this.props.UISurface
      });
    }

    const {
      button_url
    } = this.props.content; // If button_url is defined handle it as OPEN_URL action

    const type = this.props.content.button_action || button_url && "OPEN_URL";
    await this.props.onAction({
      type,
      data: {
        args: this.props.content.button_action_args || button_url
      }
    });

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  _shouldRenderButton() {
    return this.props.content.button_action || this.props.onButtonClick || this.props.content.button_url;
  }

  renderButton() {
    const {
      props
    } = this;

    if (!this._shouldRenderButton()) {
      return null;
    }

    return external_React_default.a.createElement(Button, {
      onClick: props.onButtonClick || this.onButtonClick,
      color: props.content.button_color,
      backgroundColor: props.content.button_background_color
    }, props.content.button_label);
  }

  render() {
    const {
      props
    } = this;
    let className = "SimpleBelowSearchSnippet";
    let containerName = "below-search-snippet";

    if (props.className) {
      className += ` ${props.className}`;
    }

    if (this._shouldRenderButton()) {
      className += " withButton";
      containerName += " withButton";
    }

    return external_React_default.a.createElement("div", {
      className: containerName
    }, external_React_default.a.createElement("div", {
      className: "snippet-hover-wrapper"
    }, external_React_default.a.createElement(SnippetBase_SnippetBase, SimpleBelowSearchSnippet_extends({}, props, {
      className: className,
      textStyle: this.props.textStyle
    }), external_React_default.a.createElement("img", {
      src: Object(template_utils["safeURI"])(props.content.icon) || SimpleBelowSearchSnippet_DEFAULT_ICON_PATH,
      className: "icon icon-light-theme",
      alt: props.content.icon_alt_text || SimpleBelowSearchSnippet_ICON_ALT_TEXT
    }), external_React_default.a.createElement("img", {
      src: Object(template_utils["safeURI"])(props.content.icon_dark_theme || props.content.icon) || SimpleBelowSearchSnippet_DEFAULT_ICON_PATH,
      className: "icon icon-dark-theme",
      alt: props.content.icon_alt_text || SimpleBelowSearchSnippet_ICON_ALT_TEXT
    }), external_React_default.a.createElement("div", {
      className: "textContainer"
    }, this.renderTitle(), external_React_default.a.createElement("p", {
      className: "body"
    }, this.renderText()), this.props.extraContent), external_React_default.a.createElement("div", {
      className: "buttonContainer"
    }, this.renderButton()))));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/template-manifest.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnippetsTemplates", function() { return SnippetsTemplates; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





 // Key names matching schema name of templates

const SnippetsTemplates = {
  simple_snippet: SimpleSnippet_SimpleSnippet,
  newsletter_snippet: NewsletterSnippet,
  fxa_signup_snippet: FXASignupSnippet,
  send_to_device_snippet: SendToDeviceSnippet,
  eoy_snippet: EOYSnippet,
  simple_below_search_snippet: SimpleBelowSearchSnippet_SimpleBelowSearchSnippet
};

/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/fluent/src/types.js
/* global Intl */

/**
 * The `FluentType` class is the base of Fluent's type system.
 *
 * Fluent types wrap JavaScript values and store additional configuration for
 * them, which can then be used in the `toString` method together with a proper
 * `Intl` formatter.
 */
class FluentType {
  /**
   * Create an `FluentType` instance.
   *
   * @param   {Any}    value - JavaScript value to wrap.
   * @param   {Object} opts  - Configuration.
   * @returns {FluentType}
   */
  constructor(value, opts) {
    this.value = value;
    this.opts = opts;
  }
  /**
   * Unwrap the raw value stored by this `FluentType`.
   *
   * @returns {Any}
   */


  valueOf() {
    return this.value;
  }
  /**
   * Format this instance of `FluentType` to a string.
   *
   * Formatted values are suitable for use outside of the `FluentBundle`.
   * This method can use `Intl` formatters memoized by the `FluentBundle`
   * instance passed as an argument.
   *
   * @param   {FluentBundle} [bundle]
   * @returns {string}
   */


  toString() {
    throw new Error("Subclasses of FluentType must implement toString.");
  }

}
class FluentNone extends FluentType {
  toString() {
    return this.value || "???";
  }

}
class FluentNumber extends FluentType {
  constructor(value, opts) {
    super(parseFloat(value), opts);
  }

  toString(bundle) {
    try {
      const nf = bundle._memoizeIntlObject(Intl.NumberFormat, this.opts);

      return nf.format(this.value);
    } catch (e) {
      // XXX Report the error.
      return this.value;
    }
  }

}
class FluentDateTime extends FluentType {
  constructor(value, opts) {
    super(new Date(value), opts);
  }

  toString(bundle) {
    try {
      const dtf = bundle._memoizeIntlObject(Intl.DateTimeFormat, this.opts);

      return dtf.format(this.value);
    } catch (e) {
      // XXX Report the error.
      return this.value;
    }
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/builtins.js
/**
 * @overview
 *
 * The FTL resolver ships with a number of functions built-in.
 *
 * Each function take two arguments:
 *   - args - an array of positional args
 *   - opts - an object of key-value args
 *
 * Arguments to functions are guaranteed to already be instances of
 * `FluentType`.  Functions must return `FluentType` objects as well.
 */

/* harmony default export */ var builtins = ({
  "NUMBER": ([arg], opts) => new FluentNumber(arg.valueOf(), merge(arg.opts, opts)),
  "DATETIME": ([arg], opts) => new FluentDateTime(arg.valueOf(), merge(arg.opts, opts))
});

function merge(argopts, opts) {
  return Object.assign({}, argopts, values(opts));
}

function values(opts) {
  const unwrapped = {};

  for (const [name, opt] of Object.entries(opts)) {
    unwrapped[name] = opt.valueOf();
  }

  return unwrapped;
}
// CONCATENATED MODULE: ./node_modules/fluent/src/resolver.js
/* global Intl */

/**
 * @overview
 *
 * The role of the Fluent resolver is to format a translation object to an
 * instance of `FluentType` or an array of instances.
 *
 * Translations can contain references to other messages or variables,
 * conditional logic in form of select expressions, traits which describe their
 * grammatical features, and can use Fluent builtins which make use of the
 * `Intl` formatters to format numbers, dates, lists and more into the
 * bundle's language. See the documentation of the Fluent syntax for more
 * information.
 *
 * In case of errors the resolver will try to salvage as much of the
 * translation as possible.  In rare situations where the resolver didn't know
 * how to recover from an error it will return an instance of `FluentNone`.
 *
 * All expressions resolve to an instance of `FluentType`. The caller should
 * use the `toString` method to convert the instance to a native value.
 *
 * All functions in this file pass around a special object called `scope`.
 * This object stores a set of elements used by all resolve functions:
 *
 *  * {FluentBundle} bundle
 *      bundle for which the given resolution is happening
 *  * {Object} args
 *      list of developer provided arguments that can be used
 *  * {Array} errors
 *      list of errors collected while resolving
 *  * {WeakSet} dirty
 *      Set of patterns already encountered during this resolution.
 *      This is used to prevent cyclic resolutions.
 */

 // Prevent expansion of too long placeables.

const MAX_PLACEABLE_LENGTH = 2500; // Unicode bidi isolation characters.

const FSI = "\u2068";
const PDI = "\u2069"; // Helper: match a variant key to the given selector.

function resolver_match(bundle, selector, key) {
  if (key === selector) {
    // Both are strings.
    return true;
  } // XXX Consider comparing options too, e.g. minimumFractionDigits.


  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {
    return true;
  }

  if (selector instanceof FluentNumber && typeof key === "string") {
    let category = bundle._memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);

    if (key === category) {
      return true;
    }
  }

  return false;
} // Helper: resolve the default variant from a list of variants.


function getDefault(scope, variants, star) {
  if (variants[star]) {
    return Type(scope, variants[star]);
  }

  scope.errors.push(new RangeError("No default"));
  return new FluentNone();
} // Helper: resolve arguments to a call expression.


function getArguments(scope, args) {
  const positional = [];
  const named = {};

  for (const arg of args) {
    if (arg.type === "narg") {
      named[arg.name] = Type(scope, arg.value);
    } else {
      positional.push(Type(scope, arg));
    }
  }

  return [positional, named];
} // Resolve an expression to a Fluent type.


function Type(scope, expr) {
  // A fast-path for strings which are the most common case. Since they
  // natively have the `toString` method they can be used as if they were
  // a FluentType instance without incurring the cost of creating one.
  if (typeof expr === "string") {
    return scope.bundle._transform(expr);
  } // A fast-path for `FluentNone` which doesn't require any additional logic.


  if (expr instanceof FluentNone) {
    return expr;
  } // The Runtime AST (Entries) encodes patterns (complex strings with
  // placeables) as Arrays.


  if (Array.isArray(expr)) {
    return Pattern(scope, expr);
  }

  switch (expr.type) {
    case "str":
      return expr.value;

    case "num":
      return new FluentNumber(expr.value, {
        minimumFractionDigits: expr.precision
      });

    case "var":
      return VariableReference(scope, expr);

    case "mesg":
      return MessageReference(scope, expr);

    case "term":
      return TermReference(scope, expr);

    case "func":
      return FunctionReference(scope, expr);

    case "select":
      return SelectExpression(scope, expr);

    case undefined:
      {
        // If it's a node with a value, resolve the value.
        if (expr.value !== null && expr.value !== undefined) {
          return Type(scope, expr.value);
        }

        scope.errors.push(new RangeError("No value"));
        return new FluentNone();
      }

    default:
      return new FluentNone();
  }
} // Resolve a reference to a variable.


function VariableReference(scope, {
  name
}) {
  if (!scope.args || !scope.args.hasOwnProperty(name)) {
    if (scope.insideTermReference === false) {
      scope.errors.push(new ReferenceError(`Unknown variable: ${name}`));
    }

    return new FluentNone(`$${name}`);
  }

  const arg = scope.args[name]; // Return early if the argument already is an instance of FluentType.

  if (arg instanceof FluentType) {
    return arg;
  } // Convert the argument to a Fluent type.


  switch (typeof arg) {
    case "string":
      return arg;

    case "number":
      return new FluentNumber(arg);

    case "object":
      if (arg instanceof Date) {
        return new FluentDateTime(arg);
      }

    default:
      scope.errors.push(new TypeError(`Unsupported variable type: ${name}, ${typeof arg}`));
      return new FluentNone(`$${name}`);
  }
} // Resolve a reference to another message.


function MessageReference(scope, {
  name,
  attr
}) {
  const message = scope.bundle._messages.get(name);

  if (!message) {
    const err = new ReferenceError(`Unknown message: ${name}`);
    scope.errors.push(err);
    return new FluentNone(name);
  }

  if (attr) {
    const attribute = message.attrs && message.attrs[attr];

    if (attribute) {
      return Type(scope, attribute);
    }

    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));
    return Type(scope, message);
  }

  return Type(scope, message);
} // Resolve a call to a Term with key-value arguments.


function TermReference(scope, {
  name,
  attr,
  args
}) {
  const id = `-${name}`;

  const term = scope.bundle._terms.get(id);

  if (!term) {
    const err = new ReferenceError(`Unknown term: ${id}`);
    scope.errors.push(err);
    return new FluentNone(id);
  } // Every TermReference has its own args.


  const [, keyargs] = getArguments(scope, args);
  const local = { ...scope,
    args: keyargs,
    insideTermReference: true
  };

  if (attr) {
    const attribute = term.attrs && term.attrs[attr];

    if (attribute) {
      return Type(local, attribute);
    }

    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));
    return Type(local, term);
  }

  return Type(local, term);
} // Resolve a call to a Function with positional and key-value arguments.


function FunctionReference(scope, {
  name,
  args
}) {
  // Some functions are built-in. Others may be provided by the runtime via
  // the `FluentBundle` constructor.
  const func = scope.bundle._functions[name] || builtins[name];

  if (!func) {
    scope.errors.push(new ReferenceError(`Unknown function: ${name}()`));
    return new FluentNone(`${name}()`);
  }

  if (typeof func !== "function") {
    scope.errors.push(new TypeError(`Function ${name}() is not callable`));
    return new FluentNone(`${name}()`);
  }

  try {
    return func(...getArguments(scope, args));
  } catch (e) {
    // XXX Report errors.
    return new FluentNone();
  }
} // Resolve a select expression to the member object.


function SelectExpression(scope, {
  selector,
  variants,
  star
}) {
  let sel = Type(scope, selector);

  if (sel instanceof FluentNone) {
    const variant = getDefault(scope, variants, star);
    return Type(scope, variant);
  } // Match the selector against keys of each variant, in order.


  for (const variant of variants) {
    const key = Type(scope, variant.key);

    if (resolver_match(scope.bundle, sel, key)) {
      return Type(scope, variant);
    }
  }

  const variant = getDefault(scope, variants, star);
  return Type(scope, variant);
} // Resolve a pattern (a complex string with placeables).


function Pattern(scope, ptn) {
  if (scope.dirty.has(ptn)) {
    scope.errors.push(new RangeError("Cyclic reference"));
    return new FluentNone();
  } // Tag the pattern as dirty for the purpose of the current resolution.


  scope.dirty.add(ptn);
  const result = []; // Wrap interpolations with Directional Isolate Formatting characters
  // only when the pattern has more than one element.

  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;

  for (const elem of ptn) {
    if (typeof elem === "string") {
      result.push(scope.bundle._transform(elem));
      continue;
    }

    const part = Type(scope, elem).toString(scope.bundle);

    if (useIsolating) {
      result.push(FSI);
    }

    if (part.length > MAX_PLACEABLE_LENGTH) {
      scope.errors.push(new RangeError("Too many characters in placeable " + `(${part.length}, max allowed is ${MAX_PLACEABLE_LENGTH})`));
      result.push(part.slice(MAX_PLACEABLE_LENGTH));
    } else {
      result.push(part);
    }

    if (useIsolating) {
      result.push(PDI);
    }
  }

  scope.dirty.delete(ptn);
  return result.join("");
}
/**
 * Format a translation into a string.
 *
 * @param   {FluentBundle} bundle
 *    A FluentBundle instance which will be used to resolve the
 *    contextual information of the message.
 * @param   {Object}         args
 *    List of arguments provided by the developer which can be accessed
 *    from the message.
 * @param   {Object}         message
 *    An object with the Message to be resolved.
 * @param   {Array}          errors
 *    An error array that any encountered errors will be appended to.
 * @returns {FluentType}
 */


function resolve(bundle, args, message, errors = []) {
  const scope = {
    bundle,
    args,
    errors,
    dirty: new WeakSet(),
    // TermReferences are resolved in a new scope.
    insideTermReference: false
  };
  return Type(scope, message).toString(bundle);
}
// CONCATENATED MODULE: ./node_modules/fluent/src/error.js
class FluentError extends Error {}
// CONCATENATED MODULE: ./node_modules/fluent/src/resource.js
 // This regex is used to iterate through the beginnings of messages and terms.
// With the /m flag, the ^ matches at the beginning of every line.

const RE_MESSAGE_START = /^(-?[a-zA-Z][\w-]*) *= */mg; // Both Attributes and Variants are parsed in while loops. These regexes are
// used to break out of them.

const RE_ATTRIBUTE_START = /\.([a-zA-Z][\w-]*) *= */y;
const RE_VARIANT_START = /\*?\[/y;
const RE_NUMBER_LITERAL = /(-?[0-9]+(?:\.([0-9]+))?)/y;
const RE_IDENTIFIER = /([a-zA-Z][\w-]*)/y;
const RE_REFERENCE = /([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y;
const RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/; // A "run" is a sequence of text or string literal characters which don't
// require any special handling. For TextElements such special characters are: {
// (starts a placeable), and line breaks which require additional logic to check
// if the next line is indented. For StringLiterals they are: \ (starts an
// escape sequence), " (ends the literal), and line breaks which are not allowed
// in StringLiterals. Note that string runs may be empty; text runs may not.

const RE_TEXT_RUN = /([^{}\n\r]+)/y;
const RE_STRING_RUN = /([^\\"\n\r]*)/y; // Escape sequences.

const RE_STRING_ESCAPE = /\\([\\"])/y;
const RE_UNICODE_ESCAPE = /\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y; // Used for trimming TextElements and indents.

const RE_LEADING_NEWLINES = /^\n+/;
const RE_TRAILING_SPACES = / +$/; // Used in makeIndent to strip spaces from blank lines and normalize CRLF to LF.

const RE_BLANK_LINES = / *\r?\n/g; // Used in makeIndent to measure the indentation.

const RE_INDENT = /( *)$/; // Common tokens.

const TOKEN_BRACE_OPEN = /{\s*/y;
const TOKEN_BRACE_CLOSE = /\s*}/y;
const TOKEN_BRACKET_OPEN = /\[\s*/y;
const TOKEN_BRACKET_CLOSE = /\s*] */y;
const TOKEN_PAREN_OPEN = /\s*\(\s*/y;
const TOKEN_ARROW = /\s*->\s*/y;
const TOKEN_COLON = /\s*:\s*/y; // Note the optional comma. As a deviation from the Fluent EBNF, the parser
// doesn't enforce commas between call arguments.

const TOKEN_COMMA = /\s*,?\s*/y;
const TOKEN_BLANK = /\s+/y; // Maximum number of placeables in a single Pattern to protect against Quadratic
// Blowup attacks. See https://msdn.microsoft.com/en-us/magazine/ee335713.aspx.

const MAX_PLACEABLES = 100;
/**
 * Fluent Resource is a structure storing a map of parsed localization entries.
 */

class resource_FluentResource extends Map {
  /**
   * Create a new FluentResource from Fluent code.
   */
  static fromString(source) {
    RE_MESSAGE_START.lastIndex = 0;
    let resource = new this();
    let cursor = 0; // Iterate over the beginnings of messages and terms to efficiently skip
    // comments and recover from errors.

    while (true) {
      let next = RE_MESSAGE_START.exec(source);

      if (next === null) {
        break;
      }

      cursor = RE_MESSAGE_START.lastIndex;

      try {
        resource.set(next[1], parseMessage());
      } catch (err) {
        if (err instanceof FluentError) {
          // Don't report any Fluent syntax errors. Skip directly to the
          // beginning of the next message or term.
          continue;
        }

        throw err;
      }
    }

    return resource; // The parser implementation is inlined below for performance reasons.
    // The parser focuses on minimizing the number of false negatives at the
    // expense of increasing the risk of false positives. In other words, it
    // aims at parsing valid Fluent messages with a success rate of 100%, but it
    // may also parse a few invalid messages which the reference parser would
    // reject. The parser doesn't perform any validation and may produce entries
    // which wouldn't make sense in the real world. For best results users are
    // advised to validate translations with the fluent-syntax parser
    // pre-runtime.
    // The parser makes an extensive use of sticky regexes which can be anchored
    // to any offset of the source string without slicing it. Errors are thrown
    // to bail out of parsing of ill-formed messages.

    function test(re) {
      re.lastIndex = cursor;
      return re.test(source);
    } // Advance the cursor by the char if it matches. May be used as a predicate
    // (was the match found?) or, if errorClass is passed, as an assertion.


    function consumeChar(char, errorClass) {
      if (source[cursor] === char) {
        cursor++;
        return true;
      }

      if (errorClass) {
        throw new errorClass(`Expected ${char}`);
      }

      return false;
    } // Advance the cursor by the token if it matches. May be used as a predicate
    // (was the match found?) or, if errorClass is passed, as an assertion.


    function consumeToken(re, errorClass) {
      if (test(re)) {
        cursor = re.lastIndex;
        return true;
      }

      if (errorClass) {
        throw new errorClass(`Expected ${re.toString()}`);
      }

      return false;
    } // Execute a regex, advance the cursor, and return all capture groups.


    function match(re) {
      re.lastIndex = cursor;
      let result = re.exec(source);

      if (result === null) {
        throw new FluentError(`Expected ${re.toString()}`);
      }

      cursor = re.lastIndex;
      return result;
    } // Execute a regex, advance the cursor, and return the capture group.


    function match1(re) {
      return match(re)[1];
    }

    function parseMessage() {
      let value = parsePattern();
      let attrs = parseAttributes();

      if (attrs === null) {
        if (value === null) {
          throw new FluentError("Expected message value or attributes");
        }

        return value;
      }

      return {
        value,
        attrs
      };
    }

    function parseAttributes() {
      let attrs = {};

      while (test(RE_ATTRIBUTE_START)) {
        let name = match1(RE_ATTRIBUTE_START);
        let value = parsePattern();

        if (value === null) {
          throw new FluentError("Expected attribute value");
        }

        attrs[name] = value;
      }

      return Object.keys(attrs).length > 0 ? attrs : null;
    }

    function parsePattern() {
      // First try to parse any simple text on the same line as the id.
      if (test(RE_TEXT_RUN)) {
        var first = match1(RE_TEXT_RUN);
      } // If there's a placeable on the first line, parse a complex pattern.


      if (source[cursor] === "{" || source[cursor] === "}") {
        // Re-use the text parsed above, if possible.
        return parsePatternElements(first ? [first] : [], Infinity);
      } // RE_TEXT_VALUE stops at newlines. Only continue parsing the pattern if
      // what comes after the newline is indented.


      let indent = parseIndent();

      if (indent) {
        if (first) {
          // If there's text on the first line, the blank block is part of the
          // translation content in its entirety.
          return parsePatternElements([first, indent], indent.length);
        } // Otherwise, we're dealing with a block pattern, i.e. a pattern which
        // starts on a new line. Discrad the leading newlines but keep the
        // inline indent; it will be used by the dedentation logic.


        indent.value = trim(indent.value, RE_LEADING_NEWLINES);
        return parsePatternElements([indent], indent.length);
      }

      if (first) {
        // It was just a simple inline text after all.
        return trim(first, RE_TRAILING_SPACES);
      }

      return null;
    } // Parse a complex pattern as an array of elements.


    function parsePatternElements(elements = [], commonIndent) {
      let placeableCount = 0;

      while (true) {
        if (test(RE_TEXT_RUN)) {
          elements.push(match1(RE_TEXT_RUN));
          continue;
        }

        if (source[cursor] === "{") {
          if (++placeableCount > MAX_PLACEABLES) {
            throw new FluentError("Too many placeables");
          }

          elements.push(parsePlaceable());
          continue;
        }

        if (source[cursor] === "}") {
          throw new FluentError("Unbalanced closing brace");
        }

        let indent = parseIndent();

        if (indent) {
          elements.push(indent);
          commonIndent = Math.min(commonIndent, indent.length);
          continue;
        }

        break;
      }

      let lastIndex = elements.length - 1; // Trim the trailing spaces in the last element if it's a TextElement.

      if (typeof elements[lastIndex] === "string") {
        elements[lastIndex] = trim(elements[lastIndex], RE_TRAILING_SPACES);
      }

      let baked = [];

      for (let element of elements) {
        if (element.type === "indent") {
          // Dedent indented lines by the maximum common indent.
          element = element.value.slice(0, element.value.length - commonIndent);
        } else if (element.type === "str") {
          // Optimize StringLiterals into their value.
          element = element.value;
        }

        if (element) {
          baked.push(element);
        }
      }

      return baked;
    }

    function parsePlaceable() {
      consumeToken(TOKEN_BRACE_OPEN, FluentError);
      let selector = parseInlineExpression();

      if (consumeToken(TOKEN_BRACE_CLOSE)) {
        return selector;
      }

      if (consumeToken(TOKEN_ARROW)) {
        let variants = parseVariants();
        consumeToken(TOKEN_BRACE_CLOSE, FluentError);
        return {
          type: "select",
          selector,
          ...variants
        };
      }

      throw new FluentError("Unclosed placeable");
    }

    function parseInlineExpression() {
      if (source[cursor] === "{") {
        // It's a nested placeable.
        return parsePlaceable();
      }

      if (test(RE_REFERENCE)) {
        let [, sigil, name, attr = null] = match(RE_REFERENCE);

        if (sigil === "$") {
          return {
            type: "var",
            name
          };
        }

        if (consumeToken(TOKEN_PAREN_OPEN)) {
          let args = parseArguments();

          if (sigil === "-") {
            // A parameterized term: -term(...).
            return {
              type: "term",
              name,
              attr,
              args
            };
          }

          if (RE_FUNCTION_NAME.test(name)) {
            return {
              type: "func",
              name,
              args
            };
          }

          throw new FluentError("Function names must be all upper-case");
        }

        if (sigil === "-") {
          // A non-parameterized term: -term.
          return {
            type: "term",
            name,
            attr,
            args: []
          };
        }

        return {
          type: "mesg",
          name,
          attr
        };
      }

      return parseLiteral();
    }

    function parseArguments() {
      let args = [];

      while (true) {
        switch (source[cursor]) {
          case ")":
            // End of the argument list.
            cursor++;
            return args;

          case undefined:
            // EOF
            throw new FluentError("Unclosed argument list");
        }

        args.push(parseArgument()); // Commas between arguments are treated as whitespace.

        consumeToken(TOKEN_COMMA);
      }
    }

    function parseArgument() {
      let expr = parseInlineExpression();

      if (expr.type !== "mesg") {
        return expr;
      }

      if (consumeToken(TOKEN_COLON)) {
        // The reference is the beginning of a named argument.
        return {
          type: "narg",
          name: expr.name,
          value: parseLiteral()
        };
      } // It's a regular message reference.


      return expr;
    }

    function parseVariants() {
      let variants = [];
      let count = 0;
      let star;

      while (test(RE_VARIANT_START)) {
        if (consumeChar("*")) {
          star = count;
        }

        let key = parseVariantKey();
        let value = parsePattern();

        if (value === null) {
          throw new FluentError("Expected variant value");
        }

        variants[count++] = {
          key,
          value
        };
      }

      if (count === 0) {
        return null;
      }

      if (star === undefined) {
        throw new FluentError("Expected default variant");
      }

      return {
        variants,
        star
      };
    }

    function parseVariantKey() {
      consumeToken(TOKEN_BRACKET_OPEN, FluentError);
      let key = test(RE_NUMBER_LITERAL) ? parseNumberLiteral() : match1(RE_IDENTIFIER);
      consumeToken(TOKEN_BRACKET_CLOSE, FluentError);
      return key;
    }

    function parseLiteral() {
      if (test(RE_NUMBER_LITERAL)) {
        return parseNumberLiteral();
      }

      if (source[cursor] === "\"") {
        return parseStringLiteral();
      }

      throw new FluentError("Invalid expression");
    }

    function parseNumberLiteral() {
      let [, value, fraction = ""] = match(RE_NUMBER_LITERAL);
      let precision = fraction.length;
      return {
        type: "num",
        value: parseFloat(value),
        precision
      };
    }

    function parseStringLiteral() {
      consumeChar("\"", FluentError);
      let value = "";

      while (true) {
        value += match1(RE_STRING_RUN);

        if (source[cursor] === "\\") {
          value += parseEscapeSequence();
          continue;
        }

        if (consumeChar("\"")) {
          return {
            type: "str",
            value
          };
        } // We've reached an EOL of EOF.


        throw new FluentError("Unclosed string literal");
      }
    } // Unescape known escape sequences.


    function parseEscapeSequence() {
      if (test(RE_STRING_ESCAPE)) {
        return match1(RE_STRING_ESCAPE);
      }

      if (test(RE_UNICODE_ESCAPE)) {
        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);
        let codepoint = parseInt(codepoint4 || codepoint6, 16);
        return codepoint <= 0xD7FF || 0xE000 <= codepoint // It's a Unicode scalar value.
        ? String.fromCodePoint(codepoint) // Lonely surrogates can cause trouble when the parsing result is
        // saved using UTF-8. Use U+FFFD REPLACEMENT CHARACTER instead.
        : "";
      }

      throw new FluentError("Unknown escape sequence");
    } // Parse blank space. Return it if it looks like indent before a pattern
    // line. Skip it othwerwise.


    function parseIndent() {
      let start = cursor;
      consumeToken(TOKEN_BLANK); // Check the first non-blank character after the indent.

      switch (source[cursor]) {
        case ".":
        case "[":
        case "*":
        case "}":
        case undefined:
          // EOF
          // A special character. End the Pattern.
          return false;

        case "{":
          // Placeables don't require indentation (in EBNF: block-placeable).
          // Continue the Pattern.
          return makeIndent(source.slice(start, cursor));
      } // If the first character on the line is not one of the special characters
      // listed above, it's a regular text character. Check if there's at least
      // one space of indent before it.


      if (source[cursor - 1] === " ") {
        // It's an indented text character (in EBNF: indented-char). Continue
        // the Pattern.
        return makeIndent(source.slice(start, cursor));
      } // A not-indented text character is likely the identifier of the next
      // message. End the Pattern.


      return false;
    } // Trim blanks in text according to the given regex.


    function trim(text, re) {
      return text.replace(re, "");
    } // Normalize a blank block and extract the indent details.


    function makeIndent(blank) {
      let value = blank.replace(RE_BLANK_LINES, "\n");
      let length = RE_INDENT.exec(blank)[1].length;
      return {
        type: "indent",
        value,
        length
      };
    }
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/bundle.js


/**
 * Message bundles are single-language stores of translations.  They are
 * responsible for parsing translation resources in the Fluent syntax and can
 * format translation units (entities) to strings.
 *
 * Always use `FluentBundle.format` to retrieve translation units from a
 * bundle. Translations can contain references to other entities or variables,
 * conditional logic in form of select expressions, traits which describe their
 * grammatical features, and can use Fluent builtins which make use of the
 * `Intl` formatters to format numbers, dates, lists and more into the
 * bundle's language. See the documentation of the Fluent syntax for more
 * information.
 */

class bundle_FluentBundle {
  /**
   * Create an instance of `FluentBundle`.
   *
   * The `locales` argument is used to instantiate `Intl` formatters used by
   * translations.  The `options` object can be used to configure the bundle.
   *
   * Examples:
   *
   *     const bundle = new FluentBundle(locales);
   *
   *     const bundle = new FluentBundle(locales, { useIsolating: false });
   *
   *     const bundle = new FluentBundle(locales, {
   *       useIsolating: true,
   *       functions: {
   *         NODE_ENV: () => process.env.NODE_ENV
   *       }
   *     });
   *
   * Available options:
   *
   *   - `functions` - an object of additional functions available to
   *                   translations as builtins.
   *
   *   - `useIsolating` - boolean specifying whether to use Unicode isolation
   *                    marks (FSI, PDI) for bidi interpolations.
   *                    Default: true
   *
   *   - `transform` - a function used to transform string parts of patterns.
   *
   * @param   {string|Array<string>} locales - Locale or locales of the bundle
   * @param   {Object} [options]
   * @returns {FluentBundle}
   */
  constructor(locales, {
    functions = {},
    useIsolating = true,
    transform = v => v
  } = {}) {
    this.locales = Array.isArray(locales) ? locales : [locales];
    this._terms = new Map();
    this._messages = new Map();
    this._functions = functions;
    this._useIsolating = useIsolating;
    this._transform = transform;
    this._intls = new WeakMap();
  }
  /*
   * Return an iterator over public `[id, message]` pairs.
   *
   * @returns {Iterator}
   */


  get messages() {
    return this._messages[Symbol.iterator]();
  }
  /*
   * Check if a message is present in the bundle.
   *
   * @param {string} id - The identifier of the message to check.
   * @returns {bool}
   */


  hasMessage(id) {
    return this._messages.has(id);
  }
  /*
   * Return the internal representation of a message.
   *
   * The internal representation should only be used as an argument to
   * `FluentBundle.format`.
   *
   * @param {string} id - The identifier of the message to check.
   * @returns {Any}
   */


  getMessage(id) {
    return this._messages.get(id);
  }
  /**
   * Add a translation resource to the bundle.
   *
   * The translation resource must use the Fluent syntax.  It will be parsed by
   * the bundle and each translation unit (message) will be available in the
   * bundle by its identifier.
   *
   *     bundle.addMessages('foo = Foo');
   *     bundle.getMessage('foo');
   *
   *     // Returns a raw representation of the 'foo' message.
   *
   *     bundle.addMessages('bar = Bar');
   *     bundle.addMessages('bar = Newbar', { allowOverrides: true });
   *     bundle.getMessage('bar');
   *
   *     // Returns a raw representation of the 'bar' message: Newbar.
   *
   * Parsed entities should be formatted with the `format` method in case they
   * contain logic (references, select expressions etc.).
   *
   * Available options:
   *
   *   - `allowOverrides` - boolean specifying whether it's allowed to override
   *                      an existing message or term with a new value.
   *                      Default: false
   *
   * @param   {string} source - Text resource with translations.
   * @param   {Object} [options]
   * @returns {Array<Error>}
   */


  addMessages(source, options) {
    const res = resource_FluentResource.fromString(source);
    return this.addResource(res, options);
  }
  /**
   * Add a translation resource to the bundle.
   *
   * The translation resource must be an instance of FluentResource,
   * e.g. parsed by `FluentResource.fromString`.
   *
   *     let res = FluentResource.fromString("foo = Foo");
   *     bundle.addResource(res);
   *     bundle.getMessage('foo');
   *
   *     // Returns a raw representation of the 'foo' message.
   *
   *     let res = FluentResource.fromString("bar = Bar");
   *     bundle.addResource(res);
   *     res = FluentResource.fromString("bar = Newbar");
   *     bundle.addResource(res, { allowOverrides: true });
   *     bundle.getMessage('bar');
   *
   *     // Returns a raw representation of the 'bar' message: Newbar.
   *
   * Parsed entities should be formatted with the `format` method in case they
   * contain logic (references, select expressions etc.).
   *
   * Available options:
   *
   *   - `allowOverrides` - boolean specifying whether it's allowed to override
   *                      an existing message or term with a new value.
   *                      Default: false
   *
   * @param   {FluentResource} res - FluentResource object.
   * @param   {Object} [options]
   * @returns {Array<Error>}
   */


  addResource(res, {
    allowOverrides = false
  } = {}) {
    const errors = [];

    for (const [id, value] of res) {
      if (id.startsWith("-")) {
        // Identifiers starting with a dash (-) define terms. Terms are private
        // and cannot be retrieved from FluentBundle.
        if (allowOverrides === false && this._terms.has(id)) {
          errors.push(`Attempt to override an existing term: "${id}"`);
          continue;
        }

        this._terms.set(id, value);
      } else {
        if (allowOverrides === false && this._messages.has(id)) {
          errors.push(`Attempt to override an existing message: "${id}"`);
          continue;
        }

        this._messages.set(id, value);
      }
    }

    return errors;
  }
  /**
   * Format a message to a string or null.
   *
   * Format a raw `message` from the bundle into a string (or a null if it has
   * a null value).  `args` will be used to resolve references to variables
   * passed as arguments to the translation.
   *
   * In case of errors `format` will try to salvage as much of the translation
   * as possible and will still return a string.  For performance reasons, the
   * encountered errors are not returned but instead are appended to the
   * `errors` array passed as the third argument.
   *
   *     const errors = [];
   *     bundle.addMessages('hello = Hello, { $name }!');
   *     const hello = bundle.getMessage('hello');
   *     bundle.format(hello, { name: 'Jane' }, errors);
   *
   *     // Returns 'Hello, Jane!' and `errors` is empty.
   *
   *     bundle.format(hello, undefined, errors);
   *
   *     // Returns 'Hello, name!' and `errors` is now:
   *
   *     [<ReferenceError: Unknown variable: name>]
   *
   * @param   {Object | string}    message
   * @param   {Object | undefined} args
   * @param   {Array}              errors
   * @returns {?string}
   */


  format(message, args, errors) {
    // optimize entities which are simple strings with no attributes
    if (typeof message === "string") {
      return this._transform(message);
    } // optimize entities with null values


    if (message === null || message.value === null) {
      return null;
    } // optimize simple-string entities with attributes


    if (typeof message.value === "string") {
      return this._transform(message.value);
    }

    return resolve(this, args, message, errors);
  }

  _memoizeIntlObject(ctor, opts) {
    const cache = this._intls.get(ctor) || {};
    const id = JSON.stringify(opts);

    if (!cache[id]) {
      cache[id] = new ctor(this.locales, opts);

      this._intls.set(ctor, cache);
    }

    return cache[id];
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/util.js
function nonBlank(line) {
  return !/^\s*$/.test(line);
}

function countIndent(line) {
  const [indent] = line.match(/^\s*/);
  return indent.length;
}
/**
 * Template literal tag for dedenting FTL code.
 *
 * Strip the common indent of non-blank lines. Remove blank lines.
 *
 * @param {Array<string>} strings
 */


function ftl(strings) {
  const [code] = strings;
  const lines = code.split("\n").filter(nonBlank);
  const indents = lines.map(countIndent);
  const common = Math.min(...indents);
  const indent = new RegExp(`^\\s{${common}}`);
  return lines.map(line => line.replace(indent, "")).join("\n");
}
// CONCATENATED MODULE: ./node_modules/fluent/src/index.js
/*
 * @module fluent
 * @overview
 *
 * `fluent` is a JavaScript implementation of Project Fluent, a localization
 * framework designed to unleash the expressive power of the natural language.
 *
 */





// CONCATENATED MODULE: ./content-src/asrouter/rich-text-strings.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RICH_TEXT_KEYS", function() { return RICH_TEXT_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateBundles", function() { return generateBundles; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Properties that allow rich text MUST be added to this list.
 *   key: the localization_id that should be used
 *   value: a property or array of properties on the message.content object
 */

const RICH_TEXT_CONFIG = {
  text: ["text", "scene1_text"],
  success_text: "success_text",
  error_text: "error_text",
  scene2_text: "scene2_text",
  amo_html: "amo_html",
  privacy_html: "scene2_privacy_html",
  disclaimer_html: "scene2_disclaimer_html"
};
const RICH_TEXT_KEYS = Object.keys(RICH_TEXT_CONFIG);
/**
 * Generates an array of messages suitable for fluent's localization provider
 * including all needed strings for rich text.
 * @param {object} content A .content object from an ASR message (i.e. message.content)
 * @returns {FluentBundle[]} A array containing the fluent message context
 */

function generateBundles(content) {
  const bundle = new bundle_FluentBundle("en-US");
  RICH_TEXT_KEYS.forEach(key => {
    const attrs = RICH_TEXT_CONFIG[key];
    const attrsToTry = Array.isArray(attrs) ? [...attrs] : [attrs];
    let string = "";

    while (!string && attrsToTry.length) {
      const attr = attrsToTry.pop();
      string = content[attr];
    }

    bundle.addMessages(`${key} = ${string}`);
  });
  return [bundle];
}

/***/ }),
/* 81 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(2);

// CONCATENATED MODULE: ./common/Dedupe.jsm
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
class Dedupe {
  constructor(createKey) {
    this.createKey = createKey || this.defaultCreateKey;
  }

  defaultCreateKey(item) {
    return item;
  }
  /**
   * Dedupe any number of grouped elements favoring those from earlier groups.
   *
   * @param {Array} groups Contains an arbitrary number of arrays of elements.
   * @returns {Array} A matching array of each provided group deduped.
   */


  group(...groups) {
    const globalKeys = new Set();
    const result = [];

    for (const values of groups) {
      const valueMap = new Map();

      for (const value of values) {
        const key = this.createKey(value);

        if (!globalKeys.has(key) && !valueMap.has(key)) {
          valueMap.set(key, value);
        }
      }

      result.push(valueMap);
      valueMap.forEach((value, key) => globalKeys.add(key));
    }

    return result.map(m => Array.from(m.values()));
  }

}
// CONCATENATED MODULE: ./common/Reducers.jsm
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_DEFAULT_ROWS", function() { return TOP_SITES_DEFAULT_ROWS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_MAX_SITES_PER_ROW", function() { return TOP_SITES_MAX_SITES_PER_ROW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INITIAL_STATE", function() { return INITIAL_STATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "insertPinned", function() { return insertPinned; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reducers", function() { return reducers; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */




const TOP_SITES_DEFAULT_ROWS = 1;
const TOP_SITES_MAX_SITES_PER_ROW = 8;
const dedupe = new Dedupe(site => site && site.url);
const INITIAL_STATE = {
  App: {
    // Have we received real data from the app yet?
    initialized: false
  },
  ASRouter: {
    initialized: false
  },
  Snippets: {
    initialized: false
  },
  TopSites: {
    // Have we received real data from history yet?
    initialized: false,
    // The history (and possibly default) links
    rows: [],
    // Used in content only to dispatch action to TopSiteForm.
    editForm: null,
    // Used in content only to open the SearchShortcutsForm modal.
    showSearchShortcutsForm: false,
    // The list of available search shortcuts.
    searchShortcuts: []
  },
  Prefs: {
    initialized: false,
    values: {}
  },
  Dialog: {
    visible: false,
    data: {}
  },
  Sections: [],
  Pocket: {
    isUserLoggedIn: null,
    pocketCta: {},
    waitingForSpoc: true
  },
  // This is the new pocket configurable layout state.
  DiscoveryStream: {
    // This is a JSON-parsed copy of the discoverystream.config pref value.
    config: {
      enabled: false,
      layout_endpoint: ""
    },
    layout: [],
    lastUpdated: null,
    isPrivacyInfoModalVisible: false,
    feeds: {
      data: {// "https://foo.com/feed1": {lastUpdated: 123, data: []}
      },
      loaded: false
    },
    spocs: {
      spocs_endpoint: "",
      spocs_per_domain: 1,
      lastUpdated: null,
      data: {},
      // {spocs: []}
      loaded: false,
      frequency_caps: [],
      blocked: [],
      placements: []
    }
  },
  Search: {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    fakeFocus: false,
    // Hide the search box after handing off to AwesomeBar and user starts typing.
    hide: false
  }
};

function App(prevState = INITIAL_STATE.App, action) {
  switch (action.type) {
    case Actions["actionTypes"].INIT:
      return Object.assign({}, prevState, action.data || {}, {
        initialized: true
      });

    default:
      return prevState;
  }
}

function ASRouter(prevState = INITIAL_STATE.ASRouter, action) {
  switch (action.type) {
    case Actions["actionTypes"].AS_ROUTER_INITIALIZED:
      return { ...action.data,
        initialized: true
      };

    default:
      return prevState;
  }
}
/**
 * insertPinned - Inserts pinned links in their specified slots
 *
 * @param {array} a list of links
 * @param {array} a list of pinned links
 * @return {array} resulting list of links with pinned links inserted
 */


function insertPinned(links, pinned) {
  // Remove any pinned links
  const pinnedUrls = pinned.map(link => link && link.url);
  let newLinks = links.filter(link => link ? !pinnedUrls.includes(link.url) : false);
  newLinks = newLinks.map(link => {
    if (link && link.isPinned) {
      delete link.isPinned;
      delete link.pinIndex;
    }

    return link;
  }); // Then insert them in their specified location

  pinned.forEach((val, index) => {
    if (!val) {
      return;
    }

    let link = Object.assign({}, val, {
      isPinned: true,
      pinIndex: index
    });

    if (index > newLinks.length) {
      newLinks[index] = link;
    } else {
      newLinks.splice(index, 0, link);
    }
  });
  return newLinks;
}

function TopSites(prevState = INITIAL_STATE.TopSites, action) {
  let hasMatch;
  let newRows;

  switch (action.type) {
    case Actions["actionTypes"].TOP_SITES_UPDATED:
      if (!action.data || !action.data.links) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        initialized: true,
        rows: action.data.links
      }, action.data.pref ? {
        pref: action.data.pref
      } : {});

    case Actions["actionTypes"].TOP_SITES_PREFS_UPDATED:
      return Object.assign({}, prevState, {
        pref: action.data.pref
      });

    case Actions["actionTypes"].TOP_SITES_EDIT:
      return Object.assign({}, prevState, {
        editForm: {
          index: action.data.index,
          previewResponse: null
        }
      });

    case Actions["actionTypes"].TOP_SITES_CANCEL_EDIT:
      return Object.assign({}, prevState, {
        editForm: null
      });

    case Actions["actionTypes"].TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, {
        showSearchShortcutsForm: true
      });

    case Actions["actionTypes"].TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, {
        showSearchShortcutsForm: false
      });

    case Actions["actionTypes"].PREVIEW_RESPONSE:
      if (!prevState.editForm || action.data.url !== prevState.editForm.previewUrl) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: action.data.preview,
          previewUrl: action.data.url
        }
      });

    case Actions["actionTypes"].PREVIEW_REQUEST:
      if (!prevState.editForm) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
          previewUrl: action.data.url
        }
      });

    case Actions["actionTypes"].PREVIEW_REQUEST_CANCEL:
      if (!prevState.editForm) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null
        }
      });

    case Actions["actionTypes"].SCREENSHOT_UPDATED:
      newRows = prevState.rows.map(row => {
        if (row && row.url === action.data.url) {
          hasMatch = true;
          return Object.assign({}, row, {
            screenshot: action.data.screenshot
          });
        }

        return row;
      });
      return hasMatch ? Object.assign({}, prevState, {
        rows: newRows
      }) : prevState;

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.map(site => {
        if (site && site.url === action.data.url) {
          const {
            bookmarkGuid,
            bookmarkTitle,
            dateAdded
          } = action.data;
          return Object.assign({}, site, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded
          });
        }

        return site;
      });
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].PLACES_BOOKMARK_REMOVED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.map(site => {
        if (site && site.url === action.data.url) {
          const newSite = Object.assign({}, site);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          return newSite;
        }

        return site;
      });
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].PLACES_LINK_DELETED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.filter(site => action.data.url !== site.url);
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].UPDATE_SEARCH_SHORTCUTS:
      return { ...prevState,
        searchShortcuts: action.data.searchShortcuts
      };

    case Actions["actionTypes"].SNIPPETS_PREVIEW_MODE:
      return { ...prevState,
        rows: []
      };

    default:
      return prevState;
  }
}

function Dialog(prevState = INITIAL_STATE.Dialog, action) {
  switch (action.type) {
    case Actions["actionTypes"].DIALOG_OPEN:
      return Object.assign({}, prevState, {
        visible: true,
        data: action.data
      });

    case Actions["actionTypes"].DIALOG_CANCEL:
      return Object.assign({}, prevState, {
        visible: false
      });

    case Actions["actionTypes"].DELETE_HISTORY_URL:
      return Object.assign({}, INITIAL_STATE.Dialog);

    default:
      return prevState;
  }
}

function Prefs(prevState = INITIAL_STATE.Prefs, action) {
  let newValues;

  switch (action.type) {
    case Actions["actionTypes"].PREFS_INITIAL_VALUES:
      return Object.assign({}, prevState, {
        initialized: true,
        values: action.data
      });

    case Actions["actionTypes"].PREF_CHANGED:
      newValues = Object.assign({}, prevState.values);
      newValues[action.data.name] = action.data.value;
      return Object.assign({}, prevState, {
        values: newValues
      });

    default:
      return prevState;
  }
}

function Sections(prevState = INITIAL_STATE.Sections, action) {
  let hasMatch;
  let newState;

  switch (action.type) {
    case Actions["actionTypes"].SECTION_DEREGISTER:
      return prevState.filter(section => section.id !== action.data);

    case Actions["actionTypes"].SECTION_REGISTER:
      // If section exists in prevState, update it
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          hasMatch = true;
          return Object.assign({}, section, action.data);
        }

        return section;
      }); // Otherwise, append it

      if (!hasMatch) {
        const initialized = !!(action.data.rows && !!action.data.rows.length);
        const section = Object.assign({
          title: "",
          rows: [],
          enabled: false
        }, action.data, {
          initialized
        });
        newState.push(section);
      }

      return newState;

    case Actions["actionTypes"].SECTION_UPDATE:
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          // If the action is updating rows, we should consider initialized to be true.
          // This can be overridden if initialized is defined in the action.data
          const initialized = action.data.rows ? {
            initialized: true
          } : {}; // Make sure pinned cards stay at their current position when rows are updated.
          // Disabling a section (SECTION_UPDATE with empty rows) does not retain pinned cards.

          if (action.data.rows && !!action.data.rows.length && section.rows.find(card => card.pinned)) {
            const rows = Array.from(action.data.rows);
            section.rows.forEach((card, index) => {
              if (card.pinned) {
                // Only add it if it's not already there.
                if (rows[index].guid !== card.guid) {
                  rows.splice(index, 0, card);
                }
              }
            });
            return Object.assign({}, section, initialized, Object.assign({}, action.data, {
              rows
            }));
          }

          return Object.assign({}, section, initialized, action.data);
        }

        return section;
      });

      if (!action.data.dedupeConfigurations) {
        return newState;
      }

      action.data.dedupeConfigurations.forEach(dedupeConf => {
        newState = newState.map(section => {
          if (section.id === dedupeConf.id) {
            const dedupedRows = dedupeConf.dedupeFrom.reduce((rows, dedupeSectionId) => {
              const dedupeSection = newState.find(s => s.id === dedupeSectionId);
              const [, newRows] = dedupe.group(dedupeSection.rows, rows);
              return newRows;
            }, section.rows);
            return Object.assign({}, section, {
              rows: dedupedRows
            });
          }

          return section;
        });
      });
      return newState;

    case Actions["actionTypes"].SECTION_UPDATE_CARD:
      return prevState.map(section => {
        if (section && section.id === action.data.id && section.rows) {
          const newRows = section.rows.map(card => {
            if (card.url === action.data.url) {
              return Object.assign({}, card, action.data.options);
            }

            return card;
          });
          return Object.assign({}, section, {
            rows: newRows
          });
        }

        return section;
      });

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          // find the item within the rows that is attempted to be bookmarked
          if (item.url === action.data.url) {
            const {
              bookmarkGuid,
              bookmarkTitle,
              dateAdded
            } = action.data;
            return Object.assign({}, item, {
              bookmarkGuid,
              bookmarkTitle,
              bookmarkDateCreated: dateAdded,
              type: "bookmark"
            });
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_SAVED_TO_POCKET:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          if (item.url === action.data.url) {
            return Object.assign({}, item, {
              open_url: action.data.open_url,
              pocket_id: action.data.pocket_id,
              title: action.data.title,
              type: "pocket"
            });
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_BOOKMARK_REMOVED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          // find the bookmark within the rows that is attempted to be removed
          if (item.url === action.data.url) {
            const newSite = Object.assign({}, item);
            delete newSite.bookmarkGuid;
            delete newSite.bookmarkTitle;
            delete newSite.bookmarkDateCreated;

            if (!newSite.type || newSite.type === "bookmark") {
              newSite.type = "history";
            }

            return newSite;
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_LINK_DELETED:
    case Actions["actionTypes"].PLACES_LINK_BLOCKED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => site.url !== action.data.url)
      }));

    case Actions["actionTypes"].DELETE_FROM_POCKET:
    case Actions["actionTypes"].ARCHIVE_FROM_POCKET:
      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => site.pocket_id !== action.data.pocket_id)
      }));

    case Actions["actionTypes"].SNIPPETS_PREVIEW_MODE:
      return prevState.map(section => ({ ...section,
        rows: []
      }));

    default:
      return prevState;
  }
}

function Snippets(prevState = INITIAL_STATE.Snippets, action) {
  switch (action.type) {
    case Actions["actionTypes"].SNIPPETS_DATA:
      return Object.assign({}, prevState, {
        initialized: true
      }, action.data);

    case Actions["actionTypes"].SNIPPET_BLOCKED:
      return Object.assign({}, prevState, {
        blockList: prevState.blockList.concat(action.data)
      });

    case Actions["actionTypes"].SNIPPETS_BLOCKLIST_CLEARED:
      return Object.assign({}, prevState, {
        blockList: []
      });

    case Actions["actionTypes"].SNIPPETS_RESET:
      return INITIAL_STATE.Snippets;

    default:
      return prevState;
  }
}

function Pocket(prevState = INITIAL_STATE.Pocket, action) {
  switch (action.type) {
    case Actions["actionTypes"].POCKET_WAITING_FOR_SPOC:
      return { ...prevState,
        waitingForSpoc: action.data
      };

    case Actions["actionTypes"].POCKET_LOGGED_IN:
      return { ...prevState,
        isUserLoggedIn: !!action.data
      };

    case Actions["actionTypes"].POCKET_CTA:
      return { ...prevState,
        pocketCta: {
          ctaButton: action.data.cta_button,
          ctaText: action.data.cta_text,
          ctaUrl: action.data.cta_url,
          useCta: action.data.use_cta
        }
      };

    default:
      return prevState;
  }
}

function DiscoveryStream(prevState = INITIAL_STATE.DiscoveryStream, action) {
  // Return if action data is empty, or spocs or feeds data is not loaded
  const isNotReady = () => !action.data || !prevState.spocs.loaded || !prevState.feeds.loaded;

  const handlePlacements = handleSites => {
    const {
      data,
      placements
    } = prevState.spocs;
    const result = {};

    const forPlacement = placement => {
      const placementSpocs = data[placement.name];

      if (!placementSpocs || !placementSpocs.length) {
        return;
      }

      result[placement.name] = handleSites(placementSpocs);
    };

    if (!placements || !placements.length) {
      [{
        name: "spocs"
      }].forEach(forPlacement);
    } else {
      placements.forEach(forPlacement);
    }

    return result;
  };

  const nextState = handleSites => ({ ...prevState,
    spocs: { ...prevState.spocs,
      data: handlePlacements(handleSites)
    },
    feeds: { ...prevState.feeds,
      data: Object.keys(prevState.feeds.data).reduce((accumulator, feed_url) => {
        accumulator[feed_url] = {
          data: { ...prevState.feeds.data[feed_url].data,
            recommendations: handleSites(prevState.feeds.data[feed_url].data.recommendations)
          }
        };
        return accumulator;
      }, {})
    }
  });

  switch (action.type) {
    case Actions["actionTypes"].DISCOVERY_STREAM_CONFIG_CHANGE: // Fall through to a separate action is so it doesn't trigger a listener update on init

    case Actions["actionTypes"].DISCOVERY_STREAM_CONFIG_SETUP:
      return { ...prevState,
        config: action.data || {}
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LAYOUT_UPDATE:
      return { ...prevState,
        lastUpdated: action.data.lastUpdated || null,
        layout: action.data.layout || []
      };

    case Actions["actionTypes"].HIDE_PRIVACY_INFO:
      return { ...prevState,
        isPrivacyInfoModalVisible: false
      };

    case Actions["actionTypes"].SHOW_PRIVACY_INFO:
      return { ...prevState,
        isPrivacyInfoModalVisible: true
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LAYOUT_RESET:
      return { ...INITIAL_STATE.DiscoveryStream,
        config: prevState.config
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_FEEDS_UPDATE:
      return { ...prevState,
        feeds: { ...prevState.feeds,
          loaded: true
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_FEED_UPDATE:
      const newData = {};
      newData[action.data.url] = action.data.feed;
      return { ...prevState,
        feeds: { ...prevState.feeds,
          data: { ...prevState.feeds.data,
            ...newData
          }
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_CAPS:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          frequency_caps: [...prevState.spocs.frequency_caps, ...action.data]
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_ENDPOINT:
      return { ...prevState,
        spocs: { ...INITIAL_STATE.DiscoveryStream.spocs,
          spocs_endpoint: action.data.url || INITIAL_STATE.DiscoveryStream.spocs.spocs_endpoint,
          spocs_per_domain: action.data.spocs_per_domain || INITIAL_STATE.DiscoveryStream.spocs.spocs_per_domain
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_PLACEMENTS:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          placements: action.data.placements || INITIAL_STATE.DiscoveryStream.spocs.placements
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_UPDATE:
      if (action.data) {
        return { ...prevState,
          spocs: { ...prevState.spocs,
            lastUpdated: action.data.lastUpdated,
            data: action.data.spocs,
            loaded: true
          }
        };
      }

      return prevState;

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOC_BLOCKED:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          blocked: [...prevState.spocs.blocked, action.data.url]
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LINK_BLOCKED:
      return isNotReady() ? prevState : nextState(items => items.filter(item => item.url !== action.data.url));

    case Actions["actionTypes"].PLACES_SAVED_TO_POCKET:
      const addPocketInfo = item => {
        if (item.url === action.data.url) {
          return Object.assign({}, item, {
            open_url: action.data.open_url,
            pocket_id: action.data.pocket_id,
            context_type: "pocket"
          });
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(addPocketInfo));

    case Actions["actionTypes"].DELETE_FROM_POCKET:
    case Actions["actionTypes"].ARCHIVE_FROM_POCKET:
      return isNotReady() ? prevState : nextState(items => items.filter(item => item.pocket_id !== action.data.pocket_id));

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      const updateBookmarkInfo = item => {
        if (item.url === action.data.url) {
          const {
            bookmarkGuid,
            bookmarkTitle,
            dateAdded
          } = action.data;
          return Object.assign({}, item, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
            context_type: "bookmark"
          });
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(updateBookmarkInfo));

    case Actions["actionTypes"].PLACES_BOOKMARK_REMOVED:
      const removeBookmarkInfo = item => {
        if (item.url === action.data.url) {
          const newSite = Object.assign({}, item);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;

          if (!newSite.context_type || newSite.context_type === "bookmark") {
            newSite.context_type = "removedBookmark";
          }

          return newSite;
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(removeBookmarkInfo));

    default:
      return prevState;
  }
}

function Search(prevState = INITIAL_STATE.Search, action) {
  switch (action.type) {
    case Actions["actionTypes"].HIDE_SEARCH:
      return Object.assign({ ...prevState,
        hide: true
      });

    case Actions["actionTypes"].FAKE_FOCUS_SEARCH:
      return Object.assign({ ...prevState,
        fakeFocus: true
      });

    case Actions["actionTypes"].SHOW_SEARCH:
      return Object.assign({ ...prevState,
        hide: false,
        fakeFocus: false
      });

    default:
      return prevState;
  }
}

var reducers = {
  TopSites,
  App,
  ASRouter,
  Snippets,
  Prefs,
  Dialog,
  Sections,
  Pocket,
  DiscoveryStream,
  Search
};

/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(9);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// EXTERNAL MODULE: ./content-src/asrouter/templates/Trailhead/Trailhead.jsx
var Trailhead = __webpack_require__(20);

// EXTERNAL MODULE: ./content-src/asrouter/templates/ReturnToAMO/ReturnToAMO.jsx
var ReturnToAMO = __webpack_require__(24);

// EXTERNAL MODULE: ./content-src/asrouter/templates/FullPageInterrupt/FullPageInterrupt.jsx
var FullPageInterrupt = __webpack_require__(25);

// EXTERNAL MODULE: ./node_modules/fluent-react/src/index.js + 14 modules
var src = __webpack_require__(78);

// EXTERNAL MODULE: ./content-src/asrouter/rich-text-strings.js + 8 modules
var rich_text_strings = __webpack_require__(80);

// CONCATENATED MODULE: ./content-src/asrouter/templates/FirstRun/Interrupt.jsx
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class Interrupt_Interrupt extends external_React_default.a.PureComponent {
  render() {
    const {
      cards,
      onDismiss,
      onNextScene,
      message,
      sendUserActionTelemetry,
      executeAction,
      dispatch,
      fxaEndpoint,
      UTMTerm,
      flowParams
    } = this.props;

    switch (message.template) {
      case "return_to_amo_overlay":
        return external_React_default.a.createElement(src["LocalizationProvider"], {
          bundles: Object(rich_text_strings["generateBundles"])({
            amo_html: message.content.text
          })
        }, external_React_default.a.createElement(ReturnToAMO["ReturnToAMO"], _extends({}, message, {
          document: this.props.document,
          UISurface: "NEWTAB_OVERLAY",
          onBlock: onDismiss,
          onAction: executeAction,
          sendUserActionTelemetry: sendUserActionTelemetry
        })));

      case "full_page_interrupt":
        return external_React_default.a.createElement(FullPageInterrupt["FullPageInterrupt"], {
          document: this.props.document,
          cards: cards,
          message: message,
          onBlock: onDismiss,
          onAction: executeAction,
          dispatch: dispatch,
          fxaEndpoint: fxaEndpoint,
          sendUserActionTelemetry: sendUserActionTelemetry,
          UTMTerm: UTMTerm,
          flowParams: flowParams,
          onBlockById: this.props.onBlockById
        });

      case "trailhead":
        return external_React_default.a.createElement(Trailhead["Trailhead"], {
          document: this.props.document,
          message: message,
          onNextScene: onNextScene,
          onAction: executeAction,
          sendUserActionTelemetry: sendUserActionTelemetry,
          dispatch: dispatch,
          fxaEndpoint: fxaEndpoint,
          UTMTerm: UTMTerm,
          flowParams: flowParams
        });

      default:
        throw new Error(`${message.template} is not a valid FirstRun message`);
    }
  }

}
// EXTERNAL MODULE: ./content-src/asrouter/templates/FirstRun/Triplets.jsx
var Triplets = __webpack_require__(27);

// EXTERNAL MODULE: ./content-src/asrouter/templates/FirstRun/addUtmParams.js
var addUtmParams = __webpack_require__(23);

// CONCATENATED MODULE: ./content-src/asrouter/templates/FirstRun/FirstRun.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FLUENT_FILES", function() { return FLUENT_FILES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "helpers", function() { return helpers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FirstRun", function() { return FirstRun_FirstRun; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



 // Note: should match the transition time on .trailheadCards in _Trailhead.scss

const TRANSITION_LENGTH = 500;
const FLUENT_FILES = ["branding/brand.ftl", "browser/branding/brandings.ftl", "browser/branding/sync-brand.ftl", "browser/newtab/onboarding.ftl"];
const helpers = {
  selectInterruptAndTriplets(message = {}, interruptCleared) {
    const hasInterrupt = interruptCleared === true ? false : Boolean(message.content);
    const hasTriplets = Boolean(message.bundle && message.bundle.length); // Allow 1) falsy to not render a header 2) default welcome 3) custom header

    const tripletsHeaderId = message.tripletsHeaderId === undefined ? "onboarding-welcome-header" : message.tripletsHeaderId;
    let UTMTerm = message.utm_term || "";
    UTMTerm = message.utm_term && message.trailheadTriplet ? `${message.utm_term}-${message.trailheadTriplet}` : UTMTerm;
    return {
      hasTriplets,
      hasInterrupt,
      interrupt: hasInterrupt ? message : null,
      triplets: hasTriplets ? message.bundle : null,
      tripletsHeaderId,
      UTMTerm
    };
  },

  addFluent(document) {
    FLUENT_FILES.forEach(file => {
      const link = document.head.appendChild(document.createElement("link"));
      link.href = file;
      link.rel = "localization";
    });
  }

};
class FirstRun_FirstRun extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.didLoadFlowParams = false;
    this.state = {
      prevMessage: undefined,
      hasInterrupt: false,
      hasTriplets: false,
      interrupt: undefined,
      triplets: undefined,
      tripletsHeaderId: "",
      isInterruptVisible: false,
      isTripletsContainerVisible: false,
      isTripletsContentVisible: false,
      UTMTerm: "",
      flowParams: undefined
    };
    this.closeInterrupt = this.closeInterrupt.bind(this);
    this.closeTriplets = this.closeTriplets.bind(this);
    helpers.addFluent(this.props.document); // Update utm campaign parameters by appending channel for
    // differentiating campaign in amplitude

    if (this.props.appUpdateChannel) {
      addUtmParams["BASE_PARAMS"].utm_campaign += `-${this.props.appUpdateChannel}`;
    }
  }

  static getDerivedStateFromProps(props, state) {
    const {
      message,
      interruptCleared
    } = props;
    const cardIds = message && message.bundle && message.bundle.map(card => card.id).join(",");

    if (interruptCleared !== state.prevInterruptCleared || message && message.id !== state.prevMessageId || cardIds !== state.prevCardIds) {
      const {
        hasTriplets,
        hasInterrupt,
        interrupt,
        triplets,
        tripletsHeaderId,
        UTMTerm
      } = helpers.selectInterruptAndTriplets(message, interruptCleared);
      return {
        prevMessageId: message.id,
        prevInterruptCleared: interruptCleared,
        prevCardIds: cardIds,
        hasInterrupt,
        hasTriplets,
        interrupt,
        triplets,
        tripletsHeaderId,
        isInterruptVisible: hasInterrupt,
        isTripletsContainerVisible: hasTriplets,
        isTripletsContentVisible: !(hasInterrupt || !hasTriplets),
        UTMTerm
      };
    }

    return null;
  }

  async fetchFlowParams() {
    const {
      fxaEndpoint,
      fetchFlowParams
    } = this.props;
    const {
      UTMTerm
    } = this.state;

    if (fxaEndpoint && UTMTerm && !this.didLoadFlowParams) {
      this.didLoadFlowParams = true;
      const flowParams = await fetchFlowParams({ ...addUtmParams["BASE_PARAMS"],
        entrypoint: "activity-stream-firstrun",
        form_type: "email",
        utm_term: UTMTerm
      });
      this.setState({
        flowParams
      });
    }
  }

  removeHideMain() {
    if (!this.state.hasInterrupt) {
      // We need to remove hide-main since we should show it underneath everything that has rendered
      this.props.document.body.classList.remove("hide-main", "welcome");
    }
  }

  componentDidMount() {
    this.fetchFlowParams();
    this.removeHideMain();
  }

  componentDidUpdate() {
    // In case we didn't have FXA info immediately, try again when we receive it.
    this.fetchFlowParams();
    this.removeHideMain();
  }

  closeInterrupt() {
    this.setState(prevState => ({
      isInterruptVisible: false,
      isTripletsContainerVisible: prevState.hasTriplets,
      isTripletsContentVisible: prevState.hasTriplets
    }));
  }

  closeTriplets() {
    this.setState({
      isTripletsContainerVisible: false
    }); // Closing triplets should prevent any future extended triplets from showing up

    setTimeout(() => {
      this.props.onBlockById("EXTENDED_TRIPLETS_1");
    }, TRANSITION_LENGTH);
  }

  render() {
    const {
      props
    } = this;
    const {
      sendUserActionTelemetry,
      fxaEndpoint,
      dispatch,
      executeAction
    } = props;
    const {
      interrupt,
      triplets,
      tripletsHeaderId,
      isInterruptVisible,
      isTripletsContainerVisible,
      isTripletsContentVisible,
      hasTriplets,
      UTMTerm,
      flowParams
    } = this.state;
    return external_React_default.a.createElement(external_React_default.a.Fragment, null, isInterruptVisible ? external_React_default.a.createElement(Interrupt_Interrupt, {
      document: props.document,
      cards: triplets,
      message: interrupt,
      onNextScene: this.closeInterrupt,
      UTMTerm: UTMTerm,
      sendUserActionTelemetry: sendUserActionTelemetry,
      executeAction: executeAction,
      dispatch: dispatch,
      flowParams: flowParams,
      onDismiss: this.closeInterrupt,
      fxaEndpoint: fxaEndpoint,
      onBlockById: props.onBlockById
    }) : null, hasTriplets ? external_React_default.a.createElement(Triplets["Triplets"], {
      document: props.document,
      cards: triplets,
      headerId: tripletsHeaderId,
      showCardPanel: isTripletsContainerVisible,
      showContent: isTripletsContentVisible,
      hideContainer: this.closeTriplets,
      sendUserActionTelemetry: sendUserActionTelemetry,
      UTMTerm: `${UTMTerm}-card`,
      flowParams: flowParams,
      onAction: executeAction,
      onBlockById: props.onBlockById
    }) : null);
  }

}

/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(2);

// EXTERNAL MODULE: ./content-src/components/A11yLinkButton/A11yLinkButton.jsx
var A11yLinkButton = __webpack_require__(48);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(9);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// EXTERNAL MODULE: ./content-src/components/TopSites/TopSitesConstants.js
var TopSitesConstants = __webpack_require__(68);

// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteFormInput.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class TopSiteFormInput_TopSiteFormInput extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      validationError: this.props.validationError
    };
    this.onChange = this.onChange.bind(this);
    this.onMount = this.onMount.bind(this);
    this.onClearIconPress = this.onClearIconPress.bind(this);
  }

  componentWillReceiveProps(nextProps) {
    if (nextProps.shouldFocus && !this.props.shouldFocus) {
      this.input.focus();
    }

    if (nextProps.validationError && !this.props.validationError) {
      this.setState({
        validationError: true
      });
    } // If the component is in an error state but the value was cleared by the parent


    if (this.state.validationError && !nextProps.value) {
      this.setState({
        validationError: false
      });
    }
  }

  onClearIconPress(event) {
    // If there is input in the URL or custom image URL fields,
    // and we hit 'enter' while tabbed over the clear icon,
    // we should execute the function to clear the field.
    if (event.key === "Enter") {
      this.props.onClear();
    }
  }

  onChange(ev) {
    if (this.state.validationError) {
      this.setState({
        validationError: false
      });
    }

    this.props.onChange(ev);
  }

  onMount(input) {
    this.input = input;
  }

  renderLoadingOrCloseButton() {
    const showClearButton = this.props.value && this.props.onClear;

    if (this.props.loading) {
      return external_React_default.a.createElement("div", {
        className: "loading-container"
      }, external_React_default.a.createElement("div", {
        className: "loading-animation"
      }));
    } else if (showClearButton) {
      return external_React_default.a.createElement("button", {
        type: "button",
        className: "icon icon-clear-input icon-button-style",
        onClick: this.props.onClear,
        onKeyPress: this.onClearIconPress
      });
    }

    return null;
  }

  render() {
    const {
      typeUrl
    } = this.props;
    const {
      validationError
    } = this.state;
    return external_React_default.a.createElement("label", null, external_React_default.a.createElement("span", {
      "data-l10n-id": this.props.titleId
    }), external_React_default.a.createElement("div", {
      className: `field ${typeUrl ? "url" : ""}${validationError ? " invalid" : ""}`
    }, external_React_default.a.createElement("input", {
      type: "text",
      value: this.props.value,
      ref: this.onMount,
      onChange: this.onChange,
      "data-l10n-id": this.props.placeholderId // Set focus on error if the url field is valid or when the input is first rendered and is empty
      // eslint-disable-next-line jsx-a11y/no-autofocus
      ,
      autoFocus: this.props.shouldFocus,
      disabled: this.props.loading
    }), this.renderLoadingOrCloseButton(), validationError && external_React_default.a.createElement("aside", {
      className: "error-tooltip",
      "data-l10n-id": this.props.errorMessageId
    })));
  }

}
TopSiteFormInput_TopSiteFormInput.defaultProps = {
  showClearButton: false,
  value: "",
  validationError: false
};
// EXTERNAL MODULE: ./content-src/components/TopSites/TopSite.jsx
var TopSite = __webpack_require__(70);

// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteForm.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteForm", function() { return TopSiteForm_TopSiteForm; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class TopSiteForm_TopSiteForm extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    const {
      site
    } = props;
    this.state = {
      label: site ? site.label || site.hostname : "",
      url: site ? site.url : "",
      validationError: false,
      customScreenshotUrl: site ? site.customScreenshotURL : "",
      showCustomScreenshotForm: site ? site.customScreenshotURL : false
    };
    this.onClearScreenshotInput = this.onClearScreenshotInput.bind(this);
    this.onLabelChange = this.onLabelChange.bind(this);
    this.onUrlChange = this.onUrlChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onClearUrlClick = this.onClearUrlClick.bind(this);
    this.onDoneButtonClick = this.onDoneButtonClick.bind(this);
    this.onCustomScreenshotUrlChange = this.onCustomScreenshotUrlChange.bind(this);
    this.onPreviewButtonClick = this.onPreviewButtonClick.bind(this);
    this.onEnableScreenshotUrlForm = this.onEnableScreenshotUrlForm.bind(this);
    this.validateUrl = this.validateUrl.bind(this);
  }

  onLabelChange(event) {
    this.setState({
      label: event.target.value
    });
  }

  onUrlChange(event) {
    this.setState({
      url: event.target.value,
      validationError: false
    });
  }

  onClearUrlClick() {
    this.setState({
      url: "",
      validationError: false
    });
  }

  onEnableScreenshotUrlForm() {
    this.setState({
      showCustomScreenshotForm: true
    });
  }

  _updateCustomScreenshotInput(customScreenshotUrl) {
    this.setState({
      customScreenshotUrl,
      validationError: false
    });
    this.props.dispatch({
      type: Actions["actionTypes"].PREVIEW_REQUEST_CANCEL
    });
  }

  onCustomScreenshotUrlChange(event) {
    this._updateCustomScreenshotInput(event.target.value);
  }

  onClearScreenshotInput() {
    this._updateCustomScreenshotInput("");
  }

  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }

  onDoneButtonClick(ev) {
    ev.preventDefault();

    if (this.validateForm()) {
      const site = {
        url: this.cleanUrl(this.state.url)
      };
      const {
        index
      } = this.props;

      if (this.state.label !== "") {
        site.label = this.state.label;
      }

      if (this.state.customScreenshotUrl) {
        site.customScreenshotURL = this.cleanUrl(this.state.customScreenshotUrl);
      } else if (this.props.site && this.props.site.customScreenshotURL) {
        // Used to flag that previously cached screenshot should be removed
        site.customScreenshotURL = null;
      }

      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].TOP_SITES_PIN,
        data: {
          site,
          index
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        source: TopSitesConstants["TOP_SITES_SOURCE"],
        event: "TOP_SITES_EDIT",
        action_position: index
      }));
      this.props.onClose();
    }
  }

  onPreviewButtonClick(event) {
    event.preventDefault();

    if (this.validateForm()) {
      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].PREVIEW_REQUEST,
        data: {
          url: this.cleanUrl(this.state.customScreenshotUrl)
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        source: TopSitesConstants["TOP_SITES_SOURCE"],
        event: "PREVIEW_REQUEST"
      }));
    }
  }

  cleanUrl(url) {
    // If we are missing a protocol, prepend http://
    if (!url.startsWith("http:") && !url.startsWith("https:")) {
      return `http://${url}`;
    }

    return url;
  }

  _tryParseUrl(url) {
    try {
      return new URL(url);
    } catch (e) {
      return null;
    }
  }

  validateUrl(url) {
    const validProtocols = ["http:", "https:"];

    const urlObj = this._tryParseUrl(url) || this._tryParseUrl(this.cleanUrl(url));

    return urlObj && validProtocols.includes(urlObj.protocol);
  }

  validateCustomScreenshotUrl() {
    const {
      customScreenshotUrl
    } = this.state;
    return !customScreenshotUrl || this.validateUrl(customScreenshotUrl);
  }

  validateForm() {
    const validate = this.validateUrl(this.state.url) && this.validateCustomScreenshotUrl();

    if (!validate) {
      this.setState({
        validationError: true
      });
    }

    return validate;
  }

  _renderCustomScreenshotInput() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    const validationError = this.state.validationError && !this.validateCustomScreenshotUrl() || requestFailed; // Set focus on error if the url field is valid or when the input is first rendered and is empty

    const shouldFocus = validationError && this.validateUrl(this.state.url) || !customScreenshotUrl;
    const isLoading = this.props.previewResponse === null && customScreenshotUrl && this.props.previewUrl === this.cleanUrl(customScreenshotUrl);

    if (!this.state.showCustomScreenshotForm) {
      return external_React_default.a.createElement(A11yLinkButton["A11yLinkButton"], {
        onClick: this.onEnableScreenshotUrlForm,
        className: "enable-custom-image-input",
        "data-l10n-id": "newtab-topsites-use-image-link"
      });
    }

    return external_React_default.a.createElement("div", {
      className: "custom-image-input-container"
    }, external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      errorMessageId: requestFailed ? "newtab-topsites-image-validation" : "newtab-topsites-url-validation",
      loading: isLoading,
      onChange: this.onCustomScreenshotUrlChange,
      onClear: this.onClearScreenshotInput,
      shouldFocus: shouldFocus,
      typeUrl: true,
      value: customScreenshotUrl,
      validationError: validationError,
      titleId: "newtab-topsites-image-url-label",
      placeholderId: "newtab-topsites-url-input"
    }));
  }

  render() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === ""; // For UI purposes, editing without an existing link is "add"

    const showAsAdd = !this.props.site;
    const previous = this.props.site && this.props.site.customScreenshotURL || "";
    const changed = customScreenshotUrl && this.cleanUrl(customScreenshotUrl) !== previous; // Preview mode if changes were made to the custom screenshot URL and no preview was received yet
    // or the request failed

    const previewMode = changed && !this.props.previewResponse;
    const previewLink = Object.assign({}, this.props.site);

    if (this.props.previewResponse) {
      previewLink.screenshot = this.props.previewResponse;
      previewLink.customScreenshotURL = this.props.previewUrl;
    } // Handles the form submit so an enter press performs the correct action


    const onSubmit = previewMode ? this.onPreviewButtonClick : this.onDoneButtonClick;
    return external_React_default.a.createElement("form", {
      className: "topsite-form",
      onSubmit: onSubmit
    }, external_React_default.a.createElement("div", {
      className: "form-input-container"
    }, external_React_default.a.createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": showAsAdd ? "newtab-topsites-add-topsites-header" : "newtab-topsites-edit-topsites-header"
    }), external_React_default.a.createElement("div", {
      className: "fields-and-preview"
    }, external_React_default.a.createElement("div", {
      className: "form-wrapper"
    }, external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      onChange: this.onLabelChange,
      value: this.state.label,
      titleId: "newtab-topsites-title-label",
      placeholderId: "newtab-topsites-title-input"
    }), external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      onChange: this.onUrlChange,
      shouldFocus: this.state.validationError && !this.validateUrl(this.state.url),
      value: this.state.url,
      onClear: this.onClearUrlClick,
      validationError: this.state.validationError && !this.validateUrl(this.state.url),
      titleId: "newtab-topsites-url-label",
      typeUrl: true,
      placeholderId: "newtab-topsites-url-input",
      errorMessageId: "newtab-topsites-url-validation"
    }), this._renderCustomScreenshotInput()), external_React_default.a.createElement(TopSite["TopSiteLink"], {
      link: previewLink,
      defaultStyle: requestFailed,
      title: this.state.label
    }))), external_React_default.a.createElement("section", {
      className: "actions"
    }, external_React_default.a.createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), previewMode ? external_React_default.a.createElement("button", {
      className: "done preview",
      type: "submit",
      "data-l10n-id": "newtab-topsites-preview-button"
    }) : external_React_default.a.createElement("button", {
      className: "done",
      type: "submit",
      "data-l10n-id": showAsAdd ? "newtab-topsites-add-button" : "newtab-topsites-save-button"
    })));
  }

}
TopSiteForm_TopSiteForm.defaultProps = {
  site: null,
  index: -1
};

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYWN0aXZpdHktc3RyZWFtLmpzeCIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL2NvbW1vbi9BY3Rpb25zLmpzbSIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Jhc2UvQmFzZS5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9BU1JvdXRlckFkbWluL0FTUm91dGVyQWRtaW4uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2Fzcm91dGVyLWNvbnRlbnQuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2xpYi9pbml0LXN0b3JlLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlZHV4XCIiLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9JbXByZXNzaW9uc1dyYXBwZXIvSW1wcmVzc2lvbnNXcmFwcGVyLmpzeCIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIlByb3BUeXBlc1wiIiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2xpYi9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RET01cIiIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci9jb21wb25lbnRzL1JpY2hUZXh0L1JpY2hUZXh0LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvVHJhaWxoZWFkL1RyYWlsaGVhZC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci9jb21wb25lbnRzL0Z4QVNpZ251cEZvcm0vRnhBU2lnbnVwRm9ybS5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL0ZpcnN0UnVuL2FkZFV0bVBhcmFtcy5qcyIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvUmV0dXJuVG9BTU8vUmV0dXJuVG9BTU8uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9GdWxsUGFnZUludGVycnVwdC9GdWxsUGFnZUludGVycnVwdC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL09uYm9hcmRpbmdNZXNzYWdlL09uYm9hcmRpbmdNZXNzYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvRmlyc3RSdW4vVHJpcGxldHMuanN4Iiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0UmVkdXhcIiIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0FTUm91dGVyQWRtaW4vU2ltcGxlSGFzaFJvdXRlci5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db25maXJtRGlhbG9nL0NvbmZpcm1EaWFsb2cuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQmFzZS9EaXNjb3ZlcnlTdHJlYW1CYXNlLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ2FyZEdyaWQvQ2FyZEdyaWQuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NhcmQvRFNDYXJkLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNJbWFnZS9EU0ltYWdlLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNMaW5rTWVudS9EU0xpbmtNZW51LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvbi5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2FmZUFuY2hvci9TYWZlQW5jaG9yLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNDb250ZXh0Rm9vdGVyL0RTQ29udGV4dEZvb3Rlci5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9DYXJkL3R5cGVzLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0VHJhbnNpdGlvbkdyb3VwXCIiLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRW1wdHlTdGF0ZS9EU0VtcHR5U3RhdGUuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvbi5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5L0Vycm9yQm91bmRhcnkuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b24uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9uTWVudS9TZWN0aW9uTWVudS5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvbGliL3NlY3Rpb24tbWVudS1vcHRpb25zLmpzIiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0Rpc21pc3MvRFNEaXNtaXNzLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNNZXNzYWdlL0RTTWVzc2FnZS5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTUHJpdmFjeU1vZGFsL0RTUHJpdmFjeU1vZGFsLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNUZXh0UHJvbW8vRFNUZXh0UHJvbW8uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IZXJvL0hlcm8uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9MaXN0L0xpc3QuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHMuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VjdGlvbnMvU2VjdGlvbnMuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ2FyZC9DYXJkLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXIuanN4Iiwid2VicGFjazovLy8uL2NvbW1vbi9QZXJmU2VydmljZS5qc20iLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Nb3JlUmVjb21tZW5kYXRpb25zL01vcmVSZWNvbW1lbmRhdGlvbnMuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvUG9ja2V0TG9nZ2VkSW5DdGEvUG9ja2V0TG9nZ2VkSW5DdGEuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9waWNzL1RvcGljcy5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlcy5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc0NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1NlYXJjaFNob3J0Y3V0c0Zvcm0uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZS5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0hvcml6b250YWxSdWxlL0hvcml6b250YWxSdWxlLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvTmF2aWdhdGlvbi9OYXZpZ2F0aW9uLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2VjdGlvblRpdGxlL1NlY3Rpb25UaXRsZS5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvbGliL3NlbGVjdExheW91dFJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXMuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VhcmNoL1NlYXJjaC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvbGliL2RldGVjdC11c2VyLXNlc3Npb24tc3RhcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1zZXF1ZW5jZS9zcmMvbWFwX3N5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1zZXF1ZW5jZS9zcmMvbWFwX2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtc2VxdWVuY2Uvc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jYWNoZWQtaXRlcmFibGUvc3JjL2NhY2hlZF9pdGVyYWJsZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhY2hlZC1pdGVyYWJsZS9zcmMvY2FjaGVkX3N5bmNfaXRlcmFibGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jYWNoZWQtaXRlcmFibGUvc3JjL2NhY2hlZF9hc3luY19pdGVyYWJsZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NhY2hlZC1pdGVyYWJsZS9zcmMvaW5kZXgubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL2xvY2FsaXphdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9tYXJrdXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1yZWFjdC9zcmMvcHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1yZWFjdC9zcmMvd2l0aF9sb2NhbGl6YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1yZWFjdC92ZW5kb3Ivb21pdHRlZENsb3NlVGFncy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3ZlbmRvci92b2lkRWxlbWVudFRhZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1yZWFjdC9zcmMvbG9jYWxpemVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvQnV0dG9uL0J1dHRvbi5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9Db25kaXRpb25hbFdyYXBwZXIvQ29uZGl0aW9uYWxXcmFwcGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci9jb21wb25lbnRzL1NuaXBwZXRCYXNlL1NuaXBwZXRCYXNlLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvRU9ZU25pcHBldC9FT1lTbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvU3VibWl0Rm9ybVNuaXBwZXQvU3VibWl0Rm9ybVNuaXBwZXQuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9GWEFTaWdudXBTbmlwcGV0L0ZYQVNpZ251cFNuaXBwZXQuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9OZXdzbGV0dGVyU25pcHBldC9OZXdzbGV0dGVyU25pcHBldC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1NlbmRUb0RldmljZVNuaXBwZXQvaXNFbWFpbE9yUGhvbmVOdW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1NlbmRUb0RldmljZVNuaXBwZXQvU2VuZFRvRGV2aWNlU25pcHBldC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1NpbXBsZUJlbG93U2VhcmNoU25pcHBldC9TaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQuanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy90ZW1wbGF0ZS1tYW5pZmVzdC5qc3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvYnVpbHRpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvcmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvcmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvYnVuZGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvcmljaC10ZXh0LXN0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL0RlZHVwZS5qc20iLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL1JlZHVjZXJzLmpzbSIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvRmlyc3RSdW4vSW50ZXJydXB0LmpzeCIsIndlYnBhY2s6Ly8vLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvRmlyc3RSdW4vRmlyc3RSdW4uanN4Iiwid2VicGFjazovLy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZUZvcm1JbnB1dC5qc3giLCJ3ZWJwYWNrOi8vLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlRm9ybS5qc3giXSwibmFtZXMiOlsic3RvcmUiLCJpbml0U3RvcmUiLCJyZWR1Y2VycyIsIkRldGVjdFVzZXJTZXNzaW9uU3RhcnQiLCJzZW5kRXZlbnRPckFkZExpc3RlbmVyIiwiZGlzcGF0Y2giLCJhYyIsIkFsc29Ub01haW4iLCJ0eXBlIiwiYXQiLCJORVdfVEFCX1NUQVRFX1JFUVVFU1QiLCJSZWFjdERPTSIsImh5ZHJhdGUiLCJnbG9iYWwiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwiaHJlZiIsImRvY3VtZW50RWxlbWVudCIsImxhbmciLCJnQWN0aXZpdHlTdHJlYW1TdHJpbmdzIiwiZ2V0RWxlbWVudEJ5SWQiLCJnbG9iYWxJbXBvcnRDb250ZXh0IiwiV2luZG93IiwiQkFDS0dST1VORF9QUk9DRVNTIiwiVUlfQ09ERSIsImFjdGlvblR5cGVzIiwiQVNSb3V0ZXJBY3Rpb25zIiwiX1JvdXRlTWVzc2FnZSIsImFjdGlvbiIsIm9wdGlvbnMiLCJtZXRhIiwiZnJvbSIsInRvIiwiRXJyb3IiLCJmb3JFYWNoIiwibyIsImZyb21UYXJnZXQiLCJza2lwTG9jYWwiLCJDT05URU5UX01FU1NBR0VfVFlQRSIsIk1BSU5fTUVTU0FHRV9UWVBFIiwiT25seVRvTWFpbiIsIkJyb2FkY2FzdFRvQ29udGVudCIsIkFsc29Ub09uZUNvbnRlbnQiLCJ0YXJnZXQiLCJza2lwTWFpbiIsInRvVGFyZ2V0IiwiT25seVRvT25lQ29udGVudCIsIkFsc29Ub1ByZWxvYWRlZCIsIlBSRUxPQURfTUVTU0FHRV9UWVBFIiwiVXNlckV2ZW50IiwiZGF0YSIsIlRFTEVNRVRSWV9VU0VSX0VWRU5UIiwiQVNSb3V0ZXJVc2VyRXZlbnQiLCJBU19ST1VURVJfVEVMRU1FVFJZX1VTRVJfRVZFTlQiLCJEaXNjb3ZlcnlTdHJlYW1TcG9jc0ZpbGwiLCJpbXBvcnRDb250ZXh0IiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19GSUxMIiwiVW5kZXNpcmVkRXZlbnQiLCJURUxFTUVUUllfVU5ERVNJUkVEX0VWRU5UIiwiUGVyZkV2ZW50IiwiVEVMRU1FVFJZX1BFUkZPUk1BTkNFX0VWRU5UIiwiSW1wcmVzc2lvblN0YXRzIiwiVEVMRU1FVFJZX0lNUFJFU1NJT05fU1RBVFMiLCJEaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMiLCJESVNDT1ZFUllfU1RSRUFNX0lNUFJFU1NJT05fU1RBVFMiLCJEaXNjb3ZlcnlTdHJlYW1Mb2FkZWRDb250ZW50IiwiRElTQ09WRVJZX1NUUkVBTV9MT0FERURfQ09OVEVOVCIsIlNldFByZWYiLCJuYW1lIiwidmFsdWUiLCJTRVRfUFJFRiIsIldlYkV4dEV2ZW50Iiwic291cmNlIiwiaXNTZW5kVG9NYWluIiwiaXNCcm9hZGNhc3RUb0NvbnRlbnQiLCJpc1NlbmRUb09uZUNvbnRlbnQiLCJpc1NlbmRUb1ByZWxvYWRlZCIsImlzRnJvbU1haW4iLCJnZXRQb3J0SWRPZlNlbmRlciIsIlByZWZzQnV0dG9uIiwicHJvcHMiLCJvbkNsaWNrIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsInRpbWVyIiwiYXJncyIsIndha2VVcCIsInNldFRpbWVvdXQiLCJhcHBseSIsIl9CYXNlIiwiUmVhY3QiLCJQdXJlQ29tcG9uZW50IiwiY29tcG9uZW50V2lsbE1vdW50IiwiaXNGaXJzdHJ1biIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInVwZGF0ZVRoZW1lIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImJvZHlDbGFzc05hbWUiLCJjb250YWlucyIsImZpbHRlciIsInYiLCJqb2luIiwiY2xhc3NOYW1lIiwicmVuZGVyIiwiQXBwIiwiaXNEZXZ0b29sc0VuYWJsZWQiLCJQcmVmcyIsInZhbHVlcyIsImluaXRpYWxpemVkIiwiQmFzZUNvbnRlbnQiLCJjb25zdHJ1Y3RvciIsIm9wZW5QcmVmZXJlbmNlcyIsImJpbmQiLCJvbldpbmRvd1Njcm9sbCIsInN0YXRlIiwiZml4ZWRTZWFyY2giLCJjb21wb25lbnREaWRNb3VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiU0NST0xMX1RIUkVTSE9MRCIsInNjcm9sbFkiLCJzZXRTdGF0ZSIsIlNFVFRJTkdTX09QRU4iLCJldmVudCIsInByZWZzIiwiaXNEaXNjb3ZlcnlTdHJlYW0iLCJEaXNjb3ZlcnlTdHJlYW0iLCJjb25maWciLCJlbmFibGVkIiwiZmlsdGVyZWRTZWN0aW9ucyIsIlNlY3Rpb25zIiwic2VjdGlvbiIsImlkIiwibm9TZWN0aW9uc0VuYWJsZWQiLCJsZW5ndGgiLCJzZWFyY2hIYW5kb2ZmRW5hYmxlZCIsIm91dGVyQ2xhc3NOYW1lIiwic2hvd1NlYXJjaCIsIlNlYXJjaCIsImFwcFVwZGF0ZUNoYW5uZWwiLCJmeGFfZW5kcG9pbnQiLCJCYXNlIiwiY29ubmVjdCIsIlJvdyIsImNoaWxkcmVuIiwicmVsYXRpdmVUaW1lIiwidGltZXN0YW1wIiwic2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJtaW51dGVzIiwidG9Mb2NhbGVTdHJpbmciLCJMQVlPVVRfVkFSSUFOVFMiLCJiYXNpYyIsInN0YWdpbmdfc3BvY3MiLCJUb2dnbGVTdG9yeUJ1dHRvbiIsImhhbmRsZUNsaWNrIiwic3RvcnkiLCJUb2dnbGVQcmVmQ2hlY2tib3giLCJvbkNoYW5nZSIsInByZWYiLCJjaGVja2VkIiwiRGlzY292ZXJ5U3RyZWFtQWRtaW4iLCJyZXN0b3JlUHJlZkRlZmF1bHRzIiwic2V0Q29uZmlnVmFsdWUiLCJleHBpcmVDYWNoZSIsImNoYW5nZUVuZHBvaW50VmFyaWFudCIsIm9uU3RvcnlUb2dnbGUiLCJ0b2dnbGVkU3RvcmllcyIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVF9WQUxVRSIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1JFU0VUX0RFRkFVTFRTIiwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfQ0hBTkdFIiwiZW5kcG9pbnQiLCJsYXlvdXRfZW5kcG9pbnQiLCJyZXBsYWNlIiwicmVuZGVyQ29tcG9uZW50Iiwid2lkdGgiLCJjb21wb25lbnQiLCJmZWVkIiwicmVuZGVyRmVlZCIsImlzQ3VycmVudFZhcmlhbnQiLCJpc01hdGNoIiwibWF0Y2giLCJyZW5kZXJGZWVkRGF0YSIsInVybCIsImZlZWRzIiwicmVjb21tZW5kYXRpb25zIiwibWFwIiwicmVuZGVyU3RvcnlEYXRhIiwicmVuZGVyRmVlZHNEYXRhIiwiT2JqZWN0Iiwia2V5cyIsInJlbmRlclNwb2NzIiwic3BvY3MiLCJzcG9jc0RhdGEiLCJzcG9jc19lbmRwb2ludCIsImxhc3RVcGRhdGVkIiwic3BvYyIsImZyZXF1ZW5jeV9jYXBzIiwic3RvcnlEYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInByZWZUb2dnbGVzIiwic3BsaXQiLCJsYXlvdXQiLCJoYXJkY29kZWRfbGF5b3V0Iiwib3BhY2l0eSIsInJvdyIsInJvd0luZGV4IiwiY29tcG9uZW50cyIsImNvbXBvbmVudEluZGV4IiwiQVNSb3V0ZXJBZG1pbklubmVyIiwib25NZXNzYWdlIiwiaGFuZGxlRW5hYmxlZFRvZ2dsZSIsImhhbmRsZVVzZXJQcmVmVG9nZ2xlIiwib25DaGFuZ2VNZXNzYWdlRmlsdGVyIiwiZmluZE90aGVyQnVuZGxlZE1lc3NhZ2VzT2ZTYW1lVGVtcGxhdGUiLCJoYW5kbGVFeHByZXNzaW9uRXZhbCIsIm9uQ2hhbmdlVGFyZ2V0aW5nUGFyYW1ldGVycyIsIm9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzIiwic2V0QXR0cmlidXRpb24iLCJvbkNvcHlUYXJnZXRpbmdQYXJhbXMiLCJvblBhc3RlVGFyZ2V0aW5nUGFyYW1zIiwib25OZXdUYXJnZXRpbmdQYXJhbXMiLCJtZXNzYWdlRmlsdGVyIiwiZXZhbHVhdGlvblN0YXR1cyIsInRyYWlsaGVhZCIsInN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMiLCJuZXdTdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzIiwiY29waWVkVG9DbGlwYm9hcmQiLCJwYXN0ZUZyb21DbGlwYm9hcmQiLCJhdHRyaWJ1dGlvblBhcmFtZXRlcnMiLCJjYW1wYWlnbiIsImNvbnRlbnQiLCJwYXJhbSIsInRhcmdldGluZ1BhcmFtZXRlcnMiLCJBU1JvdXRlclV0aWxzIiwiZ2V0UHJldmlld0VuZHBvaW50Iiwic2VuZE1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwidGVtcGxhdGUiLCJtZXNzYWdlcyIsIm1zZyIsImJ1bmRsZWQiLCJoYW5kbGVCbG9jayIsImJ1bmRsZSIsImJsb2NrQnVuZGxlIiwiYmxvY2tCeUlkIiwiaGFuZGxlVW5ibG9jayIsInVuYmxvY2tCdW5kbGUiLCJ1bmJsb2NrQnlJZCIsImhhbmRsZU92ZXJyaWRlIiwib3ZlcnJpZGVNZXNzYWdlIiwicmVzZXRQcmVmIiwiY29udGV4dCIsInBhcnNlIiwiZXhwcmVzc2lvbiIsInJlZnMiLCJleHByZXNzaW9uSW5wdXQiLCJ0YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IiLCJ1cGRhdGVkUGFyYW1ldGVycyIsImUiLCJjb25zb2xlIiwibG9nIiwicHJvdmlkZXIiLCJwcm92aWRlclByZWZzIiwiZmluZCIsInAiLCJkYXRhc2V0IiwidXNlclByZWZJbmZvIiwidXNlclByZWZzIiwiaXNVc2VyRW5hYmxlZCIsImlzU3lzdGVtRW5hYmxlZCIsImlzRW5hYmxpbmciLCJrZXkiLCJ1bmRlZmluZWQiLCJzZXRDbGlwYm9hcmREYXRhIiwicHJldmVudERlZmF1bHQiLCJjbGlwYm9hcmREYXRhIiwic2V0RGF0YSIsImV4ZWNDb21tYW5kIiwicmVtb3ZlIiwidGFyZ2V0aW5nUGFyYW1zRXZhbCIsImlubmVyVGV4dCIsIm1lc3NhZ2UiLCJyZW5kZXJNZXNzYWdlSXRlbSIsImlzQmxvY2tlZCIsIm1lc3NhZ2VCbG9ja0xpc3QiLCJpbmNsdWRlcyIsImltcHJlc3Npb25zIiwibWVzc2FnZUltcHJlc3Npb25zIiwiaXRlbUNsYXNzTmFtZSIsInJlbmRlck1lc3NhZ2VzIiwibWVzc2FnZXNUb1Nob3ciLCJyZW5kZXJNZXNzYWdlRmlsdGVyIiwicHJvdmlkZXJzIiwicmVuZGVyVGFibGVIZWFkIiwicmVuZGVyUHJvdmlkZXJzIiwicHJvdmlkZXJzQ29uZmlnIiwicHJvdmlkZXJJbmZvIiwiaSIsImlzVGVzdFByb3ZpZGVyIiwiaW5mbyIsImxhYmVsIiwiYnVja2V0IiwicmVhc29uc0Rpc2FibGVkIiwicHVzaCIsImNvaG9ydCIsIndoaXRlU3BhY2UiLCJyZW5kZXJQYXN0ZU1vZGFsIiwiZXJyb3JzIiwicmVuZGVyVGFyZ2V0aW5nUGFyYW1ldGVycyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJlcnJvclN0YXRlIiwiaW5wdXRDb21wIiwicmVuZGVyUG9ja2V0U3RvcnkiLCJndWlkIiwicmVuZGVyUG9ja2V0U3RvcmllcyIsInJvd3MiLCJTZWN0aW9uIiwicmVuZGVyRGlzY292ZXJ5U3RyZWFtIiwicmVuZGVyQXR0cmlidXRpb25QYXJhbWVycyIsInJlbmRlckVycm9yTWVzc2FnZSIsInByb3ZpZGVySWQiLCJlcnJvciIsImNlbGxLZXkiLCJyZXZlcnNlIiwicmVuZGVyRXJyb3JzIiwicHJvdmlkZXJzV2l0aEVycm9ycyIsInJlbmRlclRyYWlsaGVhZEluZm8iLCJ0cmFpbGhlYWRJbnRlcnJ1cHQiLCJ0cmFpbGhlYWRUcmlwbGV0IiwiZ2V0U2VjdGlvbiIsInJvdXRlcyIsImNvbGxhcHNlZCIsIkNvbGxhcHNlVG9nZ2xlIiwib25Db2xsYXBzZVRvZ2dsZSIsInJlbmRlckFkbWluIiwiaGFzaCIsInN0YXJ0c1dpdGgiLCJzZXRCb2R5Q2xhc3MiLCJjb21wb25lbnREaWRVcGRhdGUiLCJpc0NvbGxhcHNlZCIsIl9BU1JvdXRlckFkbWluIiwiQVNSb3V0ZXJBZG1pbiIsIklOQ09NSU5HX01FU1NBR0VfTkFNRSIsIk9VVEdPSU5HX01FU1NBR0VfTkFNRSIsIlRFTVBMQVRFU19BQk9WRV9QQUdFIiwiRklSU1RfUlVOX1RFTVBMQVRFUyIsIlRFTVBMQVRFU19CRUxPV19TRUFSQ0giLCJsaXN0ZW5lciIsIlJQTUFkZE1lc3NhZ2VMaXN0ZW5lciIsIlJQTVJlbW92ZU1lc3NhZ2VMaXN0ZW5lciIsIlJQTVNlbmRBc3luY01lc3NhZ2UiLCJkaXNtaXNzQnlJZCIsImV4ZWN1dGVBY3Rpb24iLCJidXR0b25fYWN0aW9uIiwic2VuZFRlbGVtZXRyeSIsInBpbmciLCJwYXlsb2FkIiwiQVNfR0VORVJBTF9PVVRHT0lOR19NRVNTQUdFX05BTUUiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzbGljZSIsImluZGV4T2YiLCJVUkwiLCJnZXQiLCJzbmlwcGV0SWQiLCJ0aGVtZSIsImdldFByZXZpZXdUaGVtZSIsInNob3VsZFNlbmRJbXByZXNzaW9uT25VcGRhdGUiLCJuZXh0UHJvcHMiLCJwcmV2UHJvcHMiLCJBU1JvdXRlclVJU3VyZmFjZSIsIm9uTWVzc2FnZUZyb21QYXJlbnQiLCJzZW5kQ2xpY2siLCJzZW5kSW1wcmVzc2lvbiIsInNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5Iiwib25Vc2VyQWN0aW9uIiwiZmV0Y2hGbG93UGFyYW1zIiwiaW50ZXJydXB0Q2xlYXJlZCIsImhlYWRlclBvcnRhbCIsImZvb3RlclBvcnRhbCIsImZ4YUVuZHBvaW50IiwiZXJyIiwidXJsT2JqIiwicGF0aG5hbWUiLCJzZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJyZXNwb25zZSIsImZldGNoIiwidG9TdHJpbmciLCJjcmVkZW50aWFscyIsInN0YXR1cyIsImRldmljZUlkIiwiZmxvd0lkIiwiZmxvd0JlZ2luVGltZSIsImpzb24iLCJleHRyYVByb3BzIiwiZXZlbnRUeXBlIiwibWVzc2FnZV9pZCIsIm1ldHJpYyIsImV2ZW50X2NvbnRleHQiLCJkb19ub3RfYXV0b2Jsb2NrIiwib25CbG9ja0J5SWQiLCJvbkRpc21pc3NCeUlkIiwiY2xlYXJNZXNzYWdlIiwiY2FyZCIsInJlcXVlc3RNZXNzYWdlIiwidHJpZ2dlciIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsIk5FV1RBQl9EQVJLX1RIRU1FIiwiZ2V0TW9uaXRvclVybCIsImZsb3dSZXF1ZXN0UGFyYW1zIiwiZmxvd1ZhbHVlcyIsInJhIiwiRU5BQkxFX0ZJUkVGT1hfTU9OSVRPUiIsIk9QRU5fVVJMIiwicmVuZGVyU25pcHBldHMiLCJTbmlwcGV0c1RlbXBsYXRlcyIsIlNuaXBwZXRDb21wb25lbnQiLCJnZW5lcmF0ZUJ1bmRsZXMiLCJyZW5kZXJQcmV2aWV3QmFubmVyIiwicmVuZGVyRmlyc3RSdW4iLCJzaG91bGRSZW5kZXJCZWxvd1NlYXJjaCIsInNob3VsZFJlbmRlckluSGVhZGVyIiwiY3JlYXRlUG9ydGFsIiwiZGVmYXVsdFByb3BzIiwiTUVSR0VfU1RPUkVfQUNUSU9OIiwiRUFSTFlfUVVFVUVEX0FDVElPTlMiLCJTQVZFX1NFU1NJT05fUEVSRl9EQVRBIiwibWVyZ2VTdGF0ZVJlZHVjZXIiLCJtYWluUmVkdWNlciIsInByZXZTdGF0ZSIsIm1lc3NhZ2VNaWRkbGV3YXJlIiwibmV4dCIsImF1IiwicmVoeWRyYXRpb25NaWRkbGV3YXJlIiwiX2RpZFJlaHlkcmF0ZSIsImlzTWVyZ2VTdG9yZUFjdGlvbiIsImlzUmVoeWRyYXRpb25SZXF1ZXN0IiwiX2RpZFJlcXVlc3RJbml0aWFsU3RhdGUiLCJJTklUIiwicXVldWVFYXJseU1lc3NhZ2VNaWRkbGV3YXJlIiwiX3JlY2VpdmVkRnJvbU1haW4iLCJfZWFybHlBY3Rpb25RdWV1ZSIsImNyZWF0ZVN0b3JlIiwiY29tYmluZVJlZHVjZXJzIiwiYXBwbHlNaWRkbGV3YXJlIiwiZXgiLCJkdW1wIiwic3RhY2siLCJWSVNJQkxFIiwiVklTSUJJTElUWV9DSEFOR0VfRVZFTlQiLCJJbXByZXNzaW9uc1dyYXBwZXIiLCJzZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIiLCJ2aXNpYmlsaXR5U3RhdGUiLCJfb25WaXNpYmlsaXR5Q2hhbmdlIiwic2VuZE9uTW91bnQiLCJJU19ORVdUQUIiLCJkb2N1bWVudFVSSSIsIm50cF9iYWNrZ3JvdW5kIiwiciIsImciLCJiIiwiYSIsIm50cF90ZXh0Iiwic2lkZWJhciIsInNpZGViYXJfdGV4dCIsIkFMTE9XRURfVEFHUyIsInUiLCJzdHJvbmciLCJlbSIsImJyIiwiY29udmVydExpbmtzIiwibGlua3MiLCJkb05vdEF1dG9CbG9jayIsIm9wZW5OZXdXaW5kb3ciLCJyZWR1Y2UiLCJhY2MiLCJsaW5rVGFnIiwic2FmZVVSSSIsIlJpY2hUZXh0IiwiUklDSF9URVhUX0tFWVMiLCJsb2NhbGl6YXRpb25faWQiLCJjdXN0b21FbGVtZW50cyIsInRleHQiLCJwcm90b2NvbCIsImlzQWxsb3dlZCIsIndhcm4iLCJGT0NVU0FCTEVfU0VMRUNUT1IiLCJUcmFpbGhlYWQiLCJjbG9zZU1vZGFsIiwib25TdGFydEJsdXIiLCJkaWFsb2ciLCJzZXRBdHRyaWJ1dGUiLCJyZWxhdGVkVGFyZ2V0IiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkiLCJxdWVyeVNlbGVjdG9yIiwiZm9jdXMiLCJldiIsInJlbW92ZUF0dHJpYnV0ZSIsIm9uTmV4dFNjZW5lIiwiX2dldEZvcm1JbmZvIiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJoYXNfZmxvd19wYXJhbXMiLCJmbG93UGFyYW1zIiwiVVRNVGVybSIsImlubmVyQ2xhc3NOYW1lIiwidGl0bGUiLCJzdHJpbmdfaWQiLCJzdWJ0aXRsZSIsImJlbmVmaXRzIiwiaXRlbSIsImxlYXJuIiwiYWRkVXRtUGFyYW1zIiwic2tpcEJ1dHRvbiIsIk1vZGFsT3ZlcmxheVdyYXBwZXIiLCJvbktleURvd24iLCJvbkNsb3NlIiwiaGVhZGVyIiwidW5zdHlsZWQiLCJoZWFkZXJJZCIsImhhc0Rpc21pc3NJY29uIiwiTW9kYWxPdmVybGF5IiwiYnV0dG9uX2xhYmVsIiwib25EaXNtaXNzQnVuZGxlIiwiRnhBU2lnbnVwRm9ybSIsIm9uU3VibWl0Iiwib25JbnB1dENoYW5nZSIsIm9uSW5wdXRJbnZhbGlkIiwiaGFuZGxlU2lnbkluIiwiZW1haWxJbnB1dCIsImVtYWlsIiwidXNlckV2ZW50IiwiZWxlbWVudHMiLCJkaXNhYmxlZCIsInJlcXVpcmVkIiwiY2hlY2tWYWxpZGl0eSIsInByZXZpb3VzU2libGluZyIsImZvcm0iLCJCQVNFX1BBUkFNUyIsInV0bV9jYW1wYWlnbiIsImJ1dHRvbiIsInNob3dTaWduSW5MaW5rIiwidXRtX3NvdXJjZSIsInV0bV9tZWRpdW0iLCJ1dG1UZXJtIiwicmV0dXJuVXJsIiwiSUNPTl9BTFRfVEVYVCIsIlJldHVyblRvQU1PIiwib25DbGlja0FkZEV4dGVuc2lvbiIsIm9uQmxvY2tCdXR0b24iLCJVSVN1cmZhY2UiLCJvbkFjdGlvbiIsInByaW1hcnlfYnV0dG9uIiwib25CbG9jayIsInJlbmRlclRleHQiLCJjdXN0b21FbGVtZW50IiwiYWRkb25faWNvbiIsImljb24iLCJzZWNvbmRhcnlfYnV0dG9uIiwiRnhBY2NvdW50cyIsInJlbW92ZU92ZXJsYXkiLCJGeENhcmRzIiwiY2FyZHMiLCJvbkNhcmRBY3Rpb24iLCJGdWxsUGFnZUludGVycnVwdCIsImFjdGlvblVwZGF0ZXMiLCJhZGRGbG93UGFyYW1zIiwiYmxvY2tPbkNsaWNrIiwicHJlbG9hZGVkT25seSIsImFjY291bnRzIiwiY2FyZHNGaXJzdCIsImZpcnN0Q29udGFpbmVyQ2xhc3NOYW1lIiwiT25ib2FyZGluZ0NhcmQiLCJUcmlwbGV0cyIsIm9uSGlkZUNvbnRhaW5lciIsImhpZGVDb250YWluZXIiLCJtIiwic2hvd0NhcmRQYW5lbCIsInNob3dDb250ZW50IiwiU2ltcGxlSGFzaFJvdXRlciIsIm9uSGFzaENoYW5nZSIsImNsb25lRWxlbWVudCIsIl9Db25maXJtRGlhbG9nIiwiX2hhbmRsZUNhbmNlbEJ0biIsIl9oYW5kbGVDb25maXJtQnRuIiwiRElBTE9HX0NBTkNFTCIsImV2ZW50U291cmNlIiwib25Db25maXJtIiwiX3JlbmRlck1vZGFsTWVzc2FnZSIsIm1lc3NhZ2VfYm9keSIsImJvZHlfc3RyaW5nX2lkIiwidmlzaWJsZSIsImNhbmNlbF9idXR0b25fc3RyaW5nX2lkIiwiY29uZmlybV9idXR0b25fc3RyaW5nX2lkIiwiQ29uZmlybURpYWxvZyIsIkRpYWxvZyIsIkFMTE9XRURfQ1NTX1VSTF9QUkVGSVhFUyIsIkRVTU1ZX0NTU19TRUxFQ1RPUiIsInJvbGxDYWNoZSIsImlzQWxsb3dlZENTUyIsInByb3BlcnR5IiwidXJscyIsImV2ZXJ5Iiwic29tZSIsInByZWZpeCIsIl9EaXNjb3ZlcnlTdHJlYW1CYXNlIiwib25TdHlsZU1vdW50Iiwic3R5bGUiLCJzaGVldCIsInN0eWxlcyIsImVudHJpZXMiLCJzZWxlY3RvcnMiLCJkZWNsYXJhdGlvbnMiLCJpbnNlcnRSdWxlIiwicnVsZSIsImNzc1J1bGVzIiwicmVtb3ZlUHJvcGVydHkiLCJzZWxlY3RvclRleHQiLCJzZWxlY3RvciIsImVtYmVkV2lkdGgiLCJFTkdBR0VNRU5UX0xBQkVMX0VOQUJMRUQiLCJwcm9tb0FsaWdubWVudCIsInBvc2l0aW9ucyIsImluZGV4IiwiaW1hZ2Vfc3JjIiwicmF3X2ltYWdlX3NyYyIsImFsdF90ZXh0IiwiY3RhIiwiZmxpZ2h0X2lkIiwic2hpbSIsImxpbmtfdGV4dCIsImxpbmtfdXJsIiwicHJvcGVydGllcyIsImFsaWdubWVudCIsImJvcmRlciIsIml0ZW1zIiwiY3RhX3ZhcmlhbnQiLCJmdWxsX3dpZHRoIiwiaGFzX2ltYWdlcyIsImhhc19udW1iZXJzIiwicmVuZGVyU3R5bGVzIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm9sZFByb3BzIiwibGF5b3V0UmVuZGVyIiwic3BvY3NGaWxsIiwic2VsZWN0TGF5b3V0UmVuZGVyIiwibG9hZGVkIiwiX3Nwb2NzRmlsbFNlbnQiLCJzcG9jX2ZpbGxzIiwiY29sbGFwc2libGUiLCJyZW5kZXJMYXlvdXQiLCJleHRyYWN0Q29tcG9uZW50Iiwic3BsaWNlIiwidG9wU3RvcmllcyIsInMiLCJ0b3BTaXRlcyIsImxlYXJuTW9yZSIsImxpbmsiLCJpc1ByaXZhY3lJbmZvTW9kYWxWaXNpYmxlIiwicHJpdmFjeU5vdGljZVVSTCIsIkRpc2NvdmVyeVN0cmVhbUJhc2UiLCJDYXJkR3JpZCIsInJlbmRlckNhcmRzIiwicmVjcyIsInJlYyIsInBsYWNlaG9sZGVyIiwicG9zIiwiZXhjZXJwdCIsInNwb25zb3IiLCJkb21haW4iLCJwb2NrZXRfaWQiLCJjb250ZXh0X3R5cGUiLCJib29rbWFya0d1aWQiLCJlbmdhZ2VtZW50IiwiZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyIsImRpdmlzaWJpbGl0eSIsImlzRW1wdHkiLCJEZWZhdWx0TWV0YSIsIkNUQUJ1dHRvbk1ldGEiLCJEU0NhcmQiLCJvbkxpbmtDbGljayIsInNldFBsYWNlaG9sZGVyUmVmIiwiZWxlbWVudCIsInBsYWNlaG9sZGVyRWxlbWVudCIsImlzU2VlbiIsInRvVXBwZXJDYXNlIiwiYWN0aW9uX3Bvc2l0aW9uIiwiY2FyZF90eXBlIiwiZmxpZ2h0SWQiLCJjbGljayIsInRpbGVzIiwib25TZWVuIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsIm9ic2VydmVyIiwidW5vYnNlcnZlIiwib25JZGxlQ2FsbGJhY2siLCJpZGxlQ2FsbGJhY2tJZCIsIndpbmRvd09iaiIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiLCJjYW5jZWxJZGxlQ2FsbGJhY2siLCJpc0J1dHRvbkNUQSIsImltcHJlc3Npb24iLCJQbGFjZWhvbGRlckRTQ2FyZCIsIkRTSW1hZ2UiLCJvbk9wdGltaXplZEltYWdlRXJyb3IiLCJvbk5vbk9wdGltaXplZEltYWdlRXJyb3IiLCJvcHRpbWl6ZWRJbWFnZUZhaWxlZCIsInVzZVRyYW5zaXRpb24iLCJvcHRpbWl6ZSIsImNvbnRhaW5lcldpZHRoIiwicm91bmQiLCJib3VuZGluZ0NsaWVudFJlY3QiLCJjb250YWluZXJIZWlnaHQiLCJoZWlnaHQiLCJmaW5kRE9NTm9kZSIsInJlZm9ybWF0SW1hZ2VVUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyb290TWFyZ2luIiwiY2xhc3NOYW1lcyIsImV4dHJhQ2xhc3NOYW1lcyIsImltZyIsInJhd1NvdXJjZSIsInNvdXJjZTJ4IiwiYmFzZVNvdXJjZSIsIm5vbk9wdGltaXplZEltYWdlRmFpbGVkIiwiRFNMaW5rTWVudSIsIm9uTWVudVVwZGF0ZSIsIm9uTWVudVNob3ciLCJjb250ZXh0TWVudUJ1dHRvblJlZiIsImNyZWF0ZVJlZiIsInNob3dDb250ZXh0TWVudSIsImRzTGlua01lbnVIb3N0RGl2IiwiY3VycmVudCIsInBhcmVudEVsZW1lbnQiLCJuZXh0QW5pbWF0aW9uRnJhbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbE1heFgiLCJUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OUyIsInJlZmVycmVyIiwiREVGQVVMVF9TSVRFX01FTlVfT1BUSU9OUyIsIl9MaW5rTWVudSIsImdldE9wdGlvbnMiLCJzaXRlIiwiaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkIiwic2l0ZUluZm8iLCJwbGF0Zm9ybSIsInByb3BPcHRpb25zIiwiaXNEZWZhdWx0Iiwic2VhcmNoVG9wU2l0ZSIsIkxpbmtNZW51T3B0aW9ucyIsIm9wdGlvbiIsInVzZXJFdmVudERhdGEiLCJhc3NpZ24iLCJzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzIiwiZmlyc3QiLCJsYXN0Iiwib25VcGRhdGUiLCJvblNob3ciLCJrZXlib2FyZEFjY2VzcyIsImdldFN0YXRlIiwiTGlua01lbnUiLCJDb250ZXh0TWVudSIsImhpZGVDb250ZXh0Iiwic3RvcFByb3BhZ2F0aW9uIiwiQ29udGV4dE1lbnVJdGVtIiwib25LZXlVcCIsImZvY3VzRmlyc3QiLCJmb2N1c1NpYmxpbmciLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiY2xvc2VzdFNpYmxpbmdTZWxlY3RvciIsImZpcnN0RWxlbWVudENoaWxkIiwic2hpZnRLZXkiLCJfT3BlbkluUHJpdmF0ZVdpbmRvdyIsIk9QRU5fUFJJVkFURV9XSU5ET1ciLCJTZXBhcmF0b3IiLCJFbXB0eUl0ZW0iLCJTaG93UHJpdmFjeUluZm8iLCJTSE9XX1BSSVZBQ1lfSU5GTyIsIlJlbW92ZUJvb2ttYXJrIiwiREVMRVRFX0JPT0tNQVJLX0JZX0lEIiwiQWRkQm9va21hcmsiLCJCT09LTUFSS19VUkwiLCJPcGVuSW5OZXdXaW5kb3ciLCJPUEVOX05FV19XSU5ET1ciLCJ0eXBlZEJvbnVzIiwiQmxvY2tVcmwiLCJCTE9DS19VUkwiLCJvcGVuX3VybCIsImJsb2NrIiwiZGVsZXRlIiwiV2ViRXh0RGlzbWlzcyIsIldFQkVYVF9ESVNNSVNTIiwiRGVsZXRlVXJsIiwiaXNFbmFibGVkIiwiRElBTE9HX09QRU4iLCJERUxFVEVfSElTVE9SWV9VUkwiLCJmb3JjZUJsb2NrIiwiU2hvd0ZpbGUiLCJTSE9XX0RPV05MT0FEX0ZJTEUiLCJPcGVuRmlsZSIsIk9QRU5fRE9XTkxPQURfRklMRSIsIkNvcHlEb3dubG9hZExpbmsiLCJDT1BZX0RPV05MT0FEX0xJTksiLCJHb1RvRG93bmxvYWRQYWdlIiwiT1BFTl9MSU5LIiwiUmVtb3ZlRG93bmxvYWQiLCJSRU1PVkVfRE9XTkxPQURfRklMRSIsIlBpblNwb2NUb3BTaXRlIiwiVE9QX1NJVEVTX1BJTiIsIlBpblRvcFNpdGUiLCJVbnBpblRvcFNpdGUiLCJUT1BfU0lURVNfVU5QSU4iLCJTYXZlVG9Qb2NrZXQiLCJTQVZFX1RPX1BPQ0tFVCIsInBvY2tldCIsInNhdmUiLCJEZWxldGVGcm9tUG9ja2V0IiwiREVMRVRFX0ZST01fUE9DS0VUIiwiQXJjaGl2ZUZyb21Qb2NrZXQiLCJBUkNISVZFX0ZST01fUE9DS0VUIiwiRWRpdFRvcFNpdGUiLCJUT1BfU0lURVNfRURJVCIsIkNoZWNrQm9va21hcmsiLCJDaGVja1BpblRvcFNpdGUiLCJpc1Bpbm5lZCIsIkNoZWNrU2F2ZWRUb1BvY2tldCIsIkNoZWNrQm9va21hcmtPckFyY2hpdmUiLCJPcGVuSW5Qcml2YXRlV2luZG93IiwiQ29udGV4dE1lbnVCdXR0b24iLCJjb250ZXh0TWVudUtleWJvYXJkIiwib3BlbkNvbnRleHRNZW51IiwiaXNLZXlCb2FyZCIsInRvb2x0aXBBcmdzIiwidG9vbHRpcCIsInJlZkZ1bmN0aW9uIiwiSU5URVJTRUNUSU9OX1JBVElPIiwiX25lZWRzSW1wcmVzc2lvblN0YXRzIiwiaW1wcmVzc2lvbkNhcmRHdWlkcyIsIl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cyIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OIiwiX25lZWRzTG9hZGVkQ29udGVudCIsImxvYWRlZENvbnRlbnRHdWlkcyIsIl9kaXNwYXRjaExvYWRlZENvbnRlbnQiLCJzZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyIiwic2V0SW1wcmVzc2lvbk9ic2VydmVyIiwiX2hhbmRsZUludGVyc2VjdCIsImludGVyc2VjdGlvblJhdGlvIiwiaW1wcmVzc2lvbk9ic2VydmVyIiwidGhyZXNob2xkIiwiU2FmZUFuY2hvciIsImFsdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiY3VycmVudFRhcmdldCIsIkFOSU1BVElPTl9EVVJBVElPTiIsIlN0YXR1c01lc3NhZ2UiLCJmbHVlbnRJRCIsIkRTQ29udGV4dEZvb3RlciIsImNhcmRDb250ZXh0VHlwZXMiLCJoaXN0b3J5IiwicmVtb3ZlZEJvb2ttYXJrIiwiYm9va21hcmsiLCJ0cmVuZGluZyIsImRvd25sb2FkIiwiRFNFbXB0eVN0YXRlIiwib25SZXNldCIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFIiwid2FpdGluZyIsIkRJU0NPVkVSWV9TVFJFQU1fUkVUUllfRkVFRCIsInJlbmRlckJ1dHRvbiIsInJlbmRlclN0YXRlIiwiQ29sbGFwc2libGVTZWN0aW9uIiwib25Cb2R5TW91bnQiLCJvbkhlYWRlckNsaWNrIiwib25LZXlQcmVzcyIsIm9uVHJhbnNpdGlvbkVuZCIsImVuYWJsZU9yRGlzYWJsZUFuaW1hdGlvbiIsIm9uTWVudUJ1dHRvbk1vdXNlRW50ZXIiLCJvbk1lbnVCdXR0b25Nb3VzZUxlYXZlIiwiZW5hYmxlQW5pbWF0aW9uIiwiaXNBbmltYXRpbmciLCJtZW51QnV0dG9uSG92ZXIiLCJzZXRDb250ZXh0TWVudUJ1dHRvblJlZiIsInNlY3Rpb25Cb2R5Iiwic2Nyb2xsSGVpZ2h0Iiwibm9kZSIsIm1heEhlaWdodCIsIl9nZXRTZWN0aW9uQm9keUhlaWdodCIsIlNlY3Rpb25NZW51T3B0aW9ucyIsIkNoZWNrQ29sbGFwc2VkIiwiZGl2IiwiZGlzcGxheSIsInJlbmRlckljb24iLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpc0NvbGxhcHNpYmxlIiwiZXh0cmFNZW51T3B0aW9ucyIsInNob3dQcmVmTmFtZSIsImlzRml4ZWQiLCJpc0ZpcnN0IiwiaXNMYXN0IiwiaXNXZWJFeHRlbnNpb24iLCJhY3RpdmUiLCJib2R5U3R5bGUiLCJFcnJvckJvdW5kYXJ5RmFsbGJhY2siLCJyZWxvYWQiLCJkZWZhdWx0Q2xhc3MiLCJFcnJvckJvdW5kYXJ5IiwiaGFzRXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsIkZhbGxiYWNrQ29tcG9uZW50IiwiQTExeUxpbmtCdXR0b24iLCJGbHVlbnRPclRleHQiLCJjaGlsZCIsIkNoaWxkcmVuIiwib25seSIsImdyYW5kQ2hpbGRyZW4iLCJERUZBVUxUX1NFQ1RJT05fTUVOVV9PUFRJT05TIiwiV0VCRVhUX1NFQ1RJT05fTUVOVV9PUFRJT05TIiwiX1NlY3Rpb25NZW51IiwiaGFuZGxlQWRkV2hpbGVDb2xsYXBzZWQiLCJFeHBhbmRTZWN0aW9uIiwiZXh0cmFPcHRpb25zIiwiaGFzQWRkRXZlbnQiLCJTZWN0aW9uTWVudSIsIk1vdmVVcCIsIlNFQ1RJT05fTU9WRSIsImRpcmVjdGlvbiIsIk1vdmVEb3duIiwiUmVtb3ZlU2VjdGlvbiIsIkNvbGxhcHNlU2VjdGlvbiIsIlVQREFURV9TRUNUSU9OX1BSRUZTIiwiTWFuYWdlU2VjdGlvbiIsIk1hbmFnZVdlYkV4dGVuc2lvbiIsIk9QRU5fV0VCRVhUX1NFVFRJTkdTIiwiQWRkVG9wU2l0ZSIsIkFkZFNlYXJjaFNob3J0Y3V0IiwiVE9QX1NJVEVTX09QRU5fU0VBUkNIX1NIT1JUQ1VUU19NT0RBTCIsIlByaXZhY3lOb3RpY2UiLCJEU0Rpc21pc3MiLCJvbkRpc21pc3NDbGljayIsIm9uSG92ZXIiLCJvZmZIb3ZlciIsImhvdmVyaW5nIiwiYmxvY2tVcmxPcHRpb24iLCJleHRyYUNsYXNzZXMiLCJEU01lc3NhZ2UiLCJEU1ByaXZhY3lNb2RhbCIsIkRTVGV4dFByb21vIiwiaW1hZ2UiLCJjdGFfdXJsIiwiY3RhX3RleHQiLCJIZXJvIiwiaGVyb1JlYyIsInJlbmRlckhlcm8iLCJvdGhlclJlY3MiLCJoZXJvQ2FyZCIsImxpc3QiLCJzdWJDb21wb25lbnRUeXBlIiwiTGlzdEl0ZW0iLCJQbGFjZWhvbGRlckxpc3RJdGVtIiwiX0xpc3QiLCJyZW5kZXJMaXN0IiwicmVjU3RhcnRpbmdQb2ludCIsInJlY01hcmt1cCIsImxpc3RTdHlsZXMiLCJmdWxsV2lkdGgiLCJoYXNCb3JkZXJzIiwiaGFzSW1hZ2VzIiwiaGFzTnVtYmVycyIsIkxpc3QiLCJfSGlnaGxpZ2h0cyIsIkhpZ2hsaWdodHMiLCJDQVJEU19QRVJfUk9XX0RFRkFVTFQiLCJDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERSIsIm51bVJvd3MiLCJyb3dzUHJlZiIsIm1heFJvd3MiLCJjYXJkc1BlclJvdyIsImNvbXBhY3RDYXJkcyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwibWF4Q2FyZHMiLCJuZWVkc0ltcHJlc3Npb25TdGF0cyIsInNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyIiwic2VuZE5ld1RhYlJlaHlkcmF0ZWQiLCJ3YXNDb2xsYXBzZWQiLCJyZW5kZXJOb3RpZmllZCIsIk5FV19UQUJfUkVIWURSQVRFRCIsIlBvY2tldCIsInRvcGljcyIsImVtcHR5U3RhdGUiLCJyZWFkX21vcmVfZW5kcG9pbnQiLCJjb250ZXh0TWVudU9wdGlvbnMiLCJ3YWl0aW5nRm9yU3BvYyIsIm1heENhcmRzUGVyUm93IiwibWF4Q2FyZHNPbk5hcnJvdyIsInBvY2tldEN0YSIsImlzVXNlckxvZ2dlZEluIiwidXNlQ3RhIiwiaXNQb2NrZXRMb2dnZWRJbkRlZmluZWQiLCJoYXNUb3BpY3MiLCJzaG91bGRTaG93UG9ja2V0Q3RhIiwic2hvdWxkU2hvd1RvcGljcyIsInNob3VsZFNob3dSZWFkTW9yZSIsInJlYWxSb3dzIiwic2hvdWxkU2hvd0VtcHR5U3RhdGUiLCJ1c2VQbGFjZWhvbGRlciIsInNlY3Rpb25DbGFzc05hbWUiLCJwYWRkaW5nIiwiU2VjdGlvbkludGwiLCJfU2VjdGlvbnMiLCJyZW5kZXJTZWN0aW9ucyIsInNlY3Rpb25zIiwiZW5hYmxlZFNlY3Rpb25zIiwic2VjdGlvbk9yZGVyIiwic2hvd1RvcFNpdGVzIiwiZXhwZWN0ZWRDb3VudCIsInNlY3Rpb25JZCIsImNvbW1vblByb3BzIiwiZ0ltYWdlTG9hZGluZyIsIk1hcCIsIl9DYXJkIiwiYWN0aXZlQ2FyZCIsImltYWdlTG9hZGVkIiwiY2FyZEltYWdlIiwib25NZW51QnV0dG9uVXBkYXRlIiwibWF5YmVMb2FkSW1hZ2UiLCJpbWFnZVVybCIsImhhcyIsImxvYWRlclByb21pc2UiLCJyZWplY3QiLCJsb2FkZXIiLCJJbWFnZSIsInNyYyIsInNldCIsImNhdGNoIiwidGhlbiIsIlNjcmVlbnNob3RVdGlscyIsImlzUmVtb3RlSW1hZ2VMb2NhbCIsImdldE5leHRTdGF0ZUZyb21Qcm9wcyIsImltYWdlSW5TdGF0ZSIsIm5leHRTdGF0ZSIsIm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTCIsImNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QiLCJpc09wZW4iLCJfZ2V0VGVsZW1ldHJ5SW5mbyIsIldFQkVYVF9DTElDSyIsImhvc3RuYW1lIiwiaXNDb250ZXh0TWVudU9wZW4iLCJoYXNJbWFnZSIsImltYWdlU3R5bGUiLCJkZXNjcmlwdGlvbiIsIkNhcmQiLCJQbGFjZWhvbGRlckNhcmQiLCJpc0Jsb2IiLCJpc0xvY2FsIiwicGF0aCIsInJlbW90ZUltYWdlIiwiY3JlYXRlT2JqZWN0VVJMIiwibG9jYWxJbWFnZSIsInJldm9rZU9iamVjdFVSTCIsIlJFQ09SREVEX1NFQ1RJT05TIiwiQ29tcG9uZW50UGVyZlRpbWVyIiwiQ29tcG9uZW50IiwicGVyZlN2YyIsIl9zZW5kQmFkU3RhdGVFdmVudCIsIl9zZW5kUGFpbnRlZEV2ZW50IiwiX3JlcG9ydE1pc3NpbmdEYXRhIiwiX3RpbWVzdGFtcEhhbmRsZWQiLCJfcmVjb3JkZWRGaXJzdFJlbmRlciIsIl9tYXliZVNlbmRQYWludGVkRXZlbnQiLCJfYWZ0ZXJGcmFtZVBhaW50IiwiY2FsbGJhY2siLCJfbWF5YmVTZW5kQmFkU3RhdGVFdmVudCIsIl9lbnN1cmVGaXJzdFJlbmRlclRzUmVjb3JkZWQiLCJtYXJrIiwiZGF0YVJlYWR5S2V5IiwiZmlyc3RSZW5kZXJLZXkiLCJwYXJzZUludCIsImdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUiLCJDaHJvbWVVdGlscyIsIlNlcnZpY2VzIiwiaW1wb3J0IiwidXNhYmxlUGVyZk9iaiIsImFwcFNoZWxsIiwiaGlkZGVuRE9NV2luZG93IiwicGVyZm9ybWFuY2UiLCJfUGVyZlNlcnZpY2UiLCJwZXJmb3JtYW5jZU9iaiIsIl9wZXJmIiwicHJvdG90eXBlIiwic3RyIiwiZ2V0RW50cmllc0J5TmFtZSIsInRpbWVPcmlnaW4iLCJhYnNOb3ciLCJtb3N0UmVjZW50RW50cnkiLCJzdGFydFRpbWUiLCJNb3JlUmVjb21tZW5kYXRpb25zIiwiX1BvY2tldExvZ2dlZEluQ3RhIiwiY3RhVXJsIiwiY3RhQnV0dG9uIiwiY3RhVGV4dCIsIlBvY2tldExvZ2dlZEluQ3RhIiwiVG9waWMiLCJUb3BpY3MiLCJ0IiwidG9wU2l0ZUljb25UeXBlIiwiY3VzdG9tU2NyZWVuc2hvdFVSTCIsInRpcHB5VG9wSWNvbiIsImZhdmljb25SZWYiLCJmYXZpY29uU2l6ZSIsIk1JTl9SSUNIX0ZBVklDT05fU0laRSIsInNjcmVlbnNob3QiLCJNSU5fQ09STkVSX0ZBVklDT05fU0laRSIsImNvdW50VG9wU2l0ZXNJY29uc1R5cGVzIiwiY291bnRUb3BTaXRlc1R5cGVzIiwiY3VzdG9tX3NjcmVlbnNob3QiLCJzY3JlZW5zaG90X3dpdGhfaWNvbiIsInRpcHB5dG9wIiwicmljaF9pY29uIiwibm9faW1hZ2UiLCJfVG9wU2l0ZXMiLCJvbkVkaXRGb3JtQ2xvc2UiLCJvblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZSIsIl9kaXNwYXRjaFRvcFNpdGVzU3RhdHMiLCJfZ2V0VmlzaWJsZVRvcFNpdGVzIiwidG9wU2l0ZSIsInRvcFNpdGVzSWNvbnNTdGF0cyIsInRvcFNpdGVzUGlubmVkIiwic2VhcmNoU2hvcnRjdXRzIiwidG9wc2l0ZXNfaWNvbl9zdGF0cyIsInRvcHNpdGVzX3Bpbm5lZCIsInRvcHNpdGVzX3NlYXJjaF9zaG9ydGN1dHMiLCJzaXRlc1BlclJvdyIsIlRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyIsIlRvcFNpdGVzIiwiVG9wU2l0ZXNSb3dzIiwiVE9QX1NJVEVTX1NPVVJDRSIsIlRPUF9TSVRFU19DQU5DRUxfRURJVCIsIlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMIiwiZWRpdEZvcm0iLCJzaG93U2VhcmNoU2hvcnRjdXRzRm9ybSIsIlRvcFNpdGVzV2l0aFNwb2MiLCJ0b3BTaXRlc1Jvd3MiLCJUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUyIsIlRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiU2VsZWN0YWJsZVNlYXJjaFNob3J0Y3V0Iiwic2hvcnRjdXQiLCJzZWxlY3RlZCIsImtleXdvcmQiLCJTZWFyY2hTaG9ydGN1dHNGb3JtIiwiaGFuZGxlQ2hhbmdlIiwib25DYW5jZWxCdXR0b25DbGljayIsIm9uU2F2ZUJ1dHRvbkNsaWNrIiwic2hvcnRjdXRzIiwiaXNTZWxlY3RlZCIsInBpblF1ZXVlIiwidW5waW5RdWV1ZSIsImFscmVhZHlQaW5uZWQiLCJfc2VhcmNoVG9wU2l0ZSIsInNlYXJjaFZlbmRvciIsInNob3J0VVJMIiwiVVBEQVRFX1BJTk5FRF9TRUFSQ0hfU0hPUlRDVVRTIiwiYWRkZWRTaG9ydGN1dHMiLCJkZWxldGVkU2hvcnRjdXRzIiwic2VhcmNoX3ZlbmRvciIsIlNQT0NfVFlQRSIsIlRvcFNpdGVMaW5rIiwic2NyZWVuc2hvdEltYWdlIiwib25EcmFnRXZlbnQiLCJfYWxsb3dEcm9wIiwiZGF0YVRyYW5zZmVyIiwidHlwZXMiLCJkcmFnZ2VkIiwiZWZmZWN0QWxsb3dlZCIsImRlZmF1bHRTdHlsZSIsImlzRHJhZ2dhYmxlIiwidG9wU2l0ZU91dGVyQ2xhc3NOYW1lIiwiaXNEcmFnZ2VkIiwibGV0dGVyRmFsbGJhY2siLCJpbWFnZUNsYXNzTmFtZSIsInNob3dTbWFsbEZhdmljb24iLCJzbWFsbEZhdmljb25TdHlsZSIsInNtYWxsRmF2aWNvbkZhbGxiYWNrIiwiaGFzU2NyZWVuc2hvdEltYWdlIiwiYmFja2dyb3VuZENvbG9yIiwic3BvY0ltZ1VSTCIsImZhdmljb24iLCJkcmFnZ2FibGVQcm9wcyIsIm9uRHJhZ0VuZCIsIm9uRHJhZ1N0YXJ0Iiwib25Nb3VzZURvd24iLCJUb3BTaXRlIiwiaWNvbl90eXBlIiwiaWNvblR5cGUiLCJGSUxMX1NFQVJDSF9URVJNIiwib25BY3RpdmF0ZSIsImFjdGl2ZUluZGV4IiwibWVudU9wdGlvbnMiLCJUb3BTaXRlUGxhY2Vob2xkZXIiLCJvbkVkaXRCdXR0b25DbGljayIsIlRvcFNpdGVMaXN0IiwiREVGQVVMVF9TVEFURSIsImRyYWdnZWRJbmRleCIsImRyYWdnZWRTaXRlIiwiZHJhZ2dlZFRpdGxlIiwidG9wU2l0ZXNQcmV2aWV3IiwicHJldlRvcFNpdGVzIiwibmV3VG9wU2l0ZXMiLCJkcm9wcGVkIiwiX21ha2VUb3BTaXRlc1ByZXZpZXciLCJUT1BfU0lURVNfSU5TRVJUIiwiZHJhZ2dlZEZyb21JbmRleCIsIl9nZXRUb3BTaXRlcyIsInBpbm5lZE9ubHkiLCJ1bnBpbm5lZCIsInNpdGVUb0luc2VydCIsImhvbGVJbmRleCIsImluZGV4U3RlcCIsInNoaWZ0aW5nU3RlcCIsIm5leHRJbmRleCIsInByZXZpZXciLCJzaGlmdCIsInRvcFNpdGVzVUkiLCJtYXhOYXJyb3dWaXNpYmxlSW5kZXgiLCJsIiwic2xvdFByb3BzIiwiSG9yaXpvbnRhbFJ1bGUiLCJOYXZpZ2F0aW9uIiwiU2VjdGlvblRpdGxlIiwic3BvY0luZGV4TWFwIiwiYnVmZmVyUm9sbENhY2hlIiwiY2hvc2VuU3BvY3MiLCJTZXQiLCJ1bmNob3NlblNwb2NzIiwicm9sbEZvclNwb2NzIiwic3BvY3NDb25maWciLCJwbGFjZW1lbnROYW1lIiwicmVzdWx0cyIsInBvc2l0aW9uIiwicmlja1JvbGwiLCJyYW5kb20iLCJwcm9iYWJpbGl0eSIsImJsb2NrZWQiLCJEU19DT01QT05FTlRTIiwiZmlsdGVyQXJyYXkiLCJwbGFjZWhvbGRlckNvbXBvbmVudCIsImhhbmRsZVNwb2NzIiwicGxhY2VtZW50IiwiaGFuZGxlQ29tcG9uZW50IiwiaGFuZGxlQ29tcG9uZW50V2l0aEZlZWQiLCJvZmZzZXQiLCJtaW4iLCJyZW5kZXJlZExheW91dEFycmF5IiwiYyIsImNob3NlblNwb2NzRmlsbCIsInJlYXNvbiIsImRpc3BsYXllZCIsImZ1bGxfcmVjYWxjIiwidW5jaG9zZW5TcG9jc0ZpbGwiLCJvdXRPZlBvc2l0aW9uU3BvY3NGaWxsIiwiZ2V0Rmlyc3RBdmFpbGFibGVTcG9jIiwidXNlclRvcFNpdGVzIiwiZ2V0Rmlyc3RBdmFpbGFibGVJbmRleCIsImZpbmRJbmRleCIsImVuZE9mUm93IiwiaW5zZXJ0U3BvY0NvbnRlbnQiLCJ0b3BTaXRlU3BvYyIsImZpcnN0QXZhaWxhYmxlSW5kZXgiLCJzaGlmdGVkVG9wU2l0ZSIsIm5leHRUb3BTaXRlIiwiX1NlYXJjaCIsIm9uU2VhcmNoQ2xpY2siLCJvblNlYXJjaEhhbmRvZmZDbGljayIsIm9uU2VhcmNoSGFuZG9mZlBhc3RlIiwib25TZWFyY2hIYW5kb2ZmRHJvcCIsIm9uSW5wdXRNb3VudCIsIm9uU2VhcmNoSGFuZG9mZkJ1dHRvbk1vdW50IiwiaGFuZGxlRXZlbnQiLCJnQ29udGVudFNlYXJjaENvbnRyb2xsZXIiLCJzZWFyY2giLCJkb1NlYXJjaEhhbmRvZmYiLCJIQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSIiwiRkFLRV9GT0NVU19TRUFSQ0giLCJISURFX1NFQVJDSCIsImdldERhdGEiLCJpbnB1dCIsImhlYWx0aFJlcG9ydEtleSIsInNlYXJjaFNvdXJjZSIsIkNvbnRlbnRTZWFyY2hVSUNvbnRyb2xsZXIiLCJfc2VhcmNoSGFuZG9mZkJ1dHRvbiIsIndyYXBwZXJDbGFzc05hbWUiLCJoaWRlIiwiZmFrZUZvY3VzIiwic2hvd0xvZ28iLCJoYW5kb2ZmRW5hYmxlZCIsIl9zdG9yZSIsIl9wZXJmU2VydmljZSIsInBlcmZTZXJ2aWNlIiwiX3NlbmRFdmVudCIsInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyIsIlJlYWN0TG9jYWxpemF0aW9uIiwiYnVuZGxlcyIsIkNhY2hlZFN5bmNJdGVyYWJsZSIsInN1YnMiLCJzdWJzY3JpYmUiLCJjb21wIiwidW5zdWJzY3JpYmUiLCJzZXRCdW5kbGVzIiwicmVsb2NhbGl6ZSIsImdldEJ1bmRsZSIsIm1hcEJ1bmRsZVN5bmMiLCJnZXRTdHJpbmciLCJmYWxsYmFjayIsImdldE1lc3NhZ2UiLCJmb3JtYXQiLCJpc1JlYWN0TG9jYWxpemF0aW9uIiwicHJvcE5hbWUiLCJwcm9wIiwiY2FjaGVkUGFyc2VNYXJrdXAiLCJjcmVhdGVQYXJzZU1hcmt1cCIsImNyZWF0ZUVsZW1lbnQiLCJwYXJzZU1hcmt1cCIsImlubmVySFRNTCIsIkFycmF5IiwiY2hpbGROb2RlcyIsIkxvY2FsaXphdGlvblByb3ZpZGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJsMTBuIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJQcm9wVHlwZXMiLCJwcm9wVHlwZXMiLCJpc1JlcXVpcmVkIiwiaXNJdGVyYWJsZSIsImNvbXBvbmVudE5hbWUiLCJ3aXRoTG9jYWxpemF0aW9uIiwiSW5uZXIiLCJXaXRoTG9jYWxpemF0aW9uIiwiZm9yY2VVcGRhdGUiLCJkaXNwbGF5TmFtZSIsImNvbnRleHRUeXBlcyIsIm9taXR0ZWRDbG9zZVRhZ3MiLCJhcmVhIiwiYmFzZSIsImNvbCIsImVtYmVkIiwiaHIiLCJrZXlnZW4iLCJ0cmFjayIsIndiciIsInZvaWRFbGVtZW50VGFncyIsIm1lbnVpdGVtIiwicmVNYXJrdXAiLCJ0b0FyZ3VtZW50cyIsImVsZW1zIiwicHJvcG5hbWUiLCJwcm9wdmFsIiwic3Vic3RyIiwiaXNWYWxpZEVsZW1lbnQiLCJ0b0xvd2VyQ2FzZSIsIkxvY2FsaXplZCIsImF0dHJzIiwiZWxlbSIsImlzQXJyYXkiLCJtZXNzYWdlVmFsdWUiLCJsb2NhbGl6ZWRQcm9wcyIsImFsbG93ZWQiLCJoYXNPd25Qcm9wZXJ0eSIsIlZPSURfRUxFTUVOVFMiLCJ0ZXN0IiwidHJhbnNsYXRpb25Ob2RlcyIsInRyYW5zbGF0ZWRDaGlsZHJlbiIsImNoaWxkTm9kZSIsIm5vZGVUeXBlIiwiVEVYVF9OT0RFIiwidGV4dENvbnRlbnQiLCJsb2NhbE5hbWUiLCJzb3VyY2VDaGlsZCIsIkFMTE9XRURfU1RZTEVfVEFHUyIsIkJ1dHRvbiIsInRhZyIsIkNvbmRpdGlvbmFsV3JhcHBlciIsImNvbmRpdGlvbiIsIndyYXAiLCJTbmlwcGV0QmFzZSIsIm9uQmxvY2tDbGlja2VkIiwib25EaXNtaXNzQ2xpY2tlZCIsInNldEJsb2NrQnV0dG9uUmVmIiwib25CbG9ja0J1dHRvbk1vdXNlRW50ZXIiLCJvbkJsb2NrQnV0dG9uTW91c2VMZWF2ZSIsImJsb2NrQnV0dG9uSG92ZXIiLCJibG9ja0J1dHRvblJlZiIsIm9uRGlzbWlzcyIsInJlbmRlckRpc21pc3NCdXR0b24iLCJmb290ZXJEaXNtaXNzIiwic2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQiLCJibG9ja19idXR0b25fdGV4dCIsInNjaGVtYSIsImRlZmF1bHQiLCJjb250YWluZXJDbGFzc05hbWUiLCJ0ZXh0U3R5bGUiLCJERUZBVUxUX0lDT05fUEFUSCIsIlNpbXBsZVNuaXBwZXQiLCJvbkJ1dHRvbkNsaWNrIiwiYnV0dG9uX3VybCIsImJ1dHRvbl9hY3Rpb25fYXJncyIsIl9zaG91bGRSZW5kZXJCdXR0b24iLCJyZW5kZXJUaXRsZSIsInJlbmRlclRpdGxlSWNvbiIsInRpdGxlSWNvbkxpZ2h0IiwidGl0bGVfaWNvbiIsInRpdGxlSWNvbkRhcmsiLCJ0aXRsZV9pY29uX2RhcmtfdGhlbWUiLCJidXR0b25fY29sb3IiLCJidXR0b25fYmFja2dyb3VuZF9jb2xvciIsIndyYXBTZWN0aW9uSGVhZGVyIiwid3JhcFNuaXBwZXRDb250ZW50IiwicmVuZGVyU2VjdGlvbkhlYWRlciIsInNlY3Rpb25fdGl0bGVfaWNvbiIsInNlY3Rpb25fdGl0bGVfdGV4dCIsInNlY3Rpb25UaXRsZUljb25MaWdodCIsInNlY3Rpb25UaXRsZUljb25EYXJrIiwic2VjdGlvbl90aXRsZV9pY29uX2RhcmtfdGhlbWUiLCJzZWN0aW9uVGl0bGVVUkwiLCJzZWN0aW9uX3RpdGxlX3VybCIsInNlY3Rpb25IZWFkZXIiLCJ0YWxsIiwiaWNvbl9hbHRfdGV4dCIsImljb25fZGFya190aGVtZSIsImV4dHJhQ29udGVudCIsIkVPWVNuaXBwZXRCYXNlIiwiaGFuZGxlU3VibWl0Iiwic2V0RnJlcXVlbmN5VmFsdWUiLCJmcmVxdWVuY3lDaGVja2JveCIsInN1Ym1pdCIsInJlbmRlckRvbmF0aW9ucyIsImZpZWxkTmFtZXMiLCJudW1iZXJGb3JtYXQiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwibG9jYWxlIiwibmF2aWdhdG9yIiwibGFuZ3VhZ2UiLCJjdXJyZW5jeSIsImN1cnJlbmN5X2NvZGUiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJzZWxlY3RlZF9idXR0b24iLCJidG5TdHlsZSIsImNvbG9yIiwiZG9uYXRpb25VUkxQYXJhbXMiLCJwYXJhbXNTdGFydEluZGV4IiwiZG9uYXRpb25fZm9ybV91cmwiLCJmb3JtX21ldGhvZCIsImlkeCIsImZpZWxkIiwiYnV0dG9uX25hbWUiLCJhbW91bnQiLCJtb250aGx5X2NoZWNrYm94X2xhYmVsX3RleHQiLCJ0ZXh0X2NvbG9yIiwiYmFja2dyb3VuZF9jb2xvciIsImhpZ2hsaWdodF9jb2xvciIsIkVPWVNuaXBwZXQiLCJleHRlbmRlZENvbnRlbnQiLCJTdWJtaXRGb3JtU25pcHBldCIsImV4cGFuZFNuaXBwZXQiLCJoYW5kbGVTdWJtaXRBdHRlbXB0IiwiZXhwYW5kZWQiLCJzdWJtaXRBdHRlbXB0ZWQiLCJzaWdudXBTdWJtaXR0ZWQiLCJzaWdudXBTdWNjZXNzIiwiZGlzYWJsZUZvcm0iLCJwcmV2ZW50RGlzbWlzcyIsImZvcm1EYXRhIiwicHJvY2Vzc0Zvcm1EYXRhIiwibWFpbklucHV0IiwiRm9ybURhdGEiLCJmZXRjaFJlcXVlc3QiLCJSZXF1ZXN0IiwibWV0aG9kIiwicmVuZGVySGlkZGVuRm9ybUlucHV0cyIsImhpZGRlbl9pbnB1dHMiLCJyZW5kZXJEaXNjbGFpbWVyIiwic2NlbmUyX2Rpc2NsYWltZXJfaHRtbCIsInJlbmRlckZvcm1Qcml2YWN5Tm90aWNlIiwic2NlbmUyX3ByaXZhY3lfaHRtbCIsInJlbmRlclNpZ251cFN1Ym1pdHRlZCIsImlzU3VjY2VzcyIsInN1Y2Nlc3NUaXRsZSIsInN1Y2Nlc3NfdGl0bGUiLCJib2R5VGV4dCIsInN1Y2Nlc3NfdGV4dCIsImVycm9yX3RleHQiLCJyZXRyeUJ1dHRvblRleHQiLCJyZXRyeV9idXR0b25fbGFiZWwiLCJ2YWxpZGF0ZUlucHV0Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJyZW5kZXJJbnB1dCIsInBsYWNob2xkZXIiLCJzY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dCIsInNjZW5lMl9pbnB1dF9wbGFjZWhvbGRlciIsImlucHV0VHlwZSIsInJlbmRlclNpZ251cFZpZXciLCJjb250YWluZXJDbGFzcyIsInNjZW5lMl9pY29uIiwic2NlbmUyX2ljb25fYWx0X3RleHQiLCJzY2VuZTJfaWNvbl9kYXJrX3RoZW1lIiwic2NlbmUyX3RpdGxlIiwic2NlbmUyX3RleHQiLCJmb3JtX2FjdGlvbiIsInNjZW5lMl9idXR0b25fbGFiZWwiLCJnZXRGaXJzdFNjZW5lQ29udGVudCIsIkZYQVNpZ251cFNuaXBwZXQiLCJ1c2VyQWdlbnQiLCJmaXJlZm94X3ZlcnNpb24iLCJzY2VuZTFfYnV0dG9uX2xhYmVsIiwiZW50cnlwb2ludCIsInV0bV9jb250ZW50IiwidXRtX3Rlcm0iLCJOZXdzbGV0dGVyU25pcHBldCIsInNjZW5lMl9uZXdzbGV0dGVyIiwibmV3c2xldHRlcnMiLCJmbXQiLCJzb3VyY2VfdXJsIiwiaXNFbWFpbE9yUGhvbmVOdW1iZXIiLCJ2YWwiLCJlbWFpbF9yZSIsImNoZWNrX2VtYWlsIiwiY2hlY2tfcGhvbmUiLCJpc05hTiIsImluY2x1ZGVfc21zIiwibWVzc2FnZV9pZF9zbXMiLCJjb3VudHJ5IiwibWVzc2FnZV9pZF9lbWFpbCIsImFkZERlZmF1bHRWYWx1ZXMiLCJTZW5kVG9EZXZpY2VTbmlwcGV0IiwicHJvcHNXaXRoRGVmYXVsdHMiLCJTaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQiLCJjb250YWluZXJOYW1lIiwic2ltcGxlX3NuaXBwZXQiLCJuZXdzbGV0dGVyX3NuaXBwZXQiLCJmeGFfc2lnbnVwX3NuaXBwZXQiLCJzZW5kX3RvX2RldmljZV9zbmlwcGV0IiwiZW95X3NuaXBwZXQiLCJzaW1wbGVfYmVsb3dfc2VhcmNoX3NuaXBwZXQiLCJGbHVlbnRUeXBlIiwib3B0cyIsInZhbHVlT2YiLCJGbHVlbnROb25lIiwiRmx1ZW50TnVtYmVyIiwicGFyc2VGbG9hdCIsIm5mIiwiX21lbW9pemVJbnRsT2JqZWN0IiwiRmx1ZW50RGF0ZVRpbWUiLCJkdGYiLCJEYXRlVGltZUZvcm1hdCIsImFyZyIsIm1lcmdlIiwiYXJnb3B0cyIsInVud3JhcHBlZCIsIm9wdCIsIk1BWF9QTEFDRUFCTEVfTEVOR1RIIiwiRlNJIiwiUERJIiwiY2F0ZWdvcnkiLCJQbHVyYWxSdWxlcyIsInNlbGVjdCIsImdldERlZmF1bHQiLCJzY29wZSIsInZhcmlhbnRzIiwic3RhciIsIlR5cGUiLCJSYW5nZUVycm9yIiwiZ2V0QXJndW1lbnRzIiwicG9zaXRpb25hbCIsIm5hbWVkIiwiZXhwciIsIl90cmFuc2Zvcm0iLCJQYXR0ZXJuIiwicHJlY2lzaW9uIiwiVmFyaWFibGVSZWZlcmVuY2UiLCJNZXNzYWdlUmVmZXJlbmNlIiwiVGVybVJlZmVyZW5jZSIsIkZ1bmN0aW9uUmVmZXJlbmNlIiwiU2VsZWN0RXhwcmVzc2lvbiIsImluc2lkZVRlcm1SZWZlcmVuY2UiLCJSZWZlcmVuY2VFcnJvciIsIlR5cGVFcnJvciIsImF0dHIiLCJfbWVzc2FnZXMiLCJhdHRyaWJ1dGUiLCJ0ZXJtIiwiX3Rlcm1zIiwia2V5YXJncyIsImxvY2FsIiwiX2Z1bmN0aW9ucyIsImJ1aWx0aW5zIiwic2VsIiwidmFyaWFudCIsInB0biIsImRpcnR5IiwidXNlSXNvbGF0aW5nIiwiX3VzZUlzb2xhdGluZyIsInBhcnQiLCJXZWFrU2V0IiwiRmx1ZW50RXJyb3IiLCJSRV9NRVNTQUdFX1NUQVJUIiwiUkVfQVRUUklCVVRFX1NUQVJUIiwiUkVfVkFSSUFOVF9TVEFSVCIsIlJFX05VTUJFUl9MSVRFUkFMIiwiUkVfSURFTlRJRklFUiIsIlJFX1JFRkVSRU5DRSIsIlJFX0ZVTkNUSU9OX05BTUUiLCJSRV9URVhUX1JVTiIsIlJFX1NUUklOR19SVU4iLCJSRV9TVFJJTkdfRVNDQVBFIiwiUkVfVU5JQ09ERV9FU0NBUEUiLCJSRV9MRUFESU5HX05FV0xJTkVTIiwiUkVfVFJBSUxJTkdfU1BBQ0VTIiwiUkVfQkxBTktfTElORVMiLCJSRV9JTkRFTlQiLCJUT0tFTl9CUkFDRV9PUEVOIiwiVE9LRU5fQlJBQ0VfQ0xPU0UiLCJUT0tFTl9CUkFDS0VUX09QRU4iLCJUT0tFTl9CUkFDS0VUX0NMT1NFIiwiVE9LRU5fUEFSRU5fT1BFTiIsIlRPS0VOX0FSUk9XIiwiVE9LRU5fQ09MT04iLCJUT0tFTl9DT01NQSIsIlRPS0VOX0JMQU5LIiwiTUFYX1BMQUNFQUJMRVMiLCJGbHVlbnRSZXNvdXJjZSIsImZyb21TdHJpbmciLCJsYXN0SW5kZXgiLCJyZXNvdXJjZSIsImN1cnNvciIsImV4ZWMiLCJwYXJzZU1lc3NhZ2UiLCJyZSIsImNvbnN1bWVDaGFyIiwiY2hhciIsImVycm9yQ2xhc3MiLCJjb25zdW1lVG9rZW4iLCJtYXRjaDEiLCJwYXJzZVBhdHRlcm4iLCJwYXJzZUF0dHJpYnV0ZXMiLCJwYXJzZVBhdHRlcm5FbGVtZW50cyIsIkluZmluaXR5IiwiaW5kZW50IiwicGFyc2VJbmRlbnQiLCJ0cmltIiwiY29tbW9uSW5kZW50IiwicGxhY2VhYmxlQ291bnQiLCJwYXJzZVBsYWNlYWJsZSIsImJha2VkIiwicGFyc2VJbmxpbmVFeHByZXNzaW9uIiwicGFyc2VWYXJpYW50cyIsInNpZ2lsIiwicGFyc2VBcmd1bWVudHMiLCJwYXJzZUxpdGVyYWwiLCJwYXJzZUFyZ3VtZW50IiwiY291bnQiLCJwYXJzZVZhcmlhbnRLZXkiLCJwYXJzZU51bWJlckxpdGVyYWwiLCJwYXJzZVN0cmluZ0xpdGVyYWwiLCJmcmFjdGlvbiIsInBhcnNlRXNjYXBlU2VxdWVuY2UiLCJjb2RlcG9pbnQ0IiwiY29kZXBvaW50NiIsImNvZGVwb2ludCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJzdGFydCIsIm1ha2VJbmRlbnQiLCJibGFuayIsIkZsdWVudEJ1bmRsZSIsImxvY2FsZXMiLCJmdW5jdGlvbnMiLCJ0cmFuc2Zvcm0iLCJfaW50bHMiLCJXZWFrTWFwIiwiaGFzTWVzc2FnZSIsImFkZE1lc3NhZ2VzIiwicmVzIiwiYWRkUmVzb3VyY2UiLCJhbGxvd092ZXJyaWRlcyIsImN0b3IiLCJjYWNoZSIsIm5vbkJsYW5rIiwibGluZSIsImNvdW50SW5kZW50IiwiZnRsIiwic3RyaW5ncyIsImNvZGUiLCJsaW5lcyIsImluZGVudHMiLCJjb21tb24iLCJSZWdFeHAiLCJSSUNIX1RFWFRfQ09ORklHIiwiYW1vX2h0bWwiLCJwcml2YWN5X2h0bWwiLCJkaXNjbGFpbWVyX2h0bWwiLCJhdHRyc1RvVHJ5Iiwic3RyaW5nIiwicG9wIiwiRGVkdXBlIiwiY3JlYXRlS2V5IiwiZGVmYXVsdENyZWF0ZUtleSIsImdyb3VwIiwiZ3JvdXBzIiwiZ2xvYmFsS2V5cyIsInZhbHVlTWFwIiwiVE9QX1NJVEVTX0RFRkFVTFRfUk9XUyIsImRlZHVwZSIsIklOSVRJQUxfU1RBVEUiLCJBU1JvdXRlciIsIlNuaXBwZXRzIiwic3BvY3NfcGVyX2RvbWFpbiIsInBsYWNlbWVudHMiLCJBU19ST1VURVJfSU5JVElBTElaRUQiLCJpbnNlcnRQaW5uZWQiLCJwaW5uZWQiLCJwaW5uZWRVcmxzIiwibmV3TGlua3MiLCJwaW5JbmRleCIsImhhc01hdGNoIiwibmV3Um93cyIsIlRPUF9TSVRFU19VUERBVEVEIiwiVE9QX1NJVEVTX1BSRUZTX1VQREFURUQiLCJwcmV2aWV3UmVzcG9uc2UiLCJQUkVWSUVXX1JFU1BPTlNFIiwicHJldmlld1VybCIsIlBSRVZJRVdfUkVRVUVTVCIsIlBSRVZJRVdfUkVRVUVTVF9DQU5DRUwiLCJTQ1JFRU5TSE9UX1VQREFURUQiLCJQTEFDRVNfQk9PS01BUktfQURERUQiLCJib29rbWFya1RpdGxlIiwiZGF0ZUFkZGVkIiwiYm9va21hcmtEYXRlQ3JlYXRlZCIsIlBMQUNFU19CT09LTUFSS19SRU1PVkVEIiwibmV3U2l0ZSIsIlBMQUNFU19MSU5LX0RFTEVURUQiLCJVUERBVEVfU0VBUkNIX1NIT1JUQ1VUUyIsIlNOSVBQRVRTX1BSRVZJRVdfTU9ERSIsIm5ld1ZhbHVlcyIsIlBSRUZTX0lOSVRJQUxfVkFMVUVTIiwiUFJFRl9DSEFOR0VEIiwibmV3U3RhdGUiLCJTRUNUSU9OX0RFUkVHSVNURVIiLCJTRUNUSU9OX1JFR0lTVEVSIiwiU0VDVElPTl9VUERBVEUiLCJkZWR1cGVDb25maWd1cmF0aW9ucyIsImRlZHVwZUNvbmYiLCJkZWR1cGVkUm93cyIsImRlZHVwZUZyb20iLCJkZWR1cGVTZWN0aW9uSWQiLCJkZWR1cGVTZWN0aW9uIiwiU0VDVElPTl9VUERBVEVfQ0FSRCIsIlBMQUNFU19TQVZFRF9UT19QT0NLRVQiLCJQTEFDRVNfTElOS19CTE9DS0VEIiwiU05JUFBFVFNfREFUQSIsIlNOSVBQRVRfQkxPQ0tFRCIsImJsb2NrTGlzdCIsImNvbmNhdCIsIlNOSVBQRVRTX0JMT0NLTElTVF9DTEVBUkVEIiwiU05JUFBFVFNfUkVTRVQiLCJQT0NLRVRfV0FJVElOR19GT1JfU1BPQyIsIlBPQ0tFVF9MT0dHRURfSU4iLCJQT0NLRVRfQ1RBIiwiY3RhX2J1dHRvbiIsInVzZV9jdGEiLCJpc05vdFJlYWR5IiwiaGFuZGxlUGxhY2VtZW50cyIsImhhbmRsZVNpdGVzIiwiZm9yUGxhY2VtZW50IiwicGxhY2VtZW50U3BvY3MiLCJhY2N1bXVsYXRvciIsImZlZWRfdXJsIiwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUVVAiLCJESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9VUERBVEUiLCJISURFX1BSSVZBQ1lfSU5GTyIsIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1JFU0VUIiwiRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEUiLCJuZXdEYXRhIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19DQVBTIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVCIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfUExBQ0VNRU5UUyIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DX0JMT0NLRUQiLCJESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRCIsImFkZFBvY2tldEluZm8iLCJ1cGRhdGVCb29rbWFya0luZm8iLCJyZW1vdmVCb29rbWFya0luZm8iLCJTSE9XX1NFQVJDSCIsIkludGVycnVwdCIsIlRSQU5TSVRJT05fTEVOR1RIIiwiRkxVRU5UX0ZJTEVTIiwiaGVscGVycyIsInNlbGVjdEludGVycnVwdEFuZFRyaXBsZXRzIiwiaGFzSW50ZXJydXB0IiwiQm9vbGVhbiIsImhhc1RyaXBsZXRzIiwidHJpcGxldHNIZWFkZXJJZCIsImludGVycnVwdCIsInRyaXBsZXRzIiwiYWRkRmx1ZW50IiwiZmlsZSIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInJlbCIsIkZpcnN0UnVuIiwiZGlkTG9hZEZsb3dQYXJhbXMiLCJwcmV2TWVzc2FnZSIsImlzSW50ZXJydXB0VmlzaWJsZSIsImlzVHJpcGxldHNDb250YWluZXJWaXNpYmxlIiwiaXNUcmlwbGV0c0NvbnRlbnRWaXNpYmxlIiwiY2xvc2VJbnRlcnJ1cHQiLCJjbG9zZVRyaXBsZXRzIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY2FyZElkcyIsInByZXZJbnRlcnJ1cHRDbGVhcmVkIiwicHJldk1lc3NhZ2VJZCIsInByZXZDYXJkSWRzIiwiZm9ybV90eXBlIiwicmVtb3ZlSGlkZU1haW4iLCJUb3BTaXRlRm9ybUlucHV0IiwidmFsaWRhdGlvbkVycm9yIiwib25Nb3VudCIsIm9uQ2xlYXJJY29uUHJlc3MiLCJzaG91bGRGb2N1cyIsIm9uQ2xlYXIiLCJyZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbiIsInNob3dDbGVhckJ1dHRvbiIsImxvYWRpbmciLCJ0eXBlVXJsIiwidGl0bGVJZCIsInBsYWNlaG9sZGVySWQiLCJlcnJvck1lc3NhZ2VJZCIsIlRvcFNpdGVGb3JtIiwiY3VzdG9tU2NyZWVuc2hvdFVybCIsInNob3dDdXN0b21TY3JlZW5zaG90Rm9ybSIsIm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQiLCJvbkxhYmVsQ2hhbmdlIiwib25VcmxDaGFuZ2UiLCJvbkNsZWFyVXJsQ2xpY2siLCJvbkRvbmVCdXR0b25DbGljayIsIm9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZSIsIm9uUHJldmlld0J1dHRvbkNsaWNrIiwib25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSIsInZhbGlkYXRlVXJsIiwiX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dCIsInZhbGlkYXRlRm9ybSIsImNsZWFuVXJsIiwiX3RyeVBhcnNlVXJsIiwidmFsaWRQcm90b2NvbHMiLCJ2YWxpZGF0ZUN1c3RvbVNjcmVlbnNob3RVcmwiLCJ2YWxpZGF0ZSIsIl9yZW5kZXJDdXN0b21TY3JlZW5zaG90SW5wdXQiLCJyZXF1ZXN0RmFpbGVkIiwiaXNMb2FkaW5nIiwic2hvd0FzQWRkIiwicHJldmlvdXMiLCJjaGFuZ2VkIiwicHJldmlld01vZGUiLCJwcmV2aWV3TGluayJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Es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ZUFBUyxFQUFDLGNBRFo7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLHNCQUFhO0FBSGYsTUFEVSxHQU9WO0FBQ0UsZUFBUyxFQUFDLE1BRFo7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLHNCQUNFSCxTQUFTLEdBQ0wsNEJBREssR0FFTDtBQU5SLE1BZEosQ0E1Q0YsQ0FERjtBQXdFRDs7QUE3U2tEO0FBZ1RyRHRCLHVCQUFXLENBQUNsNUMsWUFBWixHQUEyQjtBQUN6QnFVLE1BQUksRUFBRSxJQURtQjtBQUV6QjVILE9BQUssRUFBRSxDQUFDO0FBRmlCLENBQTNCLEMiLCJmaWxlIjoiYWN0aXZpdHktc3RyZWFtLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEJhc2UgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9CYXNlL0Jhc2VcIjtcbmltcG9ydCB7IERldGVjdFVzZXJTZXNzaW9uU3RhcnQgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2RldGVjdC11c2VyLXNlc3Npb24tc3RhcnRcIjtcbmltcG9ydCB7IGluaXRTdG9yZSB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvaW5pdC1zdG9yZVwiO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyByZWR1Y2VycyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuanNtXCI7XG5cbmNvbnN0IHN0b3JlID0gaW5pdFN0b3JlKHJlZHVjZXJzKTtcblxubmV3IERldGVjdFVzZXJTZXNzaW9uU3RhcnQoc3RvcmUpLnNlbmRFdmVudE9yQWRkTGlzdGVuZXIoKTtcblxuc3RvcmUuZGlzcGF0Y2goYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVCB9KSk7XG5cblJlYWN0RE9NLmh5ZHJhdGUoXG4gIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgIDxCYXNlXG4gICAgICBpc0ZpcnN0cnVuPXtnbG9iYWwuZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9PT0gXCJhYm91dDp3ZWxjb21lXCJ9XG4gICAgICBsb2NhbGU9e2dsb2JhbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZ31cbiAgICAgIHN0cmluZ3M9e2dsb2JhbC5nQWN0aXZpdHlTdHJlYW1TdHJpbmdzfVxuICAgIC8+XG4gIDwvUHJvdmlkZXI+LFxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIilcbik7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnRoaXMuTUFJTl9NRVNTQUdFX1RZUEUgPSBcIkFjdGl2aXR5U3RyZWFtOk1haW5cIjtcbnRoaXMuQ09OVEVOVF9NRVNTQUdFX1RZUEUgPSBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRcIjtcbnRoaXMuUFJFTE9BRF9NRVNTQUdFX1RZUEUgPSBcIkFjdGl2aXR5U3RyZWFtOlByZWxvYWRlZEJyb3dzZXJcIjtcbnRoaXMuVUlfQ09ERSA9IDE7XG50aGlzLkJBQ0tHUk9VTkRfUFJPQ0VTUyA9IDI7XG5cbi8qKlxuICogZ2xvYmFsSW1wb3J0Q29udGV4dCAtIEFyZSB3ZSBpbiBVSSBjb2RlIChpLmUuIHJlYWN0LCBhIGRvbSkgb3Igc29tZSBraW5kIG9mIGJhY2tncm91bmQgcHJvY2Vzcz9cbiAqICAgICAgICAgICAgICAgICAgICAgICBVc2UgdGhpcyBpbiBhY3Rpb24gY3JlYXRvcnMgaWYgeW91IG5lZWQgZGlmZmVyZW50IGxvZ2ljXG4gKiAgICAgICAgICAgICAgICAgICAgICAgZm9yIHVpL2JhY2tncm91bmQgcHJvY2Vzc2VzLlxuICovXG5jb25zdCBnbG9iYWxJbXBvcnRDb250ZXh0ID1cbiAgdHlwZW9mIFdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IEJBQ0tHUk9VTkRfUFJPQ0VTUyA6IFVJX0NPREU7XG4vLyBFeHBvcnQgZm9yIHRlc3RzXG50aGlzLmdsb2JhbEltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0O1xuXG4vLyBDcmVhdGUgYW4gb2JqZWN0IHRoYXQgYXZvaWRzIGFjY2lkZW50YWwgZGlmZmVyaW5nIGtleS92YWx1ZSBwYWlyczpcbi8vIHtcbi8vICAgSU5JVDogXCJJTklUXCIsXG4vLyAgIFVOSU5JVDogXCJVTklOSVRcIlxuLy8gfVxuY29uc3QgYWN0aW9uVHlwZXMgPSB7fTtcbmZvciAoY29uc3QgdHlwZSBvZiBbXG4gIFwiQURET05TX0lORk9fUkVRVUVTVFwiLFxuICBcIkFERE9OU19JTkZPX1JFU1BPTlNFXCIsXG4gIFwiQVJDSElWRV9GUk9NX1BPQ0tFVFwiLFxuICBcIkFTX1JPVVRFUl9JTklUSUFMSVpFRFwiLFxuICBcIkFTX1JPVVRFUl9QUkVGX0NIQU5HRURcIixcbiAgXCJBU19ST1VURVJfVEFSR0VUSU5HX1VQREFURVwiLFxuICBcIkFTX1JPVVRFUl9URUxFTUVUUllfVVNFUl9FVkVOVFwiLFxuICBcIkJMT0NLX1VSTFwiLFxuICBcIkJPT0tNQVJLX1VSTFwiLFxuICBcIkNMRUFSX1BSRUZcIixcbiAgXCJDT1BZX0RPV05MT0FEX0xJTktcIixcbiAgXCJERUxFVEVfQk9PS01BUktfQllfSURcIixcbiAgXCJERUxFVEVfRlJPTV9QT0NLRVRcIixcbiAgXCJERUxFVEVfSElTVE9SWV9VUkxcIixcbiAgXCJESUFMT0dfQ0FOQ0VMXCIsXG4gIFwiRElBTE9HX09QRU5cIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0VcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUU1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVFVQXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUX1ZBTFVFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9MQVlPVVRfUkVTRVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1JFVFJZX0ZFRURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0NBUFNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0VORFBPSU5UXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19GSUxMXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19QTEFDRU1FTlRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfQkxPQ0tFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OXCIsXG4gIFwiRE9XTkxPQURfQ0hBTkdFRFwiLFxuICBcIkZBS0VfRk9DVVNfU0VBUkNIXCIsXG4gIFwiRklMTF9TRUFSQ0hfVEVSTVwiLFxuICBcIkhBTkRPRkZfU0VBUkNIX1RPX0FXRVNPTUVCQVJcIixcbiAgXCJISURFX1BSSVZBQ1lfSU5GT1wiLFxuICBcIkhJREVfU0VBUkNIXCIsXG4gIFwiSU5JVFwiLFxuICBcIk5FV19UQUJfSU5JVFwiLFxuICBcIk5FV19UQUJfSU5JVElBTF9TVEFURVwiLFxuICBcIk5FV19UQUJfTE9BRFwiLFxuICBcIk5FV19UQUJfUkVIWURSQVRFRFwiLFxuICBcIk5FV19UQUJfU1RBVEVfUkVRVUVTVFwiLFxuICBcIk5FV19UQUJfVU5MT0FEXCIsXG4gIFwiT1BFTl9ET1dOTE9BRF9GSUxFXCIsXG4gIFwiT1BFTl9MSU5LXCIsXG4gIFwiT1BFTl9ORVdfV0lORE9XXCIsXG4gIFwiT1BFTl9QUklWQVRFX1dJTkRPV1wiLFxuICBcIk9QRU5fV0VCRVhUX1NFVFRJTkdTXCIsXG4gIFwiUExBQ0VTX0JPT0tNQVJLX0FEREVEXCIsXG4gIFwiUExBQ0VTX0JPT0tNQVJLX1JFTU9WRURcIixcbiAgXCJQTEFDRVNfSElTVE9SWV9DTEVBUkVEXCIsXG4gIFwiUExBQ0VTX0xJTktTX0NIQU5HRURcIixcbiAgXCJQTEFDRVNfTElOS19CTE9DS0VEXCIsXG4gIFwiUExBQ0VTX0xJTktfREVMRVRFRFwiLFxuICBcIlBMQUNFU19TQVZFRF9UT19QT0NLRVRcIixcbiAgXCJQT0NLRVRfQ1RBXCIsXG4gIFwiUE9DS0VUX0xJTktfREVMRVRFRF9PUl9BUkNISVZFRFwiLFxuICBcIlBPQ0tFVF9MT0dHRURfSU5cIixcbiAgXCJQT0NLRVRfV0FJVElOR19GT1JfU1BPQ1wiLFxuICBcIlBSRUZTX0lOSVRJQUxfVkFMVUVTXCIsXG4gIFwiUFJFRl9DSEFOR0VEXCIsXG4gIFwiUFJFVklFV19SRVFVRVNUXCIsXG4gIFwiUFJFVklFV19SRVFVRVNUX0NBTkNFTFwiLFxuICBcIlBSRVZJRVdfUkVTUE9OU0VcIixcbiAgXCJSRU1PVkVfRE9XTkxPQURfRklMRVwiLFxuICBcIlJJQ0hfSUNPTl9NSVNTSU5HXCIsXG4gIFwiU0FWRV9TRVNTSU9OX1BFUkZfREFUQVwiLFxuICBcIlNBVkVfVE9fUE9DS0VUXCIsXG4gIFwiU0NSRUVOU0hPVF9VUERBVEVEXCIsXG4gIFwiU0VDVElPTl9ERVJFR0lTVEVSXCIsXG4gIFwiU0VDVElPTl9ESVNBQkxFXCIsXG4gIFwiU0VDVElPTl9FTkFCTEVcIixcbiAgXCJTRUNUSU9OX01PVkVcIixcbiAgXCJTRUNUSU9OX09QVElPTlNfQ0hBTkdFRFwiLFxuICBcIlNFQ1RJT05fUkVHSVNURVJcIixcbiAgXCJTRUNUSU9OX1VQREFURVwiLFxuICBcIlNFQ1RJT05fVVBEQVRFX0NBUkRcIixcbiAgXCJTRVRUSU5HU19DTE9TRVwiLFxuICBcIlNFVFRJTkdTX09QRU5cIixcbiAgXCJTRVRfUFJFRlwiLFxuICBcIlNIT1dfRE9XTkxPQURfRklMRVwiLFxuICBcIlNIT1dfRklSRUZPWF9BQ0NPVU5UU1wiLFxuICBcIlNIT1dfUFJJVkFDWV9JTkZPXCIsXG4gIFwiU0hPV19TRUFSQ0hcIixcbiAgXCJTS0lQUEVEX1NJR05JTlwiLFxuICBcIlNOSVBQRVRTX0JMT0NLTElTVF9DTEVBUkVEXCIsXG4gIFwiU05JUFBFVFNfQkxPQ0tMSVNUX1VQREFURURcIixcbiAgXCJTTklQUEVUU19EQVRBXCIsXG4gIFwiU05JUFBFVFNfUFJFVklFV19NT0RFXCIsXG4gIFwiU05JUFBFVFNfUkVTRVRcIixcbiAgXCJTTklQUEVUX0JMT0NLRURcIixcbiAgXCJTVUJNSVRfRU1BSUxcIixcbiAgXCJTVUJNSVRfU0lHTklOXCIsXG4gIFwiU1lTVEVNX1RJQ0tcIixcbiAgXCJURUxFTUVUUllfSU1QUkVTU0lPTl9TVEFUU1wiLFxuICBcIlRFTEVNRVRSWV9QRVJGT1JNQU5DRV9FVkVOVFwiLFxuICBcIlRFTEVNRVRSWV9VTkRFU0lSRURfRVZFTlRcIixcbiAgXCJURUxFTUVUUllfVVNFUl9FVkVOVFwiLFxuICBcIlRPUF9TSVRFU19DQU5DRUxfRURJVFwiLFxuICBcIlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMXCIsXG4gIFwiVE9QX1NJVEVTX0VESVRcIixcbiAgXCJUT1BfU0lURVNfSU5TRVJUXCIsXG4gIFwiVE9QX1NJVEVTX09QRU5fU0VBUkNIX1NIT1JUQ1VUU19NT0RBTFwiLFxuICBcIlRPUF9TSVRFU19QSU5cIixcbiAgXCJUT1BfU0lURVNfUFJFRlNfVVBEQVRFRFwiLFxuICBcIlRPUF9TSVRFU19VTlBJTlwiLFxuICBcIlRPUF9TSVRFU19VUERBVEVEXCIsXG4gIFwiVE9UQUxfQk9PS01BUktTX1JFUVVFU1RcIixcbiAgXCJUT1RBTF9CT09LTUFSS1NfUkVTUE9OU0VcIixcbiAgXCJUUkFJTEhFQURfRU5ST0xMX0VWRU5UXCIsXG4gIFwiVU5JTklUXCIsXG4gIFwiVVBEQVRFX1BJTk5FRF9TRUFSQ0hfU0hPUlRDVVRTXCIsXG4gIFwiVVBEQVRFX1NFQVJDSF9TSE9SVENVVFNcIixcbiAgXCJVUERBVEVfU0VDVElPTl9QUkVGU1wiLFxuICBcIldFQkVYVF9DTElDS1wiLFxuICBcIldFQkVYVF9ESVNNSVNTXCIsXG5dKSB7XG4gIGFjdGlvblR5cGVzW3R5cGVdID0gdHlwZTtcbn1cblxuLy8gVGhlc2UgYXJlIGFjY2VwdGFibGUgYWN0aW9ucyBmb3IgQVMgUm91dGVyIG1lc3NhZ2VzIHRvIGhhdmUuIFRoZXkgY2FuIHNob3cgdXBcbi8vIGFzIGNhbGwtdG8tYWN0aW9uIGJ1dHRvbnMgaW4gc25pcHBldHMsIG9uYm9hcmRpbmcgdG91ciwgZXRjLlxuY29uc3QgQVNSb3V0ZXJBY3Rpb25zID0ge307XG5mb3IgKGNvbnN0IHR5cGUgb2YgW1xuICBcIkhJR0hMSUdIVF9GRUFUVVJFXCIsXG4gIFwiSU5TVEFMTF9BRERPTl9GUk9NX1VSTFwiLFxuICBcIk9QRU5fQVBQTElDQVRJT05TX01FTlVcIixcbiAgXCJPUEVOX1BSSVZBVEVfQlJPV1NFUl9XSU5ET1dcIixcbiAgXCJPUEVOX1VSTFwiLFxuICBcIk9QRU5fQUJPVVRfUEFHRVwiLFxuICBcIk9QRU5fUFJFRkVSRU5DRVNfUEFHRVwiLFxuICBcIlNIT1dfRklSRUZPWF9BQ0NPVU5UU1wiLFxuICBcIlBJTl9DVVJSRU5UX1RBQlwiLFxuICBcIkVOQUJMRV9GSVJFRk9YX01PTklUT1JcIixcbiAgXCJPUEVOX1BST1RFQ1RJT05fUEFORUxcIixcbiAgXCJPUEVOX1BST1RFQ1RJT05fUkVQT1JUXCIsXG4gIFwiRElTQUJMRV9TVFBfRE9PUkhBTkdFUlNcIixcbiAgXCJTSE9XX01JR1JBVElPTl9XSVpBUkRcIixcbl0pIHtcbiAgQVNSb3V0ZXJBY3Rpb25zW3R5cGVdID0gdHlwZTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciBjcmVhdGluZyByb3V0ZWQgYWN0aW9ucyBiZXR3ZWVuIGNvbnRlbnQgYW5kIG1haW5cbi8vIE5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IGNvbnN1bWVyc1xuZnVuY3Rpb24gX1JvdXRlTWVzc2FnZShhY3Rpb24sIG9wdGlvbnMpIHtcbiAgY29uc3QgbWV0YSA9IGFjdGlvbi5tZXRhID8geyAuLi5hY3Rpb24ubWV0YSB9IDoge307XG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5mcm9tIHx8ICFvcHRpb25zLnRvKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJSb3V0ZWQgTWVzc2FnZXMgbXVzdCBoYXZlIG9wdGlvbnMgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIsIGFuZCBtdXN0IGF0IGxlYXN0IGluY2x1ZGUgYSAuZnJvbSBhbmQgLnRvIHByb3BlcnR5LlwiXG4gICAgKTtcbiAgfVxuICAvLyBGb3IgZWFjaCBvZiB0aGVzZSBmaWVsZHMsIGlmIHRoZXkgYXJlIHBhc3NlZCBhcyBhbiBvcHRpb24sXG4gIC8vIGFkZCB0aGVtIHRvIHRoZSBhY3Rpb24uIElmIHRoZXkgYXJlIG5vdCBkZWZpbmVkLCByZW1vdmUgdGhlbS5cbiAgW1wiZnJvbVwiLCBcInRvXCIsIFwidG9UYXJnZXRcIiwgXCJmcm9tVGFyZ2V0XCIsIFwic2tpcE1haW5cIiwgXCJza2lwTG9jYWxcIl0uZm9yRWFjaChcbiAgICBvID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tvXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBtZXRhW29dID0gb3B0aW9uc1tvXTtcbiAgICAgIH0gZWxzZSBpZiAobWV0YVtvXSkge1xuICAgICAgICBkZWxldGUgbWV0YVtvXTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIHJldHVybiB7IC4uLmFjdGlvbiwgbWV0YSB9O1xufVxuXG4vKipcbiAqIEFsc29Ub01haW4gLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZCBsb2NhbGx5IGFuZCBhbHNvIHNlbnQgdG8gdGhlIE1haW4gcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtICB7Ym9vbH0gICBza2lwTG9jYWwgVXNlZCBieSBPbmx5VG9NYWluIHRvIHNraXAgdGhlIG1haW4gcmVkdWNlclxuICogQHBhcmFtICB7c3RyaW5nfSBmcm9tVGFyZ2V0IFRoZSBpZCBvZiB0aGUgY29udGVudCBwb3J0IGZyb20gd2hpY2ggdGhlIGFjdGlvbiBvcmlnaW5hdGVkLiAob3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gQWxzb1RvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQsIHNraXBMb2NhbCkge1xuICByZXR1cm4gX1JvdXRlTWVzc2FnZShhY3Rpb24sIHtcbiAgICBmcm9tOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICB0bzogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgZnJvbVRhcmdldCxcbiAgICBza2lwTG9jYWwsXG4gIH0pO1xufVxuXG4vKipcbiAqIE9ubHlUb01haW4gLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgTWFpbiBwcm9jZXNzIGFuZCBza2lwIHRoZSBsb2NhbCByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGZyb21UYXJnZXQgVGhlIGlkIG9mIHRoZSBjb250ZW50IHBvcnQgZnJvbSB3aGljaCB0aGUgYWN0aW9uIG9yaWdpbmF0ZWQuIChvcHRpb25hbClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBPbmx5VG9NYWluKGFjdGlvbiwgZnJvbVRhcmdldCkge1xuICByZXR1cm4gQWxzb1RvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQsIHRydWUpO1xufVxuXG4vKipcbiAqIEJyb2FkY2FzdFRvQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIG1haW4gYW5kIHNlbnQgdG8gQUxMIGNvbnRlbnQgcHJvY2Vzc2VzLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEJyb2FkY2FzdFRvQ29udGVudChhY3Rpb24pIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgdG86IENPTlRFTlRfTUVTU0FHRV9UWVBFLFxuICB9KTtcbn1cblxuLyoqXG4gKiBBbHNvVG9PbmVDb250ZW50IC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHdpbGwgYmUgZGlzcGF0Y2hlZCB0byB0aGUgbWFpbiBzdG9yZVxuICogICAgICAgICAgICAgICAgICAgIGFuZCBhbHNvIHNlbnQgdG8gYSBwYXJ0aWN1bGFyIENvbnRlbnQgcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0IFRoZSBpZCBvZiBhIGNvbnRlbnQgcG9ydFxuICogQHBhcmFtICB7Ym9vbH0gc2tpcE1haW4gVXNlZCBieSBPbmx5VG9PbmVDb250ZW50IHRvIHNraXAgdGhlIG1haW4gcHJvY2Vzc1xuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub09uZUNvbnRlbnQoYWN0aW9uLCB0YXJnZXQsIHNraXBNYWluKSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgdGFyZ2V0IElEIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIG9mIEFsc29Ub09uZUNvbnRlbnQuIElmIHlvdSB3YW50IHRvIHNlbmQgdG8gYWxsIGNvbnRlbnQgcHJvY2Vzc2VzLCB1c2UgQnJvYWRjYXN0VG9Db250ZW50XCJcbiAgICApO1xuICB9XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICB0b1RhcmdldDogdGFyZ2V0LFxuICAgIHNraXBNYWluLFxuICB9KTtcbn1cblxuLyoqXG4gKiBPbmx5VG9PbmVDb250ZW50IC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHNlbnQgdG8gYSBwYXJ0aWN1bGFyIENvbnRlbnQgcHJvY2Vzc1xuICogICAgICAgICAgICAgICAgICAgIGFuZCBza2lwIHRoZSBtYWluIHJlZHVjZXIuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldCBUaGUgaWQgb2YgYSBjb250ZW50IHBvcnRcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBPbmx5VG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0KSB7XG4gIHJldHVybiBBbHNvVG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBBbHNvVG9QcmVsb2FkZWQgLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IGRpc3BhdGNoZWQgdG8gdGhlIG1haW4gcmVkdWNlciBhbmQgYWxzbyBzZW50IHRvIHRoZSBwcmVsb2FkZWQgdGFiLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub1ByZWxvYWRlZChhY3Rpb24pIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgdG86IFBSRUxPQURfTUVTU0FHRV9UWVBFLFxuICB9KTtcbn1cblxuLyoqXG4gKiBVc2VyRXZlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSB1c2VyIGFjdGlvbi4gVGhpcyBzaG91bGQgb25seVxuICogICAgICAgICAgICAgICAgICAgYmUgc2VudCBmcm9tIHRoZSBVSSBkdXJpbmcgYSB1c2VyIHNlc3Npb24uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nIChzb3VyY2UsIGV0Yy4pXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIEFsc29Ub01haW4gYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIFVzZXJFdmVudChkYXRhKSB7XG4gIHJldHVybiBBbHNvVG9NYWluKHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5URUxFTUVUUllfVVNFUl9FVkVOVCxcbiAgICBkYXRhLFxuICB9KTtcbn1cblxuLyoqXG4gKiBBU1JvdXRlclVzZXJFdmVudCAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhIHVzZXIgYWN0aW9uIGZyb20gQVMgcm91dGVyLiBUaGlzIHNob3VsZCBvbmx5XG4gKiAgICAgICAgICAgICAgICAgICAgIGJlIHNlbnQgZnJvbSB0aGUgVUkgZHVyaW5nIGEgdXNlciBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZyAoc291cmNlLCBldGMuKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBBbHNvVG9NYWluIGFjdGlvblxuICovXG5mdW5jdGlvbiBBU1JvdXRlclVzZXJFdmVudChkYXRhKSB7XG4gIHJldHVybiBBbHNvVG9NYWluKHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5BU19ST1VURVJfVEVMRU1FVFJZX1VTRVJfRVZFTlQsXG4gICAgZGF0YSxcbiAgfSk7XG59XG5cbi8qKlxuICogRGlzY292ZXJ5U3RyZWFtU3BvY3NGaWxsIC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGEgU1BPQ1MgRmlsbCBldmVudC5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmcgKHNwb2NfZmlsbHMsIGV0Yy4pXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIEFsc29Ub01haW4gYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbVNwb2NzRmlsbChkYXRhLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19GSUxMLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIFVuZGVzaXJlZEV2ZW50IC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGFuIHVuZGVzaXJlZCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmcgKHZhbHVlLCBldGMuKVxuICogQHBhcmFtICB7aW50fSBpbXBvcnRDb250ZXh0IChGb3IgdGVzdGluZykgT3ZlcnJpZGUgdGhlIGltcG9ydCBjb250ZXh0IGZvciB0ZXN0aW5nLlxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24uIEZvciBVSSBjb2RlLCBhIEFsc29Ub01haW4gYWN0aW9uLlxuICovXG5mdW5jdGlvbiBVbmRlc2lyZWRFdmVudChkYXRhLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuVEVMRU1FVFJZX1VOREVTSVJFRF9FVkVOVCxcbiAgICBkYXRhLFxuICB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuLyoqXG4gKiBQZXJmRXZlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSBwZXJmb3JtYW5jZS1yZWxhdGVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZyAodmFsdWUsIGV0Yy4pXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIFBlcmZFdmVudChkYXRhLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuVEVMRU1FVFJZX1BFUkZPUk1BTkNFX0VWRU5ULFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIEltcHJlc3Npb25TdGF0cyAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhbiBpbXByZXNzaW9uIHN0YXRzLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZ1xuICogQHBhcmFtICB7aW50fSBpbXBvcnRDb250ZXh0IChGb3IgdGVzdGluZykgT3ZlcnJpZGUgdGhlIGltcG9ydCBjb250ZXh0IGZvciB0ZXN0aW5nLlxuICogI3JldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24uIEZvciBVSSBjb2RlLCBhIEFsc29Ub01haW4gYWN0aW9uLlxuICovXG5mdW5jdGlvbiBJbXByZXNzaW9uU3RhdHMoZGF0YSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIHR5cGU6IGFjdGlvblR5cGVzLlRFTEVNRVRSWV9JTVBSRVNTSU9OX1NUQVRTLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhbiBpbXByZXNzaW9uIHN0YXRzIGluIERpc2NvdmVyeSBTdHJlYW0uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyhcbiAgZGF0YSxcbiAgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHRcbikge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSBjb250ZW50IGdldHMgbG9hZGVkIGluIERpc2NvdmVyeSBTdHJlYW0uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQoXG4gIGRhdGEsXG4gIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0XG4pIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIHR5cGU6IGFjdGlvblR5cGVzLkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlQsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbmZ1bmN0aW9uIFNldFByZWYobmFtZSwgdmFsdWUsIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0KSB7XG4gIGNvbnN0IGFjdGlvbiA9IHsgdHlwZTogYWN0aW9uVHlwZXMuU0VUX1BSRUYsIGRhdGE6IHsgbmFtZSwgdmFsdWUgfSB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuZnVuY3Rpb24gV2ViRXh0RXZlbnQodHlwZSwgZGF0YSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgaWYgKCFkYXRhIHx8ICFkYXRhLnNvdXJjZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdXZWJFeHRFdmVudCBhY3Rpb25zIHNob3VsZCBpbmNsdWRlIGEgcHJvcGVydHkgXCJzb3VyY2VcIiwgdGhlIGlkIG9mIHRoZSB3ZWJleHRlbnNpb24gdGhhdCBzaG91bGQgcmVjZWl2ZSB0aGUgZXZlbnQuJ1xuICAgICk7XG4gIH1cbiAgY29uc3QgYWN0aW9uID0geyB0eXBlLCBkYXRhIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG50aGlzLmFjdGlvblR5cGVzID0gYWN0aW9uVHlwZXM7XG50aGlzLkFTUm91dGVyQWN0aW9ucyA9IEFTUm91dGVyQWN0aW9ucztcblxudGhpcy5hY3Rpb25DcmVhdG9ycyA9IHtcbiAgQnJvYWRjYXN0VG9Db250ZW50LFxuICBVc2VyRXZlbnQsXG4gIEFTUm91dGVyVXNlckV2ZW50LFxuICBVbmRlc2lyZWRFdmVudCxcbiAgUGVyZkV2ZW50LFxuICBJbXByZXNzaW9uU3RhdHMsXG4gIEFsc29Ub09uZUNvbnRlbnQsXG4gIE9ubHlUb09uZUNvbnRlbnQsXG4gIEFsc29Ub01haW4sXG4gIE9ubHlUb01haW4sXG4gIEFsc29Ub1ByZWxvYWRlZCxcbiAgU2V0UHJlZixcbiAgV2ViRXh0RXZlbnQsXG4gIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyxcbiAgRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCxcbiAgRGlzY292ZXJ5U3RyZWFtU3BvY3NGaWxsLFxufTtcblxuLy8gVGhlc2UgYXJlIGhlbHBlcnMgdG8gdGVzdCBmb3IgY2VydGFpbiBraW5kcyBvZiBhY3Rpb25zXG50aGlzLmFjdGlvblV0aWxzID0ge1xuICBpc1NlbmRUb01haW4oYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uLm1ldGEudG8gPT09IE1BSU5fTUVTU0FHRV9UWVBFICYmXG4gICAgICBhY3Rpb24ubWV0YS5mcm9tID09PSBDT05URU5UX01FU1NBR0VfVFlQRVxuICAgICk7XG4gIH0sXG4gIGlzQnJvYWRjYXN0VG9Db250ZW50KGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdGlvbi5tZXRhLnRvID09PSBDT05URU5UX01FU1NBR0VfVFlQRSAmJiAhYWN0aW9uLm1ldGEudG9UYXJnZXQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2VuZFRvT25lQ29udGVudChhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3Rpb24ubWV0YS50byA9PT0gQ09OVEVOVF9NRVNTQUdFX1RZUEUgJiYgYWN0aW9uLm1ldGEudG9UYXJnZXQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2VuZFRvUHJlbG9hZGVkKGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGFjdGlvbi5tZXRhLnRvID09PSBQUkVMT0FEX01FU1NBR0VfVFlQRSAmJlxuICAgICAgYWN0aW9uLm1ldGEuZnJvbSA9PT0gTUFJTl9NRVNTQUdFX1RZUEVcbiAgICApO1xuICB9LFxuICBpc0Zyb21NYWluKGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGFjdGlvbi5tZXRhLmZyb20gPT09IE1BSU5fTUVTU0FHRV9UWVBFICYmXG4gICAgICBhY3Rpb24ubWV0YS50byA9PT0gQ09OVEVOVF9NRVNTQUdFX1RZUEVcbiAgICApO1xuICB9LFxuICBnZXRQb3J0SWRPZlNlbmRlcihhY3Rpb24pIHtcbiAgICByZXR1cm4gKGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLmZyb21UYXJnZXQpIHx8IG51bGw7XG4gIH0sXG4gIF9Sb3V0ZU1lc3NhZ2UsXG59O1xuXG5jb25zdCBFWFBPUlRFRF9TWU1CT0xTID0gW1xuICBcImFjdGlvblR5cGVzXCIsXG4gIFwiYWN0aW9uQ3JlYXRvcnNcIixcbiAgXCJhY3Rpb25VdGlsc1wiLFxuICBcIkFTUm91dGVyQWN0aW9uc1wiLFxuICBcImdsb2JhbEltcG9ydENvbnRleHRcIixcbiAgXCJVSV9DT0RFXCIsXG4gIFwiQkFDS0dST1VORF9QUk9DRVNTXCIsXG4gIFwiTUFJTl9NRVNTQUdFX1RZUEVcIixcbiAgXCJDT05URU5UX01FU1NBR0VfVFlQRVwiLFxuICBcIlBSRUxPQURfTUVTU0FHRV9UWVBFXCIsXG5dO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgQVNSb3V0ZXJBZG1pbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0FTUm91dGVyQWRtaW4vQVNSb3V0ZXJBZG1pblwiO1xuaW1wb3J0IHsgQVNSb3V0ZXJVSVN1cmZhY2UgfSBmcm9tIFwiLi4vLi4vYXNyb3V0ZXIvYXNyb3V0ZXItY29udGVudFwiO1xuaW1wb3J0IHsgQ29uZmlybURpYWxvZyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbmZpcm1EaWFsb2cvQ29uZmlybURpYWxvZ1wiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgRGlzY292ZXJ5U3RyZWFtQmFzZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUJhc2UvRGlzY292ZXJ5U3RyZWFtQmFzZVwiO1xuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkvRXJyb3JCb3VuZGFyeVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VhcmNoIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VhcmNoL1NlYXJjaFwiO1xuaW1wb3J0IHsgU2VjdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9ucy9TZWN0aW9uc1wiO1xuXG5jb25zdCBQcmVmc0J1dHRvbiA9IHByb3BzID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJwcmVmcy1idXR0b25cIj5cbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tc2V0dGluZ3NcIlxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZXR0aW5ncy1idXR0b25cIlxuICAgIC8+XG4gIDwvZGl2PlxuKTtcblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNvbnRpbnVvdXNseSB0cmlnZ2VyZWQgd2hlbiBjYWxsZWQuIFRoZVxuLy8gZnVuY3Rpb24gd2lsbCBiZSB0cmlnZ2VyZWQgaWYgY2FsbGVkIGFnYWluIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0KSB7XG4gIGxldCB0aW1lcjtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHdha2VVcCA9ICgpID0+IHtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KHdha2VVcCwgd2FpdCk7XG4gICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIF9CYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0ZpcnN0cnVuKSB7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwid2VsY29tZVwiLCBcImhpZGUtbWFpblwiKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVwZGF0ZVRoZW1lKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgIHRoaXMudXBkYXRlVGhlbWUoKTtcbiAgfVxuXG4gIHVwZGF0ZVRoZW1lKCkge1xuICAgIGNvbnN0IGJvZHlDbGFzc05hbWUgPSBbXG4gICAgICBcImFjdGl2aXR5LXN0cmVhbVwiLFxuICAgICAgLy8gSWYgd2Ugc2tpcHBlZCB0aGUgYWJvdXQ6d2VsY29tZSBvdmVybGF5IGFuZCByZW1vdmVkIHRoZSBDU1MgY2xhc3Nlc1xuICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBhZGQgdGhlbSBiYWNrIHRvIHRoZSBBY3Rpdml0eSBTdHJlYW0gdmlld1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJ3ZWxjb21lXCIpID8gXCJ3ZWxjb21lXCIgOiBcIlwiLFxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRlLW1haW5cIikgPyBcImhpZGUtbWFpblwiIDogXCJcIixcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaW5saW5lLW9uYm9hcmRpbmdcIilcbiAgICAgICAgPyBcImlubGluZS1vbmJvYXJkaW5nXCJcbiAgICAgICAgOiBcIlwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9IGJvZHlDbGFzc05hbWU7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7IEFwcCB9ID0gcHJvcHM7XG4gICAgY29uc3QgaXNEZXZ0b29sc0VuYWJsZWQgPSBwcm9wcy5QcmVmcy52YWx1ZXNbXCJhc3JvdXRlci5kZXZ0b29sc0VuYWJsZWRcIl07XG5cbiAgICBpZiAoIUFwcC5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxFcnJvckJvdW5kYXJ5IGNsYXNzTmFtZT1cImJhc2UtY29udGVudC1mYWxsYmFja1wiPlxuICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgPEJhc2VDb250ZW50IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIHtpc0RldnRvb2xzRW5hYmxlZCA/IDxBU1JvdXRlckFkbWluIC8+IDogbnVsbH1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYXNlQ29udGVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9wZW5QcmVmZXJlbmNlcyA9IHRoaXMub3BlblByZWZlcmVuY2VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldpbmRvd1Njcm9sbCA9IGRlYm91bmNlKHRoaXMub25XaW5kb3dTY3JvbGwuYmluZCh0aGlzKSwgNSk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZml4ZWRTZWFyY2g6IGZhbHNlIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uV2luZG93U2Nyb2xsKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25XaW5kb3dTY3JvbGwpO1xuICB9XG5cbiAgb25XaW5kb3dTY3JvbGwoKSB7XG4gICAgY29uc3QgU0NST0xMX1RIUkVTSE9MRCA9IDM0O1xuICAgIGlmIChnbG9iYWwuc2Nyb2xsWSA+IFNDUk9MTF9USFJFU0hPTEQgJiYgIXRoaXMuc3RhdGUuZml4ZWRTZWFyY2gpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaXhlZFNlYXJjaDogdHJ1ZSB9KTtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5zY3JvbGxZIDw9IFNDUk9MTF9USFJFU0hPTEQgJiYgdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpeGVkU2VhcmNoOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBvcGVuUHJlZmVyZW5jZXMoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuU0VUVElOR1NfT1BFTiB9KSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJPUEVOX05FV1RBQl9QUkVGU1wiIH0pKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgQXBwIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGluaXRpYWxpemVkIH0gPSBBcHA7XG4gICAgY29uc3QgcHJlZnMgPSBwcm9wcy5QcmVmcy52YWx1ZXM7XG5cbiAgICBjb25zdCBpc0Rpc2NvdmVyeVN0cmVhbSA9XG4gICAgICBwcm9wcy5EaXNjb3ZlcnlTdHJlYW0uY29uZmlnICYmIHByb3BzLkRpc2NvdmVyeVN0cmVhbS5jb25maWcuZW5hYmxlZDtcbiAgICBsZXQgZmlsdGVyZWRTZWN0aW9ucyA9IHByb3BzLlNlY3Rpb25zO1xuXG4gICAgLy8gRmlsdGVyIG91dCBoaWdobGlnaHRzIGZvciBEU1xuICAgIGlmIChpc0Rpc2NvdmVyeVN0cmVhbSkge1xuICAgICAgZmlsdGVyZWRTZWN0aW9ucyA9IGZpbHRlcmVkU2VjdGlvbnMuZmlsdGVyKFxuICAgICAgICBzZWN0aW9uID0+IHNlY3Rpb24uaWQgIT09IFwiaGlnaGxpZ2h0c1wiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBub1NlY3Rpb25zRW5hYmxlZCA9XG4gICAgICAhcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSAmJlxuICAgICAgZmlsdGVyZWRTZWN0aW9ucy5maWx0ZXIoc2VjdGlvbiA9PiBzZWN0aW9uLmVuYWJsZWQpLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBzZWFyY2hIYW5kb2ZmRW5hYmxlZCA9IHByZWZzW1wiaW1wcm92ZXNlYXJjaC5oYW5kb2ZmVG9Bd2Vzb21lYmFyXCJdO1xuXG4gICAgY29uc3Qgb3V0ZXJDbGFzc05hbWUgPSBbXG4gICAgICBcIm91dGVyLXdyYXBwZXJcIixcbiAgICAgIGlzRGlzY292ZXJ5U3RyZWFtICYmIFwiZHMtb3V0ZXItd3JhcHBlci1zZWFyY2gtYWxpZ25tZW50XCIsXG4gICAgICBpc0Rpc2NvdmVyeVN0cmVhbSAmJiBcImRzLW91dGVyLXdyYXBwZXItYnJlYWtwb2ludC1vdmVycmlkZVwiLFxuICAgICAgcHJlZnMuc2hvd1NlYXJjaCAmJlxuICAgICAgICB0aGlzLnN0YXRlLmZpeGVkU2VhcmNoICYmXG4gICAgICAgICFub1NlY3Rpb25zRW5hYmxlZCAmJlxuICAgICAgICBcImZpeGVkLXNlYXJjaFwiLFxuICAgICAgcHJlZnMuc2hvd1NlYXJjaCAmJiBub1NlY3Rpb25zRW5hYmxlZCAmJiBcIm9ubHktc2VhcmNoXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgICA8bWFpbj5cbiAgICAgICAgICAgIHtwcmVmcy5zaG93U2VhcmNoICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub24tY29sbGFwc2libGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgICAgICAgICBzaG93TG9nbz17bm9TZWN0aW9uc0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIGhhbmRvZmZFbmFibGVkPXtzZWFyY2hIYW5kb2ZmRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgey4uLnByb3BzLlNlYXJjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8QVNSb3V0ZXJVSVN1cmZhY2VcbiAgICAgICAgICAgICAgYXBwVXBkYXRlQ2hhbm5lbD17dGhpcy5wcm9wcy5QcmVmcy52YWx1ZXMuYXBwVXBkYXRlQ2hhbm5lbH1cbiAgICAgICAgICAgICAgZnhhRW5kcG9pbnQ9e3RoaXMucHJvcHMuUHJlZnMudmFsdWVzLmZ4YV9lbmRwb2ludH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bib2R5LXdyYXBwZXIke2luaXRpYWxpemVkID8gXCIgb25cIiA6IFwiXCJ9YH0+XG4gICAgICAgICAgICAgIHtpc0Rpc2NvdmVyeVN0cmVhbSA/IChcbiAgICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeSBjbGFzc05hbWU9XCJib3JkZXJsZXNzLWVycm9yXCI+XG4gICAgICAgICAgICAgICAgICA8RGlzY292ZXJ5U3RyZWFtQmFzZSAvPlxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8U2VjdGlvbnMgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPFByZWZzQnV0dG9uIG9uQ2xpY2s9e3RoaXMub3BlblByZWZlcmVuY2VzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Q29uZmlybURpYWxvZyAvPlxuICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBCYXNlID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBBcHA6IHN0YXRlLkFwcCxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBTZWFyY2g6IHN0YXRlLlNlYXJjaCxcbn0pKShfQmFzZSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBBU1JvdXRlclV0aWxzIH0gZnJvbSBcIi4uLy4uL2Fzcm91dGVyL2Fzcm91dGVyLWNvbnRlbnRcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1vZGFsT3ZlcmxheSB9IGZyb20gXCIuLi8uLi9hc3JvdXRlci9jb21wb25lbnRzL01vZGFsT3ZlcmxheS9Nb2RhbE92ZXJsYXlcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNpbXBsZUhhc2hSb3V0ZXIgfSBmcm9tIFwiLi9TaW1wbGVIYXNoUm91dGVyXCI7XG5cbmNvbnN0IFJvdyA9IHByb3BzID0+IChcbiAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIHsuLi5wcm9wc30+XG4gICAge3Byb3BzLmNoaWxkcmVufVxuICA8L3RyPlxuKTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lKHRpbWVzdGFtcCkge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvIDEwMDApO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyA2MDAwMCk7XG4gIGlmIChzZWNvbmRzIDwgMikge1xuICAgIHJldHVybiBcImp1c3Qgbm93XCI7XG4gIH0gZWxzZSBpZiAoc2Vjb25kcyA8IDYwKSB7XG4gICAgcmV0dXJuIGAke3NlY29uZHN9IHNlY29uZHMgYWdvYDtcbiAgfSBlbHNlIGlmIChtaW51dGVzID09PSAxKSB7XG4gICAgcmV0dXJuIFwiMSBtaW51dGUgYWdvXCI7XG4gIH0gZWxzZSBpZiAobWludXRlcyA8IDYwMCkge1xuICAgIHJldHVybiBgJHttaW51dGVzfSBtaW51dGVzIGFnb2A7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKTtcbn1cblxuY29uc3QgTEFZT1VUX1ZBUklBTlRTID0ge1xuICBiYXNpYzogXCJCYXNpYyBkZWZhdWx0IGxheW91dCAob24gYnkgZGVmYXVsdCBpbiBuaWdodGx5KVwiLFxuICBzdGFnaW5nX3Nwb2NzOiBcIkEgbGF5b3V0IHdpdGggYWxsIHNwb2NzIHNob3duXCIsXG4gIFwiZGV2LXRlc3QtYWxsXCI6XG4gICAgXCJBIGxpdHRsZSBiaXQgb2YgZXZlcnl0aGluZy4gR29vZCBsYXlvdXQgZm9yIHRlc3RpbmcgYWxsIGNvbXBvbmVudHNcIixcbiAgXCJkZXYtdGVzdC1mZWVkc1wiOiBcIlN0cmVzcyB0ZXN0aW5nIGZvciBzbG93IGZlZWRzXCIsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9nZ2xlU3RvcnlCdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMub25DbGljayh0aGlzLnByb3BzLnN0b3J5KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5jb2xsYXBzZS9vcGVuPC9idXR0b24+O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVQcmVmQ2hlY2tib3ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLnByZWYsIGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmNoZWNrZWR9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgIC8+e1wiIFwifVxuICAgICAgICB7dGhpcy5wcm9wcy5wcmVmfXtcIiBcIn1cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERpc2NvdmVyeVN0cmVhbUFkbWluIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMucmVzdG9yZVByZWZEZWZhdWx0cyA9IHRoaXMucmVzdG9yZVByZWZEZWZhdWx0cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0Q29uZmlnVmFsdWUgPSB0aGlzLnNldENvbmZpZ1ZhbHVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5leHBpcmVDYWNoZSA9IHRoaXMuZXhwaXJlQ2FjaGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZUVuZHBvaW50VmFyaWFudCA9IHRoaXMuY2hhbmdlRW5kcG9pbnRWYXJpYW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblN0b3J5VG9nZ2xlID0gdGhpcy5vblN0b3J5VG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvZ2dsZWRTdG9yaWVzOiB7fSxcbiAgICB9O1xuICB9XG5cbiAgc2V0Q29uZmlnVmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVF9WQUxVRSxcbiAgICAgICAgZGF0YTogeyBuYW1lLCB2YWx1ZSB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVzdG9yZVByZWZEZWZhdWx0cyhldmVudCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfUkVTRVRfREVGQVVMVFMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBleHBpcmVDYWNoZSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5zdGF0ZTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRSxcbiAgICAgICAgZGF0YTogY29uZmlnLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgY2hhbmdlRW5kcG9pbnRWYXJpYW50KGV2ZW50KSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLnByb3BzLnN0YXRlLmNvbmZpZy5sYXlvdXRfZW5kcG9pbnQ7XG4gICAgaWYgKGVuZHBvaW50KSB7XG4gICAgICB0aGlzLnNldENvbmZpZ1ZhbHVlKFxuICAgICAgICBcImxheW91dF9lbmRwb2ludFwiLFxuICAgICAgICBlbmRwb2ludC5yZXBsYWNlKFxuICAgICAgICAgIC9sYXlvdXRfdmFyaWFudD0uKy8sXG4gICAgICAgICAgYGxheW91dF92YXJpYW50PSR7ZXZlbnQudGFyZ2V0LnZhbHVlfWBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDb21wb25lbnQod2lkdGgsIGNvbXBvbmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dGFibGU+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlR5cGU8L3RkPlxuICAgICAgICAgICAgPHRkPntjb21wb25lbnQudHlwZX08L3RkPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+V2lkdGg8L3RkPlxuICAgICAgICAgICAgPHRkPnt3aWR0aH08L3RkPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIHtjb21wb25lbnQuZmVlZCAmJiB0aGlzLnJlbmRlckZlZWQoY29tcG9uZW50LmZlZWQpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICApO1xuICB9XG5cbiAgaXNDdXJyZW50VmFyaWFudChpZCkge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5wcm9wcy5zdGF0ZS5jb25maWcubGF5b3V0X2VuZHBvaW50O1xuICAgIGNvbnN0IGlzTWF0Y2ggPSBlbmRwb2ludCAmJiAhIWVuZHBvaW50Lm1hdGNoKGBsYXlvdXRfdmFyaWFudD0ke2lkfWApO1xuICAgIHJldHVybiBpc01hdGNoO1xuICB9XG5cbiAgcmVuZGVyRmVlZERhdGEodXJsKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZTtcbiAgICBjb25zdCBmZWVkID0gZmVlZHMuZGF0YVt1cmxdLmRhdGE7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGg0PkZlZWQgdXJsOiB7dXJsfTwvaDQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7ZmVlZC5yZWNvbW1lbmRhdGlvbnMubWFwKHN0b3J5ID0+IHRoaXMucmVuZGVyU3RvcnlEYXRhKHN0b3J5KSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckZlZWRzRGF0YSgpIHtcbiAgICBjb25zdCB7IGZlZWRzIH0gPSB0aGlzLnByb3BzLnN0YXRlO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIHtPYmplY3Qua2V5cyhmZWVkcy5kYXRhKS5tYXAodXJsID0+IHRoaXMucmVuZGVyRmVlZERhdGEodXJsKSl9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTcG9jcygpIHtcbiAgICBjb25zdCB7IHNwb2NzIH0gPSB0aGlzLnByb3BzLnN0YXRlO1xuICAgIGxldCBzcG9jc0RhdGEgPSBbXTtcbiAgICBpZiAoc3BvY3MuZGF0YSAmJiBzcG9jcy5kYXRhLnNwb2NzICYmIHNwb2NzLmRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICBzcG9jc0RhdGEgPSBzcG9jcy5kYXRhLnNwb2NzO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+c3BvY3NfZW5kcG9pbnQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e3Nwb2NzLnNwb2NzX2VuZHBvaW50fTwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5EYXRhIGxhc3QgZmV0Y2hlZDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cmVsYXRpdmVUaW1lKHNwb2NzLmxhc3RVcGRhdGVkKX08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGg0PlNwb2MgZGF0YTwvaDQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+e3Nwb2NzRGF0YS5tYXAoc3BvYyA9PiB0aGlzLnJlbmRlclN0b3J5RGF0YShzcG9jKSl9PC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGg0PlNwb2MgZnJlcXVlbmN5IGNhcHM8L2g0PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge3Nwb2NzLmZyZXF1ZW5jeV9jYXBzLm1hcChzcG9jID0+IHRoaXMucmVuZGVyU3RvcnlEYXRhKHNwb2MpKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgb25TdG9yeVRvZ2dsZShzdG9yeSkge1xuICAgIGNvbnN0IHsgdG9nZ2xlZFN0b3JpZXMgfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0b2dnbGVkU3Rvcmllczoge1xuICAgICAgICAuLi50b2dnbGVkU3RvcmllcyxcbiAgICAgICAgW3N0b3J5LmlkXTogIXRvZ2dsZWRTdG9yaWVzW3N0b3J5LmlkXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJTdG9yeURhdGEoc3RvcnkpIHtcbiAgICBsZXQgc3RvcnlEYXRhID0gXCJcIjtcbiAgICBpZiAodGhpcy5zdGF0ZS50b2dnbGVkU3Rvcmllc1tzdG9yeS5pZF0pIHtcbiAgICAgIHN0b3J5RGF0YSA9IEpTT04uc3RyaW5naWZ5KHN0b3J5LCBudWxsLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIiBrZXk9e3N0b3J5LmlkfT5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWRcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIHtzdG9yeS5pZH0gPGJyIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxUb2dnbGVTdG9yeUJ1dHRvbiBzdG9yeT17c3Rvcnl9IG9uQ2xpY2s9e3RoaXMub25TdG9yeVRvZ2dsZX0gLz5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1lc3NhZ2Utc3VtbWFyeVwiPlxuICAgICAgICAgIDxwcmU+e3N0b3J5RGF0YX08L3ByZT5cbiAgICAgICAgPC90ZD5cbiAgICAgIDwvdHI+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckZlZWQoZmVlZCkge1xuICAgIGNvbnN0IHsgZmVlZHMgfSA9IHRoaXMucHJvcHMuc3RhdGU7XG4gICAgaWYgKCFmZWVkLnVybCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxSb3c+XG4gICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkZlZWQgdXJsPC90ZD5cbiAgICAgICAgICA8dGQ+e2ZlZWQudXJsfTwvdGQ+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93PlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5EYXRhIGxhc3QgZmV0Y2hlZDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAge3JlbGF0aXZlVGltZShcbiAgICAgICAgICAgICAgZmVlZHMuZGF0YVtmZWVkLnVybF0gPyBmZWVkcy5kYXRhW2ZlZWQudXJsXS5sYXN0VXBkYXRlZCA6IG51bGxcbiAgICAgICAgICAgICkgfHwgXCIobm8gZGF0YSlcIn1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L1Jvdz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBwcmVmVG9nZ2xlcyA9IFwiZW5hYmxlZCBoYXJkY29kZWRfbGF5b3V0IHNob3dfc3BvY3MgcGVyc29uYWxpemVkIGNvbGxhcHNpYmxlXCIuc3BsaXQoXG4gICAgICBcIiBcIlxuICAgICk7XG4gICAgY29uc3QgeyBjb25maWcsIGxhc3RVcGRhdGVkLCBsYXlvdXQgfSA9IHRoaXMucHJvcHMuc3RhdGU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzfT5cbiAgICAgICAgICBSZXN0b3JlIFByZWYgRGVmYXVsdHNcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuZXhwaXJlQ2FjaGV9PlxuICAgICAgICAgIEV4cGlyZSBDYWNoZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtwcmVmVG9nZ2xlcy5tYXAocHJlZiA9PiAoXG4gICAgICAgICAgICAgIDxSb3cga2V5PXtwcmVmfT5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICA8VG9nZ2xlUHJlZkNoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbmZpZ1twcmVmXX1cbiAgICAgICAgICAgICAgICAgICAgcHJlZj17cHJlZn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2V0Q29uZmlnVmFsdWV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGgzPkVuZHBvaW50IHZhcmlhbnQ8L2gzPlxuICAgICAgICA8cD5cbiAgICAgICAgICBZb3UgY2FuIGFsc28gY2hhbmdlIHRoaXMgbWFudWFsbHkgYnkgY2hhbmdpbmcgdGhpcyBwcmVmOntcIiBcIn1cbiAgICAgICAgICA8Y29kZT5icm93c2VyLm5ld3RhYnBhZ2UuYWN0aXZpdHktc3RyZWFtLmRpc2NvdmVyeXN0cmVhbS5jb25maWc8L2NvZGU+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHRhYmxlXG4gICAgICAgICAgc3R5bGU9e1xuICAgICAgICAgICAgY29uZmlnLmVuYWJsZWQgJiYgIWNvbmZpZy5oYXJkY29kZWRfbGF5b3V0ID8gbnVsbCA6IHsgb3BhY2l0eTogMC41IH1cbiAgICAgICAgICB9XG4gICAgICAgID5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7T2JqZWN0LmtleXMoTEFZT1VUX1ZBUklBTlRTKS5tYXAoaWQgPT4gKFxuICAgICAgICAgICAgICA8Um93IGtleT17aWR9PlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aWR9XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuaXNDdXJyZW50VmFyaWFudChpZCl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmNoYW5nZUVuZHBvaW50VmFyaWFudH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+e2lkfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPntMQVlPVVRfVkFSSUFOVFNbaWRdfTwvdGQ+XG4gICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGgzPkNhY2hpbmcgaW5mbzwvaDM+XG4gICAgICAgIDx0YWJsZSBzdHlsZT17Y29uZmlnLmVuYWJsZWQgPyBudWxsIDogeyBvcGFjaXR5OiAwLjUgfX0+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkRhdGEgbGFzdCBmZXRjaGVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUobGFzdFVwZGF0ZWQpIHx8IFwiKG5vIGRhdGEpXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICAgIDxoMz5MYXlvdXQ8L2gzPlxuICAgICAgICB7bGF5b3V0Lm1hcCgocm93LCByb3dJbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtgcm93LSR7cm93SW5kZXh9YH0+XG4gICAgICAgICAgICB7cm93LmNvbXBvbmVudHMubWFwKChjb21wb25lbnQsIGNvbXBvbmVudEluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtgY29tcG9uZW50LSR7Y29tcG9uZW50SW5kZXh9YH0gY2xhc3NOYW1lPVwiZHMtY29tcG9uZW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQ29tcG9uZW50KHJvdy53aWR0aCwgY29tcG9uZW50KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICAgIDxoMz5GZWVkcyBEYXRhPC9oMz5cbiAgICAgICAge3RoaXMucmVuZGVyRmVlZHNEYXRhKCl9XG4gICAgICAgIDxoMz5TcG9jczwvaDM+XG4gICAgICAgIHt0aGlzLnJlbmRlclNwb2NzKCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBU1JvdXRlckFkbWluSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZSA9IHRoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVXNlclByZWZUb2dnbGUgPSB0aGlzLmhhbmRsZVVzZXJQcmVmVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNoYW5nZU1lc3NhZ2VGaWx0ZXIgPSB0aGlzLm9uQ2hhbmdlTWVzc2FnZUZpbHRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmluZE90aGVyQnVuZGxlZE1lc3NhZ2VzT2ZTYW1lVGVtcGxhdGUgPSB0aGlzLmZpbmRPdGhlckJ1bmRsZWRNZXNzYWdlc09mU2FtZVRlbXBsYXRlLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLmhhbmRsZUV4cHJlc3Npb25FdmFsID0gdGhpcy5oYW5kbGVFeHByZXNzaW9uRXZhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzID0gdGhpcy5vbkNoYW5nZVRhcmdldGluZ1BhcmFtZXRlcnMuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnMgPSB0aGlzLm9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0aW9uID0gdGhpcy5zZXRBdHRyaWJ1dGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Db3B5VGFyZ2V0aW5nUGFyYW1zID0gdGhpcy5vbkNvcHlUYXJnZXRpbmdQYXJhbXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uUGFzdGVUYXJnZXRpbmdQYXJhbXMgPSB0aGlzLm9uUGFzdGVUYXJnZXRpbmdQYXJhbXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTmV3VGFyZ2V0aW5nUGFyYW1zID0gdGhpcy5vbk5ld1RhcmdldGluZ1BhcmFtcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBtZXNzYWdlRmlsdGVyOiBcImFsbFwiLFxuICAgICAgZXZhbHVhdGlvblN0YXR1czoge30sXG4gICAgICB0cmFpbGhlYWQ6IHt9LFxuICAgICAgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyczogbnVsbCxcbiAgICAgIG5ld1N0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IG51bGwsXG4gICAgICBjb3BpZWRUb0NsaXBib2FyZDogZmFsc2UsXG4gICAgICBwYXN0ZUZyb21DbGlwYm9hcmQ6IGZhbHNlLFxuICAgICAgYXR0cmlidXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIHNvdXJjZTogXCJhZGRvbnMubW96aWxsYS5vcmdcIixcbiAgICAgICAgY2FtcGFpZ246IFwibm9uLWZ4LWJ1dHRvblwiLFxuICAgICAgICBjb250ZW50OiBcImlyaWRpdW1AcGFydGljbGVjb3JlLmdpdGh1Yi5pb1wiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgb25NZXNzYWdlKHsgZGF0YTogYWN0aW9uIH0pIHtcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwiQURNSU5fU0VUX1NUQVRFXCIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoYWN0aW9uLmRhdGEpO1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIE9iamVjdC5rZXlzKGFjdGlvbi5kYXRhLnRhcmdldGluZ1BhcmFtZXRlcnMpKSB7XG4gICAgICAgICAgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1twYXJhbV0gPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnRhcmdldGluZ1BhcmFtZXRlcnNbcGFyYW1dLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIDJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBjb25zdCBlbmRwb2ludCA9IEFTUm91dGVyVXRpbHMuZ2V0UHJldmlld0VuZHBvaW50KCk7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkFETUlOX0NPTk5FQ1RfU1RBVEVcIixcbiAgICAgIGRhdGE6IHsgZW5kcG9pbnQgfSxcbiAgICB9KTtcbiAgICBBU1JvdXRlclV0aWxzLmFkZExpc3RlbmVyKHRoaXMub25NZXNzYWdlKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIEFTUm91dGVyVXRpbHMucmVtb3ZlTGlzdGVuZXIodGhpcy5vbk1lc3NhZ2UpO1xuICB9XG5cbiAgZmluZE90aGVyQnVuZGxlZE1lc3NhZ2VzT2ZTYW1lVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZXNzYWdlcy5maWx0ZXIoXG4gICAgICBtc2cgPT4gbXNnLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSAmJiBtc2cuYnVuZGxlZFxuICAgICk7XG4gIH1cblxuICBoYW5kbGVCbG9jayhtc2cpIHtcbiAgICBpZiAobXNnLmJ1bmRsZWQpIHtcbiAgICAgIC8vIElmIHdlIGFyZSBibG9ja2luZyBhIG1lc3NhZ2UgdGhhdCBiZWxvbmdzIHRvIGEgYnVuZGxlLCBibG9jayBhbGwgb3RoZXIgbWVzc2FnZXMgdGhhdCBhcmUgYnVuZGxlZCBvZiB0aGF0IHNhbWUgdGVtcGxhdGVcbiAgICAgIGxldCBidW5kbGUgPSB0aGlzLmZpbmRPdGhlckJ1bmRsZWRNZXNzYWdlc09mU2FtZVRlbXBsYXRlKG1zZy50ZW1wbGF0ZSk7XG4gICAgICByZXR1cm4gKCkgPT4gQVNSb3V0ZXJVdGlscy5ibG9ja0J1bmRsZShidW5kbGUpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4gQVNSb3V0ZXJVdGlscy5ibG9ja0J5SWQobXNnLmlkKTtcbiAgfVxuXG4gIGhhbmRsZVVuYmxvY2sobXNnKSB7XG4gICAgaWYgKG1zZy5idW5kbGVkKSB7XG4gICAgICAvLyBJZiB3ZSBhcmUgdW5ibG9ja2luZyBhIG1lc3NhZ2UgdGhhdCBiZWxvbmdzIHRvIGEgYnVuZGxlLCB1bmJsb2NrIGFsbCBvdGhlciBtZXNzYWdlcyB0aGF0IGFyZSBidW5kbGVkIG9mIHRoYXQgc2FtZSB0ZW1wbGF0ZVxuICAgICAgbGV0IGJ1bmRsZSA9IHRoaXMuZmluZE90aGVyQnVuZGxlZE1lc3NhZ2VzT2ZTYW1lVGVtcGxhdGUobXNnLnRlbXBsYXRlKTtcbiAgICAgIHJldHVybiAoKSA9PiBBU1JvdXRlclV0aWxzLnVuYmxvY2tCdW5kbGUoYnVuZGxlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IEFTUm91dGVyVXRpbHMudW5ibG9ja0J5SWQobXNnLmlkKTtcbiAgfVxuXG4gIGhhbmRsZU92ZXJyaWRlKGlkKSB7XG4gICAgcmV0dXJuICgpID0+IEFTUm91dGVyVXRpbHMub3ZlcnJpZGVNZXNzYWdlKGlkKTtcbiAgfVxuXG4gIGV4cGlyZUNhY2hlKCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIkVYUElSRV9RVUVSWV9DQUNIRVwiIH0pO1xuICB9XG5cbiAgcmVzZXRQcmVmKCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIlJFU0VUX1BST1ZJREVSX1BSRUZcIiB9KTtcbiAgfVxuXG4gIGhhbmRsZUV4cHJlc3Npb25FdmFsKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzW3BhcmFtXTtcbiAgICAgIGNvbnRleHRbcGFyYW1dID0gdmFsdWUgPyBKU09OLnBhcnNlKHZhbHVlKSA6IG51bGw7XG4gICAgfVxuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJFVkFMVUFURV9KRVhMX0VYUFJFU1NJT05cIixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXhwcmVzc2lvbjogdGhpcy5yZWZzLmV4cHJlc3Npb25JbnB1dC52YWx1ZSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBvbkNoYW5nZVRhcmdldGluZ1BhcmFtZXRlcnMoZXZlbnQpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC50YXJnZXQ7XG5cbiAgICB0aGlzLnNldFN0YXRlKCh7IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgfSkgPT4ge1xuICAgICAgbGV0IHRhcmdldGluZ1BhcmFtZXRlcnNFcnJvciA9IG51bGw7XG4gICAgICBjb25zdCB1cGRhdGVkUGFyYW1ldGVycyA9IHsgLi4uc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyB9O1xuICAgICAgdXBkYXRlZFBhcmFtZXRlcnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3IgcGFyc2luZyB2YWx1ZSBvZiBwYXJhbWV0ZXIgJHtuYW1lfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgdGFyZ2V0aW5nUGFyYW1ldGVyc0Vycm9yID0geyBpZDogbmFtZSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb3BpZWRUb0NsaXBib2FyZDogZmFsc2UsXG4gICAgICAgIGV2YWx1YXRpb25TdGF0dXM6IHt9LFxuICAgICAgICBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzOiB1cGRhdGVkUGFyYW1ldGVycyxcbiAgICAgICAgdGFyZ2V0aW5nUGFyYW1ldGVyc0Vycm9yLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVuYWJsZWRUb2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuc3RhdGUucHJvdmlkZXJQcmVmcy5maW5kKFxuICAgICAgcCA9PiBwLmlkID09PSBldmVudC50YXJnZXQuZGF0YXNldC5wcm92aWRlclxuICAgICk7XG4gICAgY29uc3QgdXNlclByZWZJbmZvID0gdGhpcy5zdGF0ZS51c2VyUHJlZnM7XG5cbiAgICBjb25zdCBpc1VzZXJFbmFibGVkID1cbiAgICAgIHByb3ZpZGVyLmlkIGluIHVzZXJQcmVmSW5mbyA/IHVzZXJQcmVmSW5mb1twcm92aWRlci5pZF0gOiB0cnVlO1xuICAgIGNvbnN0IGlzU3lzdGVtRW5hYmxlZCA9IHByb3ZpZGVyLmVuYWJsZWQ7XG4gICAgY29uc3QgaXNFbmFibGluZyA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuXG4gICAgaWYgKGlzRW5hYmxpbmcpIHtcbiAgICAgIGlmICghaXNVc2VyRW5hYmxlZCkge1xuICAgICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcIlNFVF9QUk9WSURFUl9VU0VSX1BSRUZcIixcbiAgICAgICAgICBkYXRhOiB7IGlkOiBwcm92aWRlci5pZCwgdmFsdWU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3lzdGVtRW5hYmxlZCkge1xuICAgICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcIkVOQUJMRV9QUk9WSURFUlwiLFxuICAgICAgICAgIGRhdGE6IHByb3ZpZGVyLmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiRElTQUJMRV9QUk9WSURFUlwiLFxuICAgICAgICBkYXRhOiBwcm92aWRlci5pZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlRmlsdGVyOiBcImFsbFwiIH0pO1xuICB9XG5cbiAgaGFuZGxlVXNlclByZWZUb2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICB0eXBlOiBcIlNFVF9QUk9WSURFUl9VU0VSX1BSRUZcIixcbiAgICAgIGRhdGE6IHsgaWQ6IGV2ZW50LnRhcmdldC5kYXRhc2V0LnByb3ZpZGVyLCB2YWx1ZTogZXZlbnQudGFyZ2V0LmNoZWNrZWQgfSxcbiAgICB9O1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoYWN0aW9uKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVzc2FnZUZpbHRlcjogXCJhbGxcIiB9KTtcbiAgfVxuXG4gIG9uQ2hhbmdlTWVzc2FnZUZpbHRlcihldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlRmlsdGVyOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gIH1cblxuICAvLyBTaW11bGF0ZSBhIGNvcHkgZXZlbnQgdGhhdCBzZXRzIHRvIGNsaXBib2FyZCBhbGwgdGFyZ2V0aW5nIHBhcmFtdGVycyBhbmQgdmFsdWVzXG4gIG9uQ29weVRhcmdldGluZ1BhcmFtcyhldmVudCkge1xuICAgIGNvbnN0IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgPSB7XG4gICAgICAuLi50aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzKSkge1xuICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIG5vdCBzZXQgdGhlIHBhcmFtZXRlciB3aWxsIGJlIGxvc3Qgd2hlbiB3ZSBzdHJpbmdpZnlcbiAgICAgIGlmIChzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzW2tleV0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzZXRDbGlwYm9hcmREYXRhID0gZSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcbiAgICAgICAgXCJ0ZXh0XCIsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMsIG51bGwsIDIpXG4gICAgICApO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgc2V0Q2xpcGJvYXJkRGF0YSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY29waWVkVG9DbGlwYm9hcmQ6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIHNldENsaXBib2FyZERhdGEpO1xuXG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICB9XG5cbiAgLy8gQ29weSBhbGwgY2xpcGJvYXJkIGRhdGEgdG8gdGFyZ2V0aW5nIHBhcmFtZXRlcnNcbiAgb25QYXN0ZVRhcmdldGluZ1BhcmFtcyhldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoKHsgcGFzdGVGcm9tQ2xpcGJvYXJkIH0pID0+ICh7XG4gICAgICBwYXN0ZUZyb21DbGlwYm9hcmQ6ICFwYXN0ZUZyb21DbGlwYm9hcmQsXG4gICAgICBuZXdTdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzOiBcIlwiLFxuICAgIH0pKTtcbiAgfVxuXG4gIG9uTmV3VGFyZ2V0aW5nUGFyYW1zKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5ld1N0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yU3RhdGVcIik7XG4gICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0ID0gXCJcIjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzID0gSlNPTi5wYXJzZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJlcnJvclN0YXRlXCIpO1xuICAgICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0ID0gZS5tZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlck1lc3NhZ2VJdGVtKG1zZykge1xuICAgIGNvbnN0IGlzQmxvY2tlZCA9XG4gICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VCbG9ja0xpc3QuaW5jbHVkZXMobXNnLmlkKSB8fFxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlQmxvY2tMaXN0LmluY2x1ZGVzKG1zZy5jYW1wYWlnbik7XG4gICAgY29uc3QgaW1wcmVzc2lvbnMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VJbXByZXNzaW9uc1ttc2cuaWRdXG4gICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZUltcHJlc3Npb25zW21zZy5pZF0ubGVuZ3RoXG4gICAgICA6IDA7XG5cbiAgICBsZXQgaXRlbUNsYXNzTmFtZSA9IFwibWVzc2FnZS1pdGVtXCI7XG4gICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgaXRlbUNsYXNzTmFtZSArPSBcIiBibG9ja2VkXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0ciBjbGFzc05hbWU9e2l0ZW1DbGFzc05hbWV9IGtleT17YCR7bXNnLmlkfS0ke21zZy5wcm92aWRlcn1gfT5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWRcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIHttc2cuaWR9IDxiciAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGJ1dHRvbiAke2lzQmxvY2tlZCA/IFwiXCIgOiBcIiBwcmltYXJ5XCJ9YH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e1xuICAgICAgICAgICAgICBpc0Jsb2NrZWQgPyB0aGlzLmhhbmRsZVVuYmxvY2sobXNnKSA6IHRoaXMuaGFuZGxlQmxvY2sobXNnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc0Jsb2NrZWQgPyBcIlVuYmxvY2tcIiA6IFwiQmxvY2tcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB7aXNCbG9ja2VkID8gbnVsbCA6IChcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVPdmVycmlkZShtc2cuaWQpfT5cbiAgICAgICAgICAgICAgU2hvd1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8YnIgLz4oe2ltcHJlc3Npb25zfSBpbXByZXNzaW9ucylcbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1lc3NhZ2Utc3VtbWFyeVwiPlxuICAgICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KG1zZywgbnVsbCwgMil9PC9wcmU+XG4gICAgICAgIDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJNZXNzYWdlcygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubWVzc2FnZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlc1RvU2hvdyA9XG4gICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VGaWx0ZXIgPT09IFwiYWxsXCJcbiAgICAgICAgPyB0aGlzLnN0YXRlLm1lc3NhZ2VzXG4gICAgICAgIDogdGhpcy5zdGF0ZS5tZXNzYWdlcy5maWx0ZXIoXG4gICAgICAgICAgICBtZXNzYWdlID0+IG1lc3NhZ2UucHJvdmlkZXIgPT09IHRoaXMuc3RhdGUubWVzc2FnZUZpbHRlclxuICAgICAgICAgICk7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PnttZXNzYWdlc1RvU2hvdy5tYXAobXNnID0+IHRoaXMucmVuZGVyTWVzc2FnZUl0ZW0obXNnKSl9PC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlck1lc3NhZ2VGaWx0ZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnByb3ZpZGVycykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8cD5cbiAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmV0dGllci9wcmV0dGllciAqL31cbiAgICAgIFNob3cgbWVzc2FnZXMgZnJvbXtcIiBcIn1cbiAgICAgIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvbm8tb25jaGFuZ2UgKi99XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTWVzc2FnZUZpbHRlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5hbGwgcHJvdmlkZXJzPC9vcHRpb24+XG4gICAgICAgICAge3RoaXMuc3RhdGUucHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17cHJvdmlkZXIuaWR9IHZhbHVlPXtwcm92aWRlci5pZH0+XG4gICAgICAgICAgICAgIHtwcm92aWRlci5pZH1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGFibGVIZWFkKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCIgLz5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+UHJvdmlkZXIgSUQ8L3RkPlxuICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5Db2hvcnQ8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5MYXN0IFVwZGF0ZWQ8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyUHJvdmlkZXJzKCkge1xuICAgIGNvbnN0IHByb3ZpZGVyc0NvbmZpZyA9IHRoaXMuc3RhdGUucHJvdmlkZXJQcmVmcztcbiAgICBjb25zdCBwcm92aWRlckluZm8gPSB0aGlzLnN0YXRlLnByb3ZpZGVycztcbiAgICBjb25zdCB1c2VyUHJlZkluZm8gPSB0aGlzLnN0YXRlLnVzZXJQcmVmcztcblxuICAgIHJldHVybiAoXG4gICAgICA8dGFibGU+XG4gICAgICAgIHt0aGlzLnJlbmRlclRhYmxlSGVhZCgpfVxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAge3Byb3ZpZGVyc0NvbmZpZy5tYXAoKHByb3ZpZGVyLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1Rlc3RQcm92aWRlciA9IHByb3ZpZGVyLmlkLmluY2x1ZGVzKFwiX2xvY2FsX3Rlc3RpbmdcIik7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gcHJvdmlkZXJJbmZvLmZpbmQocCA9PiBwLmlkID09PSBwcm92aWRlci5pZCkgfHwge307XG4gICAgICAgICAgICBjb25zdCBpc1VzZXJFbmFibGVkID1cbiAgICAgICAgICAgICAgcHJvdmlkZXIuaWQgaW4gdXNlclByZWZJbmZvID8gdXNlclByZWZJbmZvW3Byb3ZpZGVyLmlkXSA6IHRydWU7XG4gICAgICAgICAgICBjb25zdCBpc1N5c3RlbUVuYWJsZWQgPSBpc1Rlc3RQcm92aWRlciB8fCBwcm92aWRlci5lbmFibGVkO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBcImxvY2FsXCI7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJyZW1vdGVcIikge1xuICAgICAgICAgICAgICBsYWJlbCA9IChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIGVuZHBvaW50IChcbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb3ZpZGVyVXJsXCJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17aW5mby51cmx9XG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aW5mby51cmx9XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcInJlbW90ZS1zZXR0aW5nc1wiKSB7XG4gICAgICAgICAgICAgIGxhYmVsID0gYHJlbW90ZSBzZXR0aW5ncyAoJHtwcm92aWRlci5idWNrZXR9KWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCByZWFzb25zRGlzYWJsZWQgPSBbXTtcbiAgICAgICAgICAgIGlmICghaXNTeXN0ZW1FbmFibGVkKSB7XG4gICAgICAgICAgICAgIHJlYXNvbnNEaXNhYmxlZC5wdXNoKFwic3lzdGVtIHByZWZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVXNlckVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgcmVhc29uc0Rpc2FibGVkLnB1c2goXCJ1c2VyIHByZWZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVhc29uc0Rpc2FibGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsYWJlbCA9IGBkaXNhYmxlZCB2aWEgJHtyZWFzb25zRGlzYWJsZWQuam9pbihcIiwgXCIpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIiBrZXk9e2l9PlxuICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgIHtpc1Rlc3RQcm92aWRlciA/IChcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICByZWFkT25seT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXByb3ZpZGVyPXtwcm92aWRlci5pZH1cbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtpc1VzZXJFbmFibGVkICYmIGlzU3lzdGVtRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVFbmFibGVkVG9nZ2xlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD57cHJvdmlkZXIuaWR9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bzb3VyY2VMYWJlbCR7XG4gICAgICAgICAgICAgICAgICAgICAgaXNVc2VyRW5hYmxlZCAmJiBpc1N5c3RlbUVuYWJsZWQgPyBcIlwiIDogXCIgaXNEaXNhYmxlZFwiXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+e3Byb3ZpZGVyLmNvaG9ydH08L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiIH19PlxuICAgICAgICAgICAgICAgICAge2luZm8ubGFzdFVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgRGF0ZShpbmZvLmxhc3RVcGRhdGVkKS50b0xvY2FsZVN0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclBhc3RlTW9kYWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnBhc3RlRnJvbUNsaXBib2FyZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGVycm9ycyA9XG4gICAgICB0aGlzLnJlZnMudGFyZ2V0aW5nUGFyYW1zRXZhbCAmJlxuICAgICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0Lmxlbmd0aDtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsT3ZlcmxheVxuICAgICAgICBpbm5lclN0eWxlPVwicGFzdGVNb2RhbFwiXG4gICAgICAgIHRpdGxlPVwiTmV3IHRhcmdldGluZyBwYXJhbWV0ZXJzXCJcbiAgICAgICAgYnV0dG9uX2xhYmVsPXtlcnJvcnMgPyBcIkNhbmNlbFwiIDogXCJEb25lXCJ9XG4gICAgICAgIG9uRGlzbWlzc0J1bmRsZT17dGhpcy5vblBhc3RlVGFyZ2V0aW5nUGFyYW1zfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9uYm9hcmRpbmdNZXNzYWdlXCI+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25OZXdUYXJnZXRpbmdQYXJhbXN9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld1N0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIHJvd3M9XCIyMFwiXG4gICAgICAgICAgICAgIGNvbHM9XCI2MFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCByZWY9XCJ0YXJnZXRpbmdQYXJhbXNFdmFsXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsT3ZlcmxheT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGFyZ2V0aW5nUGFyYW1ldGVycygpIHtcbiAgICAvLyBUaGVyZSB3YXMgbm8gZXJyb3IgYW5kIHRoZSByZXN1bHQgaXMgdHJ1dGh5XG4gICAgY29uc3Qgc3VjY2VzcyA9XG4gICAgICB0aGlzLnN0YXRlLmV2YWx1YXRpb25TdGF0dXMuc3VjY2VzcyAmJlxuICAgICAgISF0aGlzLnN0YXRlLmV2YWx1YXRpb25TdGF0dXMucmVzdWx0O1xuICAgIGNvbnN0IHJlc3VsdCA9XG4gICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLmV2YWx1YXRpb25TdGF0dXMucmVzdWx0LCBudWxsLCAyKSB8fFxuICAgICAgXCIoRW1wdHkgcmVzdWx0KVwiO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGgyPkV2YWx1YXRlIEpFWEwgZXhwcmVzc2lvbjwvaDI+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgIHJlZj1cImV4cHJlc3Npb25JbnB1dFwiXG4gICAgICAgICAgICAgICAgICByb3dzPVwiMTBcIlxuICAgICAgICAgICAgICAgICAgY29scz1cIjYwXCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXZhbHVhdGUgSkVYTCBleHByZXNzaW9ucyBhbmQgbW9jayBwYXJhbWV0ZXJzIGJ5IGNoYW5naW5nIHRoZWlyIHZhbHVlcyBiZWxvd1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICBTdGF0dXM6e1wiIFwifVxuICAgICAgICAgICAgICAgIDxzcGFuIHJlZj1cImV2YWx1YXRpb25TdGF0dXNcIj5cbiAgICAgICAgICAgICAgICAgIHtzdWNjZXNzID8gXCLinIVcIiA6IFwi4p2MXCJ9LCBSZXN1bHQ6IHtyZXN1bHR9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUV4cHJlc3Npb25FdmFsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgRXZhbHVhdGVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8aDI+TW9kaWZ5IHRhcmdldGluZyBwYXJhbWV0ZXJzPC9oMj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25Db3B5VGFyZ2V0aW5nUGFyYW1zfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmNvcGllZFRvQ2xpcGJvYXJkfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY29waWVkVG9DbGlwYm9hcmRcbiAgICAgICAgICAgICAgICAgID8gXCJQYXJhbWV0ZXJzIGNvcGllZCFcIlxuICAgICAgICAgICAgICAgICAgOiBcIkNvcHkgcGFyYW1ldGVyc1wifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblBhc3RlVGFyZ2V0aW5nUGFyYW1zfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnBhc3RlRnJvbUNsaXBib2FyZH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFBhc3RlIHBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAge3RoaXMuc3RhdGUuc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyAmJlxuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzKS5tYXAoXG4gICAgICAgICAgICAgIChwYXJhbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzW3BhcmFtXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclN0YXRlID1cbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudGFyZ2V0aW5nUGFyYW1ldGVyc0Vycm9yICYmXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnRhcmdldGluZ1BhcmFtZXRlcnNFcnJvci5pZCA9PT0gcGFyYW07XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gZXJyb3JTdGF0ZSA/IFwiZXJyb3JTdGF0ZVwiIDogXCJcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dENvbXAgPVxuICAgICAgICAgICAgICAgICAgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCkgPiAzMCA/IChcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT17cGFyYW19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgIHJvd3M9XCIxMFwiXG4gICAgICAgICAgICAgICAgICAgICAgY29scz1cIjYwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZVRhcmdldGluZ1BhcmFtZXRlcnN9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtwYXJhbX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8dHIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntwYXJhbX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+e2lucHV0Q29tcH08L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICApO1xuICB9XG5cbiAgb25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnMoZXZlbnQpIHtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBldmVudC50YXJnZXQ7XG5cbiAgICB0aGlzLnNldFN0YXRlKCh7IGF0dHJpYnV0aW9uUGFyYW1ldGVycyB9KSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkUGFyYW1ldGVycyA9IHsgLi4uYXR0cmlidXRpb25QYXJhbWV0ZXJzIH07XG4gICAgICB1cGRhdGVkUGFyYW1ldGVyc1tuYW1lXSA9IHZhbHVlO1xuXG4gICAgICByZXR1cm4geyBhdHRyaWJ1dGlvblBhcmFtZXRlcnM6IHVwZGF0ZWRQYXJhbWV0ZXJzIH07XG4gICAgfSk7XG4gIH1cblxuICBzZXRBdHRyaWJ1dGlvbihlKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkZPUkNFX0FUVFJJQlVUSU9OXCIsXG4gICAgICBkYXRhOiB0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclBvY2tldFN0b3J5KHN0b3J5KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIiBrZXk9e3N0b3J5Lmd1aWR9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge3N0b3J5Lmd1aWR9IDxiciAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1lc3NhZ2Utc3VtbWFyeVwiPlxuICAgICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KHN0b3J5LCBudWxsLCAyKX08L3ByZT5cbiAgICAgICAgPC90ZD5cbiAgICAgIDwvdHI+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclBvY2tldFN0b3JpZXMoKSB7XG4gICAgY29uc3QgeyByb3dzIH0gPVxuICAgICAgdGhpcy5wcm9wcy5TZWN0aW9ucy5maW5kKFNlY3Rpb24gPT4gU2VjdGlvbi5pZCA9PT0gXCJ0b3BzdG9yaWVzXCIpIHx8IHt9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHtyb3dzICYmIHJvd3MubWFwKHN0b3J5ID0+IHRoaXMucmVuZGVyUG9ja2V0U3Rvcnkoc3RvcnkpKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckRpc2NvdmVyeVN0cmVhbSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkVuYWJsZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e2NvbmZpZy5lbmFibGVkID8gXCJ5ZXNcIiA6IFwibm9cIn08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkVuZHBvaW50PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntjb25maWcuZW5kcG9pbnQgfHwgXCIoZW1wdHkpXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJBdHRyaWJ1dGlvblBhcmFtZXJzKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDI+IEF0dHJpYnV0aW9uIFBhcmFtZXRlcnMgPC9oMj5cbiAgICAgICAgPHA+XG4gICAgICAgICAge1wiIFwifVxuICAgICAgICAgIFRoaXMgZm9yY2VzIHRoZSBicm93c2VyIHRvIHNldCBzb21lIGF0dHJpYnV0aW9uIHBhcmFtZXRlcnMsIHVzZWZ1bCBmb3JcbiAgICAgICAgICB0ZXN0aW5nIHRoZSBSZXR1cm4gVG8gQU1PIGZlYXR1cmUuIENsaWNraW5nIG9uICdGb3JjZSBBdHRyaWJ1dGlvbicsXG4gICAgICAgICAgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZXMgaW4gZWFjaCBmaWVsZCwgd2lsbCBkZW1vIHRoZSBSZXR1cm4gVG8gQU1PXG4gICAgICAgICAgZmxvdyB3aXRoIHRoZSBhZGRvbiBjYWxsZWQgJ0lyaWRpdW0gZm9yIFlvdXR1YmUnLiBJZiB5b3Ugd2lzaCB0byB0cnlcbiAgICAgICAgICBkaWZmZXJlbnQgYXR0cmlidXRpb24gcGFyYW1ldGVycywgZW50ZXIgdGhlbSBpbiB0aGUgdGV4dCBib3hlcy4gSWYgeW91XG4gICAgICAgICAgd2lzaCB0byB0cnkgYSBkaWZmZXJlbnQgYWRkb24gd2l0aCB0aGUgUmV0dXJuIFRvIEFNTyBmbG93LCBtYWtlIHN1cmVcbiAgICAgICAgICB0aGUgJ2NvbnRlbnQnIHRleHQgYm94IGhhcyB0aGUgYWRkb24gR1VJRCwgdGhlbiBjbGljayAnRm9yY2VcbiAgICAgICAgICBBdHRyaWJ1dGlvbicuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IFNvdXJjZSA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwic291cmNlXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImFkZG9ucy5tb3ppbGxhLm9yZ1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLnNvdXJjZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gQ2FtcGFpZ24gPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImNhbXBhaWduXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIm5vbi1meC1idXR0b25cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycy5jYW1wYWlnbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gQ29udGVudCA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiY29udGVudFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJpcmlkaXVtQHBhcnRpY2xlY29yZS5naXRodWIuaW9cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycy5jb250ZW50fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzfVxuICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHByaW1hcnkgYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldEF0dHJpYnV0aW9ufVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICAgIEZvcmNlIEF0dHJpYnV0aW9ue1wiIFwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRXJyb3JNZXNzYWdlKHsgaWQsIGVycm9ycyB9KSB7XG4gICAgY29uc3QgcHJvdmlkZXJJZCA9IDx0ZCByb3dTcGFuPXtlcnJvcnMubGVuZ3RofT57aWR9PC90ZD47XG4gICAgLy8gLnJldmVyc2UoKSBzbyB0aGF0IHRoZSBsYXN0IGVycm9yIChtb3N0IHJlY2VudCkgaXMgZmlyc3RcbiAgICByZXR1cm4gZXJyb3JzXG4gICAgICAubWFwKCh7IGVycm9yLCB0aW1lc3RhbXAgfSwgY2VsbEtleSkgPT4gKFxuICAgICAgICA8dHIga2V5PXtjZWxsS2V5fT5cbiAgICAgICAgICB7Y2VsbEtleSA9PT0gZXJyb3JzLmxlbmd0aCAtIDEgPyBwcm92aWRlcklkIDogbnVsbH1cbiAgICAgICAgICA8dGQ+e2Vycm9yLm1lc3NhZ2V9PC90ZD5cbiAgICAgICAgICA8dGQ+e3JlbGF0aXZlVGltZSh0aW1lc3RhbXApfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICApKVxuICAgICAgLnJldmVyc2UoKTtcbiAgfVxuXG4gIHJlbmRlckVycm9ycygpIHtcbiAgICBjb25zdCBwcm92aWRlcnNXaXRoRXJyb3JzID1cbiAgICAgIHRoaXMuc3RhdGUucHJvdmlkZXJzICYmXG4gICAgICB0aGlzLnN0YXRlLnByb3ZpZGVycy5maWx0ZXIocCA9PiBwLmVycm9ycyAmJiBwLmVycm9ycy5sZW5ndGgpO1xuXG4gICAgaWYgKHByb3ZpZGVyc1dpdGhFcnJvcnMgJiYgcHJvdmlkZXJzV2l0aEVycm9ycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJlcnJvclJlcG9ydGluZ1wiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPlByb3ZpZGVyIElEPC90aD5cbiAgICAgICAgICAgICAgPHRoPk1lc3NhZ2U8L3RoPlxuICAgICAgICAgICAgICA8dGg+VGltZXN0YW1wPC90aD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8dGJvZHk+e3Byb3ZpZGVyc1dpdGhFcnJvcnMubWFwKHRoaXMucmVuZGVyRXJyb3JNZXNzYWdlKX08L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gPHA+Tm8gZXJyb3JzPC9wPjtcbiAgfVxuXG4gIHJlbmRlclRyYWlsaGVhZEluZm8oKSB7XG4gICAgY29uc3QgeyB0cmFpbGhlYWRJbnRlcnJ1cHQsIHRyYWlsaGVhZFRyaXBsZXQgfSA9IHRoaXMuc3RhdGUudHJhaWxoZWFkO1xuICAgIHJldHVybiAoXG4gICAgICA8dGFibGUgY2xhc3NOYW1lPVwibWluaW1hbC10YWJsZVwiPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPkludGVycnVwdCBicmFuY2g8L3RkPlxuICAgICAgICAgICAgPHRkPnt0cmFpbGhlYWRJbnRlcnJ1cHR9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5UcmlwbGV0IGJyYW5jaDwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3RyYWlsaGVhZFRyaXBsZXR9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICApO1xuICB9XG5cbiAgZ2V0U2VjdGlvbigpIHtcbiAgICBjb25zdCBbc2VjdGlvbl0gPSB0aGlzLnByb3BzLmxvY2F0aW9uLnJvdXRlcztcbiAgICBzd2l0Y2ggKHNlY3Rpb24pIHtcbiAgICAgIGNhc2UgXCJ0YXJnZXRpbmdcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+VGFyZ2V0aW5nIFV0aWxpdGllczwvaDI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuZXhwaXJlQ2FjaGV9PlxuICAgICAgICAgICAgICBFeHBpcmUgQ2FjaGVcbiAgICAgICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgICAgIChUaGlzIGV4cGlyZXMgdGhlIGNhY2hlIGluIEFTUiBUYXJnZXRpbmcgZm9yIGJvb2ttYXJrcyBhbmQgdG9wXG4gICAgICAgICAgICBzaXRlcylcbiAgICAgICAgICAgIHt0aGlzLnJlbmRlclRhcmdldGluZ1BhcmFtZXRlcnMoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckF0dHJpYnV0aW9uUGFyYW1lcnMoKX1cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgICAgY2FzZSBcInBvY2tldFwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxoMj5Qb2NrZXQ8L2gyPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyUG9ja2V0U3RvcmllcygpfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiZHNcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+RGlzY292ZXJ5IFN0cmVhbTwvaDI+XG4gICAgICAgICAgICA8RGlzY292ZXJ5U3RyZWFtQWRtaW5cbiAgICAgICAgICAgICAgc3RhdGU9e3RoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtfVxuICAgICAgICAgICAgICBvdGhlclByZWZzPXt0aGlzLnByb3BzLlByZWZzLnZhbHVlc31cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiZXJyb3JzXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPGgyPkFTUm91dGVyIEVycm9yczwvaDI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJFcnJvcnMoKX1cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgIE1lc3NhZ2UgUHJvdmlkZXJze1wiIFwifVxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJSZXN0b3JlIGFsbCBwcm92aWRlciBzZXR0aW5ncyB0aGF0IHNoaXAgd2l0aCBGaXJlZm94XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVzZXRQcmVmfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUmVzdG9yZSBkZWZhdWx0IHByZWZzXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnByb3ZpZGVycyA/IHRoaXMucmVuZGVyUHJvdmlkZXJzKCkgOiBudWxsfVxuICAgICAgICAgICAgPGgyPlRyYWlsaGVhZDwvaDI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJUcmFpbGhlYWRJbmZvKCl9XG4gICAgICAgICAgICA8aDI+TWVzc2FnZXM8L2gyPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyTWVzc2FnZUZpbHRlcigpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyTWVzc2FnZXMoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlclBhc3RlTW9kYWwoKX1cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2Bhc3JvdXRlci1hZG1pbiAke1xuICAgICAgICAgIHRoaXMucHJvcHMuY29sbGFwc2VkID8gXCJjb2xsYXBzZWRcIiA6IFwiZXhwYW5kZWRcIlxuICAgICAgICB9YH1cbiAgICAgID5cbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cInNpZGViYXJcIj5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIjZGV2dG9vbHNcIj5HZW5lcmFsPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29scy10YXJnZXRpbmdcIj5UYXJnZXRpbmc8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLXBvY2tldFwiPlBvY2tldDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIjZGV2dG9vbHMtZHNcIj5EaXNjb3ZlcnkgU3RyZWFtPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29scy1lcnJvcnNcIj5FcnJvcnM8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvYXNpZGU+XG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1haW4tcGFuZWxcIj5cbiAgICAgICAgICA8aDE+QVMgUm91dGVyIEFkbWluPC9oMT5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHBMaW5rXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+e1wiIFwifVxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIE5lZWQgaGVscCB1c2luZyB0aGVzZSB0b29scz8gQ2hlY2sgb3V0IG91cntcIiBcIn1cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICB0YXJnZXQ9XCJibGFua1wiXG4gICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2FjdGl2aXR5LXN0cmVhbS9ibG9iL21hc3Rlci9jb250ZW50LXNyYy9hc3JvdXRlci9kb2NzL2RlYnVnZ2luZy1kb2NzLm1kXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb25cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIHt0aGlzLmdldFNlY3Rpb24oKX1cbiAgICAgICAgPC9tYWluPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sbGFwc2VUb2dnbGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNvbGxhcHNlVG9nZ2xlID0gdGhpcy5vbkNvbGxhcHNlVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgY29sbGFwc2VkOiBmYWxzZSB9O1xuICB9XG5cbiAgZ2V0IHJlbmRlckFkbWluKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgIHByb3BzLmxvY2F0aW9uLmhhc2ggJiZcbiAgICAgIChwcm9wcy5sb2NhdGlvbi5oYXNoLnN0YXJ0c1dpdGgoXCIjYXNyb3V0ZXJcIikgfHxcbiAgICAgICAgcHJvcHMubG9jYXRpb24uaGFzaC5zdGFydHNXaXRoKFwiI2RldnRvb2xzXCIpKVxuICAgICk7XG4gIH1cblxuICBvbkNvbGxhcHNlVG9nZ2xlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoeyBjb2xsYXBzZWQ6ICFzdGF0ZS5jb2xsYXBzZWQgfSkpO1xuICB9XG5cbiAgc2V0Qm9keUNsYXNzKCkge1xuICAgIGlmICh0aGlzLnJlbmRlckFkbWluICYmICF0aGlzLnN0YXRlLmNvbGxhcHNlZCkge1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcIm5vLXNjcm9sbFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm5vLXNjcm9sbFwiKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldEJvZHlDbGFzcygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuc2V0Qm9keUNsYXNzKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibm8tc2Nyb2xsXCIpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyByZW5kZXJBZG1pbiB9ID0gdGhpcztcbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkIHx8ICFyZW5kZXJBZG1pbjtcbiAgICBjb25zdCBsYWJlbCA9IGAke2lzQ29sbGFwc2VkID8gXCJFeHBhbmRcIiA6IFwiQ29sbGFwc2VcIn0gZGV2dG9vbHNgO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj1cIiNkZXZ0b29sc1wiXG4gICAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICAgIGFyaWEtbGFiZWw9e2xhYmVsfVxuICAgICAgICAgIGNsYXNzTmFtZT17YGFzcm91dGVyLXRvZ2dsZSAke1xuICAgICAgICAgICAgaXNDb2xsYXBzZWQgPyBcImNvbGxhcHNlZFwiIDogXCJleHBhbmRlZFwiXG4gICAgICAgICAgfWB9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5yZW5kZXJBZG1pbiA/IHRoaXMub25Db2xsYXBzZVRvZ2dsZSA6IG51bGx9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tZGV2dG9vbHNcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICAgIHtyZW5kZXJBZG1pbiA/IChcbiAgICAgICAgICA8QVNSb3V0ZXJBZG1pbklubmVyIHsuLi5wcm9wc30gY29sbGFwc2VkPXt0aGlzLnN0YXRlLmNvbGxhcHNlZH0gLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgX0FTUm91dGVyQWRtaW4gPSBwcm9wcyA9PiAoXG4gIDxTaW1wbGVIYXNoUm91dGVyPlxuICAgIDxDb2xsYXBzZVRvZ2dsZSB7Li4ucHJvcHN9IC8+XG4gIDwvU2ltcGxlSGFzaFJvdXRlcj5cbik7XG5cbmV4cG9ydCBjb25zdCBBU1JvdXRlckFkbWluID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX0FTUm91dGVyQWRtaW4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHtcbiAgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsXG4gIGFjdGlvblR5cGVzIGFzIGF0LFxuICBBU1JvdXRlckFjdGlvbnMgYXMgcmEsXG59IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IE9VVEdPSU5HX01FU1NBR0VfTkFNRSBhcyBBU19HRU5FUkFMX09VVEdPSU5HX01FU1NBR0VfTkFNRSB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvaW5pdC1zdG9yZVwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVCdW5kbGVzIH0gZnJvbSBcIi4vcmljaC10ZXh0LXN0cmluZ3NcIjtcbmltcG9ydCB7IEltcHJlc3Npb25zV3JhcHBlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvSW1wcmVzc2lvbnNXcmFwcGVyL0ltcHJlc3Npb25zV3JhcHBlclwiO1xuaW1wb3J0IHsgTG9jYWxpemF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiZmx1ZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBORVdUQUJfREFSS19USEVNRSB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgU25pcHBldHNUZW1wbGF0ZXMgfSBmcm9tIFwiLi90ZW1wbGF0ZXMvdGVtcGxhdGUtbWFuaWZlc3RcIjtcbmltcG9ydCB7IEZpcnN0UnVuIH0gZnJvbSBcIi4vdGVtcGxhdGVzL0ZpcnN0UnVuL0ZpcnN0UnVuXCI7XG5cbmNvbnN0IElOQ09NSU5HX01FU1NBR0VfTkFNRSA9IFwiQVNSb3V0ZXI6cGFyZW50LXRvLWNoaWxkXCI7XG5jb25zdCBPVVRHT0lOR19NRVNTQUdFX05BTUUgPSBcIkFTUm91dGVyOmNoaWxkLXRvLXBhcmVudFwiO1xuY29uc3QgVEVNUExBVEVTX0FCT1ZFX1BBR0UgPSBbXG4gIFwidHJhaWxoZWFkXCIsXG4gIFwiZnVsbF9wYWdlX2ludGVycnVwdFwiLFxuICBcInJldHVybl90b19hbW9fb3ZlcmxheVwiLFxuICBcImV4dGVuZGVkX3RyaXBsZXRzXCIsXG5dO1xuY29uc3QgRklSU1RfUlVOX1RFTVBMQVRFUyA9IFRFTVBMQVRFU19BQk9WRV9QQUdFO1xuY29uc3QgVEVNUExBVEVTX0JFTE9XX1NFQVJDSCA9IFtcInNpbXBsZV9iZWxvd19zZWFyY2hfc25pcHBldFwiXTtcblxuZXhwb3J0IGNvbnN0IEFTUm91dGVyVXRpbHMgPSB7XG4gIGFkZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgaWYgKGdsb2JhbC5SUE1BZGRNZXNzYWdlTGlzdGVuZXIpIHtcbiAgICAgIGdsb2JhbC5SUE1BZGRNZXNzYWdlTGlzdGVuZXIoSU5DT01JTkdfTUVTU0FHRV9OQU1FLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGlmIChnbG9iYWwuUlBNUmVtb3ZlTWVzc2FnZUxpc3RlbmVyKSB7XG4gICAgICBnbG9iYWwuUlBNUmVtb3ZlTWVzc2FnZUxpc3RlbmVyKElOQ09NSU5HX01FU1NBR0VfTkFNRSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSxcbiAgc2VuZE1lc3NhZ2UoYWN0aW9uKSB7XG4gICAgaWYgKGdsb2JhbC5SUE1TZW5kQXN5bmNNZXNzYWdlKSB7XG4gICAgICBnbG9iYWwuUlBNU2VuZEFzeW5jTWVzc2FnZShPVVRHT0lOR19NRVNTQUdFX05BTUUsIGFjdGlvbik7XG4gICAgfVxuICB9LFxuICBibG9ja0J5SWQoaWQsIG9wdGlvbnMpIHtcbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiQkxPQ0tfTUVTU0FHRV9CWV9JRFwiLFxuICAgICAgZGF0YTogeyBpZCwgLi4ub3B0aW9ucyB9LFxuICAgIH0pO1xuICB9LFxuICBkaXNtaXNzQnlJZChpZCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIkRJU01JU1NfTUVTU0FHRV9CWV9JRFwiLCBkYXRhOiB7IGlkIH0gfSk7XG4gIH0sXG4gIGV4ZWN1dGVBY3Rpb24oYnV0dG9uX2FjdGlvbikge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJVU0VSX0FDVElPTlwiLFxuICAgICAgZGF0YTogYnV0dG9uX2FjdGlvbixcbiAgICB9KTtcbiAgfSxcbiAgdW5ibG9ja0J5SWQoaWQpIHtcbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHsgdHlwZTogXCJVTkJMT0NLX01FU1NBR0VfQllfSURcIiwgZGF0YTogeyBpZCB9IH0pO1xuICB9LFxuICB1bmJsb2NrQnVuZGxlKGJ1bmRsZSkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIlVOQkxPQ0tfQlVORExFXCIsIGRhdGE6IHsgYnVuZGxlIH0gfSk7XG4gIH0sXG4gIG92ZXJyaWRlTWVzc2FnZShpZCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIk9WRVJSSURFX01FU1NBR0VcIiwgZGF0YTogeyBpZCB9IH0pO1xuICB9LFxuICBzZW5kVGVsZW1ldHJ5KHBpbmcpIHtcbiAgICBpZiAoZ2xvYmFsLlJQTVNlbmRBc3luY01lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBhYy5BU1JvdXRlclVzZXJFdmVudChwaW5nKTtcbiAgICAgIGdsb2JhbC5SUE1TZW5kQXN5bmNNZXNzYWdlKEFTX0dFTkVSQUxfT1VUR09JTkdfTUVTU0FHRV9OQU1FLCBwYXlsb2FkKTtcbiAgICB9XG4gIH0sXG4gIGdldFByZXZpZXdFbmRwb2ludCgpIHtcbiAgICBpZiAoZ2xvYmFsLmxvY2F0aW9uICYmIGdsb2JhbC5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiZW5kcG9pbnRcIikpIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICAgIGdsb2JhbC5sb2NhdGlvbi5ocmVmLnNsaWNlKGdsb2JhbC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJlbmRwb2ludFwiKSlcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IG5ldyBVUkwocGFyYW1zLmdldChcImVuZHBvaW50XCIpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1cmw6IGVuZHBvaW50LmhyZWYsXG4gICAgICAgICAgc25pcHBldElkOiBwYXJhbXMuZ2V0KFwic25pcHBldElkXCIpLFxuICAgICAgICAgIHRoZW1lOiB0aGlzLmdldFByZXZpZXdUaGVtZSgpLFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgZ2V0UHJldmlld1RoZW1lKCkge1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgICAgZ2xvYmFsLmxvY2F0aW9uLmhyZWYuc2xpY2UoZ2xvYmFsLmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInRoZW1lXCIpKVxuICAgICkuZ2V0KFwidGhlbWVcIik7XG4gIH0sXG59O1xuXG4vLyBOb3RlOiBuZXh0UHJvcHMvcHJldlByb3BzIHJlZmVyIHRvIHByb3BzIHBhc3NlZCB0byA8SW1wcmVzc2lvbnNXcmFwcGVyIC8+LCBub3QgPEFTUm91dGVyVUlTdXJmYWNlIC8+XG5mdW5jdGlvbiBzaG91bGRTZW5kSW1wcmVzc2lvbk9uVXBkYXRlKG5leHRQcm9wcywgcHJldlByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgbmV4dFByb3BzLm1lc3NhZ2UuaWQgJiZcbiAgICAoIXByZXZQcm9wcy5tZXNzYWdlIHx8IHByZXZQcm9wcy5tZXNzYWdlLmlkICE9PSBuZXh0UHJvcHMubWVzc2FnZS5pZClcbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIEFTUm91dGVyVUlTdXJmYWNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25NZXNzYWdlRnJvbVBhcmVudCA9IHRoaXMub25NZXNzYWdlRnJvbVBhcmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VuZENsaWNrID0gdGhpcy5zZW5kQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnNlbmRJbXByZXNzaW9uID0gdGhpcy5zZW5kSW1wcmVzc2lvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkgPSB0aGlzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblVzZXJBY3Rpb24gPSB0aGlzLm9uVXNlckFjdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmV0Y2hGbG93UGFyYW1zID0gdGhpcy5mZXRjaEZsb3dQYXJhbXMuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7IG1lc3NhZ2U6IHt9LCBpbnRlcnJ1cHRDbGVhcmVkOiBmYWxzZSB9O1xuICAgIGlmIChwcm9wcy5kb2N1bWVudCkge1xuICAgICAgdGhpcy5oZWFkZXJQb3J0YWwgPSBwcm9wcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgXCJoZWFkZXItYXNyb3V0ZXItY29udGFpbmVyXCJcbiAgICAgICk7XG4gICAgICB0aGlzLmZvb3RlclBvcnRhbCA9IHByb3BzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICBcImZvb3Rlci1hc3JvdXRlci1jb250YWluZXJcIlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmZXRjaEZsb3dQYXJhbXMocGFyYW1zID0ge30pIHtcbiAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgY29uc3QgeyBmeGFFbmRwb2ludCwgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFmeGFFbmRwb2ludCkge1xuICAgICAgY29uc3QgZXJyID1cbiAgICAgICAgXCJUcmllZCB0byBmZXRjaCBmbG93IHBhcmFtcyBiZWZvcmUgZnhhRW5kcG9pbnQgcHJlZiB3YXMgcmVhZHlcIjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwoZnhhRW5kcG9pbnQpO1xuICAgICAgdXJsT2JqLnBhdGhuYW1lID0gXCJtZXRyaWNzLWZsb3dcIjtcbiAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICB1cmxPYmouc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHBhcmFtc1trZXldKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmxPYmoudG9TdHJpbmcoKSwgeyBjcmVkZW50aWFsczogXCJvbWl0XCIgfSk7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgY29uc3QgeyBkZXZpY2VJZCwgZmxvd0lkLCBmbG93QmVnaW5UaW1lIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJlc3VsdCA9IHsgZGV2aWNlSWQsIGZsb3dJZCwgZmxvd0JlZ2luVGltZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk5vbi0yMDAgcmVzcG9uc2VcIiwgcmVzcG9uc2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5URUxFTUVUUllfVU5ERVNJUkVEX0VWRU5ULFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBldmVudDogXCJGWEFfTUVUUklDU19GRVRDSF9FUlJPUlwiLFxuICAgICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuVEVMRU1FVFJZX1VOREVTSVJFRF9FVkVOVCxcbiAgICAgICAgICBkYXRhOiB7IGV2ZW50OiBcIkZYQV9NRVRSSUNTX0VSUk9SXCIgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzZW5kVXNlckFjdGlvblRlbGVtZXRyeShleHRyYVByb3BzID0ge30pIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZXZlbnRUeXBlID0gYCR7bWVzc2FnZS5wcm92aWRlcn1fdXNlcl9ldmVudGA7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kVGVsZW1ldHJ5KHtcbiAgICAgIG1lc3NhZ2VfaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICBzb3VyY2U6IGV4dHJhUHJvcHMuaWQsXG4gICAgICBhY3Rpb246IGV2ZW50VHlwZSxcbiAgICAgIC4uLmV4dHJhUHJvcHMsXG4gICAgfSk7XG4gIH1cblxuICBzZW5kSW1wcmVzc2lvbihleHRyYVByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubWVzc2FnZS5wcm92aWRlciA9PT0gXCJwcmV2aWV3XCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHsgdHlwZTogXCJJTVBSRVNTSU9OXCIsIGRhdGE6IHRoaXMuc3RhdGUubWVzc2FnZSB9KTtcbiAgICB0aGlzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHsgZXZlbnQ6IFwiSU1QUkVTU0lPTlwiLCAuLi5leHRyYVByb3BzIH0pO1xuICB9XG5cbiAgLy8gSWYgbGluayBoYXMgYSBgbWV0cmljYCBkYXRhIGF0dHJpYnV0ZSBzZW5kIGl0IGFzIHBhcnQgb2YgdGhlIGBldmVudF9jb250ZXh0YFxuICAvLyB0ZWxlbWV0cnkgZmllbGQgd2hpY2ggY2FuIGhhdmUgYXJiaXRyYXJ5IHZhbHVlcy5cbiAgLy8gVXNlZCBmb3Igcm91dGVyIG1lc3NhZ2VzIHdpdGggbGlua3MgYXMgcGFydCBvZiB0aGUgY29udGVudC5cbiAgc2VuZENsaWNrKGV2ZW50KSB7XG4gICAgY29uc3QgbWV0cmljID0ge1xuICAgICAgZXZlbnRfY29udGV4dDogZXZlbnQudGFyZ2V0LmRhdGFzZXQubWV0cmljLFxuICAgICAgLy8gVXNlZCBmb3IgdGhlIGBzb3VyY2VgIG9mIHRoZSBldmVudC4gTmVlZGVkIHRvIGRpZmZlcmVudGlhdGVcbiAgICAgIC8vIGZyb20gb3RoZXIgc25pcHBldCBvciBvbmJvYXJkaW5nIGV2ZW50cyB0aGF0IG1heSBvY2N1ci5cbiAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICB9O1xuICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgIHR5cGU6IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbixcbiAgICAgIGRhdGE6IHsgYXJnczogZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXJncyB9LFxuICAgIH07XG4gICAgaWYgKGFjdGlvbi50eXBlKSB7XG4gICAgICBBU1JvdXRlclV0aWxzLmV4ZWN1dGVBY3Rpb24oYWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXRoaXMuc3RhdGUubWVzc2FnZS5jb250ZW50LmRvX25vdF9hdXRvYmxvY2sgJiZcbiAgICAgICFldmVudC50YXJnZXQuZGF0YXNldC5kb19ub3RfYXV0b2Jsb2NrXG4gICAgKSB7XG4gICAgICBBU1JvdXRlclV0aWxzLmJsb2NrQnlJZCh0aGlzLnN0YXRlLm1lc3NhZ2UuaWQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5tZXNzYWdlLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7IGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLCAuLi5tZXRyaWMgfSk7XG4gICAgfVxuICB9XG5cbiAgb25CbG9ja0J5SWQoaWQpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA9PiBBU1JvdXRlclV0aWxzLmJsb2NrQnlJZChpZCwgb3B0aW9ucyk7XG4gIH1cblxuICBvbkRpc21pc3NCeUlkKGlkKSB7XG4gICAgcmV0dXJuICgpID0+IEFTUm91dGVyVXRpbHMuZGlzbWlzc0J5SWQoaWQpO1xuICB9XG5cbiAgY2xlYXJNZXNzYWdlKGlkKSB7XG4gICAgLy8gUmVxdWVzdCBuZXcgc2V0IG9mIGR5bmFtaWMgdHJpcGxldCBjYXJkcyB3aGVuIGNsaWNrIG9uIGEgY2FyZCBDVEEgY2xlYXJcbiAgICAvLyBtZXNzYWdlIGFuZCAnaWQnIG1hdGNoZXMgb25lIG9mIHRoZSBjYXJkcyBpbiBtZXNzYWdlIGJ1bmRsZVxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZSAmJlxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlLmJ1bmRsZSAmJlxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlLmJ1bmRsZS5maW5kKGNhcmQgPT4gY2FyZC5pZCA9PT0gaWQpXG4gICAgKSB7XG4gICAgICB0aGlzLnJlcXVlc3RNZXNzYWdlKCk7XG4gICAgfVxuXG4gICAgaWYgKGlkID09PSB0aGlzLnN0YXRlLm1lc3NhZ2UuaWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiB7fSB9KTtcbiAgICAgIC8vIFJlbW92ZSBhbnkgc3R5bGVzIHJlbGF0ZWQgdG8gdGhlIFJUQU1PIG1lc3NhZ2VcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIndlbGNvbWVcIiwgXCJoaWRlLW1haW5cIiwgXCJhbW9cIik7XG4gICAgfVxuICB9XG5cbiAgb25NZXNzYWdlRnJvbVBhcmVudCh7IGRhdGE6IGFjdGlvbiB9KSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSBcIlNFVF9NRVNTQUdFXCI6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiBhY3Rpb24uZGF0YSB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQ0xFQVJfSU5URVJSVVBUXCI6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnRlcnJ1cHRDbGVhcmVkOiB0cnVlIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJDTEVBUl9NRVNTQUdFXCI6XG4gICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlKGFjdGlvbi5kYXRhLmlkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQ0xFQVJfUFJPVklERVJcIjpcbiAgICAgICAgaWYgKGFjdGlvbi5kYXRhLmlkID09PSB0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWVzc2FnZToge30gfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQ0xFQVJfQUxMXCI6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiB7fSB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQVNfUk9VVEVSX1RBUkdFVElOR19VUERBVEVcIjpcbiAgICAgICAgYWN0aW9uLmRhdGEuZm9yRWFjaChpZCA9PiB0aGlzLmNsZWFyTWVzc2FnZShpZCkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0TWVzc2FnZShlbmRwb2ludCkge1xuICAgIC8vIElmIHdlIGFyZSBsb2FkaW5nIGFib3V0OndlbGNvbWUgd2Ugd2FudCB0byB0cmlnZ2VyIHRoZSBvbmJvYXJkaW5nIG1lc3NhZ2VzXG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudCAmJlxuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmID09PSBcImFib3V0OndlbGNvbWVcIlxuICAgICkge1xuICAgICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiVFJJR0dFUlwiLFxuICAgICAgICBkYXRhOiB7IHRyaWdnZXI6IHsgaWQ6IFwiZmlyc3RSdW5cIiB9IH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiTkVXVEFCX01FU1NBR0VfUkVRVUVTVFwiLFxuICAgICAgICBkYXRhOiB7IGVuZHBvaW50IH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBBU1JvdXRlclV0aWxzLmdldFByZXZpZXdFbmRwb2ludCgpO1xuICAgIGlmIChlbmRwb2ludCAmJiBlbmRwb2ludC50aGVtZSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgIGdsb2JhbC53aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiTGlnaHR3ZWlnaHRUaGVtZTpTZXRcIiwge1xuICAgICAgICAgIGRldGFpbDogeyBkYXRhOiBORVdUQUJfREFSS19USEVNRSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICAgIHRoaXMucmVxdWVzdE1lc3NhZ2UoZW5kcG9pbnQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgYXN5bmMgZ2V0TW9uaXRvclVybCh7IHVybCwgZmxvd1JlcXVlc3RQYXJhbXMgPSB7fSB9KSB7XG4gICAgY29uc3QgZmxvd1ZhbHVlcyA9IGF3YWl0IHRoaXMuZmV0Y2hGbG93UGFyYW1zKGZsb3dSZXF1ZXN0UGFyYW1zKTtcblxuICAgIC8vIE5vdGUgdGhhdCBmbG93UGFyYW1zIGFyZSBhY3R1YWxseSBhZGRlZCBkeW5hbWljYWxseSBvbiB0aGUgcGFnZVxuICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICBbXCJkZXZpY2VJZFwiLCBcImZsb3dJZFwiLCBcImZsb3dCZWdpblRpbWVcIl0uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKGtleSBpbiBmbG93VmFsdWVzKSB7XG4gICAgICAgIHVybE9iai5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgZmxvd1ZhbHVlc1trZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB1cmxPYmoudG9TdHJpbmcoKTtcbiAgfVxuXG4gIGFzeW5jIG9uVXNlckFjdGlvbihhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGhhbmRsZWQgbG9jYWxseSBiZWNhdXNlIGl0c1xuICAgICAgY2FzZSByYS5FTkFCTEVfRklSRUZPWF9NT05JVE9SOlxuICAgICAgICBjb25zdCB1cmwgPSBhd2FpdCB0aGlzLmdldE1vbml0b3JVcmwoYWN0aW9uLmRhdGEuYXJncyk7XG4gICAgICAgIEFTUm91dGVyVXRpbHMuZXhlY3V0ZUFjdGlvbih7IHR5cGU6IHJhLk9QRU5fVVJMLCBkYXRhOiB7IGFyZ3M6IHVybCB9IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIEFTUm91dGVyVXRpbHMuZXhlY3V0ZUFjdGlvbihhY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclNuaXBwZXRzKCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoIVNuaXBwZXRzVGVtcGxhdGVzW21lc3NhZ2UudGVtcGxhdGVdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgU25pcHBldENvbXBvbmVudCA9IFNuaXBwZXRzVGVtcGxhdGVzW21lc3NhZ2UudGVtcGxhdGVdO1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5zdGF0ZS5tZXNzYWdlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxJbXByZXNzaW9uc1dyYXBwZXJcbiAgICAgICAgaWQ9XCJORVdUQUJfRk9PVEVSX0JBUlwiXG4gICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUubWVzc2FnZX1cbiAgICAgICAgc2VuZEltcHJlc3Npb249e3RoaXMuc2VuZEltcHJlc3Npb259XG4gICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uT25VcGRhdGU9e3Nob3VsZFNlbmRJbXByZXNzaW9uT25VcGRhdGV9XG4gICAgICAgIC8vIFRoaXMgaGVscHMgd2l0aCB0ZXN0aW5nXG4gICAgICAgIGRvY3VtZW50PXt0aGlzLnByb3BzLmRvY3VtZW50fVxuICAgICAgPlxuICAgICAgICA8TG9jYWxpemF0aW9uUHJvdmlkZXIgYnVuZGxlcz17Z2VuZXJhdGVCdW5kbGVzKGNvbnRlbnQpfT5cbiAgICAgICAgICA8U25pcHBldENvbXBvbmVudFxuICAgICAgICAgICAgey4uLnRoaXMuc3RhdGUubWVzc2FnZX1cbiAgICAgICAgICAgIFVJU3VyZmFjZT1cIk5FV1RBQl9GT09URVJfQkFSXCJcbiAgICAgICAgICAgIG9uQmxvY2s9e3RoaXMub25CbG9ja0J5SWQodGhpcy5zdGF0ZS5tZXNzYWdlLmlkKX1cbiAgICAgICAgICAgIG9uRGlzbWlzcz17dGhpcy5vbkRpc21pc3NCeUlkKHRoaXMuc3RhdGUubWVzc2FnZS5pZCl9XG4gICAgICAgICAgICBvbkFjdGlvbj17dGhpcy5vblVzZXJBY3Rpb259XG4gICAgICAgICAgICBzZW5kQ2xpY2s9e3RoaXMuc2VuZENsaWNrfVxuICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3RoaXMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Mb2NhbGl6YXRpb25Qcm92aWRlcj5cbiAgICAgIDwvSW1wcmVzc2lvbnNXcmFwcGVyPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJQcmV2aWV3QmFubmVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmlwcGV0cy1wcmV2aWV3LWJhbm5lclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+XG4gICAgICAgIDxzcGFuPlByZXZpZXcgUHVycG9zZXMgT25seTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGaXJzdFJ1bigpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKEZJUlNUX1JVTl9URU1QTEFURVMuaW5jbHVkZXMobWVzc2FnZS50ZW1wbGF0ZSkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxJbXByZXNzaW9uc1dyYXBwZXJcbiAgICAgICAgICBpZD1cIkZJUlNUX1JVTlwiXG4gICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5tZXNzYWdlfVxuICAgICAgICAgIHNlbmRJbXByZXNzaW9uPXt0aGlzLnNlbmRJbXByZXNzaW9ufVxuICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uT25VcGRhdGU9e3Nob3VsZFNlbmRJbXByZXNzaW9uT25VcGRhdGV9XG4gICAgICAgICAgLy8gVGhpcyBoZWxwcyB3aXRoIHRlc3RpbmdcbiAgICAgICAgICBkb2N1bWVudD17dGhpcy5wcm9wcy5kb2N1bWVudH1cbiAgICAgICAgPlxuICAgICAgICAgIDxGaXJzdFJ1blxuICAgICAgICAgICAgZG9jdW1lbnQ9e3RoaXMucHJvcHMuZG9jdW1lbnR9XG4gICAgICAgICAgICBpbnRlcnJ1cHRDbGVhcmVkPXt0aGlzLnN0YXRlLmludGVycnVwdENsZWFyZWR9XG4gICAgICAgICAgICBtZXNzYWdlPXttZXNzYWdlfVxuICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3RoaXMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnl9XG4gICAgICAgICAgICBleGVjdXRlQWN0aW9uPXtBU1JvdXRlclV0aWxzLmV4ZWN1dGVBY3Rpb259XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIG9uQmxvY2tCeUlkPXtBU1JvdXRlclV0aWxzLmJsb2NrQnlJZH1cbiAgICAgICAgICAgIG9uRGlzbWlzcz17dGhpcy5vbkRpc21pc3NCeUlkKHRoaXMuc3RhdGUubWVzc2FnZS5pZCl9XG4gICAgICAgICAgICBmeGFFbmRwb2ludD17dGhpcy5wcm9wcy5meGFFbmRwb2ludH1cbiAgICAgICAgICAgIGFwcFVwZGF0ZUNoYW5uZWw9e3RoaXMucHJvcHMuYXBwVXBkYXRlQ2hhbm5lbH1cbiAgICAgICAgICAgIGZldGNoRmxvd1BhcmFtcz17dGhpcy5mZXRjaEZsb3dQYXJhbXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbXByZXNzaW9uc1dyYXBwZXI+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKCFtZXNzYWdlLmlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkUmVuZGVyQmVsb3dTZWFyY2ggPSBURU1QTEFURVNfQkVMT1dfU0VBUkNILmluY2x1ZGVzKFxuICAgICAgbWVzc2FnZS50ZW1wbGF0ZVxuICAgICk7XG4gICAgY29uc3Qgc2hvdWxkUmVuZGVySW5IZWFkZXIgPSBURU1QTEFURVNfQUJPVkVfUEFHRS5pbmNsdWRlcyhcbiAgICAgIG1lc3NhZ2UudGVtcGxhdGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHNob3VsZFJlbmRlckJlbG93U2VhcmNoID8gKFxuICAgICAgLy8gUmVuZGVyIHNwZWNpYWwgYmVsb3cgc2VhcmNoIHNuaXBwZXRzIGluIHBsYWNlO1xuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZWxvdy1zZWFyY2gtc25pcHBldC13cmFwcGVyXCI+XG4gICAgICAgIHt0aGlzLnJlbmRlclNuaXBwZXRzKCl9XG4gICAgICA8L2Rpdj5cbiAgICApIDogKFxuICAgICAgLy8gRm9yIG9uYm9hcmRpbmcsIHJlZ3VsYXIgc25pcHBldHMgZXRjLiB3ZSBzaG91bGQgcmVuZGVyXG4gICAgICAvLyBldmVyeXRoaW5nIGluIG91ciBmb290ZXIgY29udGFpbmVyLlxuICAgICAgUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICA8PlxuICAgICAgICAgIHt0aGlzLnJlbmRlclByZXZpZXdCYW5uZXIoKX1cbiAgICAgICAgICB7dGhpcy5yZW5kZXJGaXJzdFJ1bigpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlclNuaXBwZXRzKCl9XG4gICAgICAgIDwvPixcbiAgICAgICAgc2hvdWxkUmVuZGVySW5IZWFkZXIgPyB0aGlzLmhlYWRlclBvcnRhbCA6IHRoaXMuZm9vdGVyUG9ydGFsXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuXG5BU1JvdXRlclVJU3VyZmFjZS5kZWZhdWx0UHJvcHMgPSB7IGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qIGVzbGludC1lbnYgbW96aWxsYS9mcmFtZS1zY3JpcHQgKi9cblxuaW1wb3J0IHtcbiAgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsXG4gIGFjdGlvblR5cGVzIGFzIGF0LFxuICBhY3Rpb25VdGlscyBhcyBhdSxcbn0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgYXBwbHlNaWRkbGV3YXJlLCBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSBcInJlZHV4XCI7XG5cbmV4cG9ydCBjb25zdCBNRVJHRV9TVE9SRV9BQ1RJT04gPSBcIk5FV19UQUJfSU5JVElBTF9TVEFURVwiO1xuZXhwb3J0IGNvbnN0IE9VVEdPSU5HX01FU1NBR0VfTkFNRSA9IFwiQWN0aXZpdHlTdHJlYW06Q29udGVudFRvTWFpblwiO1xuZXhwb3J0IGNvbnN0IElOQ09NSU5HX01FU1NBR0VfTkFNRSA9IFwiQWN0aXZpdHlTdHJlYW06TWFpblRvQ29udGVudFwiO1xuZXhwb3J0IGNvbnN0IEVBUkxZX1FVRVVFRF9BQ1RJT05TID0gW2F0LlNBVkVfU0VTU0lPTl9QRVJGX0RBVEFdO1xuXG4vKipcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSByZWR1Y2VyIHRoYXQsIG9uIE1FUkdFX1NUT1JFIGFjdGlvbixcbiAqIHdpbGwgcmV0dXJuIHRoZSBhY3Rpb24uZGF0YSBvYmplY3QgbWVyZ2VkIGludG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICpcbiAqIEZvciBhbGwgb3RoZXIgYWN0aW9ucywgaXQgbWVyZWx5IGNhbGxzIG1haW5SZWR1Y2VyLlxuICpcbiAqIEJlY2F1c2Ugd2Ugd2FudCB0aGlzIHRvIG1lcmdlIHRoZSBlbnRpcmUgc3RhdGUgb2JqZWN0LCBpdCdzIHdyaXR0ZW4gYXMgYVxuICogaGlnaGVyIG9yZGVyIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHRoZSBtYWluIHJlZHVjZXIgKGl0c2VsZiBvZnRlbiBhIGNhbGwgdG9cbiAqIGNvbWJpbmVSZWR1Y2VycykgYXMgYSBwYXJhbWV0ZXIuXG4gKlxuICogQHBhcmFtICB7ZnVuY3Rpb259IG1haW5SZWR1Y2VyIHJlZHVjZXIgdG8gY2FsbCBpZiBhY3Rpb24gIT0gTUVSR0VfU1RPUkVfQUNUSU9OXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gICAgICAgICAgICAgYSByZWR1Y2VyIHRoYXQsIG9uIE1FUkdFX1NUT1JFX0FDVElPTiBhY3Rpb24sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsbCByZXR1cm4gdGhlIGFjdGlvbi5kYXRhIG9iamVjdCBtZXJnZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRvIHRoZSBwcmV2aW91cyBzdGF0ZSwgYW5kIHRoZSByZXN1bHRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiBjYWxsaW5nIG1haW5SZWR1Y2VyIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VTdGF0ZVJlZHVjZXIobWFpblJlZHVjZXIpIHtcbiAgcmV0dXJuIChwcmV2U3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gTUVSR0VfU1RPUkVfQUNUSU9OKSB7XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIC4uLmFjdGlvbi5kYXRhIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG1haW5SZWR1Y2VyKHByZXZTdGF0ZSwgYWN0aW9uKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBtZXNzYWdlTWlkZGxld2FyZSAtIE1pZGRsZXdhcmUgdGhhdCBsb29rcyBmb3IgU2VudFRvTWFpbiB0eXBlIGFjdGlvbnMsIGFuZCBzZW5kcyB0aGVtIGlmIG5lY2Vzc2FyeVxuICovXG5jb25zdCBtZXNzYWdlTWlkZGxld2FyZSA9IHN0b3JlID0+IG5leHQgPT4gYWN0aW9uID0+IHtcbiAgY29uc3Qgc2tpcExvY2FsID0gYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEuc2tpcExvY2FsO1xuICBpZiAoYXUuaXNTZW5kVG9NYWluKGFjdGlvbikpIHtcbiAgICBSUE1TZW5kQXN5bmNNZXNzYWdlKE9VVEdPSU5HX01FU1NBR0VfTkFNRSwgYWN0aW9uKTtcbiAgfVxuICBpZiAoIXNraXBMb2NhbCkge1xuICAgIG5leHQoYWN0aW9uKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJlaHlkcmF0aW9uTWlkZGxld2FyZSA9IHN0b3JlID0+IG5leHQgPT4gYWN0aW9uID0+IHtcbiAgaWYgKHN0b3JlLl9kaWRSZWh5ZHJhdGUpIHtcbiAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICB9XG5cbiAgY29uc3QgaXNNZXJnZVN0b3JlQWN0aW9uID0gYWN0aW9uLnR5cGUgPT09IE1FUkdFX1NUT1JFX0FDVElPTjtcbiAgY29uc3QgaXNSZWh5ZHJhdGlvblJlcXVlc3QgPSBhY3Rpb24udHlwZSA9PT0gYXQuTkVXX1RBQl9TVEFURV9SRVFVRVNUO1xuXG4gIGlmIChpc1JlaHlkcmF0aW9uUmVxdWVzdCkge1xuICAgIHN0b3JlLl9kaWRSZXF1ZXN0SW5pdGlhbFN0YXRlID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICB9XG5cbiAgaWYgKGlzTWVyZ2VTdG9yZUFjdGlvbikge1xuICAgIHN0b3JlLl9kaWRSZWh5ZHJhdGUgPSB0cnVlO1xuICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gIH1cblxuICAvLyBJZiBpbml0IGhhcHBlbmVkIGFmdGVyIG91ciByZXF1ZXN0IHdhcyBtYWRlLCB3ZSBuZWVkIHRvIHJlLXJlcXVlc3RcbiAgaWYgKHN0b3JlLl9kaWRSZXF1ZXN0SW5pdGlhbFN0YXRlICYmIGFjdGlvbi50eXBlID09PSBhdC5JTklUKSB7XG4gICAgcmV0dXJuIG5leHQoYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVCB9KSk7XG4gIH1cblxuICBpZiAoXG4gICAgYXUuaXNCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uKSB8fFxuICAgIGF1LmlzU2VuZFRvT25lQ29udGVudChhY3Rpb24pIHx8XG4gICAgYXUuaXNTZW5kVG9QcmVsb2FkZWQoYWN0aW9uKVxuICApIHtcbiAgICAvLyBOb3RlIHRoYXQgYWN0aW9ucyByZWNlaXZlZCBiZWZvcmUgZGlkUmVoeWRyYXRlIHdpbGwgbm90IGJlIGRpc3BhdGNoZWRcbiAgICAvLyBiZWNhdXNlIHRoaXMgY291bGQgbmVnYXRpdmVseSBhZmZlY3QgcHJlbG9hZGluZyBhbmQgdGhlIHRoZSBzdGF0ZVxuICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgcmVoeWRyYXRpb24gYW55d2F5LlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbn07XG5cbi8qKlxuICogVGhpcyBtaWRkbGV3YXJlIHF1ZXVlcyB1cCBhbGwgdGhlIEVBUkxZX1FVRVVFRF9BQ1RJT05TIHVudGlsIGl0IHJlY2VpdmVzXG4gKiB0aGUgZmlyc3QgYWN0aW9uIGZyb20gbWFpbi4gVGhpcyBpcyB1c2VmdWwgZm9yIHRob3NlIGFjdGlvbnMgZm9yIG1haW4gd2hpY2hcbiAqIHJlcXVpcmUgaGlnaGVyIHJlbGlhYmlsaXR5LCBpLmUuIHRoZSBhY3Rpb24gd2lsbCBub3QgYmUgbG9zdCBpbiB0aGUgY2FzZVxuICogdGhhdCBpdCBnZXRzIHNlbnQgYmVmb3JlIHRoZSBtYWluIGlzIHJlYWR5IHRvIHJlY2VpdmUgaXQuIENvbnZlcnNlbHksIGFueVxuICogYWN0aW9ucyBhbGxvd2VkIGVhcmx5IGFyZSBhY2NlcHRlZCB0byBiZSBpZ25vcmFibGUgb3IgcmUtc2VuZGFibGUuXG4gKi9cbmV4cG9ydCBjb25zdCBxdWV1ZUVhcmx5TWVzc2FnZU1pZGRsZXdhcmUgPSBzdG9yZSA9PiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gIGlmIChzdG9yZS5fcmVjZWl2ZWRGcm9tTWFpbikge1xuICAgIG5leHQoYWN0aW9uKTtcbiAgfSBlbHNlIGlmIChhdS5pc0Zyb21NYWluKGFjdGlvbikpIHtcbiAgICBuZXh0KGFjdGlvbik7XG4gICAgc3RvcmUuX3JlY2VpdmVkRnJvbU1haW4gPSB0cnVlO1xuICAgIC8vIFNlbmRpbmcgb3V0IGFsbCB0aGUgZWFybHkgYWN0aW9ucyBhcyBtYWluIGlzIHJlYWR5IG5vd1xuICAgIGlmIChzdG9yZS5fZWFybHlBY3Rpb25RdWV1ZSkge1xuICAgICAgc3RvcmUuX2Vhcmx5QWN0aW9uUXVldWUuZm9yRWFjaChuZXh0KTtcbiAgICAgIHN0b3JlLl9lYXJseUFjdGlvblF1ZXVlID0gW107XG4gICAgfVxuICB9IGVsc2UgaWYgKEVBUkxZX1FVRVVFRF9BQ1RJT05TLmluY2x1ZGVzKGFjdGlvbi50eXBlKSkge1xuICAgIHN0b3JlLl9lYXJseUFjdGlvblF1ZXVlID0gc3RvcmUuX2Vhcmx5QWN0aW9uUXVldWUgfHwgW107XG4gICAgc3RvcmUuX2Vhcmx5QWN0aW9uUXVldWUucHVzaChhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIExldCBhbnkgb3RoZXIgdHlwZSBvZiBhY3Rpb24gZ28gdGhyb3VnaFxuICAgIG5leHQoYWN0aW9uKTtcbiAgfVxufTtcblxuLyoqXG4gKiBpbml0U3RvcmUgLSBDcmVhdGUgYSBzdG9yZSBhbmQgbGlzdGVuIGZvciBpbmNvbWluZyBhY3Rpb25zXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3QgY29udGFpbmluZyBSZWR1eCByZWR1Y2Vyc1xuICogQHBhcmFtICB7b2JqZWN0fSBpbnRpYWxTdGF0ZSAob3B0aW9uYWwpIFRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBzdG9yZSwgaWYgZGVzaXJlZFxuICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgICBBIHJlZHV4IHN0b3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RvcmUocmVkdWNlcnMpIHtcbiAgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICBtZXJnZVN0YXRlUmVkdWNlcihjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpKSxcbiAgICBnbG9iYWwuUlBNQWRkTWVzc2FnZUxpc3RlbmVyICYmXG4gICAgICBhcHBseU1pZGRsZXdhcmUoXG4gICAgICAgIHJlaHlkcmF0aW9uTWlkZGxld2FyZSxcbiAgICAgICAgcXVldWVFYXJseU1lc3NhZ2VNaWRkbGV3YXJlLFxuICAgICAgICBtZXNzYWdlTWlkZGxld2FyZVxuICAgICAgKVxuICApO1xuXG4gIHN0b3JlLl9kaWRSZWh5ZHJhdGUgPSBmYWxzZTtcbiAgc3RvcmUuX2RpZFJlcXVlc3RJbml0aWFsU3RhdGUgPSBmYWxzZTtcblxuICBpZiAoZ2xvYmFsLlJQTUFkZE1lc3NhZ2VMaXN0ZW5lcikge1xuICAgIGdsb2JhbC5SUE1BZGRNZXNzYWdlTGlzdGVuZXIoSU5DT01JTkdfTUVTU0FHRV9OQU1FLCBtc2cgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gobXNnLmRhdGEpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNvbnRlbnQgbXNnOlwiLCBtc2csIFwiRGlzcGF0Y2ggZXJyb3I6IFwiLCBleCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBkdW1wKFxuICAgICAgICAgIGBDb250ZW50IG1zZzogJHtKU09OLnN0cmluZ2lmeShtc2cpfVxcbkRpc3BhdGNoIGVycm9yOiAke2V4fVxcbiR7XG4gICAgICAgICAgICBleC5zdGFja1xuICAgICAgICAgIH1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmU7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlZHV4OyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vKipcbiAqIENvbXBvbmVudCB3cmFwcGVyIHVzZWQgdG8gc2VuZCB0ZWxlbWV0cnkgcGluZ3Mgb24gZXZlcnkgaW1wcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEltcHJlc3Npb25zV3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBUaGlzIHNlbmRzIGFuIGV2ZW50IHdoZW4gYSB1c2VyIHNlZXMgYSBzZXQgb2YgbmV3IGNvbnRlbnQuIElmIGNvbnRlbnRcbiAgLy8gY2hhbmdlcyB3aGlsZSB0aGUgcGFnZSBpcyBoaWRkZW4gKGkuZS4gcHJlbG9hZGVkIG9yIG9uIGEgaGlkZGVuIHRhYiksXG4gIC8vIG9ubHkgc2VuZCB0aGUgZXZlbnQgaWYgdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlIGFnYWluLlxuICBzZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRJbXByZXNzaW9uKHsgaWQ6IHRoaXMucHJvcHMuaWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlLCBzZW5kIHRoZSBpbXByZXNzaW9uIHN0YXRzIHBpbmcgaWYgdGhlIHNlY3Rpb24gaXNuJ3QgY29sbGFwc2VkLlxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLnNlbmRJbXByZXNzaW9uKHsgaWQ6IHRoaXMucHJvcHMuaWQgfSk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZW5kT25Nb3VudCkge1xuICAgICAgdGhpcy5zZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25PblVwZGF0ZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMpKSB7XG4gICAgICB0aGlzLnNlbmRJbXByZXNzaW9uT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuXG5JbXByZXNzaW9uc1dyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxuICBzZW5kT25Nb3VudDogdHJ1ZSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsIm1vZHVsZS5leHBvcnRzID0gUHJvcFR5cGVzOyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBJU19ORVdUQUIgPVxuICBnbG9iYWwuZG9jdW1lbnQgJiYgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50VVJJID09PSBcImFib3V0Om5ld3RhYlwiO1xuZXhwb3J0IGNvbnN0IE5FV1RBQl9EQVJLX1RIRU1FID0ge1xuICBudHBfYmFja2dyb3VuZDoge1xuICAgIHI6IDQyLFxuICAgIGc6IDQyLFxuICAgIGI6IDQ2LFxuICAgIGE6IDEsXG4gIH0sXG4gIG50cF90ZXh0OiB7XG4gICAgcjogMjQ5LFxuICAgIGc6IDI0OSxcbiAgICBiOiAyNTAsXG4gICAgYTogMSxcbiAgfSxcbiAgc2lkZWJhcjoge1xuICAgIHI6IDU2LFxuICAgIGc6IDU2LFxuICAgIGI6IDYxLFxuICAgIGE6IDEsXG4gIH0sXG4gIHNpZGViYXJfdGV4dDoge1xuICAgIHI6IDI0OSxcbiAgICBnOiAyNDksXG4gICAgYjogMjUwLFxuICAgIGE6IDEsXG4gIH0sXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTsiLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBMb2NhbGl6ZWQgfSBmcm9tIFwiZmx1ZW50LXJlYWN0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSSUNIX1RFWFRfS0VZUyB9IGZyb20gXCIuLi8uLi9yaWNoLXRleHQtc3RyaW5nc1wiO1xuaW1wb3J0IHsgc2FmZVVSSSB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZS11dGlsc1wiO1xuXG4vLyBFbGVtZW50cyBhbGxvd2VkIGluIHNuaXBwZXQgY29udGVudFxuY29uc3QgQUxMT1dFRF9UQUdTID0ge1xuICBiOiA8YiAvPixcbiAgaTogPGkgLz4sXG4gIHU6IDx1IC8+LFxuICBzdHJvbmc6IDxzdHJvbmcgLz4sXG4gIGVtOiA8ZW0gLz4sXG4gIGJyOiA8YnIgLz4sXG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBvYmplY3QgKHRhZyBuYW1lOiB7dXJsfSkgaW50byAodGFnIG5hbWU6IGFuY2hvcikgd2hlcmUgdGhlIHVybFxuICogaXMgdXNlZCBhcyBocmVmLCBpbiBvcmRlciB0byByZW5kZXIgbGlua3MgaW5zaWRlIGEgRmx1ZW50LkxvY2FsaXplZCBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGlua3MoXG4gIGxpbmtzLFxuICBzZW5kQ2xpY2ssXG4gIGRvTm90QXV0b0Jsb2NrLFxuICBvcGVuTmV3V2luZG93ID0gZmFsc2Vcbikge1xuICBpZiAobGlua3MpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobGlua3MpLnJlZHVjZSgoYWNjLCBsaW5rVGFnKSA9PiB7XG4gICAgICBjb25zdCB7IGFjdGlvbiB9ID0gbGlua3NbbGlua1RhZ107XG4gICAgICAvLyBTZXR0aW5nIHRoZSB2YWx1ZSB0byBmYWxzZSB3aWxsIG5vdCBpbmNsdWRlIHRoZSBhdHRyaWJ1dGUgaW4gdGhlIGFuY2hvclxuICAgICAgY29uc3QgdXJsID0gYWN0aW9uID8gZmFsc2UgOiBzYWZlVVJJKGxpbmtzW2xpbmtUYWddLnVybCk7XG5cbiAgICAgIGFjY1tsaW5rVGFnXSA9IChcbiAgICAgICAgLy8gZXNsaW50IHdhcyBnZXR0aW5nIGEgZmFsc2UgcG9zaXRpdmUgY2F1c2VkIGJ5IHRoZSBkeW5hbWljIGluamVjdGlvblxuICAgICAgICAvLyBvZiBjb250ZW50LlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17dXJsfVxuICAgICAgICAgIHRhcmdldD17b3Blbk5ld1dpbmRvdyA/IFwiX2JsYW5rXCIgOiBcIlwifVxuICAgICAgICAgIGRhdGEtbWV0cmljPXtsaW5rc1tsaW5rVGFnXS5tZXRyaWN9XG4gICAgICAgICAgZGF0YS1hY3Rpb249e2FjdGlvbn1cbiAgICAgICAgICBkYXRhLWFyZ3M9e2xpbmtzW2xpbmtUYWddLmFyZ3N9XG4gICAgICAgICAgZGF0YS1kb19ub3RfYXV0b2Jsb2NrPXtkb05vdEF1dG9CbG9ja31cbiAgICAgICAgICBvbkNsaWNrPXtzZW5kQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBNZXNzYWdlIHdyYXBwZXIgdXNlZCB0byBzYW5pdGl6ZSBtYXJrdXAgYW5kIHJlbmRlciBIVE1MLlxuICovXG5leHBvcnQgZnVuY3Rpb24gUmljaFRleHQocHJvcHMpIHtcbiAgaWYgKCFSSUNIX1RFWFRfS0VZUy5pbmNsdWRlcyhwcm9wcy5sb2NhbGl6YXRpb25faWQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEFTUm91dGVyOiAke1xuICAgICAgICBwcm9wcy5sb2NhbGl6YXRpb25faWRcbiAgICAgIH0gaXMgbm90IGEgdmFsaWQgcmljaCB0ZXh0IHByb3BlcnR5LiBJZiB5b3Ugd2FudCBpdCB0byBiZSBwcm9jZXNzZWQsIHlvdSBuZWVkIHRvIGFkZCBpdCB0byBhc3JvdXRlci9yaWNoLXRleHQtc3RyaW5ncy5qc2BcbiAgICApO1xuICB9XG4gIHJldHVybiAoXG4gICAgPExvY2FsaXplZFxuICAgICAgaWQ9e3Byb3BzLmxvY2FsaXphdGlvbl9pZH1cbiAgICAgIHsuLi5BTExPV0VEX1RBR1N9XG4gICAgICB7Li4ucHJvcHMuY3VzdG9tRWxlbWVudHN9XG4gICAgICB7Li4uY29udmVydExpbmtzKFxuICAgICAgICBwcm9wcy5saW5rcyxcbiAgICAgICAgcHJvcHMuc2VuZENsaWNrLFxuICAgICAgICBwcm9wcy5kb05vdEF1dG9CbG9jayxcbiAgICAgICAgcHJvcHMub3Blbk5ld1dpbmRvd1xuICAgICAgKX1cbiAgICA+XG4gICAgICA8c3Bhbj57cHJvcHMudGV4dH08L3NwYW4+XG4gICAgPC9Mb2NhbGl6ZWQ+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2FmZVVSSSh1cmwpIHtcbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCB7IHByb3RvY29sIH0gPSBuZXcgVVJMKHVybCk7XG4gIGNvbnN0IGlzQWxsb3dlZCA9IFtcbiAgICBcImh0dHA6XCIsXG4gICAgXCJodHRwczpcIixcbiAgICBcImRhdGE6XCIsXG4gICAgXCJyZXNvdXJjZTpcIixcbiAgICBcImNocm9tZTpcIixcbiAgXS5pbmNsdWRlcyhwcm90b2NvbCk7XG4gIGlmICghaXNBbGxvd2VkKSB7XG4gICAgY29uc29sZS53YXJuKGBUaGUgcHJvdG9jb2wgJHtwcm90b2NvbH0gaXMgbm90IGFsbG93ZWQgZm9yIHRlbXBsYXRlIFVSTHMuYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG4gIHJldHVybiBpc0FsbG93ZWQgPyB1cmwgOiBcIlwiO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBNb2RhbE92ZXJsYXlXcmFwcGVyIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvTW9kYWxPdmVybGF5L01vZGFsT3ZlcmxheVwiO1xuaW1wb3J0IHsgRnhBU2lnbnVwRm9ybSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0Z4QVNpZ251cEZvcm0vRnhBU2lnbnVwRm9ybVwiO1xuaW1wb3J0IHsgYWRkVXRtUGFyYW1zIH0gZnJvbSBcIi4uL0ZpcnN0UnVuL2FkZFV0bVBhcmFtc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBGcm9tIHJlc291cmNlOi8vZGV2dG9vbHMvY2xpZW50L3NoYXJlZC9mb2N1cy5qc1xuY29uc3QgRk9DVVNBQkxFX1NFTEVDVE9SID0gW1xuICBcImFbaHJlZl06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcbiAgXCJidXR0b246bm90KFtkaXNhYmxlZF0pOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCIsXG4gIFwiaWZyYW1lOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCIsXG4gIFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCIsXG4gIFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PSctMSddKVwiLFxuICBcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PSctMSddKVwiLFxuICBcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcbl0uam9pbihcIiwgXCIpO1xuXG5leHBvcnQgY2xhc3MgVHJhaWxoZWFkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuY2xvc2VNb2RhbCA9IHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TdGFydEJsdXIgPSB0aGlzLm9uU3RhcnRCbHVyLmJpbmQodGhpcyk7XG4gIH1cblxuICBnZXQgZGlhbG9nKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhaWxoZWFkRGlhbG9nXCIpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gV2UgbmVlZCB0byByZW1vdmUgaGlkZS1tYWluIHNpbmNlIHdlIHNob3VsZCBzaG93IGl0IHVuZGVybmVhdGggZXZlcnl0aGluZyB0aGF0IGhhcyByZW5kZXJlZFxuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS1tYWluXCIpO1xuXG4gICAgLy8gVGhlIHJlc3Qgb2YgdGhlIHBhZ2UgaXMgXCJoaWRkZW5cIiB0byBzY3JlZW4gcmVhZGVycyB3aGVuIHRoZSBtb2RhbCBpcyBvcGVuXG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKVxuICAgICAgLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgfVxuXG4gIG9uU3RhcnRCbHVyKGV2ZW50KSB7XG4gICAgLy8gTWFrZSBzdXJlIGZvY3VzIHN0YXlzIHdpdGhpbiB0aGUgZGlhbG9nIHdoZW4gdGFiYmluZyBmcm9tIHRoZSBidXR0b25cbiAgICBjb25zdCB7IGRpYWxvZyB9ID0gdGhpcztcbiAgICBpZiAoXG4gICAgICBldmVudC5yZWxhdGVkVGFyZ2V0ICYmXG4gICAgICAhKFxuICAgICAgICBkaWFsb2cuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZXZlbnQucmVsYXRlZFRhcmdldCkgJlxuICAgICAgICBkaWFsb2cuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZXG4gICAgICApXG4gICAgKSB7XG4gICAgICBkaWFsb2cucXVlcnlTZWxlY3RvcihGT0NVU0FCTEVfU0VMRUNUT1IpLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgY2xvc2VNb2RhbChldikge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmNsb3NlTW9kYWwpO1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwid2VsY29tZVwiKTtcbiAgICB0aGlzLnByb3BzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtcbiAgICB0aGlzLnByb3BzLm9uTmV4dFNjZW5lKCk7XG5cbiAgICAvLyBJZiBjbG9zZU1vZGFsKCkgd2FzIHRyaWdnZXJlZCBieSBhIHZpc2liaWxpdHljaGFuZ2UgZXZlbnQsIHRoZSB1c2VyIGFjdHVhbGx5XG4gICAgLy8gc3VibWl0dGVkIHRoZSBlbWFpbCBmb3JtIHNvIHdlIGRvbid0IHNlbmQgYSBTS0lQUEVEX1NJR05JTiBwaW5nLlxuICAgIGlmICghZXYgfHwgZXYudHlwZSAhPT0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCIpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIlNLSVBQRURfU0lHTklOXCIsIC4uLnRoaXMuX2dldEZvcm1JbmZvKCkgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQnVnIDExOTA4ODIgLSBGb2N1cyBpbiBhIGRpc2FwcGVhcmluZyBkaWFsb2cgY29uZnVzZXMgc2NyZWVuIHJlYWRlcnNcbiAgICB0aGlzLnByb3BzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydCB0byB0ZWxlbWV0cnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZm9ybSBzdWJtaXNzaW9uLlxuICAgKi9cbiAgX2dldEZvcm1JbmZvKCkge1xuICAgIGNvbnN0IHZhbHVlID0geyBoYXNfZmxvd19wYXJhbXM6ICEhdGhpcy5wcm9wcy5mbG93UGFyYW1zLmZsb3dJZC5sZW5ndGggfTtcbiAgICByZXR1cm4geyB2YWx1ZSB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBVVE1UZXJtIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGNvbnRlbnQgfSA9IHByb3BzLm1lc3NhZ2U7XG4gICAgY29uc3QgaW5uZXJDbGFzc05hbWUgPSBbXCJ0cmFpbGhlYWRcIiwgY29udGVudCAmJiBjb250ZW50LmNsYXNzTmFtZV1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbE92ZXJsYXlXcmFwcGVyXG4gICAgICAgIGlubmVyQ2xhc3NOYW1lPXtpbm5lckNsYXNzTmFtZX1cbiAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxuICAgICAgICBpZD1cInRyYWlsaGVhZERpYWxvZ1wiXG4gICAgICAgIGhlYWRlcklkPVwidHJhaWxoZWFkSGVhZGVyXCJcbiAgICAgICAgaGFzRGlzbWlzc0ljb249e3RydWV9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJhaWxoZWFkSW5uZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWlsaGVhZENvbnRlbnRcIj5cbiAgICAgICAgICAgIDxoMSBkYXRhLWwxMG4taWQ9e2NvbnRlbnQudGl0bGUuc3RyaW5nX2lkfSBpZD1cInRyYWlsaGVhZEhlYWRlclwiIC8+XG4gICAgICAgICAgICB7Y29udGVudC5zdWJ0aXRsZSAmJiAoXG4gICAgICAgICAgICAgIDxwIGRhdGEtbDEwbi1pZD17Y29udGVudC5zdWJ0aXRsZS5zdHJpbmdfaWR9IC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRyYWlsaGVhZEJlbmVmaXRzXCI+XG4gICAgICAgICAgICAgIHtjb250ZW50LmJlbmVmaXRzLm1hcChpdGVtID0+IChcbiAgICAgICAgICAgICAgICA8bGkga2V5PXtpdGVtLmlkfSBjbGFzc05hbWU9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD17aXRlbS50aXRsZS5zdHJpbmdfaWR9IC8+XG4gICAgICAgICAgICAgICAgICA8cCBkYXRhLWwxMG4taWQ9e2l0ZW0udGV4dC5zdHJpbmdfaWR9IC8+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJhaWxoZWFkTGVhcm5cIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e2NvbnRlbnQubGVhcm4udGV4dC5zdHJpbmdfaWR9XG4gICAgICAgICAgICAgIGhyZWY9e2FkZFV0bVBhcmFtcyhjb250ZW50LmxlYXJuLnVybCwgVVRNVGVybSl9XG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWlsaGVhZC1qb2luLWZvcm1cIj5cbiAgICAgICAgICAgIDxGeEFTaWdudXBGb3JtXG4gICAgICAgICAgICAgIGRvY3VtZW50PXt0aGlzLnByb3BzLmRvY3VtZW50fVxuICAgICAgICAgICAgICBjb250ZW50PXtjb250ZW50fVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgZnhhRW5kcG9pbnQ9e3RoaXMucHJvcHMuZnhhRW5kcG9pbnR9XG4gICAgICAgICAgICAgIFVUTVRlcm09e1VUTVRlcm19XG4gICAgICAgICAgICAgIGZsb3dQYXJhbXM9e3RoaXMucHJvcHMuZmxvd1BhcmFtc31cbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cInRyYWlsaGVhZFN0YXJ0XCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9e2NvbnRlbnQuc2tpcEJ1dHRvbi5zdHJpbmdfaWR9XG4gICAgICAgICAgb25CbHVyPXt0aGlzLm9uU3RhcnRCbHVyfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH1cbiAgICAgICAgLz5cbiAgICAgIDwvTW9kYWxPdmVybGF5V3JhcHBlcj5cbiAgICApO1xuICB9XG59XG5cblRyYWlsaGVhZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGZsb3dQYXJhbXM6IHsgZGV2aWNlSWQ6IFwiXCIsIGZsb3dJZDogXCJcIiwgZmxvd0JlZ2luVGltZTogXCJcIiB9LFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIE1vZGFsT3ZlcmxheVdyYXBwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gVGhlIGludGVuZGVkIGJlaGF2aW91ciBpcyB0byBsaXN0ZW4gZm9yIGFuIGVzY2FwZSBrZXlcbiAgLy8gYnV0IG5vdCBmb3IgYSBjbGljazsgc2VlIEJ1ZyAxNTgyMjQyXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbG9zZShldmVudCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibW9kYWwtb3BlblwiKTtcbiAgICB0aGlzLmhlYWRlciA9IHRoaXMucHJvcHMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcImhlYWRlci1hc3JvdXRlci1jb250YWluZXJcIlxuICAgICk7XG5cbiAgICBpZiAodGhpcy5oZWFkZXIpIHtcbiAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1zY3JvbGxcIik7XG4gICAgICB0aGlzLnByb3BzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKS5jbGFzc0xpc3QuYWRkKFwibW9kYWwtaGVpZ2h0XCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWwtb3BlblwiKTtcblxuICAgIGlmICh0aGlzLmhlYWRlcikge1xuICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLXNjcm9sbFwiKTtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKVxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLWhlaWdodFwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBsZXQgY2xhc3NOYW1lID0gcHJvcHMudW5zdHlsZWQgPyBcIlwiIDogXCJtb2RhbE92ZXJsYXlJbm5lciBhY3RpdmVcIjtcbiAgICBpZiAocHJvcHMuaW5uZXJDbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBgICR7cHJvcHMuaW5uZXJDbGFzc05hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsT3ZlcmxheU91dGVyIGFjdGl2ZVwiXG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgLz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT17cHJvcHMuaGVhZGVySWR9XG4gICAgICAgICAgaWQ9e3Byb3BzLmlkfVxuICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLmhhc0Rpc21pc3NJY29uICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRpc21pc3NcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsb3NlfVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJvbmJvYXJkaW5nLWNhcmRzLWRpc21pc3NcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblxuTW9kYWxPdmVybGF5V3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7IGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfTtcblxuZXhwb3J0IGNsYXNzIE1vZGFsT3ZlcmxheSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0aXRsZSwgYnV0dG9uX2xhYmVsIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWxPdmVybGF5V3JhcHBlciBvbkNsb3NlPXt0aGlzLnByb3BzLm9uRGlzbWlzc0J1bmRsZX0+XG4gICAgICAgIDxoMj4ge3RpdGxlfSA8L2gyPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24gcHJpbWFyeSBtb2RhbEJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uRGlzbWlzc0J1bmRsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICB7YnV0dG9uX2xhYmVsfXtcIiBcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L01vZGFsT3ZlcmxheVdyYXBwZXI+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQge1xuICBhZGRVdG1QYXJhbXMsXG4gIEJBU0VfUEFSQU1TLFxufSBmcm9tIFwiLi4vLi4vdGVtcGxhdGVzL0ZpcnN0UnVuL2FkZFV0bVBhcmFtc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRnhBU2lnbnVwRm9ybSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uU3VibWl0ID0gdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25JbnB1dENoYW5nZSA9IHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25JbnB1dEludmFsaWQgPSB0aGlzLm9uSW5wdXRJbnZhbGlkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTaWduSW4gPSB0aGlzLmhhbmRsZVNpZ25Jbi5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVtYWlsSW5wdXQ6IFwiXCIsXG4gICAgfTtcbiAgfVxuXG4gIGdldCBlbWFpbCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZnhhU2lnbnVwRm9ybVwiKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFtuYW1lPWVtYWlsXVwiKTtcbiAgfVxuXG4gIG9uU3VibWl0KGV2ZW50KSB7XG4gICAgbGV0IHVzZXJFdmVudCA9IFwiU1VCTUlUX0VNQUlMXCI7XG4gICAgY29uc3QgeyBlbWFpbCB9ID0gZXZlbnQudGFyZ2V0LmVsZW1lbnRzO1xuICAgIGlmIChlbWFpbC5kaXNhYmxlZCkge1xuICAgICAgdXNlckV2ZW50ID0gXCJTVUJNSVRfU0lHTklOXCI7XG4gICAgfSBlbHNlIGlmICghZW1haWwudmFsdWUubGVuZ3RoKSB7XG4gICAgICBlbWFpbC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICBlbWFpbC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlcG9ydCB0byB0ZWxlbWV0cnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZm9ybSBzdWJtaXNzaW9uLlxuICAgIGNvbnN0IHZhbHVlID0geyBoYXNfZmxvd19wYXJhbXM6ICEhdGhpcy5wcm9wcy5mbG93UGFyYW1zLmZsb3dJZC5sZW5ndGggfTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiB1c2VyRXZlbnQsIHZhbHVlIH0pKTtcblxuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLnByb3BzLm9uQ2xvc2UpO1xuICB9XG5cbiAgaGFuZGxlU2lnbkluKGV2ZW50KSB7XG4gICAgLy8gU2V0IGRpc2FibGVkIHRvIHByZXZlbnQgZW1haWwgZnJvbSBhcHBlYXJpbmcgaW4gdXJsIHJlc3VsdGluZyBpbiB0aGUgd3JvbmcgcGFnZVxuICAgIHRoaXMuZW1haWwuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gU3RhcnQgd2l0aCBmb2N1cyBpbiB0aGUgZW1haWwgaW5wdXQgYm94XG4gICAgaWYgKHRoaXMuZW1haWwpIHtcbiAgICAgIHRoaXMuZW1haWwuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBvbklucHV0Q2hhbmdlKGUpIHtcbiAgICBsZXQgZXJyb3IgPSBlLnRhcmdldC5wcmV2aW91c1NpYmxpbmc7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVtYWlsSW5wdXQ6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgIGVycm9yLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWRcIik7XG4gIH1cblxuICBvbklucHV0SW52YWxpZChlKSB7XG4gICAgbGV0IGVycm9yID0gZS50YXJnZXQucHJldmlvdXNTaWJsaW5nO1xuICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImludmFsaWRcIik7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBPdmVycmlkZSBidWlsdC1pbiBmb3JtIHZhbGlkYXRpb24gcG9wdXBcbiAgICBlLnRhcmdldC5mb2N1cygpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY29udGVudCwgVVRNVGVybSB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBpZD1cImZ4YVNpZ251cEZvcm1cIlxuICAgICAgICByb2xlPVwiZ3JvdXBcIlxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJqb2luRm9ybUhlYWRlclwiXG4gICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJqb2luRm9ybUJvZHlcIlxuICAgICAgICBjbGFzc05hbWU9XCJmeGFTaWdudXBGb3JtXCJcbiAgICAgID5cbiAgICAgICAgPGgzIGlkPVwiam9pbkZvcm1IZWFkZXJcIiBkYXRhLWwxMG4taWQ9e2NvbnRlbnQuZm9ybS50aXRsZS5zdHJpbmdfaWR9IC8+XG4gICAgICAgIDxwIGlkPVwiam9pbkZvcm1Cb2R5XCIgZGF0YS1sMTBuLWlkPXtjb250ZW50LmZvcm0udGV4dC5zdHJpbmdfaWR9IC8+XG4gICAgICAgIDxmb3JtXG4gICAgICAgICAgbWV0aG9kPVwiZ2V0XCJcbiAgICAgICAgICBhY3Rpb249e3RoaXMucHJvcHMuZnhhRW5kcG9pbnR9XG4gICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH1cbiAgICAgICAgPlxuICAgICAgICAgIDxpbnB1dCBuYW1lPVwiYWN0aW9uXCIgdHlwZT1cImhpZGRlblwiIHZhbHVlPVwiZW1haWxcIiAvPlxuICAgICAgICAgIDxpbnB1dCBuYW1lPVwiY29udGV4dFwiIHR5cGU9XCJoaWRkZW5cIiB2YWx1ZT1cImZ4X2Rlc2t0b3BfdjNcIiAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgbmFtZT1cImVudHJ5cG9pbnRcIlxuICAgICAgICAgICAgdHlwZT1cImhpZGRlblwiXG4gICAgICAgICAgICB2YWx1ZT1cImFjdGl2aXR5LXN0cmVhbS1maXJzdHJ1blwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXQgbmFtZT1cInV0bV9zb3VyY2VcIiB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCJhY3Rpdml0eS1zdHJlYW1cIiAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgbmFtZT1cInV0bV9jYW1wYWlnblwiXG4gICAgICAgICAgICB0eXBlPVwiaGlkZGVuXCJcbiAgICAgICAgICAgIHZhbHVlPXtCQVNFX1BBUkFNUy51dG1fY2FtcGFpZ259XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXQgbmFtZT1cInV0bV90ZXJtXCIgdHlwZT1cImhpZGRlblwiIHZhbHVlPXtVVE1UZXJtfSAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgbmFtZT1cImRldmljZV9pZFwiXG4gICAgICAgICAgICB0eXBlPVwiaGlkZGVuXCJcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmZsb3dQYXJhbXMuZGV2aWNlSWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIG5hbWU9XCJmbG93X2lkXCJcbiAgICAgICAgICAgIHR5cGU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuZmxvd1BhcmFtcy5mbG93SWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIG5hbWU9XCJmbG93X2JlZ2luX3RpbWVcIlxuICAgICAgICAgICAgdHlwZT1cImhpZGRlblwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5mbG93UGFyYW1zLmZsb3dCZWdpblRpbWV9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXQgbmFtZT1cInN0eWxlXCIgdHlwZT1cImhpZGRlblwiIHZhbHVlPVwidHJhaWxoZWFkXCIgLz5cbiAgICAgICAgICA8cFxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwib25ib2FyZGluZy1qb2luLWZvcm0tZW1haWwtZXJyb3JcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZXJyb3JcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9e2NvbnRlbnQuZm9ybS5lbWFpbC5zdHJpbmdfaWR9XG4gICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgIG9uSW52YWxpZD17dGhpcy5vbklucHV0SW52YWxpZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmeGEtdGVybXNcIiBkYXRhLWwxMG4taWQ9XCJvbmJvYXJkaW5nLWpvaW4tZm9ybS1sZWdhbFwiPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLW5hbWU9XCJ0ZXJtc1wiXG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICBocmVmPXthZGRVdG1QYXJhbXMoXG4gICAgICAgICAgICAgICAgXCJodHRwczovL2FjY291bnRzLmZpcmVmb3guY29tL2xlZ2FsL3Rlcm1zXCIsXG4gICAgICAgICAgICAgICAgVVRNVGVybVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1uYW1lPVwicHJpdmFjeVwiXG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICBocmVmPXthZGRVdG1QYXJhbXMoXG4gICAgICAgICAgICAgICAgXCJodHRwczovL2FjY291bnRzLmZpcmVmb3guY29tL2xlZ2FsL3ByaXZhY3lcIixcbiAgICAgICAgICAgICAgICBVVE1UZXJtXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8YnV0dG9uIGRhdGEtbDEwbi1pZD17Y29udGVudC5mb3JtLmJ1dHRvbi5zdHJpbmdfaWR9IHR5cGU9XCJzdWJtaXRcIiAvPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnNob3dTaWduSW5MaW5rICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnhhLXNpZ25pblwiPlxuICAgICAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9XCJvbmJvYXJkaW5nLWpvaW4tZm9ybS1zaWduaW4tbGFiZWxcIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwib25ib2FyZGluZy1qb2luLWZvcm0tc2lnbmluXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVNpZ25Jbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuRnhBU2lnbnVwRm9ybS5kZWZhdWx0UHJvcHMgPSB7IGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qKlxuICogQkFTRV9QQVJBTVMga2V5cy92YWx1ZXMgY2FuIGJlIG1vZGlmaWVkIGZyb20gb3V0c2lkZSB0aGlzIGZpbGVcbiAqL1xuZXhwb3J0IGNvbnN0IEJBU0VfUEFSQU1TID0ge1xuICB1dG1fc291cmNlOiBcImFjdGl2aXR5LXN0cmVhbVwiLFxuICB1dG1fY2FtcGFpZ246IFwiZmlyc3RydW5cIixcbiAgdXRtX21lZGl1bTogXCJyZWZlcnJhbFwiLFxufTtcblxuLyoqXG4gKiBUYWtlcyBpbiBhIHVybCBhcyBhIHN0cmluZyBvciBVUkwgb2JqZWN0IGFuZCByZXR1cm5zIGEgVVJMIG9iamVjdCB3aXRoIHRoZVxuICogdXRtXyogcGFyYW1ldGVycyBhZGRlZCB0byBpdC4gSWYgYSBVUkwgb2JqZWN0IGlzIHBhc3NlZCBpbiwgdGhlIHBhcmFlbWV0ZXJzXG4gKiBhcmUgYWRkZWQgdG8gaXQgKHRoZSByZXR1cm4gdmFsdWUgY2FuIGJlIGlnbm9yZWQgaW4gdGhhdCBjYXNlIGFzIGl0J3MgdGhlXG4gKiBzYW1lIG9iamVjdCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRVdG1QYXJhbXModXJsLCB1dG1UZXJtKSB7XG4gIGxldCByZXR1cm5VcmwgPSB1cmw7XG4gIGlmICh0eXBlb2YgcmV0dXJuVXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuVXJsID0gbmV3IFVSTCh1cmwpO1xuICB9XG4gIE9iamVjdC5rZXlzKEJBU0VfUEFSQU1TKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgcmV0dXJuVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBCQVNFX1BBUkFNU1trZXldKTtcbiAgfSk7XG4gIHJldHVyblVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwidXRtX3Rlcm1cIiwgdXRtVGVybSk7XG4gIHJldHVybiByZXR1cm5Vcmw7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSaWNoVGV4dCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1JpY2hUZXh0L1JpY2hUZXh0XCI7XG5cbi8vIEFsdCB0ZXh0IGlmIGF2YWlsYWJsZTsgaW4gdGhlIGZ1dHVyZSB0aGlzIHNob3VsZCBjb21lIGZyb20gdGhlIHNlcnZlci4gU2VlIGJ1ZyAxNTUxNzExXG5jb25zdCBJQ09OX0FMVF9URVhUID0gXCJcIjtcblxuZXhwb3J0IGNsYXNzIFJldHVyblRvQU1PIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25DbGlja0FkZEV4dGVuc2lvbiA9IHRoaXMub25DbGlja0FkZEV4dGVuc2lvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CbG9ja0J1dHRvbiA9IHRoaXMub25CbG9ja0J1dHRvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGdsb2JhbC5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJhbW9cIik7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgIGV2ZW50OiBcIklNUFJFU1NJT05cIixcbiAgICAgIGlkOiB0aGlzLnByb3BzLlVJU3VyZmFjZSxcbiAgICB9KTtcbiAgICAvLyBIaWRlIHRoZSBwYWdlIGNvbnRlbnQgZnJvbSBzY3JlZW4gcmVhZGVycyB3aGlsZSB0aGUgbW9kYWwgaXMgb3BlblxuICAgIHRoaXMucHJvcHMuZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcInJvb3RcIilcbiAgICAgIC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gIH1cblxuICBvbkNsaWNrQWRkRXh0ZW5zaW9uKCkge1xuICAgIHRoaXMucHJvcHMub25BY3Rpb24odGhpcy5wcm9wcy5jb250ZW50LnByaW1hcnlfYnV0dG9uLmFjdGlvbik7XG4gICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICBldmVudDogXCJJTlNUQUxMXCIsXG4gICAgICBpZDogdGhpcy5wcm9wcy5VSVN1cmZhY2UsXG4gICAgfSk7XG4gIH1cblxuICBvbkJsb2NrQnV0dG9uKCkge1xuICAgIHRoaXMucHJvcHMub25CbG9jaygpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIndlbGNvbWVcIiwgXCJoaWRlLW1haW5cIiwgXCJhbW9cIik7XG4gICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICBldmVudDogXCJCTE9DS1wiLFxuICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgIH0pO1xuICAgIC8vIFJlLWVuYWJsZSB0aGUgZG9jdW1lbnQgZm9yIHNjcmVlbiByZWFkZXJzXG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKVxuICAgICAgLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XG4gIH1cblxuICByZW5kZXJUZXh0KCkge1xuICAgIGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAoXG4gICAgICA8aW1nXG4gICAgICAgIHNyYz17dGhpcy5wcm9wcy5jb250ZW50LmFkZG9uX2ljb259XG4gICAgICAgIHdpZHRoPVwiMjBweFwiXG4gICAgICAgIGhlaWdodD1cIjIwcHhcIlxuICAgICAgICBhbHQ9e0lDT05fQUxUX1RFWFR9XG4gICAgICAvPlxuICAgICk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSaWNoVGV4dFxuICAgICAgICBjdXN0b21FbGVtZW50cz17eyBpY29uOiBjdXN0b21FbGVtZW50IH19XG4gICAgICAgIGFtb19odG1sPXt0aGlzLnByb3BzLmNvbnRlbnQudGV4dH1cbiAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwiYW1vX2h0bWxcIlxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJSZXR1cm5Ub0FNT092ZXJsYXlcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDI+IHtjb250ZW50LmhlYWRlcn0gPC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlJldHVyblRvQU1PQ29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlJldHVyblRvQU1PQWRkb25Db250ZW50c1wiPlxuICAgICAgICAgICAgICA8cD4ge2NvbnRlbnQudGl0bGV9IDwvcD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJSZXR1cm5Ub0FNT1RleHRcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4ge3RoaXMucmVuZGVyVGV4dCgpfSA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrQWRkRXh0ZW5zaW9ufVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB1ZmZ5IGJsdWUgUmV0dXJuVG9BTU9BZGRFeHRlbnNpb25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1hZGRcIiAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICB7Y29udGVudC5wcmltYXJ5X2J1dHRvbi5sYWJlbH17XCIgXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlJldHVyblRvQU1PSWNvblwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkJsb2NrQnV0dG9ufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGVmYXVsdCBncmV5IFJldHVyblRvQU1PR2V0U3RhcnRlZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAge2NvbnRlbnQuc2Vjb25kYXJ5X2J1dHRvbi5sYWJlbH17XCIgXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWRkVXRtUGFyYW1zIH0gZnJvbSBcIi4uL0ZpcnN0UnVuL2FkZFV0bVBhcmFtc1wiO1xuaW1wb3J0IHsgRnhBU2lnbnVwRm9ybSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0Z4QVNpZ251cEZvcm0vRnhBU2lnbnVwRm9ybVwiO1xuaW1wb3J0IHsgT25ib2FyZGluZ0NhcmQgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGVzL09uYm9hcmRpbmdNZXNzYWdlL09uYm9hcmRpbmdNZXNzYWdlXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBGeEFjY291bnRzID0gKHtcbiAgZG9jdW1lbnQsXG4gIGNvbnRlbnQsXG4gIGRpc3BhdGNoLFxuICBmeGFFbmRwb2ludCxcbiAgZmxvd1BhcmFtcyxcbiAgcmVtb3ZlT3ZlcmxheSxcbiAgdXJsLFxuICBVVE1UZXJtLFxufSkgPT4gKFxuICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwiZnVsbHBhZ2UtbGVmdC1zZWN0aW9uXCJcbiAgICAgIGFyaWEtbGFiZWxsZWRieT1cImZ1bGxwYWdlLWxlZnQtdGl0bGVcIlxuICAgICAgYXJpYS1kZXNjcmliZWRieT1cImZ1bGxwYWdlLWxlZnQtY29udGVudFwiXG4gICAgPlxuICAgICAgPGgxXG4gICAgICAgIGlkPVwiZnVsbHBhZ2UtbGVmdC10aXRsZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImZ1bGxwYWdlLWxlZnQtdGl0bGVcIlxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJvbmJvYXJkaW5nLXdlbGNvbWUtYm9keVwiXG4gICAgICAvPlxuICAgICAgPHBcbiAgICAgICAgaWQ9XCJmdWxscGFnZS1sZWZ0LWNvbnRlbnRcIlxuICAgICAgICBjbGFzc05hbWU9XCJmdWxscGFnZS1sZWZ0LWNvbnRlbnRcIlxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJvbmJvYXJkaW5nLWJlbmVmaXQtcHJvZHVjdHMtdGV4dFwiXG4gICAgICAvPlxuICAgICAgPHBcbiAgICAgICAgY2xhc3NOYW1lPVwiZnVsbHBhZ2UtbGVmdC1jb250ZW50XCJcbiAgICAgICAgZGF0YS1sMTBuLWlkPVwib25ib2FyZGluZy1iZW5lZml0LXByaXZhY3ktdGV4dFwiXG4gICAgICAvPlxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiZnVsbHBhZ2UtbGVmdC1saW5rXCJcbiAgICAgICAgaHJlZj17YWRkVXRtUGFyYW1zKHVybCwgVVRNVGVybSl9XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJvbmJvYXJkaW5nLXdlbGNvbWUtbGVhcm4tbW9yZVwiXG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmdWxscGFnZS1pY29uIGZ4LXN5c3RlbXMtaWNvbnNcIiAvPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZnVsbHBhZ2UtZm9ybVwiPlxuICAgICAgPEZ4QVNpZ251cEZvcm1cbiAgICAgICAgZG9jdW1lbnQ9e2RvY3VtZW50fVxuICAgICAgICBjb250ZW50PXtjb250ZW50fVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIGZ4YUVuZHBvaW50PXtmeGFFbmRwb2ludH1cbiAgICAgICAgVVRNVGVybT17VVRNVGVybX1cbiAgICAgICAgZmxvd1BhcmFtcz17Zmxvd1BhcmFtc31cbiAgICAgICAgb25DbG9zZT17cmVtb3ZlT3ZlcmxheX1cbiAgICAgICAgc2hvd1NpZ25Jbkxpbms9e3RydWV9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICA8L1JlYWN0LkZyYWdtZW50PlxuKTtcblxuZXhwb3J0IGNvbnN0IEZ4Q2FyZHMgPSAoeyBjYXJkcywgb25DYXJkQWN0aW9uLCBzZW5kVXNlckFjdGlvblRlbGVtZXRyeSB9KSA9PiAoXG4gIDxSZWFjdC5GcmFnbWVudD5cbiAgICB7Y2FyZHMubWFwKGNhcmQgPT4gKFxuICAgICAgPE9uYm9hcmRpbmdDYXJkXG4gICAgICAgIGtleT17Y2FyZC5pZH1cbiAgICAgICAgbWVzc2FnZT17Y2FyZH1cbiAgICAgICAgY2xhc3NOYW1lPVwidHJhaWxoZWFkQ2FyZFwiXG4gICAgICAgIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5PXtzZW5kVXNlckFjdGlvblRlbGVtZXRyeX1cbiAgICAgICAgb25BY3Rpb249e29uQ2FyZEFjdGlvbn1cbiAgICAgICAgVUlTdXJmYWNlPVwiVFJBSUxIRUFEXCJcbiAgICAgICAgey4uLmNhcmR9XG4gICAgICAvPlxuICAgICkpfVxuICA8L1JlYWN0LkZyYWdtZW50PlxuKTtcblxuZXhwb3J0IGNsYXNzIEZ1bGxQYWdlSW50ZXJydXB0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMucmVtb3ZlT3ZlcmxheSA9IHRoaXMucmVtb3ZlT3ZlcmxheS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DYXJkQWN0aW9uID0gdGhpcy5vbkNhcmRBY3Rpb24uYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwidHJhaWxoZWFkLWZ1bGxwYWdlXCIpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gSGlkZSB0aGUgcGFnZSBjb250ZW50IGZyb20gc2NyZWVuIHJlYWRlcnMgd2hpbGUgdGhlIGZ1bGwgcGFnZSBpbnRlcnJ1cHQgaXMgb3BlblxuICAgIHRoaXMucHJvcHMuZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcInJvb3RcIilcbiAgICAgIC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gIH1cblxuICByZW1vdmVPdmVybGF5KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLnJlbW92ZU92ZXJsYXkpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtbWFpblwiLCBcInRyYWlsaGVhZC1mdWxscGFnZVwiKTtcbiAgICAvLyBSZS1lbmFibGUgdGhlIGRvY3VtZW50IGZvciBzY3JlZW4gcmVhZGVyc1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZChcInJvb3RcIilcbiAgICAgIC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xuXG4gICAgdGhpcy5wcm9wcy5vbkJsb2NrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwid2VsY29tZVwiKTtcbiAgfVxuXG4gIG9uQ2FyZEFjdGlvbihhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgICBsZXQgYWN0aW9uVXBkYXRlcyA9IHt9O1xuICAgIGNvbnN0IHsgZmxvd1BhcmFtcywgVVRNVGVybSB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJPUEVOX1VSTFwiKSB7XG4gICAgICBsZXQgdXJsID0gbmV3IFVSTChhY3Rpb24uZGF0YS5hcmdzKTtcbiAgICAgIGFkZFV0bVBhcmFtcyh1cmwsIFVUTVRlcm0pO1xuXG4gICAgICBpZiAoYWN0aW9uLmFkZEZsb3dQYXJhbXMpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJkZXZpY2VfaWRcIiwgZmxvd1BhcmFtcy5kZXZpY2VJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiZmxvd19pZFwiLCBmbG93UGFyYW1zLmZsb3dJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiZmxvd19iZWdpbl90aW1lXCIsIGZsb3dQYXJhbXMuZmxvd0JlZ2luVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvblVwZGF0ZXMgPSB7IGRhdGE6IHsgLi4uYWN0aW9uLmRhdGEsIGFyZ3M6IHVybC50b1N0cmluZygpIH0gfTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uQWN0aW9uKHsgLi4uYWN0aW9uLCAuLi5hY3Rpb25VcGRhdGVzIH0pO1xuICAgIC8vIE9ubHkgYmxvY2sgaWYgbWVzc2FnZSBpcyBpbiBkeW5hbWljIHRyaXBsZXRzIGV4cGVyaW1lbnRcbiAgICBpZiAobWVzc2FnZS5ibG9ja09uQ2xpY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9ja0J5SWQobWVzc2FnZS5pZCwgeyBwcmVsb2FkZWRPbmx5OiB0cnVlIH0pO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZU92ZXJsYXkoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gcHJvcHMubWVzc2FnZTtcbiAgICBjb25zdCBjYXJkcyA9IChcbiAgICAgIDxGeENhcmRzXG4gICAgICAgIGNhcmRzPXtwcm9wcy5jYXJkc31cbiAgICAgICAgb25DYXJkQWN0aW9uPXt0aGlzLm9uQ2FyZEFjdGlvbn1cbiAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3Byb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5fVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgY29uc3QgYWNjb3VudHMgPSAoXG4gICAgICA8RnhBY2NvdW50c1xuICAgICAgICBkb2N1bWVudD17cHJvcHMuZG9jdW1lbnR9XG4gICAgICAgIGNvbnRlbnQ9e2NvbnRlbnR9XG4gICAgICAgIGRpc3BhdGNoPXtwcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgZnhhRW5kcG9pbnQ9e3Byb3BzLmZ4YUVuZHBvaW50fVxuICAgICAgICBmbG93UGFyYW1zPXtwcm9wcy5mbG93UGFyYW1zfVxuICAgICAgICByZW1vdmVPdmVybGF5PXt0aGlzLnJlbW92ZU92ZXJsYXl9XG4gICAgICAgIHVybD17Y29udGVudC5sZWFybi51cmx9XG4gICAgICAgIFVUTVRlcm09e3Byb3BzLlVUTVRlcm19XG4gICAgICAvPlxuICAgICk7XG5cbiAgICAvLyBCeSBkZWZhdWx0IHdlIHNob3cgYWNjb3VudHMgc2VjdGlvbiBvbiB0b3AgYW5kXG4gICAgLy8gY2FyZHMgc2VjdGlvbiBpbiBib3R0b20gaGFsZiBvZiB0aGUgZnVsbCBwYWdlIGludGVycnVwdFxuICAgIGNvbnN0IGNhcmRzRmlyc3QgPSBjb250ZW50ICYmIGNvbnRlbnQuY2xhc3NOYW1lID09PSBcImZ1bGxQYWdlQ2FyZHNBdFRvcFwiO1xuICAgIGNvbnN0IGZpcnN0Q29udGFpbmVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJjb250YWluZXJcIixcbiAgICAgIGNvbnRlbnQgJiYgY29udGVudC5jbGFzc05hbWUsXG4gICAgXS5qb2luKFwiIFwiKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmdWxscGFnZS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnVsbHBhZ2UtaWNvbiBicmFuZC1sb2dvXCIgLz5cbiAgICAgICAgPGgxXG4gICAgICAgICAgY2xhc3NOYW1lPVwid2VsY29tZS10aXRsZVwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwib25ib2FyZGluZy13ZWxjb21lLWhlYWRlclwiXG4gICAgICAgIC8+XG4gICAgICAgIDxoMlxuICAgICAgICAgIGNsYXNzTmFtZT1cIndlbGNvbWUtc3VidGl0bGVcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm9uYm9hcmRpbmctZnVsbHBhZ2Utd2VsY29tZS1zdWJoZWFkZXJcIlxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Zmlyc3RDb250YWluZXJDbGFzc05hbWV9PlxuICAgICAgICAgIHtjYXJkc0ZpcnN0ID8gY2FyZHMgOiBhY2NvdW50c31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1kaXZpZGVyXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj57Y2FyZHNGaXJzdCA/IGFjY291bnRzIDogY2FyZHN9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkZ1bGxQYWdlSW50ZXJydXB0LmRlZmF1bHRQcm9wcyA9IHtcbiAgZmxvd1BhcmFtczogeyBkZXZpY2VJZDogXCJcIiwgZmxvd0lkOiBcIlwiLCBmbG93QmVnaW5UaW1lOiBcIlwiIH0sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgT25ib2FyZGluZ0NhcmQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgcGluZyA9IHtcbiAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgbWVzc2FnZV9pZDogcHJvcHMuaWQsXG4gICAgICBpZDogcHJvcHMuVUlTdXJmYWNlLFxuICAgIH07XG4gICAgcHJvcHMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkocGluZyk7XG4gICAgcHJvcHMub25BY3Rpb24ocHJvcHMuY29udGVudC5wcmltYXJ5X2J1dHRvbi5hY3Rpb24sIHByb3BzLm1lc3NhZ2UpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIm9uYm9hcmRpbmdNZXNzYWdlXCI7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG9uYm9hcmRpbmdNZXNzYWdlSW1hZ2UgJHtjb250ZW50Lmljb259YH0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvbmJvYXJkaW5nQ29udGVudFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPGgyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9uYm9hcmRpbmdUaXRsZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17Y29udGVudC50aXRsZS5zdHJpbmdfaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib25ib2FyZGluZ1RleHRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e2NvbnRlbnQudGV4dC5zdHJpbmdfaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvbmJvYXJkaW5nQnV0dG9uQ29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17Y29udGVudC5wcmltYXJ5X2J1dHRvbi5sYWJlbC5zdHJpbmdfaWR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ1dHRvbiBvbmJvYXJkaW5nQnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgT25ib2FyZGluZ0NhcmQgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGVzL09uYm9hcmRpbmdNZXNzYWdlL09uYm9hcmRpbmdNZXNzYWdlXCI7XG5pbXBvcnQgeyBhZGRVdG1QYXJhbXMgfSBmcm9tIFwiLi9hZGRVdG1QYXJhbXNcIjtcblxuZXhwb3J0IGNsYXNzIFRyaXBsZXRzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25DYXJkQWN0aW9uID0gdGhpcy5vbkNhcmRBY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSGlkZUNvbnRhaW5lciA9IHRoaXMub25IaWRlQ29udGFpbmVyLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImlubGluZS1vbmJvYXJkaW5nXCIpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJpbmxpbmUtb25ib2FyZGluZ1wiKTtcbiAgfVxuXG4gIG9uQ2FyZEFjdGlvbihhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgICBsZXQgYWN0aW9uVXBkYXRlcyA9IHt9O1xuICAgIGNvbnN0IHsgZmxvd1BhcmFtcywgVVRNVGVybSB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJPUEVOX1VSTFwiKSB7XG4gICAgICBsZXQgdXJsID0gbmV3IFVSTChhY3Rpb24uZGF0YS5hcmdzKTtcbiAgICAgIGFkZFV0bVBhcmFtcyh1cmwsIFVUTVRlcm0pO1xuXG4gICAgICBpZiAoYWN0aW9uLmFkZEZsb3dQYXJhbXMpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJkZXZpY2VfaWRcIiwgZmxvd1BhcmFtcy5kZXZpY2VJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiZmxvd19pZFwiLCBmbG93UGFyYW1zLmZsb3dJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiZmxvd19iZWdpbl90aW1lXCIsIGZsb3dQYXJhbXMuZmxvd0JlZ2luVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvblVwZGF0ZXMgPSB7IGRhdGE6IHsgLi4uYWN0aW9uLmRhdGEsIGFyZ3M6IHVybC50b1N0cmluZygpIH0gfTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uQWN0aW9uKHsgLi4uYWN0aW9uLCAuLi5hY3Rpb25VcGRhdGVzIH0pO1xuICAgIC8vIE9ubHkgYmxvY2sgaWYgbWVzc2FnZSBpcyBpbiBkeW5hbWljIHRyaXBsZXRzIGV4cGVyaW1lbnRcbiAgICBpZiAobWVzc2FnZS5ibG9ja09uQ2xpY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9ja0J5SWQobWVzc2FnZS5pZCwgeyBwcmVsb2FkZWRPbmx5OiB0cnVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uSGlkZUNvbnRhaW5lcigpIHtcbiAgICBjb25zdCB7IHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5LCBjYXJkcywgaGlkZUNvbnRhaW5lciB9ID0gdGhpcy5wcm9wcztcbiAgICBoaWRlQ29udGFpbmVyKCk7XG4gICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkoe1xuICAgICAgZXZlbnQ6IFwiRElTTUlTU1wiLFxuICAgICAgaWQ6IFwib25ib2FyZGluZy1jYXJkc1wiLFxuICAgICAgbWVzc2FnZV9pZDogY2FyZHMubWFwKG0gPT4gbS5pZCkuam9pbihcIixcIiksXG4gICAgICBhY3Rpb246IFwib25ib2FyZGluZ191c2VyX2V2ZW50XCIsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2FyZHMsXG4gICAgICBoZWFkZXJJZCxcbiAgICAgIHNob3dDYXJkUGFuZWwsXG4gICAgICBzaG93Q29udGVudCxcbiAgICAgIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YHRyYWlsaGVhZENhcmRzICR7c2hvd0NhcmRQYW5lbCA/IFwiZXhwYW5kZWRcIiA6IFwiY29sbGFwc2VkXCJ9YH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmFpbGhlYWRDYXJkc0lubmVyXCIgYXJpYS1oaWRkZW49eyFzaG93Q29udGVudH0+XG4gICAgICAgICAge2hlYWRlcklkICYmIDxoMSBkYXRhLWwxMG4taWQ9e2hlYWRlcklkfSAvPn1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRyYWlsaGVhZENhcmRHcmlkJHtzaG93Q29udGVudCA/IFwiIHNob3dcIiA6IFwiXCJ9YH0+XG4gICAgICAgICAgICB7Y2FyZHMubWFwKGNhcmQgPT4gKFxuICAgICAgICAgICAgICA8T25ib2FyZGluZ0NhcmRcbiAgICAgICAgICAgICAgICBrZXk9e2NhcmQuaWR9XG4gICAgICAgICAgICAgICAgbWVzc2FnZT17Y2FyZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmFpbGhlYWRDYXJkXCJcbiAgICAgICAgICAgICAgICBzZW5kVXNlckFjdGlvblRlbGVtZXRyeT17c2VuZFVzZXJBY3Rpb25UZWxlbWV0cnl9XG4gICAgICAgICAgICAgICAgb25BY3Rpb249e3RoaXMub25DYXJkQWN0aW9ufVxuICAgICAgICAgICAgICAgIFVJU3VyZmFjZT1cIlRSQUlMSEVBRFwiXG4gICAgICAgICAgICAgICAgey4uLmNhcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7c2hvd0NhcmRQYW5lbCAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1kaXNtaXNzXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkhpZGVDb250YWluZXJ9XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm9uYm9hcmRpbmctY2FyZHMtZGlzbWlzc1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZHV4OyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNpbXBsZUhhc2hSb3V0ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkhhc2hDaGFuZ2UgPSB0aGlzLm9uSGFzaENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGhhc2g6IGdsb2JhbC5sb2NhdGlvbi5oYXNoIH07XG4gIH1cblxuICBvbkhhc2hDaGFuZ2UoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGhhc2g6IGdsb2JhbC5sb2NhdGlvbi5oYXNoIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCB0aGlzLm9uSGFzaENoYW5nZSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgdGhpcy5vbkhhc2hDaGFuZ2UpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IFssIC4uLnJvdXRlc10gPSB0aGlzLnN0YXRlLmhhc2guc3BsaXQoXCItXCIpO1xuICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwge1xuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgaGFzaDogdGhpcy5zdGF0ZS5oYXNoLFxuICAgICAgICByb3V0ZXMsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbi8qKlxuICogQ29uZmlybURpYWxvZyBjb21wb25lbnQuXG4gKiBPbmUgcHJpbWFyeSBhY3Rpb24gYnV0dG9uLCBvbmUgY2FuY2VsIGJ1dHRvbi5cbiAqXG4gKiBDb250ZW50IGRpc3BsYXllZCBpcyBjb250cm9sbGVkIGJ5IGBkYXRhYCBwcm9wIHRoZSBjb21wb25lbnQgcmVjZWl2ZXMuXG4gKiBFeGFtcGxlOlxuICogZGF0YToge1xuICogICAvLyBBbnkgc29ydCBvZiBkYXRhIG5lZWRlZCB0byBiZSBwYXNzZWQgYXJvdW5kIGJ5IGFjdGlvbnMuXG4gKiAgIHBheWxvYWQ6IHNpdGUudXJsLFxuICogICAvLyBQcmltYXJ5IGJ1dHRvbiBBbHNvVG9NYWluIGFjdGlvbi5cbiAqICAgYWN0aW9uOiBcIkRFTEVURV9ISVNUT1JZX1VSTFwiLFxuICogICAvLyBQcmltYXJ5IGJ1dHRvbiBVU2VyRXZlbnQgYWN0aW9uLlxuICogICB1c2VyRXZlbnQ6IFwiREVMRVRFXCIsXG4gKiAgIC8vIEFycmF5IG9mIGxvY2FsZSBpZHMgdG8gZGlzcGxheS5cbiAqICAgbWVzc2FnZV9ib2R5OiBbXCJjb25maXJtX2hpc3RvcnlfZGVsZXRlX3AxXCIsIFwiY29uZmlybV9oaXN0b3J5X2RlbGV0ZV9ub3RpY2VfcDJcIl0sXG4gKiAgIC8vIFRleHQgZm9yIHByaW1hcnkgYnV0dG9uLlxuICogICBjb25maXJtX2J1dHRvbl9zdHJpbmdfaWQ6IFwibWVudV9hY3Rpb25fZGVsZXRlXCJcbiAqIH0sXG4gKi9cbmV4cG9ydCBjbGFzcyBfQ29uZmlybURpYWxvZyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLl9oYW5kbGVDYW5jZWxCdG4gPSB0aGlzLl9oYW5kbGVDYW5jZWxCdG4uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVDb25maXJtQnRuID0gdGhpcy5faGFuZGxlQ29uZmlybUJ0bi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUNhbmNlbEJ0bigpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYWN0aW9uVHlwZXMuRElBTE9HX0NBTkNFTCB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IGFjdGlvblR5cGVzLkRJQUxPR19DQU5DRUwsXG4gICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5kYXRhLmV2ZW50U291cmNlLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgX2hhbmRsZUNvbmZpcm1CdG4oKSB7XG4gICAgdGhpcy5wcm9wcy5kYXRhLm9uQ29uZmlybS5mb3JFYWNoKHRoaXMucHJvcHMuZGlzcGF0Y2gpO1xuICB9XG5cbiAgX3JlbmRlck1vZGFsTWVzc2FnZSgpIHtcbiAgICBjb25zdCBtZXNzYWdlX2JvZHkgPSB0aGlzLnByb3BzLmRhdGEuYm9keV9zdHJpbmdfaWQ7XG5cbiAgICBpZiAoIW1lc3NhZ2VfYm9keSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICB7bWVzc2FnZV9ib2R5Lm1hcChtc2cgPT4gKFxuICAgICAgICAgIDxwIGtleT17bXNnfSBkYXRhLWwxMG4taWQ9e21zZ30gLz5cbiAgICAgICAgKSl9XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29uZmlybWF0aW9uLWRpYWxvZ1wiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtb3ZlcmxheVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5faGFuZGxlQ2FuY2VsQnRufVxuICAgICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsXCI+XG4gICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwibW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuZGF0YS5pY29uICYmIChcbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BpY29uIGljb24tc3BhY2VyIGljb24tJHt0aGlzLnByb3BzLmRhdGEuaWNvbn1gfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJNb2RhbE1lc3NhZ2UoKX1cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYWN0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVDYW5jZWxCdG59XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17dGhpcy5wcm9wcy5kYXRhLmNhbmNlbF9idXR0b25fc3RyaW5nX2lkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNvbmZpcm1CdG59XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17dGhpcy5wcm9wcy5kYXRhLmNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IENvbmZpcm1EaWFsb2cgPSBjb25uZWN0KHN0YXRlID0+IHN0YXRlLkRpYWxvZykoX0NvbmZpcm1EaWFsb2cpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBDYXJkR3JpZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ2FyZEdyaWQvQ2FyZEdyaWRcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IERTRGlzbWlzcyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNEaXNtaXNzL0RTRGlzbWlzc1wiO1xuaW1wb3J0IHsgRFNNZXNzYWdlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU01lc3NhZ2UvRFNNZXNzYWdlXCI7XG5pbXBvcnQgeyBEU1ByaXZhY3lNb2RhbCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNQcml2YWN5TW9kYWwvRFNQcml2YWN5TW9kYWxcIjtcbmltcG9ydCB7IERTVGV4dFByb21vIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1RleHRQcm9tby9EU1RleHRQcm9tb1wiO1xuaW1wb3J0IHsgSGVybyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvSGVyby9IZXJvXCI7XG5pbXBvcnQgeyBIaWdobGlnaHRzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHNcIjtcbmltcG9ydCB7IEhvcml6b250YWxSdWxlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ib3Jpem9udGFsUnVsZS9Ib3Jpem9udGFsUnVsZVwiO1xuaW1wb3J0IHsgTGlzdCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvTGlzdC9MaXN0XCI7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9OYXZpZ2F0aW9uL05hdmlnYXRpb25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25UaXRsZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2VjdGlvblRpdGxlL1NlY3Rpb25UaXRsZVwiO1xuaW1wb3J0IHsgc2VsZWN0TGF5b3V0UmVuZGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9zZWxlY3RMYXlvdXRSZW5kZXJcIjtcbmltcG9ydCB7IFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuXG5jb25zdCBBTExPV0VEX0NTU19VUkxfUFJFRklYRVMgPSBbXG4gIFwiY2hyb21lOi8vXCIsXG4gIFwicmVzb3VyY2U6Ly9cIixcbiAgXCJodHRwczovL2ltZy1nZXRwb2NrZXQuY2RuLm1vemlsbGEubmV0L1wiLFxuXTtcbmNvbnN0IERVTU1ZX0NTU19TRUxFQ1RPUiA9IFwiRFVNTVkjQ1NTLlNFTEVDVE9SXCI7XG5sZXQgcm9sbENhY2hlID0gW107IC8vIENhY2hlIG9mIHJhbmRvbSBwcm9iYWJpbGl0eSB2YWx1ZXMgZm9yIGEgc3BvYyBwb3NpdGlvblxuXG4vKipcbiAqIFZhbGlkYXRlIGEgQ1NTIGRlY2xhcmF0aW9uLiBUaGUgdmFsdWVzIGFyZSBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWQgYnkgQ1NTT00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FsbG93ZWRDU1MocHJvcGVydHksIHZhbHVlKSB7XG4gIC8vIEJ1ZyAxNDU0ODIzOiBJTlRFUk5BTCBwcm9wZXJ0aWVzLCBlLmcuLCAtbW96LWNvbnRleHQtcHJvcGVydGllcywgYXJlXG4gIC8vIGV4cG9zZWQgYnV0IHRoZWlyIHZhbHVlcyBhcmVuJ3QgcmVzdWx0aW5nIGluIGdldHRpbmcgbm90aGluZy4gRm9ydHVuYXRlbHksXG4gIC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgdmFsaWRhdGluZyB0aGUgdmFsdWVzIG9mIHRoZSBjdXJyZW50IHNldCBvZiBwcm9wZXJ0aWVzLlxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIGFsbCB1cmxzIGFyZSBvZiB0aGUgYWxsb3dlZCBwcm90b2NvbHMvcHJlZml4ZXNcbiAgY29uc3QgdXJscyA9IHZhbHVlLm1hdGNoKC91cmxcXChcIlteXCJdK1wiXFwpL2cpO1xuICByZXR1cm4gKFxuICAgICF1cmxzIHx8XG4gICAgdXJscy5ldmVyeSh1cmwgPT5cbiAgICAgIEFMTE9XRURfQ1NTX1VSTF9QUkVGSVhFUy5zb21lKHByZWZpeCA9PiB1cmwuc2xpY2UoNSkuc3RhcnRzV2l0aChwcmVmaXgpKVxuICAgIClcbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIF9EaXNjb3ZlcnlTdHJlYW1CYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25TdHlsZU1vdW50ID0gdGhpcy5vblN0eWxlTW91bnQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uU3R5bGVNb3VudChzdHlsZSkge1xuICAgIC8vIFVubW91bnRpbmcgc3R5bGUgZ2V0cyByaWQgb2Ygb2xkIHN0eWxlcywgc28gbm90aGluZyBlbHNlIHRvIGRvXG4gICAgaWYgKCFzdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgc2hlZXQgfSA9IHN0eWxlO1xuICAgIGNvbnN0IHN0eWxlcyA9IEpTT04ucGFyc2Uoc3R5bGUuZGF0YXNldC5zdHlsZXMpO1xuICAgIHN0eWxlcy5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICByb3cuZm9yRWFjaCgoY29tcG9uZW50LCBjb21wb25lbnRJbmRleCkgPT4ge1xuICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIHdpdGhvdXQgb3B0aW9uYWwgc3R5bGVzIG92ZXJyaWRlc1xuICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbXBvbmVudCkuZm9yRWFjaCgoW3NlbGVjdG9ycywgZGVjbGFyYXRpb25zXSkgPT4ge1xuICAgICAgICAgIC8vIFN0YXJ0IHdpdGggYSBkdW1teSBydWxlIHRvIHZhbGlkYXRlIGRlY2xhcmF0aW9ucyBhbmQgc2VsZWN0b3JzXG4gICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShgJHtEVU1NWV9DU1NfU0VMRUNUT1J9IHt9YCk7XG4gICAgICAgICAgY29uc3QgW3J1bGVdID0gc2hlZXQuY3NzUnVsZXM7XG5cbiAgICAgICAgICAvLyBWYWxpZGF0ZSBkZWNsYXJhdGlvbnMgYW5kIHJlbW92ZSBhbnkgb2ZmZW5kZXJzLiBDU1NPTSBzaWxlbnRseVxuICAgICAgICAgIC8vIGRpc2NhcmRzIGludmFsaWQgZW50cmllcywgc28gaGVyZSB3ZSBhcHBseSBleHRyYSByZXN0cmljdGlvbnMuXG4gICAgICAgICAgcnVsZS5zdHlsZSA9IGRlY2xhcmF0aW9ucztcbiAgICAgICAgICBbLi4ucnVsZS5zdHlsZV0uZm9yRWFjaChwcm9wZXJ0eSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJ1bGUuc3R5bGVbcHJvcGVydHldO1xuICAgICAgICAgICAgaWYgKCFpc0FsbG93ZWRDU1MocHJvcGVydHksIHZhbHVlKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBCYWQgQ1NTIGRlY2xhcmF0aW9uICR7cHJvcGVydHl9OiAke3ZhbHVlfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgcnVsZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBTZXQgdGhlIGFjdHVhbCBkZXNpcmVkIHNlbGVjdG9ycyBzY29wZWQgdG8gdGhlIGNvbXBvbmVudFxuICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGAuZHMtbGF5b3V0ID4gLmRzLWNvbHVtbjpudGgtY2hpbGQoJHtyb3dJbmRleCArXG4gICAgICAgICAgICAxfSkgLmRzLWNvbHVtbi1ncmlkID4gOm50aC1jaGlsZCgke2NvbXBvbmVudEluZGV4ICsgMX0pYDtcbiAgICAgICAgICAvLyBOQjogU3BsaXR0aW5nIG9uIFwiLFwiIGRvZXNuJ3Qgd29yayB3aXRoIHN0cmluZ3Mgd2l0aCBjb21tYXMsIGJ1dFxuICAgICAgICAgIC8vIHdlJ3JlIG9rYXkgd2l0aCBub3Qgc3VwcG9ydGluZyB0aG9zZSBzZWxlY3RvcnNcbiAgICAgICAgICBydWxlLnNlbGVjdG9yVGV4dCA9IHNlbGVjdG9yc1xuICAgICAgICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgc2VsZWN0b3IgPT5cbiAgICAgICAgICAgICAgICBwcmVmaXggK1xuICAgICAgICAgICAgICAgIC8vIEFzc3VtZSA6cHNldWRvLWNsYXNzZXMgYXJlIGZvciBjb21wb25lbnQgaW5zdGVhZCBvZiBkZXNjZW5kYW50XG4gICAgICAgICAgICAgICAgKHNlbGVjdG9yWzBdID09PSBcIjpcIiA/IFwiXCIgOiBcIiBcIikgK1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuam9pbihcIixcIik7XG5cbiAgICAgICAgICAvLyBDU1NPTSBzaWxlbnRseSBpZ25vcmVzIGJhZCBzZWxlY3RvcnMsIHNvIHdlJ2xsIGJlIG5vaXN5IGluc3RlYWRcbiAgICAgICAgICBpZiAocnVsZS5zZWxlY3RvclRleHQgPT09IERVTU1ZX0NTU19TRUxFQ1RPUikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQmFkIENTUyBzZWxlY3RvciAke3NlbGVjdG9yc31gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgZW1iZWRXaWR0aCkge1xuICAgIGNvbnN0IEVOR0FHRU1FTlRfTEFCRUxfRU5BQkxFRCA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1xuICAgICAgYGRpc2NvdmVyeXN0cmVhbS5lbmdhZ2VtZW50TGFiZWxFbmFibGVkYFxuICAgIF07XG5cbiAgICBzd2l0Y2ggKGNvbXBvbmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiSGlnaGxpZ2h0c1wiOlxuICAgICAgICByZXR1cm4gPEhpZ2hsaWdodHMgLz47XG4gICAgICBjYXNlIFwiVG9wU2l0ZXNcIjpcbiAgICAgICAgbGV0IHByb21vQWxpZ25tZW50O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY29tcG9uZW50LnNwb2NzICYmXG4gICAgICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9ucyAmJlxuICAgICAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgIHByb21vQWxpZ25tZW50ID1cbiAgICAgICAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnNbMF0uaW5kZXggPT09IDAgPyBcImxlZnRcIiA6IFwicmlnaHRcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUb3BTaXRlc1xuICAgICAgICAgICAgaGVhZGVyPXtjb21wb25lbnQuaGVhZGVyfVxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICBwcm9tb0FsaWdubWVudD17cHJvbW9BbGlnbm1lbnR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJUZXh0UHJvbW9cIjpcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFjb21wb25lbnQuZGF0YSB8fFxuICAgICAgICAgICFjb21wb25lbnQuZGF0YS5zcG9jcyB8fFxuICAgICAgICAgICFjb21wb25lbnQuZGF0YS5zcG9jc1swXVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgICAgICBjb25zdCBbc3BvY10gPSBjb21wb25lbnQuZGF0YS5zcG9jcztcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGltYWdlX3NyYyxcbiAgICAgICAgICByYXdfaW1hZ2Vfc3JjLFxuICAgICAgICAgIGFsdF90ZXh0LFxuICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGN0YSxcbiAgICAgICAgICBmbGlnaHRfaWQsXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgc2hpbSxcbiAgICAgICAgfSA9IHNwb2M7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RFNEaXNtaXNzXG4gICAgICAgICAgICBkYXRhPXt7XG4gICAgICAgICAgICAgIHVybDogc3BvYy51cmwsXG4gICAgICAgICAgICAgIGd1aWQ6IHNwb2MuaWQsXG4gICAgICAgICAgICAgIHNoaW06IHNwb2Muc2hpbSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICBleHRyYUNsYXNzZXM9e2Bkcy1kaXNtaXNzLWRzLXRleHQtcHJvbW9gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxEU1RleHRQcm9tb1xuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgaW1hZ2U9e2ltYWdlX3NyY31cbiAgICAgICAgICAgICAgcmF3X2ltYWdlX3NyYz17cmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAgICAgYWx0X3RleHQ9e2FsdF90ZXh0IHx8IHRpdGxlfVxuICAgICAgICAgICAgICBoZWFkZXI9e3RpdGxlfVxuICAgICAgICAgICAgICBjdGFfdGV4dD17Y3RhfVxuICAgICAgICAgICAgICBjdGFfdXJsPXt1cmx9XG4gICAgICAgICAgICAgIHN1YnRpdGxlPXtjb250ZXh0fVxuICAgICAgICAgICAgICBmbGlnaHRJZD17ZmxpZ2h0X2lkfVxuICAgICAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgICAgIHBvcz17MH1cbiAgICAgICAgICAgICAgc2hpbT17c2hpbX1cbiAgICAgICAgICAgICAgdHlwZT17Y29tcG9uZW50LnR5cGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRFNEaXNtaXNzPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIk1lc3NhZ2VcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RFNNZXNzYWdlXG4gICAgICAgICAgICB0aXRsZT17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLnRpdGxlfVxuICAgICAgICAgICAgc3VidGl0bGU9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci5zdWJ0aXRsZX1cbiAgICAgICAgICAgIGxpbmtfdGV4dD17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmxpbmtfdGV4dH1cbiAgICAgICAgICAgIGxpbmtfdXJsPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIubGlua191cmx9XG4gICAgICAgICAgICBpY29uPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIuaWNvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIlNlY3Rpb25UaXRsZVwiOlxuICAgICAgICByZXR1cm4gPFNlY3Rpb25UaXRsZSBoZWFkZXI9e2NvbXBvbmVudC5oZWFkZXJ9IC8+O1xuICAgICAgY2FzZSBcIk5hdmlnYXRpb25cIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TmF2aWdhdGlvblxuICAgICAgICAgICAgbGlua3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmxpbmtzfVxuICAgICAgICAgICAgYWxpZ25tZW50PXtjb21wb25lbnQucHJvcGVydGllcy5hbGlnbm1lbnR9XG4gICAgICAgICAgICBoZWFkZXI9e2NvbXBvbmVudC5oZWFkZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJDYXJkR3JpZFwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxDYXJkR3JpZFxuICAgICAgICAgICAgdGl0bGU9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci50aXRsZX1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgICAgZmVlZD17Y29tcG9uZW50LmZlZWR9XG4gICAgICAgICAgICBib3JkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlcn1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpdGVtcz17Y29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXN9XG4gICAgICAgICAgICBjdGFfdmFyaWFudD17Y29tcG9uZW50LmN0YV92YXJpYW50fVxuICAgICAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17RU5HQUdFTUVOVF9MQUJFTF9FTkFCTEVEfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiSGVyb1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxIZXJvXG4gICAgICAgICAgICBzdWJDb21wb25lbnRUeXBlPXtlbWJlZFdpZHRoID49IDkgPyBgY2FyZHNgIDogYGxpc3RgfVxuICAgICAgICAgICAgZmVlZD17Y29tcG9uZW50LmZlZWR9XG4gICAgICAgICAgICB0aXRsZT17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLnRpdGxlfVxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICBib3JkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlcn1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpdGVtcz17Y29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJIb3Jpem9udGFsUnVsZVwiOlxuICAgICAgICByZXR1cm4gPEhvcml6b250YWxSdWxlIC8+O1xuICAgICAgY2FzZSBcIkxpc3RcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlzdFxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICBmZWVkPXtjb21wb25lbnQuZmVlZH1cbiAgICAgICAgICAgIGZ1bGxXaWR0aD17Y29tcG9uZW50LnByb3BlcnRpZXMuZnVsbF93aWR0aH1cbiAgICAgICAgICAgIGhhc0JvcmRlcnM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlciA9PT0gXCJib3JkZXJcIn1cbiAgICAgICAgICAgIGhhc0ltYWdlcz17Y29tcG9uZW50LnByb3BlcnRpZXMuaGFzX2ltYWdlc31cbiAgICAgICAgICAgIGhhc051bWJlcnM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmhhc19udW1iZXJzfVxuICAgICAgICAgICAgaXRlbXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zfVxuICAgICAgICAgICAgdHlwZT17Y29tcG9uZW50LnR5cGV9XG4gICAgICAgICAgICBoZWFkZXI9e2NvbXBvbmVudC5oZWFkZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8ZGl2Pntjb21wb25lbnQudHlwZX08L2Rpdj47XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyU3R5bGVzKHN0eWxlcykge1xuICAgIC8vIFVzZSBqc29uIHN0cmluZyBhcyBib3RoIHRoZSBrZXkgYW5kIHN0eWxlcyB0byByZW5kZXIgc28gUmVhY3Qga25vd3Mgd2hlblxuICAgIC8vIHRvIHVubW91bnQgYW5kIG1vdW50IGEgbmV3IGluc3RhbmNlIGZvciBuZXcgc3R5bGVzLlxuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShzdHlsZXMpO1xuICAgIHJldHVybiA8c3R5bGUga2V5PXtqc29ufSBkYXRhLXN0eWxlcz17anNvbn0gcmVmPXt0aGlzLm9uU3R5bGVNb3VudH0gLz47XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG9sZFByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtLmxheW91dCAhPT0gb2xkUHJvcHMuRGlzY292ZXJ5U3RyZWFtLmxheW91dCkge1xuICAgICAgcm9sbENhY2hlID0gW107XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIFNlbGVjdCBsYXlvdXQgcmVuZGVyIGRhdGEgYnkgYWRkaW5nIHNwb2NzIGFuZCBwb3NpdGlvbiB0byByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCB7IGxheW91dFJlbmRlciwgc3BvY3NGaWxsIH0gPSBzZWxlY3RMYXlvdXRSZW5kZXIoe1xuICAgICAgc3RhdGU6IHRoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtLFxuICAgICAgcHJlZnM6IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzLFxuICAgICAgcm9sbENhY2hlLFxuICAgICAgbGFuZzogdGhpcy5wcm9wcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyxcbiAgICB9KTtcbiAgICBjb25zdCB7IGNvbmZpZywgc3BvY3MsIGZlZWRzIH0gPSB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbTtcblxuICAgIC8vIFNlbmQgU1BPQ1MgRmlsbCBpZiBhbnkuIE5vdGUgdGhhdCBpdCBzaG91bGQgbm90IHNlbmQgaXQgYWdhaW4gaWYgdGhlIHNhbWVcbiAgICAvLyBwYWdlIGdldHMgcmUtcmVuZGVyZWQgYnkgc3RhdGUgY2hhbmdlcy5cbiAgICBpZiAoXG4gICAgICBzcG9jcy5sb2FkZWQgJiZcbiAgICAgIGZlZWRzLmxvYWRlZCAmJlxuICAgICAgc3BvY3NGaWxsLmxlbmd0aCAmJlxuICAgICAgIXRoaXMuX3Nwb2NzRmlsbFNlbnRcbiAgICApIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVNwb2NzRmlsbCh7IHNwb2NfZmlsbHM6IHNwb2NzRmlsbCB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3Nwb2NzRmlsbFNlbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFsbG93IHJlbmRlcmluZyB3aXRob3V0IGV4dHJhY3Rpbmcgc3BlY2lhbCBjb21wb25lbnRzXG4gICAgaWYgKCFjb25maWcuY29sbGFwc2libGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlckxheW91dChsYXlvdXRSZW5kZXIpO1xuICAgIH1cblxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IGNvbXBvbmVudCBvZiBhIHR5cGUgYW5kIHJlbW92ZSBpdCBmcm9tIGxheW91dFxuICAgIGNvbnN0IGV4dHJhY3RDb21wb25lbnQgPSB0eXBlID0+IHtcbiAgICAgIGZvciAoY29uc3QgW3Jvd0luZGV4LCByb3ddIG9mIE9iamVjdC5lbnRyaWVzKGxheW91dFJlbmRlcikpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNvbXBvbmVudF0gb2YgT2JqZWN0LmVudHJpZXMocm93LmNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC50eXBlID09PSB0eXBlKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJvdyBpZiBpdCB3YXMgdGhlIG9ubHkgY29tcG9uZW50IG9yIHRoZSBzaW5nbGUgaXRlbVxuICAgICAgICAgICAgaWYgKHJvdy5jb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICBsYXlvdXRSZW5kZXIuc3BsaWNlKHJvd0luZGV4LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJvdy5jb21wb25lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8vIEdldCBcInRvcHN0b3JpZXNcIiBTZWN0aW9uIHN0YXRlIGZvciBkZWZhdWx0IHZhbHVlc1xuICAgIGNvbnN0IHRvcFN0b3JpZXMgPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBcInRvcHN0b3JpZXNcIik7XG5cbiAgICBpZiAoIXRvcFN0b3JpZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgVG9wU2l0ZXMgdG8gcmVuZGVyIGJlZm9yZSB0aGUgcmVzdCBhbmQgTWVzc2FnZSB0byB1c2UgZm9yIGhlYWRlclxuICAgIGNvbnN0IHRvcFNpdGVzID0gZXh0cmFjdENvbXBvbmVudChcIlRvcFNpdGVzXCIpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBleHRyYWN0Q29tcG9uZW50KFwiTWVzc2FnZVwiKSB8fCB7XG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgbGlua190ZXh0OiB0b3BTdG9yaWVzLmxlYXJuTW9yZS5saW5rLm1lc3NhZ2UsXG4gICAgICAgIGxpbmtfdXJsOiB0b3BTdG9yaWVzLmxlYXJuTW9yZS5saW5rLmhyZWYsXG4gICAgICAgIHRpdGxlOiB0b3BTdG9yaWVzLnRpdGxlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gUmVuZGVyIGEgRFMtc3R5bGUgVG9wU2l0ZXMgdGhlbiB0aGUgcmVzdCBpZiBhbnkgaW4gYSBjb2xsYXBzaWJsZSBzZWN0aW9uXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAge3RoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtLmlzUHJpdmFjeUluZm9Nb2RhbFZpc2libGUgJiYgKFxuICAgICAgICAgIDxEU1ByaXZhY3lNb2RhbCBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH0gLz5cbiAgICAgICAgKX1cbiAgICAgICAge3RvcFNpdGVzICYmXG4gICAgICAgICAgdGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICAgIGNvbXBvbmVudHM6IFt0b3BTaXRlc10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pfVxuICAgICAgICB7ISFsYXlvdXRSZW5kZXIubGVuZ3RoICYmIChcbiAgICAgICAgICA8Q29sbGFwc2libGVTZWN0aW9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1sYXlvdXRcIlxuICAgICAgICAgICAgY29sbGFwc2VkPXt0b3BTdG9yaWVzLnByZWYuY29sbGFwc2VkfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpY29uPXt0b3BTdG9yaWVzLmljb259XG4gICAgICAgICAgICBpZD17dG9wU3Rvcmllcy5pZH1cbiAgICAgICAgICAgIGlzRml4ZWQ9e3RydWV9XG4gICAgICAgICAgICBsZWFybk1vcmU9e3tcbiAgICAgICAgICAgICAgbGluazoge1xuICAgICAgICAgICAgICAgIGhyZWY6IG1lc3NhZ2UuaGVhZGVyLmxpbmtfdXJsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UuaGVhZGVyLmxpbmtfdGV4dCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBwcml2YWN5Tm90aWNlVVJMPXt0b3BTdG9yaWVzLnByaXZhY3lOb3RpY2VVUkx9XG4gICAgICAgICAgICBzaG93UHJlZk5hbWU9e3RvcFN0b3JpZXMucHJlZi5mZWVkfVxuICAgICAgICAgICAgdGl0bGU9e21lc3NhZ2UuaGVhZGVyLnRpdGxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckxheW91dChsYXlvdXRSZW5kZXIpfVxuICAgICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgICApfVxuICAgICAgICB7dGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFt7IHR5cGU6IFwiSGlnaGxpZ2h0c1wiIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTGF5b3V0KGxheW91dFJlbmRlcikge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpc2NvdmVyeS1zdHJlYW0gZHMtbGF5b3V0XCI+XG4gICAgICAgIHtsYXlvdXRSZW5kZXIubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAga2V5PXtgcm93LSR7cm93SW5kZXh9YH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGRzLWNvbHVtbiBkcy1jb2x1bW4tJHtyb3cud2lkdGh9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNvbHVtbi1ncmlkXCI+XG4gICAgICAgICAgICAgIHtyb3cuY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0eWxlc1tyb3dJbmRleF0gPSBbXG4gICAgICAgICAgICAgICAgICAuLi4oc3R5bGVzW3Jvd0luZGV4XSB8fCBbXSksXG4gICAgICAgICAgICAgICAgICBjb21wb25lbnQuc3R5bGVzLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgY29tcG9uZW50LSR7Y29tcG9uZW50SW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIHJvdy53aWR0aCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAge3RoaXMucmVuZGVyU3R5bGVzKHN0eWxlcyl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEaXNjb3ZlcnlTdHJlYW1CYXNlID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQsXG59KSkoX0Rpc2NvdmVyeVN0cmVhbUJhc2UpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRFNDYXJkLCBQbGFjZWhvbGRlckRTQ2FyZCB9IGZyb20gXCIuLi9EU0NhcmQvRFNDYXJkLmpzeFwiO1xuaW1wb3J0IHsgRFNFbXB0eVN0YXRlIH0gZnJvbSBcIi4uL0RTRW1wdHlTdGF0ZS9EU0VtcHR5U3RhdGUuanN4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkR3JpZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXJDYXJkcygpIHtcbiAgICBjb25zdCByZWNzID0gdGhpcy5wcm9wcy5kYXRhLnJlY29tbWVuZGF0aW9ucy5zbGljZSgwLCB0aGlzLnByb3BzLml0ZW1zKTtcbiAgICBjb25zdCBjYXJkcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucHJvcHMuaXRlbXM7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHJlYyA9IHJlY3NbaW5kZXhdO1xuICAgICAgY2FyZHMucHVzaChcbiAgICAgICAgIXJlYyB8fCByZWMucGxhY2Vob2xkZXIgPyAoXG4gICAgICAgICAgPFBsYWNlaG9sZGVyRFNDYXJkIGtleT17YGRzY2FyZC0ke2luZGV4fWB9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPERTQ2FyZFxuICAgICAgICAgICAga2V5PXtgZHNjYXJkLSR7cmVjLmlkfWB9XG4gICAgICAgICAgICBwb3M9e3JlYy5wb3N9XG4gICAgICAgICAgICBmbGlnaHRJZD17cmVjLmZsaWdodF9pZH1cbiAgICAgICAgICAgIGltYWdlX3NyYz17cmVjLmltYWdlX3NyY31cbiAgICAgICAgICAgIHJhd19pbWFnZV9zcmM9e3JlYy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgdGl0bGU9e3JlYy50aXRsZX1cbiAgICAgICAgICAgIGV4Y2VycHQ9e3JlYy5leGNlcnB0fVxuICAgICAgICAgICAgdXJsPXtyZWMudXJsfVxuICAgICAgICAgICAgaWQ9e3JlYy5pZH1cbiAgICAgICAgICAgIHNoaW09e3JlYy5zaGltfVxuICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICBzcG9uc29yPXtyZWMuc3BvbnNvcn1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXtyZWMuZG9tYWlufVxuICAgICAgICAgICAgcG9ja2V0X2lkPXtyZWMucG9ja2V0X2lkfVxuICAgICAgICAgICAgY29udGV4dF90eXBlPXtyZWMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgYm9va21hcmtHdWlkPXtyZWMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgZW5nYWdlbWVudD17cmVjLmVuZ2FnZW1lbnR9XG4gICAgICAgICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzPXt0aGlzLnByb3BzLmRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgICAgICBjdGE9e3JlYy5jdGF9XG4gICAgICAgICAgICBjdGFfdmFyaWFudD17dGhpcy5wcm9wcy5jdGFfdmFyaWFudH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBkaXZpc2liaWxpdHkgPSBgYDtcblxuICAgIGlmICh0aGlzLnByb3BzLml0ZW1zICUgNCA9PT0gMCkge1xuICAgICAgZGl2aXNpYmlsaXR5ID0gYGRpdmlzaWJsZS1ieS00YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaXRlbXMgJSAzID09PSAwKSB7XG4gICAgICBkaXZpc2liaWxpdHkgPSBgZGl2aXNpYmxlLWJ5LTNgO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGRzLWNhcmQtZ3JpZCBkcy1jYXJkLWdyaWQtJHtcbiAgICAgICAgICB0aGlzLnByb3BzLmJvcmRlclxuICAgICAgICB9IGRzLWNhcmQtZ3JpZC0ke2RpdmlzaWJpbGl0eX1gfVxuICAgICAgPlxuICAgICAgICB7Y2FyZHN9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIEhhbmRsZSBhIHJlbmRlciBiZWZvcmUgZmVlZCBoYXMgYmVlbiBmZXRjaGVkIGJ5IGRpc3BsYXlpbmcgbm90aGluZ1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGEgdXNlciBoYXMgZGlzbWlzc2VkIGFsbCByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCBpc0VtcHR5ID0gZGF0YS5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoID09PSAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLnByb3BzLnRpdGxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWhlYWRlclwiPnt0aGlzLnByb3BzLnRpdGxlfTwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7aXNFbXB0eSA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNhcmQtZ3JpZCBlbXB0eVwiPlxuICAgICAgICAgICAgPERTRW1wdHlTdGF0ZVxuICAgICAgICAgICAgICBzdGF0dXM9e2RhdGEuc3RhdHVzfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgZmVlZD17dGhpcy5wcm9wcy5mZWVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICB0aGlzLnJlbmRlckNhcmRzKClcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuQ2FyZEdyaWQuZGVmYXVsdFByb3BzID0ge1xuICBib3JkZXI6IGBib3JkZXJgLFxuICBpdGVtczogNCwgLy8gTnVtYmVyIG9mIHN0b3JpZXMgdG8gZGlzcGxheVxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgRFNJbWFnZSB9IGZyb20gXCIuLi9EU0ltYWdlL0RTSW1hZ2UuanN4XCI7XG5pbXBvcnQgeyBEU0xpbmtNZW51IH0gZnJvbSBcIi4uL0RTTGlua01lbnUvRFNMaW5rTWVudVwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBEU0NvbnRleHRGb290ZXIgfSBmcm9tIFwiLi4vRFNDb250ZXh0Rm9vdGVyL0RTQ29udGV4dEZvb3Rlci5qc3hcIjtcblxuLy8gRGVmYXVsdCBNZXRhIHRoYXQgZGlzcGxheXMgQ1RBIGFzIGxpbmsgaWYgY3RhX3ZhcmlhbnQgaW4gbGF5b3V0IGlzIHNldCBhcyBcImxpbmtcIlxuZXhwb3J0IGNvbnN0IERlZmF1bHRNZXRhID0gKHtcbiAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgc291cmNlLFxuICB0aXRsZSxcbiAgZXhjZXJwdCxcbiAgY29udGV4dCxcbiAgY29udGV4dF90eXBlLFxuICBjdGEsXG4gIGVuZ2FnZW1lbnQsXG4gIGN0YV92YXJpYW50LFxufSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8td3JhcFwiPlxuICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wXCI+e3NvdXJjZX08L3A+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInRpdGxlIGNsYW1wXCI+e3RpdGxlfTwvaGVhZGVyPlxuICAgICAge2V4Y2VycHQgJiYgPHAgY2xhc3NOYW1lPVwiZXhjZXJwdCBjbGFtcFwiPntleGNlcnB0fTwvcD59XG4gICAgICB7Y3RhX3ZhcmlhbnQgPT09IFwibGlua1wiICYmIGN0YSAmJiAoXG4gICAgICAgIDxkaXYgcm9sZT1cImxpbmtcIiBjbGFzc05hbWU9XCJjdGEtbGluayBpY29uIGljb24tYXJyb3dcIiB0YWJJbmRleD1cIjBcIj5cbiAgICAgICAgICB7Y3RhfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICAgPERTQ29udGV4dEZvb3RlclxuICAgICAgY29udGV4dF90eXBlPXtjb250ZXh0X3R5cGV9XG4gICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17ZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVsc31cbiAgICAgIGVuZ2FnZW1lbnQ9e2VuZ2FnZW1lbnR9XG4gICAgLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY29uc3QgQ1RBQnV0dG9uTWV0YSA9ICh7XG4gIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMsXG4gIHNvdXJjZSxcbiAgdGl0bGUsXG4gIGV4Y2VycHQsXG4gIGNvbnRleHQsXG4gIGNvbnRleHRfdHlwZSxcbiAgY3RhLFxuICBlbmdhZ2VtZW50LFxuICBzcG9uc29yLFxufSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8td3JhcFwiPlxuICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wXCI+XG4gICAgICAgIHtzcG9uc29yID8gc3BvbnNvciA6IHNvdXJjZX1cbiAgICAgICAge2NvbnRleHQgJiYgYCDCtyBTcG9uc29yZWRgfVxuICAgICAgPC9wPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJ0aXRsZSBjbGFtcFwiPnt0aXRsZX08L2hlYWRlcj5cbiAgICAgIHtleGNlcnB0ICYmIDxwIGNsYXNzTmFtZT1cImV4Y2VycHQgY2xhbXBcIj57ZXhjZXJwdH08L3A+fVxuICAgIDwvZGl2PlxuICAgIHtjb250ZXh0ICYmIGN0YSAmJiA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvbiBjdGEtYnV0dG9uXCI+e2N0YX08L2J1dHRvbj59XG4gICAgeyFjb250ZXh0ICYmIChcbiAgICAgIDxEU0NvbnRleHRGb290ZXJcbiAgICAgICAgY29udGV4dF90eXBlPXtjb250ZXh0X3R5cGV9XG4gICAgICAgIGNvbnRleHQ9e2NvbnRleHR9XG4gICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e2Rpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgIGVuZ2FnZW1lbnQ9e2VuZ2FnZW1lbnR9XG4gICAgICAvPlxuICAgICl9XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGNsYXNzIERTQ2FyZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlclJlZiA9IGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5wbGFjZWhvbGRlckVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNTZWVuOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25MaW5rQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICB2YWx1ZTogeyBjYXJkX3R5cGU6IHRoaXMucHJvcHMuZmxpZ2h0SWQgPyBcInNwb2NcIiA6IFwib3JnYW5pY1wiIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNoaW0gJiYgdGhpcy5wcm9wcy5zaGltLmNsaWNrXG4gICAgICAgICAgICAgICAgPyB7IHNoaW06IHRoaXMucHJvcHMuc2hpbS5jbGljayB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VlbihlbnRyaWVzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcy5maW5kKGUgPT4gZS5pc0ludGVyc2VjdGluZyk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9wIG9ic2VydmluZyBzaW5jZSBlbGVtZW50IGhhcyBiZWVuIHNlZW5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTZWVuOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbklkbGVDYWxsYmFjaygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNTZWVuKSB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlciAmJiB0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNTZWVuOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5pZGxlQ2FsbGJhY2tJZCA9IHRoaXMucHJvcHMud2luZG93T2JqLnJlcXVlc3RJZGxlQ2FsbGJhY2soXG4gICAgICB0aGlzLm9uSWRsZUNhbGxiYWNrLmJpbmQodGhpcylcbiAgICApO1xuICAgIGlmICh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uU2Vlbi5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgLy8gUmVtb3ZlIG9ic2VydmVyIG9uIHVubW91bnRcbiAgICBpZiAodGhpcy5vYnNlcnZlciAmJiB0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZGxlQ2FsbGJhY2tJZCkge1xuICAgICAgdGhpcy5wcm9wcy53aW5kb3dPYmouY2FuY2VsSWRsZUNhbGxiYWNrKHRoaXMuaWRsZUNhbGxiYWNrSWQpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCAhdGhpcy5zdGF0ZS5pc1NlZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY2FyZCBwbGFjZWhvbGRlclwiIHJlZj17dGhpcy5zZXRQbGFjZWhvbGRlclJlZn0gLz5cbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGlzQnV0dG9uQ1RBID0gdGhpcy5wcm9wcy5jdGFfdmFyaWFudCA9PT0gXCJidXR0b25cIjtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNhcmRcIj5cbiAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jYXJkLWxpbmtcIlxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIG9uTGlua0NsaWNrPXshdGhpcy5wcm9wcy5wbGFjZWhvbGRlciA/IHRoaXMub25MaW5rQ2xpY2sgOiB1bmRlZmluZWR9XG4gICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxEU0ltYWdlXG4gICAgICAgICAgICAgIGV4dHJhQ2xhc3NOYW1lcz1cImltZ1wiXG4gICAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5pbWFnZV9zcmN9XG4gICAgICAgICAgICAgIHJhd1NvdXJjZT17dGhpcy5wcm9wcy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7aXNCdXR0b25DVEEgPyAoXG4gICAgICAgICAgICA8Q1RBQnV0dG9uTWV0YVxuICAgICAgICAgICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzPXt0aGlzLnByb3BzLmRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5zb3VyY2V9XG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgICBleGNlcnB0PXt0aGlzLnByb3BzLmV4Y2VycHR9XG4gICAgICAgICAgICAgIGNvbnRleHQ9e3RoaXMucHJvcHMuY29udGV4dH1cbiAgICAgICAgICAgICAgY29udGV4dF90eXBlPXt0aGlzLnByb3BzLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgICAgZW5nYWdlbWVudD17dGhpcy5wcm9wcy5lbmdhZ2VtZW50fVxuICAgICAgICAgICAgICBjdGE9e3RoaXMucHJvcHMuY3RhfVxuICAgICAgICAgICAgICBzcG9uc29yPXt0aGlzLnByb3BzLnNwb25zb3J9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8RGVmYXVsdE1ldGFcbiAgICAgICAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17dGhpcy5wcm9wcy5kaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzfVxuICAgICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgICAgICAgZXhjZXJwdD17dGhpcy5wcm9wcy5leGNlcnB0fVxuICAgICAgICAgICAgICBjb250ZXh0PXt0aGlzLnByb3BzLmNvbnRleHR9XG4gICAgICAgICAgICAgIGVuZ2FnZW1lbnQ9e3RoaXMucHJvcHMuZW5nYWdlbWVudH1cbiAgICAgICAgICAgICAgY29udGV4dF90eXBlPXt0aGlzLnByb3BzLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgICAgY3RhPXt0aGlzLnByb3BzLmN0YX1cbiAgICAgICAgICAgICAgY3RhX3ZhcmlhbnQ9e3RoaXMucHJvcHMuY3RhX3ZhcmlhbnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgZmxpZ2h0SWQ9e3RoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgICAgICByb3dzPXtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMucG9zLFxuICAgICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNoaW0gJiYgdGhpcy5wcm9wcy5zaGltLmltcHJlc3Npb25cbiAgICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uaW1wcmVzc2lvbiB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgPERTTGlua01lbnVcbiAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICBpbmRleD17dGhpcy5wcm9wcy5wb3N9XG4gICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICBwb2NrZXRfaWQ9e3RoaXMucHJvcHMucG9ja2V0X2lkfVxuICAgICAgICAgIHNoaW09e3RoaXMucHJvcHMuc2hpbX1cbiAgICAgICAgICBib29rbWFya0d1aWQ9e3RoaXMucHJvcHMuYm9va21hcmtHdWlkfVxuICAgICAgICAgIGZsaWdodElkPXt0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5EU0NhcmQuZGVmYXVsdFByb3BzID0ge1xuICB3aW5kb3dPYmo6IHdpbmRvdywgLy8gQWRkZWQgdG8gc3VwcG9ydCB1bml0IHRlc3RzXG59O1xuXG5leHBvcnQgY29uc3QgUGxhY2Vob2xkZXJEU0NhcmQgPSBwcm9wcyA9PiA8RFNDYXJkIHBsYWNlaG9sZGVyPXt0cnVlfSAvPjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5cbmV4cG9ydCBjbGFzcyBEU0ltYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5vbk9wdGltaXplZEltYWdlRXJyb3IgPSB0aGlzLm9uT3B0aW1pemVkSW1hZ2VFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yID0gdGhpcy5vbk5vbk9wdGltaXplZEltYWdlRXJyb3IuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1NlZW46IGZhbHNlLFxuICAgICAgb3B0aW1pemVkSW1hZ2VGYWlsZWQ6IGZhbHNlLFxuICAgICAgdXNlVHJhbnNpdGlvbjogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIG9uU2VlbihlbnRyaWVzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcy5maW5kKGUgPT4gZS5pc0ludGVyc2VjdGluZyk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpbWl6ZSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgLy8gVGh1bWJvciBkb2Vzbid0IGhhbmRsZSBzdWJwaXhlbHMgYW5kIGp1c3QgZXJyb3JzIG91dCwgc28gcm91bmRpbmcuLi5cbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoOiBNYXRoLnJvdW5kKGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCksXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQ6IE1hdGgucm91bmQoZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1NlZW46IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFN0b3Agb2JzZXJ2aW5nIHNpbmNlIGVsZW1lbnQgaGFzIGJlZW4gc2VlblxuICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZShSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25JZGxlQ2FsbGJhY2soKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzU2Vlbikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHVzZVRyYW5zaXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZWZvcm1hdEltYWdlVVJMKHVybCwgd2lkdGgsIGhlaWdodCkge1xuICAgIC8vIENoYW5nZSB0aGUgaW1hZ2UgVVJMIHRvIHJlcXVlc3QgYSBzaXplIHRhaWxvcmVkIGZvciB0aGUgcGFyZW50IGNvbnRhaW5lciB3aWR0aFxuICAgIC8vIEFsc286IGZvcmNlIEpQRUcsIHF1YWxpdHkgNjAsIG5vIHVwc2NhbGluZywgbm8gRVhJRiBkYXRhXG4gICAgLy8gVXNlcyBUaHVtYm9yOiBodHRwczovL3RodW1ib3IucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L3VzYWdlLmh0bWxcbiAgICByZXR1cm4gYGh0dHBzOi8vaW1nLWdldHBvY2tldC5jZG4ubW96aWxsYS5uZXQvJHt3aWR0aH14JHtoZWlnaHR9L2ZpbHRlcnM6Zm9ybWF0KGpwZWcpOnF1YWxpdHkoNjApOm5vX3Vwc2NhbGUoKTpzdHJpcF9leGlmKCkvJHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICB1cmxcbiAgICApfWA7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmlkbGVDYWxsYmFja0lkID0gdGhpcy5wcm9wcy53aW5kb3dPYmoucmVxdWVzdElkbGVDYWxsYmFjayhcbiAgICAgIHRoaXMub25JZGxlQ2FsbGJhY2suYmluZCh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uU2Vlbi5iaW5kKHRoaXMpLCB7XG4gICAgICAvLyBBc3N1bWUgYW4gaW1hZ2Ugd2lsbCBiZSBldmVudHVhbGx5IHNlZW4gaWYgaXQgaXMgd2l0aGluXG4gICAgICAvLyBoYWxmIHRoZSBhdmVyYWdlIERlc2t0b3AgdmVydGljYWwgc2NyZWVuIHNpemU6XG4gICAgICAvLyBodHRwOi8vZ3Muc3RhdGNvdW50ZXIuY29tL3NjcmVlbi1yZXNvbHV0aW9uLXN0YXRzL2Rlc2t0b3Avbm9ydGgtYW1lcmljYVxuICAgICAgcm9vdE1hcmdpbjogYDU0MHB4YCxcbiAgICB9KTtcbiAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUoUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgLy8gUmVtb3ZlIG9ic2VydmVyIG9uIHVubW91bnRcbiAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUoUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZGxlQ2FsbGJhY2tJZCkge1xuICAgICAgdGhpcy5wcm9wcy53aW5kb3dPYmouY2FuY2VsSWRsZUNhbGxiYWNrKHRoaXMuaWRsZUNhbGxiYWNrSWQpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lcyA9IGBkcy1pbWFnZVxuICAgICAgJHt0aGlzLnByb3BzLmV4dHJhQ2xhc3NOYW1lcyA/IGAgJHt0aGlzLnByb3BzLmV4dHJhQ2xhc3NOYW1lc31gIDogYGB9XG4gICAgICAke3RoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS51c2VUcmFuc2l0aW9uID8gYCB1c2UtdHJhbnNpdGlvbmAgOiBgYH1cbiAgICAgICR7dGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmlzU2VlbiA/IGAgbG9hZGVkYCA6IGBgfVxuICAgIGA7XG5cbiAgICBsZXQgaW1nO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5pc1NlZW4pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpbWl6ZSAmJlxuICAgICAgICB0aGlzLnByb3BzLnJhd1NvdXJjZSAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5vcHRpbWl6ZWRJbWFnZUZhaWxlZFxuICAgICAgKSB7XG4gICAgICAgIGxldCBzb3VyY2U7XG4gICAgICAgIGxldCBzb3VyY2UyeDtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgICAgbGV0IGJhc2VTb3VyY2UgPSB0aGlzLnByb3BzLnJhd1NvdXJjZTtcblxuICAgICAgICAgIHNvdXJjZSA9IHRoaXMucmVmb3JtYXRJbWFnZVVSTChcbiAgICAgICAgICAgIGJhc2VTb3VyY2UsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNvbnRhaW5lcldpZHRoLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb250YWluZXJIZWlnaHRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgc291cmNlMnggPSB0aGlzLnJlZm9ybWF0SW1hZ2VVUkwoXG4gICAgICAgICAgICBiYXNlU291cmNlLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb250YWluZXJXaWR0aCAqIDIsXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNvbnRhaW5lckhlaWdodCAqIDJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaW1nID0gKFxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBhbHQ9e3RoaXMucHJvcHMuYWx0X3RleHR9XG4gICAgICAgICAgICAgIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCJcbiAgICAgICAgICAgICAgb25FcnJvcj17dGhpcy5vbk9wdGltaXplZEltYWdlRXJyb3J9XG4gICAgICAgICAgICAgIHNyYz17c291cmNlfVxuICAgICAgICAgICAgICBzcmNTZXQ9e2Ake3NvdXJjZTJ4fSAyeGB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUubm9uT3B0aW1pemVkSW1hZ2VGYWlsZWQpIHtcbiAgICAgICAgaW1nID0gKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGFsdD17dGhpcy5wcm9wcy5hbHRfdGV4dH1cbiAgICAgICAgICAgIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCJcbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMub25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yfVxuICAgICAgICAgICAgc3JjPXt0aGlzLnByb3BzLnNvdXJjZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBpbWcgZWxlbWVudCBpZiBib3RoIHNvdXJjZXMgZmFpbC4gUmVuZGVyIGEgcGxhY2Vob2xkZXIgaW5zdGVhZC5cbiAgICAgICAgaW1nID0gPGRpdiBjbGFzc05hbWU9XCJicm9rZW4taW1hZ2VcIiAvPjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gPHBpY3R1cmUgY2xhc3NOYW1lPXtjbGFzc05hbWVzfT57aW1nfTwvcGljdHVyZT47XG4gIH1cblxuICBvbk9wdGltaXplZEltYWdlRXJyb3IoKSB7XG4gICAgLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSByZS1yZW5kZXIgYW5kIHRoZSB1bm9wdGltaXplZCA0NTBweCBpbWFnZSB3aWxsIGJlIHVzZWQgYXMgYSBmYWxsYmFja1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3B0aW1pemVkSW1hZ2VGYWlsZWQ6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvbk5vbk9wdGltaXplZEltYWdlRXJyb3IoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBub25PcHRpbWl6ZWRJbWFnZUZhaWxlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG5EU0ltYWdlLmRlZmF1bHRQcm9wcyA9IHtcbiAgc291cmNlOiBudWxsLCAvLyBUaGUgY3VycmVudCBzb3VyY2Ugc3R5bGUgZnJvbSBQb2NrZXQgQVBJIChhbHdheXMgNDUwcHgpXG4gIHJhd1NvdXJjZTogbnVsbCwgLy8gVW5hZHVsdGVyYXRlZCBpbWFnZSBVUkwgdG8gZmlsdGVyIHRocm91Z2ggVGh1bWJvclxuICBleHRyYUNsYXNzTmFtZXM6IG51bGwsIC8vIEFkZGl0aW9uYWwgY2xhc3NuYW1lcyB0byBhcHBlbmQgdG8gY29tcG9uZW50XG4gIG9wdGltaXplOiB0cnVlLCAvLyBNZWFzdXJlIHBhcmVudCBjb250YWluZXIgdG8gcmVxdWVzdCBleGFjdCBzaXplc1xuICBhbHRfdGV4dDogbnVsbCxcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIERTTGlua01lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbk1lbnVVcGRhdGUgPSB0aGlzLm9uTWVudVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51U2hvdyA9IHRoaXMub25NZW51U2hvdy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY29udGV4dE1lbnVCdXR0b25SZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgfVxuXG4gIG9uTWVudVVwZGF0ZShzaG93Q29udGV4dE1lbnUpIHtcbiAgICBpZiAoIXNob3dDb250ZXh0TWVudSkge1xuICAgICAgY29uc3QgZHNMaW5rTWVudUhvc3REaXYgPSB0aGlzLmNvbnRleHRNZW51QnV0dG9uUmVmLmN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgIGRzTGlua01lbnVIb3N0RGl2LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiLCBcImxhc3QtaXRlbVwiKTtcbiAgICB9XG4gIH1cblxuICBuZXh0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT5cbiAgICAgIHRoaXMucHJvcHMud2luZG93T2JqLnJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlKVxuICAgICk7XG4gIH1cblxuICBhc3luYyBvbk1lbnVTaG93KCkge1xuICAgIGNvbnN0IGRzTGlua01lbnVIb3N0RGl2ID0gdGhpcy5jb250ZXh0TWVudUJ1dHRvblJlZi5jdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgLy8gV2FpdCBmb3IgbmV4dCBmcmFtZSBiZWZvcmUgY29tcHV0aW5nIHNjcm9sbE1heFggdG8gYWxsb3cgZmx1ZW50IG1lbnUgc3RyaW5ncyB0byBiZSB2aXNpYmxlXG4gICAgYXdhaXQgdGhpcy5uZXh0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICBpZiAodGhpcy5wcm9wcy53aW5kb3dPYmouc2Nyb2xsTWF4WCA+IDApIHtcbiAgICAgIGRzTGlua01lbnVIb3N0RGl2LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImxhc3QtaXRlbVwiKTtcbiAgICB9XG4gICAgZHNMaW5rTWVudUhvc3REaXYucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaW5kZXgsIGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IFRPUF9TVE9SSUVTX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICAgICAgXCJDaGVja0Jvb2ttYXJrT3JBcmNoaXZlXCIsXG4gICAgICBcIkNoZWNrU2F2ZWRUb1BvY2tldFwiLFxuICAgICAgXCJTZXBhcmF0b3JcIixcbiAgICAgIFwiT3BlbkluTmV3V2luZG93XCIsXG4gICAgICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgICAgIFwiU2VwYXJhdG9yXCIsXG4gICAgICBcIkJsb2NrVXJsXCIsXG4gICAgICAuLi4odGhpcy5wcm9wcy5mbGlnaHRJZCA/IFtcIlNob3dQcml2YWN5SW5mb1wiXSA6IFtdKSxcbiAgICBdO1xuICAgIGNvbnN0IHR5cGUgPSB0aGlzLnByb3BzLnR5cGUgfHwgXCJESVNDT1ZFUllfU1RSRUFNXCI7XG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLnByb3BzLnRpdGxlIHx8IHRoaXMucHJvcHMuc291cmNlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgIHJlZkZ1bmN0aW9uPXt0aGlzLmNvbnRleHRNZW51QnV0dG9uUmVmfVxuICAgICAgICAgIHRvb2x0aXA9e1wibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJ9XG4gICAgICAgICAgdG9vbHRpcEFyZ3M9e3sgdGl0bGUgfX1cbiAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgID5cbiAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIHNvdXJjZT17dHlwZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgb25TaG93PXt0aGlzLm9uTWVudVNob3d9XG4gICAgICAgICAgICBvcHRpb25zPXtUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OU31cbiAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgIHJlZmVycmVyOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9yZWNvbW1lbmRhdGlvbnNcIixcbiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGl0bGUsXG4gICAgICAgICAgICAgIHR5cGU6IHRoaXMucHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnByb3BzLnVybCxcbiAgICAgICAgICAgICAgZ3VpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgcG9ja2V0X2lkOiB0aGlzLnByb3BzLnBvY2tldF9pZCxcbiAgICAgICAgICAgICAgc2hpbTogdGhpcy5wcm9wcy5zaGltLFxuICAgICAgICAgICAgICBib29rbWFya0d1aWQ6IHRoaXMucHJvcHMuYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgICBmbGlnaHRfaWQ6IHRoaXMucHJvcHMuZmxpZ2h0SWQsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkRTTGlua01lbnUuZGVmYXVsdFByb3BzID0ge1xuICB3aW5kb3dPYmo6IHdpbmRvdywgLy8gQWRkZWQgdG8gc3VwcG9ydCB1bml0IHRlc3RzXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51XCI7XG5pbXBvcnQgeyBMaW5rTWVudU9wdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2xpbmstbWVudS1vcHRpb25zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IERFRkFVTFRfU0lURV9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiRWRpdFRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbl07XG5cbmV4cG9ydCBjbGFzcyBfTGlua01lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgZ2V0T3B0aW9ucygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHNpdGUsXG4gICAgICBpbmRleCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCxcbiAgICAgIHNpdGVJbmZvLFxuICAgICAgcGxhdGZvcm0sXG4gICAgfSA9IHByb3BzO1xuXG4gICAgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZSBvZiBkZWZhdWx0IHNpdGVcbiAgICBjb25zdCBwcm9wT3B0aW9ucyA9XG4gICAgICAhc2l0ZS5pc0RlZmF1bHQgfHwgc2l0ZS5zZWFyY2hUb3BTaXRlXG4gICAgICAgID8gcHJvcHMub3B0aW9uc1xuICAgICAgICA6IERFRkFVTFRfU0lURV9NRU5VX09QVElPTlM7XG5cbiAgICBjb25zdCBvcHRpb25zID0gcHJvcE9wdGlvbnNcbiAgICAgIC5tYXAobyA9PlxuICAgICAgICBMaW5rTWVudU9wdGlvbnNbb10oXG4gICAgICAgICAgc2l0ZSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkLFxuICAgICAgICAgIHNpdGVJbmZvLFxuICAgICAgICAgIHBsYXRmb3JtXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIC5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24sIGltcHJlc3Npb24sIGlkLCB0eXBlLCB1c2VyRXZlbnQgfSA9IG9wdGlvbjtcbiAgICAgICAgaWYgKCF0eXBlICYmIGlkKSB7XG4gICAgICAgICAgb3B0aW9uLm9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHVzZXJFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCB1c2VyRXZlbnREYXRhID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpdGVJbmZvXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh1c2VyRXZlbnREYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW1wcmVzc2lvbiAmJiBwcm9wcy5zaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzKSB7XG4gICAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKGltcHJlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgIH0pO1xuXG4gICAgLy8gVGhpcyBpcyBmb3IgYWNjZXNzaWJpbGl0eSB0byBzdXBwb3J0IG1ha2luZyBlYWNoIGl0ZW0gdGFiYmFibGUuXG4gICAgLy8gV2Ugd2FudCB0byBrbm93IHdoaWNoIGl0ZW0gaXMgdGhlIGZpcnN0IGFuZCB3aGljaCBpdGVtXG4gICAgLy8gaXMgdGhlIGxhc3QsIHNvIHdlIGNhbiBjbG9zZSB0aGUgY29udGV4dCBtZW51IGFjY29yZGluZ2x5LlxuICAgIG9wdGlvbnNbMF0uZmlyc3QgPSB0cnVlO1xuICAgIG9wdGlvbnNbb3B0aW9ucy5sZW5ndGggLSAxXS5sYXN0ID0gdHJ1ZTtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRleHRNZW51XG4gICAgICAgIG9uVXBkYXRlPXt0aGlzLnByb3BzLm9uVXBkYXRlfVxuICAgICAgICBvblNob3c9e3RoaXMucHJvcHMub25TaG93fVxuICAgICAgICBvcHRpb25zPXt0aGlzLmdldE9wdGlvbnMoKX1cbiAgICAgICAga2V5Ym9hcmRBY2Nlc3M9e3RoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3N9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgZ2V0U3RhdGUgPSBzdGF0ZSA9PiAoe1xuICBpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQ6IHN0YXRlLlByZWZzLnZhbHVlcy5pc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQsXG4gIHBsYXRmb3JtOiBzdGF0ZS5QcmVmcy52YWx1ZXMucGxhdGZvcm0sXG59KTtcbmV4cG9ydCBjb25zdCBMaW5rTWVudSA9IGNvbm5lY3QoZ2V0U3RhdGUpKF9MaW5rTWVudSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhpZGVDb250ZXh0ID0gdGhpcy5oaWRlQ29udGV4dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TaG93ID0gdGhpcy5vblNob3cuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhpZGVDb250ZXh0KCkge1xuICAgIHRoaXMucHJvcHMub25VcGRhdGUoZmFsc2UpO1xuICB9XG5cbiAgb25TaG93KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2hvdykge1xuICAgICAgdGhpcy5wcm9wcy5vblNob3coKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLm9uU2hvdygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVDb250ZXh0KTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oaWRlQ29udGV4dCk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gRWF0IGFsbCBjbGlja3Mgb24gdGhlIGNvbnRleHQgbWVudSBzbyB0aGV5IGRvbid0IGJ1YmJsZSB1cCB0byB3aW5kb3cuXG4gICAgLy8gVGhpcyBwcmV2ZW50cyB0aGUgY29udGV4dCBtZW51IGZyb20gY2xvc2luZyB3aGVuIGNsaWNraW5nIGRpc2FibGVkIGl0ZW1zXG4gICAgLy8gb3IgdGhlIHNlcGFyYXRvcnMuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gRGlzYWJsaW5nIGZvY3VzIG9uIHRoZSBtZW51IHNwYW4gYWxsb3dzIHRoZSBmaXJzdCB0YWIgdG8gZm9jdXMgb24gdGhlIGZpcnN0IG1lbnUgaXRlbSBpbnN0ZWFkIG9mIHRoZSB3cmFwcGVyLlxuICAgIHJldHVybiAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvaW50ZXJhY3RpdmUtc3VwcG9ydHMtZm9jdXNcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudVwiPlxuICAgICAgICA8dWxcbiAgICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1saXN0XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMubWFwKChvcHRpb24sIGkpID0+XG4gICAgICAgICAgICBvcHRpb24udHlwZSA9PT0gXCJzZXBhcmF0b3JcIiA/IChcbiAgICAgICAgICAgICAgPGxpIGtleT17aX0gY2xhc3NOYW1lPVwic2VwYXJhdG9yXCIgcm9sZT1cInNlcGFyYXRvclwiIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBvcHRpb24udHlwZSAhPT0gXCJlbXB0eVwiICYmIChcbiAgICAgICAgICAgICAgICA8Q29udGV4dE1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICBvcHRpb249e29wdGlvbn1cbiAgICAgICAgICAgICAgICAgIGhpZGVDb250ZXh0PXt0aGlzLmhpZGVDb250ZXh0fVxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmRBY2Nlc3M9e3RoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3N9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlEb3duID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5VXAgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZvY3VzRmlyc3QgPSB0aGlzLmZvY3VzRmlyc3QuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgIHRoaXMucHJvcHMub3B0aW9uLm9uQ2xpY2soKTtcbiAgfVxuXG4gIC8vIEZvY3VzIHRoZSBmaXJzdCBtZW51IGl0ZW0gaWYgdGhlIG1lbnUgd2FzIGFjY2Vzc2VkIHZpYSB0aGUga2V5Ym9hcmQuXG4gIGZvY3VzRmlyc3QoYnV0dG9uKSB7XG4gICAgaWYgKHRoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3MgJiYgYnV0dG9uKSB7XG4gICAgICBidXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIHNlbGVjdHMgdGhlIGNvcnJlY3Qgbm9kZSBiYXNlZCBvbiB0aGUga2V5IHByZXNzZWRcbiAgZm9jdXNTaWJsaW5nKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgY29uc3QgY2xvc2VzdFNpYmxpbmdTZWxlY3RvciA9XG4gICAgICBrZXkgPT09IFwiQXJyb3dVcFwiID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIjtcbiAgICBpZiAoIXBhcmVudFtjbG9zZXN0U2libGluZ1NlbGVjdG9yXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyZW50W2Nsb3Nlc3RTaWJsaW5nU2VsZWN0b3JdLmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICBwYXJlbnRbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl0uZmlyc3RFbGVtZW50Q2hpbGQuZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50W2Nsb3Nlc3RTaWJsaW5nU2VsZWN0b3JdW1xuICAgICAgICBjbG9zZXN0U2libGluZ1NlbGVjdG9yXG4gICAgICBdLmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgY29uc3QgeyBvcHRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgXCJUYWJcIjpcbiAgICAgICAgLy8gdGFiIGdvZXMgZG93biBpbiBjb250ZXh0IG1lbnUsIHNoaWZ0ICsgdGFiIGdvZXMgdXAgaW4gY29udGV4dCBtZW51XG4gICAgICAgIC8vIGlmIHdlJ3JlIG9uIHRoZSBsYXN0IGl0ZW0sIG9uZSBtb3JlIHRhYiB3aWxsIGNsb3NlIHRoZSBjb250ZXh0IG1lbnVcbiAgICAgICAgLy8gc2ltaWxhcmx5LCBpZiB3ZSdyZSBvbiB0aGUgZmlyc3QgaXRlbSwgb25lIG1vcmUgc2hpZnQgKyB0YWIgd2lsbCBjbG9zZSBpdFxuICAgICAgICBpZiAoXG4gICAgICAgICAgKGV2ZW50LnNoaWZ0S2V5ICYmIG9wdGlvbi5maXJzdCkgfHxcbiAgICAgICAgICAoIWV2ZW50LnNoaWZ0S2V5ICYmIG9wdGlvbi5sYXN0KVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZvY3VzU2libGluZyhldmVudC50YXJnZXQsIGV2ZW50LmtleSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkVudGVyXCI6XG4gICAgICBjYXNlIFwiIFwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgICAgIG9wdGlvbi5vbkNsaWNrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkVzY2FwZVwiOlxuICAgICAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNwYWNlYmFyXG4gIC8vIHNjcm9sbGluZyB0aGUgcGFnZSAmIGF1dG8tdHJpZ2dlcmluZyBidXR0b25zLlxuICBvbktleVVwKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgb3B0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1pdGVtXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e29wdGlvbi5kaXNhYmxlZCA/IFwiZGlzYWJsZWRcIiA6IFwiXCJ9XG4gICAgICAgICAgcm9sZT1cIm1lbnVpdGVtXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICBvbktleVVwPXt0aGlzLm9uS2V5VXB9XG4gICAgICAgICAgcmVmPXtvcHRpb24uZmlyc3QgPyB0aGlzLmZvY3VzRmlyc3QgOiBudWxsfVxuICAgICAgICA+XG4gICAgICAgICAge29wdGlvbi5pY29uICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGljb24gaWNvbi1zcGFjZXIgaWNvbi0ke29wdGlvbi5pY29ufWB9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9e29wdGlvbi5zdHJpbmdfaWQgfHwgb3B0aW9uLmlkfSAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuXG5jb25zdCBfT3BlbkluUHJpdmF0ZVdpbmRvdyA9IHNpdGUgPT4gKHtcbiAgaWQ6IFwibmV3dGFiLW1lbnUtb3Blbi1uZXctcHJpdmF0ZS13aW5kb3dcIixcbiAgaWNvbjogXCJuZXctd2luZG93LXByaXZhdGVcIixcbiAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICB0eXBlOiBhdC5PUEVOX1BSSVZBVEVfV0lORE9XLFxuICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCwgcmVmZXJyZXI6IHNpdGUucmVmZXJyZXIgfSxcbiAgfSksXG4gIHVzZXJFdmVudDogXCJPUEVOX1BSSVZBVEVfV0lORE9XXCIsXG59KTtcblxuLyoqXG4gKiBMaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBpdGVtcyB0aGF0IGNhbiBiZSBpbmNsdWRlZCBhcyBtZW51IG9wdGlvbnMgaW4gYVxuICogTGlua01lbnUuIEFsbCBmdW5jdGlvbnMgdGFrZSB0aGUgc2l0ZSBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLCBhbmQgb3B0aW9uYWxseVxuICogdGhlIGluZGV4IG9mIHRoZSBzaXRlLlxuICovXG5leHBvcnQgY29uc3QgTGlua01lbnVPcHRpb25zID0ge1xuICBTZXBhcmF0b3I6ICgpID0+ICh7IHR5cGU6IFwic2VwYXJhdG9yXCIgfSksXG4gIEVtcHR5SXRlbTogKCkgPT4gKHsgdHlwZTogXCJlbXB0eVwiIH0pLFxuICBTaG93UHJpdmFjeUluZm86IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zaG93LXByaXZhY3ktaW5mb1wiLFxuICAgIGljb246IFwiaW5mb1wiLFxuICAgIGFjdGlvbjoge1xuICAgICAgdHlwZTogYXQuU0hPV19QUklWQUNZX0lORk8sXG4gICAgfSxcbiAgICB1c2VyRXZlbnQ6IFwiU0hPV19QUklWQUNZX0lORk9cIixcbiAgfSksXG4gIFJlbW92ZUJvb2ttYXJrOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtcmVtb3ZlLWJvb2ttYXJrXCIsXG4gICAgaWNvbjogXCJib29rbWFyay1hZGRlZFwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5ERUxFVEVfQk9PS01BUktfQllfSUQsXG4gICAgICBkYXRhOiBzaXRlLmJvb2ttYXJrR3VpZCxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQk9PS01BUktfREVMRVRFXCIsXG4gIH0pLFxuICBBZGRCb29rbWFyazogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWJvb2ttYXJrXCIsXG4gICAgaWNvbjogXCJib29rbWFyay1ob2xsb3dcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuQk9PS01BUktfVVJMLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsLCB0aXRsZTogc2l0ZS50aXRsZSwgdHlwZTogc2l0ZS50eXBlIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkJPT0tNQVJLX0FERFwiLFxuICB9KSxcbiAgT3BlbkluTmV3V2luZG93OiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtb3Blbi1uZXctd2luZG93XCIsXG4gICAgaWNvbjogXCJuZXctd2luZG93XCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fTkVXX1dJTkRPVyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmVmZXJyZXI6IHNpdGUucmVmZXJyZXIsXG4gICAgICAgIHR5cGVkQm9udXM6IHNpdGUudHlwZWRCb251cyxcbiAgICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIk9QRU5fTkVXX1dJTkRPV1wiLFxuICB9KSxcbiAgLy8gVGhpcyBibG9ja3MgdGhlIHVybCBmb3IgcmVndWxhciBzdG9yaWVzLFxuICAvLyBidXQgYWxzbyBzZW5kcyBhIG1lc3NhZ2UgdG8gRGlzY292ZXJ5U3RyZWFtIHdpdGggZmxpZ2h0X2lkLlxuICAvLyBJZiBEaXNjb3ZlcnlTdHJlYW0gc2VlcyB0aGlzIG1lc3NhZ2UgZm9yIGEgZmxpZ2h0X2lkXG4gIC8vIGl0IGFsc28gYmxvY2tzIGl0IG9uIHRoZSBmbGlnaHRfaWQuXG4gIEJsb2NrVXJsOiAoc2l0ZSwgaW5kZXgsIGV2ZW50U291cmNlKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRpc21pc3NcIixcbiAgICBpY29uOiBcImRpc21pc3NcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuQkxPQ0tfVVJMLFxuICAgICAgZGF0YToge1xuICAgICAgICB1cmw6IHNpdGUub3Blbl91cmwgfHwgc2l0ZS51cmwsXG4gICAgICAgIHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQsXG4gICAgICAgIC4uLihzaXRlLmZsaWdodF9pZCA/IHsgZmxpZ2h0X2lkOiBzaXRlLmZsaWdodF9pZCB9IDoge30pLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIGJsb2NrOiAwLFxuICAgICAgdGlsZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBzaXRlLmd1aWQsXG4gICAgICAgICAgcG9zOiBpbmRleCxcbiAgICAgICAgICAuLi4oc2l0ZS5zaGltICYmIHNpdGUuc2hpbS5kZWxldGUgPyB7IHNoaW06IHNpdGUuc2hpbS5kZWxldGUgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkJMT0NLXCIsXG4gIH0pLFxuXG4gIC8vIFRoaXMgaXMgYW4gb3B0aW9uIGZvciB3ZWIgZXh0ZW50aW9ucyB3aGljaCB3aWxsIHJlc3VsdCBpbiByZW1vdmUgaXRlbXMgZnJvbVxuICAvLyBtZW1vcnkgYW5kIG5vdGlmeSB0aGUgd2ViIGV4dGVuaW9uLCByYXRoZXIgdGhhbiB1c2luZyB0aGUgYnVpbHQtaW4gYmxvY2sgbGlzdC5cbiAgV2ViRXh0RGlzbWlzczogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSkgPT4gKHtcbiAgICBpZDogXCJtZW51X2FjdGlvbl93ZWJleHRfZGlzbWlzc1wiLFxuICAgIHN0cmluZ19pZDogXCJuZXd0YWItbWVudS1kaXNtaXNzXCIsXG4gICAgaWNvbjogXCJkaXNtaXNzXCIsXG4gICAgYWN0aW9uOiBhYy5XZWJFeHRFdmVudChhdC5XRUJFWFRfRElTTUlTUywge1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgIH0pLFxuICB9KSxcbiAgRGVsZXRlVXJsOiAoc2l0ZSwgaW5kZXgsIGV2ZW50U291cmNlLCBpc0VuYWJsZWQsIHNpdGVJbmZvKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRlbGV0ZS1oaXN0b3J5XCIsXG4gICAgaWNvbjogXCJkZWxldGVcIixcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IGF0LkRJQUxPR19PUEVOLFxuICAgICAgZGF0YToge1xuICAgICAgICBvbkNvbmZpcm06IFtcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LkRFTEVURV9ISVNUT1JZX1VSTCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgICAgICAgICAgcG9ja2V0X2lkOiBzaXRlLnBvY2tldF9pZCxcbiAgICAgICAgICAgICAgZm9yY2VCbG9jazogc2l0ZS5ib29rbWFya0d1aWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGFjLlVzZXJFdmVudChcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgIHsgZXZlbnQ6IFwiREVMRVRFXCIsIHNvdXJjZTogZXZlbnRTb3VyY2UsIGFjdGlvbl9wb3NpdGlvbjogaW5kZXggfSxcbiAgICAgICAgICAgICAgc2l0ZUluZm9cbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICBdLFxuICAgICAgICBldmVudFNvdXJjZSxcbiAgICAgICAgYm9keV9zdHJpbmdfaWQ6IFtcbiAgICAgICAgICBcIm5ld3RhYi1jb25maXJtLWRlbGV0ZS1oaXN0b3J5LXAxXCIsXG4gICAgICAgICAgXCJuZXd0YWItY29uZmlybS1kZWxldGUtaGlzdG9yeS1wMlwiLFxuICAgICAgICBdLFxuICAgICAgICBjb25maXJtX2J1dHRvbl9zdHJpbmdfaWQ6IFwibmV3dGFiLXRvcHNpdGVzLWRlbGV0ZS1oaXN0b3J5LWJ1dHRvblwiLFxuICAgICAgICBjYW5jZWxfYnV0dG9uX3N0cmluZ19pZDogXCJuZXd0YWItdG9wc2l0ZXMtY2FuY2VsLWJ1dHRvblwiLFxuICAgICAgICBpY29uOiBcIm1vZGFsLWRlbGV0ZVwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHVzZXJFdmVudDogXCJESUFMT0dfT1BFTlwiLFxuICB9KSxcbiAgU2hvd0ZpbGU6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zaG93LWZpbGVcIixcbiAgICBpY29uOiBcInNlYXJjaFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TSE9XX0RPV05MT0FEX0ZJTEUsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIE9wZW5GaWxlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtb3Blbi1maWxlXCIsXG4gICAgaWNvbjogXCJvcGVuLWZpbGVcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9ET1dOTE9BRF9GSUxFLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBDb3B5RG93bmxvYWRMaW5rOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtY29weS1kb3dubG9hZC1saW5rXCIsXG4gICAgaWNvbjogXCJjb3B5XCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkNPUFlfRE9XTkxPQURfTElOSyxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgR29Ub0Rvd25sb2FkUGFnZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWdvLXRvLWRvd25sb2FkLXBhZ2VcIixcbiAgICBpY29uOiBcImRvd25sb2FkXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnJlZmVycmVyIH0sXG4gICAgfSksXG4gICAgZGlzYWJsZWQ6ICFzaXRlLnJlZmVycmVyLFxuICB9KSxcbiAgUmVtb3ZlRG93bmxvYWQ6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1yZW1vdmUtZG93bmxvYWRcIixcbiAgICBpY29uOiBcImRlbGV0ZVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5SRU1PVkVfRE9XTkxPQURfRklMRSxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgUGluU3BvY1RvcFNpdGU6IChzaXRlLCBpbmRleCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1waW5cIixcbiAgICBpY29uOiBcInBpblwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfUElOLFxuICAgICAgZGF0YToge1xuICAgICAgICBzaXRlLFxuICAgICAgICBpbmRleCxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlBJTlwiLFxuICB9KSxcbiAgUGluVG9wU2l0ZTogKHsgdXJsLCBzZWFyY2hUb3BTaXRlLCBsYWJlbCB9LCBpbmRleCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1waW5cIixcbiAgICBpY29uOiBcInBpblwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfUElOLFxuICAgICAgZGF0YToge1xuICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIC4uLihzZWFyY2hUb3BTaXRlICYmIHsgc2VhcmNoVG9wU2l0ZSwgbGFiZWwgfSksXG4gICAgICAgIH0sXG4gICAgICAgIGluZGV4LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiUElOXCIsXG4gIH0pLFxuICBVbnBpblRvcFNpdGU6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS11bnBpblwiLFxuICAgIGljb246IFwidW5waW5cIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX1VOUElOLFxuICAgICAgZGF0YTogeyBzaXRlOiB7IHVybDogc2l0ZS51cmwgfSB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJVTlBJTlwiLFxuICB9KSxcbiAgU2F2ZVRvUG9ja2V0OiAoc2l0ZSwgaW5kZXgsIGV2ZW50U291cmNlKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNhdmUtdG8tcG9ja2V0XCIsXG4gICAgaWNvbjogXCJwb2NrZXQtc2F2ZVwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TQVZFX1RPX1BPQ0tFVCxcbiAgICAgIGRhdGE6IHsgc2l0ZTogeyB1cmw6IHNpdGUudXJsLCB0aXRsZTogc2l0ZS50aXRsZSB9IH0sXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICBwb2NrZXQ6IDAsXG4gICAgICB0aWxlczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IHNpdGUuZ3VpZCxcbiAgICAgICAgICBwb3M6IGluZGV4LFxuICAgICAgICAgIC4uLihzaXRlLnNoaW0gJiYgc2l0ZS5zaGltLnNhdmUgPyB7IHNoaW06IHNpdGUuc2hpbS5zYXZlIH0gOiB7fSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJTQVZFX1RPX1BPQ0tFVFwiLFxuICB9KSxcbiAgRGVsZXRlRnJvbVBvY2tldDogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRlbGV0ZS1wb2NrZXRcIixcbiAgICBpY29uOiBcInBvY2tldC1kZWxldGVcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuREVMRVRFX0ZST01fUE9DS0VULFxuICAgICAgZGF0YTogeyBwb2NrZXRfaWQ6IHNpdGUucG9ja2V0X2lkIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkRFTEVURV9GUk9NX1BPQ0tFVFwiLFxuICB9KSxcbiAgQXJjaGl2ZUZyb21Qb2NrZXQ6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1hcmNoaXZlLXBvY2tldFwiLFxuICAgIGljb246IFwicG9ja2V0LWFyY2hpdmVcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuQVJDSElWRV9GUk9NX1BPQ0tFVCxcbiAgICAgIGRhdGE6IHsgcG9ja2V0X2lkOiBzaXRlLnBvY2tldF9pZCB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJBUkNISVZFX0ZST01fUE9DS0VUXCIsXG4gIH0pLFxuICBFZGl0VG9wU2l0ZTogKHNpdGUsIGluZGV4KSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWVkaXQtdG9wc2l0ZXNcIixcbiAgICBpY29uOiBcImVkaXRcIixcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19FRElULFxuICAgICAgZGF0YTogeyBpbmRleCB9LFxuICAgIH0sXG4gIH0pLFxuICBDaGVja0Jvb2ttYXJrOiBzaXRlID0+XG4gICAgc2l0ZS5ib29rbWFya0d1aWRcbiAgICAgID8gTGlua01lbnVPcHRpb25zLlJlbW92ZUJvb2ttYXJrKHNpdGUpXG4gICAgICA6IExpbmtNZW51T3B0aW9ucy5BZGRCb29rbWFyayhzaXRlKSxcbiAgQ2hlY2tQaW5Ub3BTaXRlOiAoc2l0ZSwgaW5kZXgpID0+XG4gICAgc2l0ZS5pc1Bpbm5lZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuVW5waW5Ub3BTaXRlKHNpdGUpXG4gICAgICA6IExpbmtNZW51T3B0aW9ucy5QaW5Ub3BTaXRlKHNpdGUsIGluZGV4KSxcbiAgQ2hlY2tTYXZlZFRvUG9ja2V0OiAoc2l0ZSwgaW5kZXgpID0+XG4gICAgc2l0ZS5wb2NrZXRfaWRcbiAgICAgID8gTGlua01lbnVPcHRpb25zLkRlbGV0ZUZyb21Qb2NrZXQoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLlNhdmVUb1BvY2tldChzaXRlLCBpbmRleCksXG4gIENoZWNrQm9va21hcmtPckFyY2hpdmU6IHNpdGUgPT5cbiAgICBzaXRlLnBvY2tldF9pZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuQXJjaGl2ZUZyb21Qb2NrZXQoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLkNoZWNrQm9va21hcmsoc2l0ZSksXG4gIE9wZW5JblByaXZhdGVXaW5kb3c6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UsIGlzRW5hYmxlZCkgPT5cbiAgICBpc0VuYWJsZWQgPyBfT3BlbkluUHJpdmF0ZVdpbmRvdyhzaXRlKSA6IExpbmtNZW51T3B0aW9ucy5FbXB0eUl0ZW0oKSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudUJ1dHRvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd0NvbnRleHRNZW51OiBmYWxzZSxcbiAgICAgIGNvbnRleHRNZW51S2V5Ym9hcmQ6IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuQ29udGV4dE1lbnUoaXNLZXlCb2FyZCwgZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblVwZGF0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93Q29udGV4dE1lbnU6IHRydWUsXG4gICAgICBjb250ZXh0TWVudUtleWJvYXJkOiBpc0tleUJvYXJkLFxuICAgIH0pO1xuICB9XG5cbiAgb25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vcGVuQ29udGV4dE1lbnUoZmFsc2UsIGV2ZW50KTtcbiAgfVxuXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vcGVuQ29udGV4dE1lbnUodHJ1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uVXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHNob3dDb250ZXh0TWVudSk7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29udGV4dE1lbnUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0b29sdGlwQXJncywgdG9vbHRpcCwgY2hpbGRyZW4sIHJlZkZ1bmN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc2hvd0NvbnRleHRNZW51LCBjb250ZXh0TWVudUtleWJvYXJkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9e3Rvb2x0aXB9XG4gICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e3Rvb2x0aXBBcmdzID8gSlNPTi5zdHJpbmdpZnkodG9vbHRpcEFyZ3MpIDogbnVsbH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtYnV0dG9uIGljb25cIlxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHJlZj17cmVmRnVuY3Rpb259XG4gICAgICAgIC8+XG4gICAgICAgIHtzaG93Q29udGV4dE1lbnVcbiAgICAgICAgICA/IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICBrZXlib2FyZEFjY2VzczogY29udGV4dE1lbnVLZXlib2FyZCxcbiAgICAgICAgICAgICAgb25VcGRhdGU6IHRoaXMub25VcGRhdGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vLyBQZXIgYW5hbHl0aWNhbCByZXF1aXJlbWVudCwgd2Ugc2V0IHRoZSBtaW5pbWFsIGludGVyc2VjdGlvbiByYXRpbyB0b1xuLy8gMC41LCBhbmQgYW4gaW1wcmVzc2lvbiBpcyBpZGVudGlmaWVkIHdoZW4gdGhlIHdyYXBwZWQgaXRlbSBoYXMgYXQgbGVhc3Rcbi8vIDUwJSB2aXNpYmlsaXR5LlxuLy9cbi8vIFRoaXMgY29uc3RhbnQgaXMgZXhwb3J0ZWQgZm9yIHVuaXQgdGVzdFxuZXhwb3J0IGNvbnN0IElOVEVSU0VDVElPTl9SQVRJTyA9IDAuNTtcblxuLyoqXG4gKiBJbXByZXNzaW9uIHdyYXBwZXIgZm9yIERpc2NvdmVyeSBTdHJlYW0gcmVsYXRlZCBSZWFjdCBjb21wb25lbnRzLlxuICpcbiAqIEl0IG1ha3NlcyB1c2Ugb2YgdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IHRoZSB2aXNpYmlsaXR5LFxuICogYW5kIHJlbGllcyBvbiBwYWdlIHZpc2liaWxpdHkgdG8gZW5zdXJlIHRoZSBpbXByZXNzaW9uIGlzIHJlcG9ydGVkXG4gKiBvbmx5IHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIG9uIHRoZSBwYWdlLlxuICpcbiAqIE5vdGU6XG4gKiAgICogVGhpcyB3cmFwcGVyIHVzZWQgdG8gYmUgdXNlZCBlaXRoZXIgYXQgdGhlIGluZGl2aWR1YWwgY2FyZCBsZXZlbCxcbiAqICAgICBvciBieSB0aGUgY2FyZCBjb250YWluZXIgY29tcG9uZW50cy5cbiAqICAgICBJdCBpcyBub3cgb25seSB1c2VkIGZvciBpbmRpdmlkdWFsIGNhcmQgbGV2ZWwuXG4gKiAgICogRWFjaCBpbXByZXNzaW9uIHdpbGwgYmUgc2VudCBvbmx5IG9uY2UgYXMgc29vbiBhcyB0aGUgZGVzaXJlZFxuICogICAgIHZpc2liaWxpdHkgaXMgZGV0ZWN0ZWRcbiAqICAgKiBCYXRjaGluZyBpcyBub3QgeWV0IGltcGxlbWVudGVkLCBoZW5jZSBpdCBtaWdodCBzZW5kIG11bHRpcGxlXG4gKiAgICAgaW1wcmVzc2lvbiBwaW5ncyBzZXBhcmF0ZWx5XG4gKi9cbmV4cG9ydCBjbGFzcyBJbXByZXNzaW9uU3RhdHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgLy8gVGhpcyBjaGVja3MgaWYgdGhlIGdpdmVuIGNhcmRzIGFyZSB0aGUgc2FtZSBhcyB0aG9zZSBpbiB0aGUgbGFzdCBpbXByZXNzaW9uIHBpbmcuXG4gIC8vIElmIHNvLCBpdCBzaG91bGQgbm90IHNlbmQgdGhlIHNhbWUgaW1wcmVzc2lvbiBwaW5nIGFnYWluLlxuICBfbmVlZHNJbXByZXNzaW9uU3RhdHMoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzIHx8XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMubGVuZ3RoICE9PSBjYXJkcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYXJkc1tpXS5pZCAhPT0gdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IGNhcmRzID0gcHJvcHMucm93cztcblxuICAgIGlmICh0aGlzLnByb3BzLmZsaWdodElkKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NfSU1QUkVTU0lPTixcbiAgICAgICAgICBkYXRhOiB7IGZsaWdodElkOiB0aGlzLnByb3BzLmZsaWdodElkIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykpIHtcbiAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7XG4gICAgICAgICAgICBpZDogbGluay5pZCxcbiAgICAgICAgICAgIHBvczogbGluay5wb3MsXG4gICAgICAgICAgICAuLi4obGluay5zaGltID8geyBzaGltOiBsaW5rLnNoaW0gfSA6IHt9KSxcbiAgICAgICAgICB9KSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzID0gY2FyZHMubWFwKGxpbmsgPT4gbGluay5pZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBjaGVja3MgaWYgdGhlIGdpdmVuIGNhcmRzIGFyZSB0aGUgc2FtZSBhcyB0aG9zZSBpbiB0aGUgbGFzdCBsb2FkZWQgY29udGVudCBwaW5nLlxuICAvLyBJZiBzbywgaXQgc2hvdWxkIG5vdCBzZW5kIHRoZSBzYW1lIGxvYWRlZCBjb250ZW50IHBpbmcgYWdhaW4uXG4gIF9uZWVkc0xvYWRlZENvbnRlbnQoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5sb2FkZWRDb250ZW50R3VpZHMgfHxcbiAgICAgIHRoaXMubG9hZGVkQ29udGVudEd1aWRzLmxlbmd0aCAhPT0gY2FyZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FyZHNbaV0uaWQgIT09IHRoaXMubG9hZGVkQ29udGVudEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9kaXNwYXRjaExvYWRlZENvbnRlbnQoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBjYXJkcyA9IHByb3BzLnJvd3M7XG5cbiAgICBpZiAodGhpcy5fbmVlZHNMb2FkZWRDb250ZW50KGNhcmRzKSkge1xuICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7IGlkOiBsaW5rLmlkLCBwb3M6IGxpbmsucG9zIH0pKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLmxvYWRlZENvbnRlbnRHdWlkcyA9IGNhcmRzLm1hcChsaW5rID0+IGxpbmsuaWQpO1xuICAgIH1cbiAgfVxuXG4gIHNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAvLyBTZW5kIHRoZSBsb2FkZWQgY29udGVudCBwaW5nIG9uY2UgdGhlIHBhZ2UgaXMgdmlzaWJsZS5cbiAgICAgIHRoaXMuX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpO1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIC8vIFNlbmQgdGhlIGxvYWRlZCBjb250ZW50IHBpbmcgb25jZSB0aGUgcGFnZSBpcyB2aXNpYmxlLlxuICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpO1xuICAgICAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHByb3BzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbiBpbXByZXNzaW9uIG9ic2VydmVyIGZvciB0aGUgd3JhcHBlZCBjb21wb25lbnQuIEl0IG1ha2VzIHVzZSBvZlxuICAgKiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgaWYgdGhlIHdyYXBwZWQgY29tcG9uZW50IGlzXG4gICAqIHZpc2libGUgd2l0aCBhIGRlc2lyZWQgcmF0aW8sIGFuZCBvbmx5IHNlbmRzIGltcHJlc3Npb24gaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgKlxuICAgKiBTZWUgbW9yZSBkZXRhaWxzIGFib3V0IEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgYXQ6XG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbnRlcnNlY3Rpb25fT2JzZXJ2ZXJfQVBJXG4gICAqL1xuICBzZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMucm93cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QgPSBlbnRyaWVzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZW50cmllcy5zb21lKFxuICAgICAgICAgIGVudHJ5ID0+XG4gICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyAmJlxuICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gSU5URVJTRUNUSU9OX1JBVElPXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLmltcHJlc3Npb24pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0geyB0aHJlc2hvbGQ6IElOVEVSU0VDVElPTl9SQVRJTyB9O1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyID0gbmV3IHByb3BzLkludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgdGhpcy5faGFuZGxlSW50ZXJzZWN0LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnJlZnMuaW1wcmVzc2lvbik7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3dzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2hhbmRsZUludGVyc2VjdCAmJiB0aGlzLmltcHJlc3Npb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucmVmcy5pbXByZXNzaW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9e1wiaW1wcmVzc2lvblwifSBjbGFzc05hbWU9XCJpbXByZXNzaW9uLW9ic2VydmVyXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5JbXByZXNzaW9uU3RhdHMuZGVmYXVsdFByb3BzID0ge1xuICBJbnRlcnNlY3Rpb25PYnNlcnZlcjogZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyLFxuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxuICByb3dzOiBbXSxcbiAgc291cmNlOiBcIlwiLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNhZmVBbmNob3IgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gVXNlIGRpc3BhdGNoIGluc3RlYWQgb2Ygbm9ybWFsIGxpbmsgY2xpY2sgYmVoYXZpb3IgdG8gaW5jbHVkZSByZWZlcnJlclxuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgICAgcmVmZXJyZXI6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL3JlY29tbWVuZGF0aW9uc1wiLFxuICAgICAgICAgICAgLy8gVXNlIHRoZSBhbmNob3IncyB1cmwsIHdoaWNoIGNvdWxkIGhhdmUgYmVlbiBjbGVhbmVkIHVwXG4gICAgICAgICAgICB1cmw6IGV2ZW50LmN1cnJlbnRUYXJnZXQuaHJlZixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBQcm9wYWdhdGUgZXZlbnQgaWYgdGhlcmUncyBhIGhhbmRsZXJcbiAgICBpZiAodGhpcy5wcm9wcy5vbkxpbmtDbGljaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkxpbmtDbGljayhldmVudCk7XG4gICAgfVxuICB9XG5cbiAgc2FmZVVSSSh1cmwpIHtcbiAgICBsZXQgcHJvdG9jb2wgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBwcm90b2NvbCA9IG5ldyBVUkwodXJsKS5wcm90b2NvbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBjb25zdCBpc0FsbG93ZWQgPSBbXCJodHRwOlwiLCBcImh0dHBzOlwiXS5pbmNsdWRlcyhwcm90b2NvbCk7XG4gICAgaWYgKCFpc0FsbG93ZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgJHt1cmx9IGlzIG5vdCBhbGxvd2VkIGZvciBhbmNob3IgdGFyZ2V0cy5gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHVybCwgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8YSBocmVmPXt0aGlzLnNhZmVVUkkodXJsKX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNhcmRDb250ZXh0VHlwZXMgfSBmcm9tIFwiLi4vLi4vQ2FyZC90eXBlcy5qc1wiO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSBcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLy8gQW5pbWF0aW9uIHRpbWUgaXMgbWlycm9yZWQgaW4gRFNDb250ZXh0Rm9vdGVyLnNjc3NcbmNvbnN0IEFOSU1BVElPTl9EVVJBVElPTiA9IDMwMDA7XG5cbmV4cG9ydCBjb25zdCBTdGF0dXNNZXNzYWdlID0gKHsgaWNvbiwgZmx1ZW50SUQgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cInN0YXR1cy1tZXNzYWdlXCI+XG4gICAgPHNwYW5cbiAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgIGNsYXNzTmFtZT17YHN0b3J5LWJhZGdlLWljb24gaWNvbiBpY29uLSR7aWNvbn1gfVxuICAgIC8+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1jb250ZXh0LWxhYmVsXCIgZGF0YS1sMTBuLWlkPXtmbHVlbnRJRH0gLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY2xhc3MgRFNDb250ZXh0Rm9vdGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzIGlzIGJhc2VkIG9uIHByZWYgYGJyb3dzZXIubmV3dGFicGFnZS5hY3Rpdml0eS1zdHJlYW0uZGlzY292ZXJ5c3RyZWFtLmVuZ2FnZW1lbnRMYWJlbEVuYWJsZWRgXG4gICAgY29uc3Qge1xuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRleHRfdHlwZSxcbiAgICAgIGVuZ2FnZW1lbnQsXG4gICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgaWNvbiwgZmx1ZW50SUQgfSA9IGNhcmRDb250ZXh0VHlwZXNbY29udGV4dF90eXBlXSB8fCB7fTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0b3J5LWZvb3RlclwiPlxuICAgICAgICB7Y29udGV4dCAmJiA8cCBjbGFzc05hbWU9XCJzdG9yeS1zcG9uc29yZWQtbGFiZWwgY2xhbXBcIj57Y29udGV4dH08L3A+fVxuICAgICAgICA8VHJhbnNpdGlvbkdyb3VwIGNvbXBvbmVudD17bnVsbH0+XG4gICAgICAgICAgeyFjb250ZXh0ICYmXG4gICAgICAgICAgICAoY29udGV4dF90eXBlIHx8IChkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzICYmIGVuZ2FnZW1lbnQpKSAmJiAoXG4gICAgICAgICAgICAgIDxDU1NUcmFuc2l0aW9uXG4gICAgICAgICAgICAgICAga2V5PXtmbHVlbnRJRH1cbiAgICAgICAgICAgICAgICB0aW1lb3V0PXtBTklNQVRJT05fRFVSQVRJT059XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lcz1cInN0b3J5LWFuaW1hdGVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2VuZ2FnZW1lbnQgJiYgIWNvbnRleHRfdHlwZSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3Rvcnktdmlldy1jb3VudFwiPntlbmdhZ2VtZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8U3RhdHVzTWVzc2FnZSBpY29uPXtpY29ufSBmbHVlbnRJRD17Zmx1ZW50SUR9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9DU1NUcmFuc2l0aW9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9UcmFuc2l0aW9uR3JvdXA+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3QgY2FyZENvbnRleHRUeXBlcyA9IHtcbiAgaGlzdG9yeToge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC12aXNpdGVkXCIsXG4gICAgaWNvbjogXCJoaXN0b3J5LWl0ZW1cIixcbiAgfSxcbiAgcmVtb3ZlZEJvb2ttYXJrOiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXJlbW92ZWQtYm9va21hcmtcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLXJlbW92ZWRcIixcbiAgfSxcbiAgYm9va21hcms6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtYm9va21hcmtlZFwiLFxuICAgIGljb246IFwiYm9va21hcmstYWRkZWRcIixcbiAgfSxcbiAgdHJlbmRpbmc6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtcmVjb21tZW5kZWRcIixcbiAgICBpY29uOiBcInRyZW5kaW5nXCIsXG4gIH0sXG4gIHBvY2tldDoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1zYXZlZFwiLFxuICAgIGljb246IFwicG9ja2V0XCIsXG4gIH0sXG4gIGRvd25sb2FkOiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLWRvd25sb2FkXCIsXG4gICAgaWNvbjogXCJkb3dubG9hZFwiLFxuICB9LFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RUcmFuc2l0aW9uR3JvdXA7IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRFNFbXB0eVN0YXRlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25SZXNldCA9IHRoaXMub25SZXNldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIG9uUmVzZXQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgdGhpcy5wcm9wcy5mZWVkKSB7XG4gICAgICBjb25zdCB7IGZlZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7IHVybCB9ID0gZmVlZDtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZmVlZDoge1xuICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4uZmVlZC5kYXRhLFxuICAgICAgICAgICAgICBzdGF0dXM6IFwid2FpdGluZ1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHsgd2FpdGluZzogdHJ1ZSB9KTtcbiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB3YWl0aW5nOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVELCBkYXRhOiB7IGZlZWQgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzID09PSBcIndhaXRpbmdcIiB8fCB0aGlzLnN0YXRlLndhaXRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uIHdhaXRpbmdcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWxvYWRpbmdcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vblJlc2V0fVxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy10cnktYWdhaW4tYnV0dG9uXCJcbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclN0YXRlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN0YXR1cyA9PT0gXCJ3YWl0aW5nXCIgfHwgdGhpcy5wcm9wcy5zdGF0dXMgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICA8aDIgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtdGltZWQtb3V0XCIgLz5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJCdXR0b24oKX1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWhlYWRlclwiIC8+XG4gICAgICAgIDxwIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWNvbnRlbnRcIiAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tZW1wdHktc3RhdGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZS1tZXNzYWdlXCI+e3RoaXMucmVuZGVyU3RhdGUoKX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkvRXJyb3JCb3VuZGFyeVwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VjdGlvbk1lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9uTWVudS9TZWN0aW9uTWVudVwiO1xuaW1wb3J0IHsgU2VjdGlvbk1lbnVPcHRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9zZWN0aW9uLW1lbnUtb3B0aW9uc1wiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVTZWN0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25Cb2R5TW91bnQgPSB0aGlzLm9uQm9keU1vdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkhlYWRlckNsaWNrID0gdGhpcy5vbkhlYWRlckNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleVByZXNzID0gdGhpcy5vbktleVByZXNzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblRyYW5zaXRpb25FbmQgPSB0aGlzLm9uVHJhbnNpdGlvbkVuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZW5hYmxlT3JEaXNhYmxlQW5pbWF0aW9uID0gdGhpcy5lbmFibGVPckRpc2FibGVBbmltYXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlRW50ZXIgPSB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlTGVhdmUgPSB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVVwZGF0ZSA9IHRoaXMub25NZW51VXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVuYWJsZUFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgIGlzQW5pbWF0aW5nOiBmYWxzZSxcbiAgICAgIG1lbnVCdXR0b25Ib3ZlcjogZmFsc2UsXG4gICAgICBzaG93Q29udGV4dE1lbnU6IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvblJlZiA9IHRoaXMuc2V0Q29udGV4dE1lbnVCdXR0b25SZWYuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgIHRoaXMuZW5hYmxlT3JEaXNhYmxlQW5pbWF0aW9uXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgYWJvdXQgdG8gZ28gZnJvbSBleHBhbmRlZCB0byBjb2xsYXBzZWRcbiAgICBpZiAoIXRoaXMucHJvcHMuY29sbGFwc2VkICYmIG5leHRQcm9wcy5jb2xsYXBzZWQpIHtcbiAgICAgIC8vIFRoaXMgbmV4dCBsaW5lIGZvcmNlcyBhIGxheW91dCBmbHVzaCBvZiB0aGUgc2VjdGlvbiBib2R5LCB3aGljaCBoYXMgYVxuICAgICAgLy8gbWF4LWhlaWdodCBzdHlsZSBzZXQsIHNvIHRoYXQgdGhlIHVwY29taW5nIGNvbGxhcHNlIGFuaW1hdGlvbiBjYW5cbiAgICAgIC8vIGFuaW1hdGUgZnJvbSB0aGF0IGhlaWdodCB0byB0aGUgY29sbGFwc2VkIGhlaWdodC4gV2l0aG91dCB0aGlzLCB0aGVcbiAgICAgIC8vIHVwZGF0ZSBpcyBjb2FsZXNjZWQgYW5kIHRoZXJlJ3Mgbm8gYW5pbWF0aW9uIGZyb20gbm8tbWF4LWhlaWdodCB0byAwLlxuICAgICAgdGhpcy5zZWN0aW9uQm9keS5zY3JvbGxIZWlnaHQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgfVxuICB9XG5cbiAgc2V0Q29udGV4dE1lbnVCdXR0b25SZWYoZWxlbWVudCkge1xuICAgIHRoaXMuY29udGV4dE1lbnVCdXR0b25SZWYgPSBlbGVtZW50O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jb250ZXh0TWVudUJ1dHRvblJlZi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJtb3VzZWVudGVyXCIsXG4gICAgICB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlRW50ZXJcbiAgICApO1xuICAgIHRoaXMuY29udGV4dE1lbnVCdXR0b25SZWYuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2VsZWF2ZVwiLFxuICAgICAgdGhpcy5vbk1lbnVCdXR0b25Nb3VzZUxlYXZlXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgdGhpcy5lbmFibGVPckRpc2FibGVBbmltYXRpb25cbiAgICApO1xuICAgIHRoaXMuY29udGV4dE1lbnVCdXR0b25SZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2VlbnRlclwiLFxuICAgICAgdGhpcy5vbk1lbnVCdXR0b25Nb3VzZUVudGVyXG4gICAgKTtcbiAgICB0aGlzLmNvbnRleHRNZW51QnV0dG9uUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgIHRoaXMub25NZW51QnV0dG9uTW91c2VMZWF2ZVxuICAgICk7XG4gIH1cblxuICBlbmFibGVPckRpc2FibGVBbmltYXRpb24oKSB7XG4gICAgLy8gT25seSBhbmltYXRlIHRoZSBjb2xsYXBzZS9leHBhbmQgZm9yIHZpc2libGUgdGFicy5cbiAgICBjb25zdCB2aXNpYmxlID0gdGhpcy5wcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEU7XG4gICAgaWYgKHRoaXMuc3RhdGUuZW5hYmxlQW5pbWF0aW9uICE9PSB2aXNpYmxlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZW5hYmxlQW5pbWF0aW9uOiB2aXNpYmxlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uQm9keU1vdW50KG5vZGUpIHtcbiAgICB0aGlzLnNlY3Rpb25Cb2R5ID0gbm9kZTtcbiAgfVxuXG4gIG9uSGVhZGVyQ2xpY2soKSB7XG4gICAgLy8gSWYgdGhpcy5zZWN0aW9uQm9keSBpcyB1bnNldCwgaXQgbWVhbnMgdGhhdCB3ZSdyZSBpbiBzb21lIHNvcnQgb2YgZXJyb3JcbiAgICAvLyBzdGF0ZSwgcHJvYmFibHkgZGlzcGxheWluZyB0aGUgZXJyb3IgZmFsbGJhY2ssIHNvIHdlIHdvbid0IGJlIGFibGUgdG9cbiAgICAvLyBjb21wdXRlIHRoZSBoZWlnaHQsIGFuZCB3ZSBkb24ndCB3YW50IHRvIHBlcnNpc3QgdGhlIHByZWZlcmVuY2UuXG4gICAgLy8gSWYgcHJvcHMuY29sbGFwc2VkIGlzIHVuZGVmaW5lZCBoYW5kbGVyIHNob3VsZG4ndCBkbyBhbnl0aGluZy5cbiAgICBpZiAoIXRoaXMuc2VjdGlvbkJvZHkgfHwgdGhpcy5wcm9wcy5jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgY3VycmVudCBoZWlnaHQgb2YgdGhlIGJvZHkgc28gbWF4LWhlaWdodCB0cmFuc2l0aW9ucyBjYW4gd29ya1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNBbmltYXRpbmc6IHRydWUsXG4gICAgICBtYXhIZWlnaHQ6IGAke3RoaXMuX2dldFNlY3Rpb25Cb2R5SGVpZ2h0KCl9cHhgLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgYWN0aW9uLCB1c2VyRXZlbnQgfSA9IFNlY3Rpb25NZW51T3B0aW9ucy5DaGVja0NvbGxhcHNlZCh0aGlzLnByb3BzKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiB1c2VyRXZlbnQsXG4gICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5zb3VyY2UsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBvbktleVByZXNzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9uSGVhZGVyQ2xpY2soKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0U2VjdGlvbkJvZHlIZWlnaHQoKSB7XG4gICAgY29uc3QgZGl2ID0gdGhpcy5zZWN0aW9uQm9keTtcbiAgICBpZiAoZGl2LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAvLyBJZiB0aGUgZGl2IGlzbid0IGRpc3BsYXllZCwgd2UgY2FuJ3QgZ2V0IGl0J3MgaGVpZ2h0LiBTbyB3ZSBkaXNwbGF5IGl0XG4gICAgICAvLyB0byBnZXQgdGhlIGhlaWdodCAoaXQgZG9lc24ndCBzaG93IHVwIGJlY2F1c2UgbWF4LWhlaWdodCBpcyBzZXQgdG8gMHB4XG4gICAgICAvLyBpbiBDU1MpLiBXZSBkb24ndCB1bmRvIHRoaXMgYmVjYXVzZSB3ZSBhcmUgYWJvdXQgdG8gZXhwYW5kIHRoZSBzZWN0aW9uLlxuICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICAgIHJldHVybiBkaXYuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgb25UcmFuc2l0aW9uRW5kKGV2ZW50KSB7XG4gICAgLy8gT25seSB1cGRhdGUgdGhlIGFuaW1hdGluZyBzdGF0ZSBmb3Igb3VyIG93biB0cmFuc2l0aW9uIChub3QgYSBjaGlsZCdzKVxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0FuaW1hdGluZzogZmFsc2UgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVySWNvbigpIHtcbiAgICBjb25zdCB7IGljb24gfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGljb24gJiYgaWNvbi5zdGFydHNXaXRoKFwibW96LWV4dGVuc2lvbjovL1wiKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyXCJcbiAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJyR7aWNvbn0nKWAgfX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9e2BpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tJHtpY29uIHx8IFwid2ViZXh0ZW5zaW9uXCJ9YH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvbk1vdXNlRW50ZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVCdXR0b25Ib3ZlcjogdHJ1ZSB9KTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvbk1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVCdXR0b25Ib3ZlcjogZmFsc2UgfSk7XG4gIH1cblxuICBvbk1lbnVVcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb250ZXh0TWVudSB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0NvbGxhcHNpYmxlID0gdGhpcy5wcm9wcy5jb2xsYXBzZWQgIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7XG4gICAgICBlbmFibGVBbmltYXRpb24sXG4gICAgICBpc0FuaW1hdGluZyxcbiAgICAgIG1heEhlaWdodCxcbiAgICAgIG1lbnVCdXR0b25Ib3ZlcixcbiAgICAgIHNob3dDb250ZXh0TWVudSxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgICAgY29sbGFwc2VkLFxuICAgICAgbGVhcm5Nb3JlLFxuICAgICAgdGl0bGUsXG4gICAgICBleHRyYU1lbnVPcHRpb25zLFxuICAgICAgc2hvd1ByZWZOYW1lLFxuICAgICAgcHJpdmFjeU5vdGljZVVSTCxcbiAgICAgIGRpc3BhdGNoLFxuICAgICAgaXNGaXhlZCxcbiAgICAgIGlzRmlyc3QsXG4gICAgICBpc0xhc3QsXG4gICAgICBpc1dlYkV4dGVuc2lvbixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhY3RpdmUgPSBtZW51QnV0dG9uSG92ZXIgfHwgc2hvd0NvbnRleHRNZW51O1xuICAgIGxldCBib2R5U3R5bGU7XG4gICAgaWYgKGlzQW5pbWF0aW5nICYmICFjb2xsYXBzZWQpIHtcbiAgICAgIGJvZHlTdHlsZSA9IHsgbWF4SGVpZ2h0IH07XG4gICAgfSBlbHNlIGlmICghaXNBbmltYXRpbmcgJiYgY29sbGFwc2VkKSB7XG4gICAgICBib2R5U3R5bGUgPSB7IGRpc3BsYXk6IFwibm9uZVwiIH07XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvblxuICAgICAgICBjbGFzc05hbWU9e2Bjb2xsYXBzaWJsZS1zZWN0aW9uICR7dGhpcy5wcm9wcy5jbGFzc05hbWV9JHtcbiAgICAgICAgICBlbmFibGVBbmltYXRpb24gPyBcIiBhbmltYXRpb24tZW5hYmxlZFwiIDogXCJcIlxuICAgICAgICB9JHtjb2xsYXBzZWQgPyBcIiBjb2xsYXBzZWRcIiA6IFwiXCJ9JHthY3RpdmUgPyBcIiBhY3RpdmVcIiA6IFwiXCJ9YH1cbiAgICAgICAgYXJpYS1leHBhbmRlZD17IWNvbGxhcHNlZH1cbiAgICAgICAgLy8gTm90ZTogZGF0YS1zZWN0aW9uLWlkIGlzIHVzZWQgZm9yIHdlYiBleHRlbnNpb24gYXBpIHRlc3RzIGluIG1vemlsbGEgY2VudHJhbFxuICAgICAgICBkYXRhLXNlY3Rpb24taWQ9e2lkfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdG9wLWJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjbGljay10YXJnZXQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIHsvKiBDbGljay10YXJnZXRzIHRoYXQgdG9nZ2xlIGEgY29sbGFwc2libGUgc2VjdGlvbiBzaG91bGQgaGF2ZSBhbiBhcmlhLWV4cGFuZGVkIGF0dHJpYnV0ZTsgc2VlIGJ1ZyAxNTUzMjM0ICovfVxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsaWNrLXRhcmdldFwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgdGFiSW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLm9uS2V5UHJlc3N9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkhlYWRlckNsaWNrfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySWNvbigpfVxuICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9IC8+XG4gICAgICAgICAgICAgICAge2lzQ29sbGFwc2libGUgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtcbiAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJuZXd0YWItc2VjdGlvbi1leHBhbmQtc2VjdGlvbi1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwibmV3dGFiLXNlY3Rpb24tY29sbGFwc2Utc2VjdGlvbi1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY29sbGFwc2libGUtYXJyb3cgaWNvbiAke1xuICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcImljb24tYXJyb3doZWFkLWZvcndhcmQtc21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcImljb24tYXJyb3doZWFkLWRvd24tc21hbGxcIlxuICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsZWFybi1tb3JlLWxpbmstd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgIHtsZWFybk1vcmUgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGVhcm4tbW9yZS1saW5rXCI+XG4gICAgICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17bGVhcm5Nb3JlLmxpbmsubWVzc2FnZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17bGVhcm5Nb3JlLmxpbmsuaHJlZn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9GbHVlbnRPclRleHQ+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgICAgICB0b29sdGlwPVwibmV3dGFiLW1lbnUtc2VjdGlvbi10b29sdGlwXCJcbiAgICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51VXBkYXRlfVxuICAgICAgICAgICAgICByZWZGdW5jdGlvbj17dGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvblJlZn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNlY3Rpb25NZW51XG4gICAgICAgICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgICAgICAgIGV4dHJhT3B0aW9ucz17ZXh0cmFNZW51T3B0aW9uc31cbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZT17ZXZlbnRTb3VyY2V9XG4gICAgICAgICAgICAgICAgc2hvd1ByZWZOYW1lPXtzaG93UHJlZk5hbWV9XG4gICAgICAgICAgICAgICAgcHJpdmFjeU5vdGljZVVSTD17cHJpdmFjeU5vdGljZVVSTH1cbiAgICAgICAgICAgICAgICBjb2xsYXBzZWQ9e2NvbGxhcHNlZH1cbiAgICAgICAgICAgICAgICBpc0ZpeGVkPXtpc0ZpeGVkfVxuICAgICAgICAgICAgICAgIGlzRmlyc3Q9e2lzRmlyc3R9XG4gICAgICAgICAgICAgICAgaXNMYXN0PXtpc0xhc3R9XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICAgIGlzV2ViRXh0ZW5zaW9uPXtpc1dlYkV4dGVuc2lvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8RXJyb3JCb3VuZGFyeSBjbGFzc05hbWU9XCJzZWN0aW9uLWJvZHktZmFsbGJhY2tcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BzZWN0aW9uLWJvZHkke2lzQW5pbWF0aW5nID8gXCIgYW5pbWF0aW5nXCIgOiBcIlwifWB9XG4gICAgICAgICAgICBvblRyYW5zaXRpb25FbmQ9e3RoaXMub25UcmFuc2l0aW9uRW5kfVxuICAgICAgICAgICAgcmVmPXt0aGlzLm9uQm9keU1vdW50fVxuICAgICAgICAgICAgc3R5bGU9e2JvZHlTdHlsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gIH1cbn1cblxuQ29sbGFwc2libGVTZWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCB8fCB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgdmlzaWJpbGl0eVN0YXRlOiBcImhpZGRlblwiLFxuICB9LFxuICBQcmVmczogeyB2YWx1ZXM6IHt9IH0sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgQTExeUxpbmtCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9BMTF5TGlua0J1dHRvbi9BMTF5TGlua0J1dHRvblwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRXJyb3JCb3VuZGFyeUZhbGxiYWNrIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMud2luZG93T2JqID0gdGhpcy5wcm9wcy53aW5kb3dPYmogfHwgd2luZG93O1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbmNlIHdlIG9ubHkgZ2V0IGhlcmUgaWYgcGFydCBvZiB0aGUgcGFnZSBoYXMgY3Jhc2hlZCwgZG8gYVxuICAgKiBmb3JjZWQgcmVsb2FkIHRvIGdpdmUgdXMgdGhlIGJlc3QgY2hhbmNlIGF0IHJlY292ZXJpbmcuXG4gICAqL1xuICBvbkNsaWNrKCkge1xuICAgIHRoaXMud2luZG93T2JqLmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBkZWZhdWx0Q2xhc3MgPSBcImFzLWVycm9yLWZhbGxiYWNrXCI7XG4gICAgbGV0IGNsYXNzTmFtZTtcbiAgICBpZiAoXCJjbGFzc05hbWVcIiBpbiB0aGlzLnByb3BzKSB7XG4gICAgICBjbGFzc05hbWUgPSBgJHt0aGlzLnByb3BzLmNsYXNzTmFtZX0gJHtkZWZhdWx0Q2xhc3N9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lID0gZGVmYXVsdENsYXNzO1xuICAgIH1cblxuICAgIC8vIFwiQTExeUxpbmtCdXR0b25cIiB0byBmb3JjZSBub3JtYWwgbGluayBzdHlsaW5nIHN0dWZmIChlZyBjdXJzb3Igb24gaG92ZXIpXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1lcnJvci1mYWxsYmFjay1pbmZvXCIgLz5cbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAgPEExMXlMaW5rQnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxvYWQtYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1lcnJvci1mYWxsYmFjay1yZWZyZXNoLWxpbmtcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbkVycm9yQm91bmRhcnlGYWxsYmFjay5kZWZhdWx0UHJvcHMgPSB7IGNsYXNzTmFtZTogXCJhcy1lcnJvci1mYWxsYmFja1wiIH07XG5cbmV4cG9ydCBjbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGhhc0Vycm9yOiBmYWxzZSB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGluZm8pIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gPHRoaXMucHJvcHMuRmFsbGJhY2tDb21wb25lbnQgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gLz47XG4gIH1cbn1cblxuRXJyb3JCb3VuZGFyeS5kZWZhdWx0UHJvcHMgPSB7IEZhbGxiYWNrQ29tcG9uZW50OiBFcnJvckJvdW5kYXJ5RmFsbGJhY2sgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEExMXlMaW5rQnV0dG9uKHByb3BzKSB7XG4gIC8vIGZ1bmN0aW9uIGZvciBtZXJnaW5nIGNsYXNzZXMsIGlmIG5lY2Vzc2FyeVxuICBsZXQgY2xhc3NOYW1lID0gXCJhMTF5LWxpbmstYnV0dG9uXCI7XG4gIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICBjbGFzc05hbWUgKz0gYCAke3Byb3BzLmNsYXNzTmFtZX1gO1xuICB9XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgey4uLnByb3BzfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbi8qKlxuICogU2V0IHRleHQgb24gYSBjaGlsZCBlbGVtZW50L2NvbXBvbmVudCBkZXBlbmRpbmcgb24gaWYgdGhlIG1lc3NhZ2UgaXMgYWxyZWFkeVxuICogdHJhbnNsYXRlZCBwbGFpbiB0ZXh0IG9yIGEgZmx1ZW50IGlkIHdpdGggb3B0aW9uYWwgYXJncy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZsdWVudE9yVGV4dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgYSBzaW5nbGUgY2hpbGQgdG8gYXR0YWNoIGF0dHJpYnV0ZXNcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBtZXNzYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW4gPyBSZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSA6IDxzcGFuIC8+O1xuXG4gICAgLy8gRm9yIGEgc3RyaW5nIG1lc3NhZ2UsIGp1c3QgdXNlIGl0IGFzIHRoZSBjaGlsZCdzIHRleHRcbiAgICBsZXQgZ3JhbmRDaGlsZHJlbiA9IG1lc3NhZ2U7XG4gICAgbGV0IGV4dHJhUHJvcHM7XG5cbiAgICAvLyBDb252ZXJ0IGEgbWVzc2FnZSBvYmplY3QgdG8gc2V0IGRlc2lyZWQgZmx1ZW50LWRvbSBhdHRyaWJ1dGVzXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5hcmdzIHx8IG1lc3NhZ2UudmFsdWVzO1xuICAgICAgZXh0cmFQcm9wcyA9IHtcbiAgICAgICAgXCJkYXRhLWwxMG4tYXJnc1wiOiBhcmdzICYmIEpTT04uc3RyaW5naWZ5KGFyZ3MpLFxuICAgICAgICBcImRhdGEtbDEwbi1pZFwiOiBtZXNzYWdlLmlkIHx8IG1lc3NhZ2Uuc3RyaW5nX2lkLFxuICAgICAgfTtcblxuICAgICAgLy8gVXNlIG9yaWdpbmFsIGNoaWxkcmVuIHBvdGVudGlhbGx5IHdpdGggZGF0YS1sMTBuLW5hbWUgYXR0cmlidXRlc1xuICAgICAgZ3JhbmRDaGlsZHJlbiA9IGNoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgbWVzc2FnZSB0byB0aGUgY2hpbGQgdmlhIGZsdWVudCBhdHRyaWJ1dGVzIG9yIHRleHQgbm9kZVxuICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIGV4dHJhUHJvcHMsIGdyYW5kQ2hpbGRyZW4pO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IENvbnRleHRNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25NZW51T3B0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2VjdGlvbi1tZW51LW9wdGlvbnNcIjtcblxuY29uc3QgREVGQVVMVF9TRUNUSU9OX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJNb3ZlVXBcIixcbiAgXCJNb3ZlRG93blwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIlJlbW92ZVNlY3Rpb25cIixcbiAgXCJDaGVja0NvbGxhcHNlZFwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIk1hbmFnZVNlY3Rpb25cIixcbl07XG5jb25zdCBXRUJFWFRfU0VDVElPTl9NRU5VX09QVElPTlMgPSBbXG4gIFwiTW92ZVVwXCIsXG4gIFwiTW92ZURvd25cIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJDaGVja0NvbGxhcHNlZFwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIk1hbmFnZVdlYkV4dGVuc2lvblwiLFxuXTtcblxuZXhwb3J0IGNsYXNzIF9TZWN0aW9uTWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBoYW5kbGVBZGRXaGlsZUNvbGxhcHNlZCgpIHtcbiAgICBjb25zdCB7IGFjdGlvbiwgdXNlckV2ZW50IH0gPSBTZWN0aW9uTWVudU9wdGlvbnMuRXhwYW5kU2VjdGlvbih0aGlzLnByb3BzKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgaWYgKHVzZXJFdmVudCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5zb3VyY2UsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGdldE9wdGlvbnMoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGNvbnN0IHByb3BPcHRpb25zID0gcHJvcHMuaXNXZWJFeHRlbnNpb25cbiAgICAgID8gWy4uLldFQkVYVF9TRUNUSU9OX01FTlVfT1BUSU9OU11cbiAgICAgIDogWy4uLkRFRkFVTFRfU0VDVElPTl9NRU5VX09QVElPTlNdO1xuICAgIC8vIFJlbW92ZSB0aGUgbW92ZSByZWxhdGVkIG9wdGlvbnMgaWYgdGhlIHNlY3Rpb24gaXMgZml4ZWRcbiAgICBpZiAocHJvcHMuaXNGaXhlZCkge1xuICAgICAgcHJvcE9wdGlvbnMuc3BsaWNlKHByb3BPcHRpb25zLmluZGV4T2YoXCJNb3ZlVXBcIiksIDMpO1xuICAgIH1cbiAgICAvLyBQcmVwZW5kIGN1c3RvbSBvcHRpb25zIGFuZCBhIHNlcGFyYXRvclxuICAgIGlmIChwcm9wcy5leHRyYU9wdGlvbnMpIHtcbiAgICAgIHByb3BPcHRpb25zLnNwbGljZSgwLCAwLCAuLi5wcm9wcy5leHRyYU9wdGlvbnMsIFwiU2VwYXJhdG9yXCIpO1xuICAgIH1cbiAgICAvLyBJbnNlcnQgcHJpdmFjeSBub3RpY2UgYmVmb3JlIHRoZSBsYXN0IG9wdGlvbiAoXCJNYW5hZ2VTZWN0aW9uXCIpXG4gICAgaWYgKHByb3BzLnByaXZhY3lOb3RpY2VVUkwpIHtcbiAgICAgIHByb3BPcHRpb25zLnNwbGljZSgtMSwgMCwgXCJQcml2YWN5Tm90aWNlXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSBwcm9wT3B0aW9uc1xuICAgICAgLm1hcChvID0+IFNlY3Rpb25NZW51T3B0aW9uc1tvXShwcm9wcykpXG4gICAgICAubWFwKG9wdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCBpZCwgdHlwZSwgdXNlckV2ZW50IH0gPSBvcHRpb247XG4gICAgICAgIGlmICghdHlwZSAmJiBpZCkge1xuICAgICAgICAgIG9wdGlvbi5vbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFzQWRkRXZlbnQgPVxuICAgICAgICAgICAgICB1c2VyRXZlbnQgPT09IFwiTUVOVV9BRERfVE9QU0lURVwiIHx8XG4gICAgICAgICAgICAgIHVzZXJFdmVudCA9PT0gXCJNRU5VX0FERF9TRUFSQ0hcIjtcblxuICAgICAgICAgICAgaWYgKHByb3BzLmNvbGxhcHNlZCAmJiBoYXNBZGRFdmVudCkge1xuICAgICAgICAgICAgICB0aGlzLmhhbmRsZUFkZFdoaWxlQ29sbGFwc2VkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgICAgICBpZiAodXNlckV2ZW50KSB7XG4gICAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgICAgICAgICAgc291cmNlOiBwcm9wcy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICB9KTtcblxuICAgIC8vIFRoaXMgaXMgZm9yIGFjY2Vzc2liaWxpdHkgdG8gc3VwcG9ydCBtYWtpbmcgZWFjaCBpdGVtIHRhYmJhYmxlLlxuICAgIC8vIFdlIHdhbnQgdG8ga25vdyB3aGljaCBpdGVtIGlzIHRoZSBmaXJzdCBhbmQgd2hpY2ggaXRlbVxuICAgIC8vIGlzIHRoZSBsYXN0LCBzbyB3ZSBjYW4gY2xvc2UgdGhlIGNvbnRleHQgbWVudSBhY2NvcmRpbmdseS5cbiAgICBvcHRpb25zWzBdLmZpcnN0ID0gdHJ1ZTtcbiAgICBvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gMV0ubGFzdCA9IHRydWU7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250ZXh0TWVudVxuICAgICAgICBvblVwZGF0ZT17dGhpcy5wcm9wcy5vblVwZGF0ZX1cbiAgICAgICAgb3B0aW9ucz17dGhpcy5nZXRPcHRpb25zKCl9XG4gICAgICAgIGtleWJvYXJkQWNjZXNzPXt0aGlzLnByb3BzLmtleWJvYXJkQWNjZXNzfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBTZWN0aW9uTWVudSA9IF9TZWN0aW9uTWVudTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcblxuLyoqXG4gKiBMaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBpdGVtcyB0aGF0IGNhbiBiZSBpbmNsdWRlZCBhcyBtZW51IG9wdGlvbnMgaW4gYVxuICogU2VjdGlvbk1lbnUuIEFsbCBmdW5jdGlvbnMgdGFrZSB0aGUgc2VjdGlvbiBhcyB0aGUgb25seSBwYXJhbWV0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBTZWN0aW9uTWVudU9wdGlvbnMgPSB7XG4gIFNlcGFyYXRvcjogKCkgPT4gKHsgdHlwZTogXCJzZXBhcmF0b3JcIiB9KSxcbiAgTW92ZVVwOiBzZWN0aW9uID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXNlY3Rpb24tbWVudS1tb3ZlLXVwXCIsXG4gICAgaWNvbjogXCJhcnJvd2hlYWQtdXBcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0VDVElPTl9NT1ZFLFxuICAgICAgZGF0YTogeyBpZDogc2VjdGlvbi5pZCwgZGlyZWN0aW9uOiAtMSB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJNRU5VX01PVkVfVVBcIixcbiAgICBkaXNhYmxlZDogISFzZWN0aW9uLmlzRmlyc3QsXG4gIH0pLFxuICBNb3ZlRG93bjogc2VjdGlvbiA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1zZWN0aW9uLW1lbnUtbW92ZS1kb3duXCIsXG4gICAgaWNvbjogXCJhcnJvd2hlYWQtZG93blwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRUNUSU9OX01PVkUsXG4gICAgICBkYXRhOiB7IGlkOiBzZWN0aW9uLmlkLCBkaXJlY3Rpb246ICsxIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIk1FTlVfTU9WRV9ET1dOXCIsXG4gICAgZGlzYWJsZWQ6ICEhc2VjdGlvbi5pc0xhc3QsXG4gIH0pLFxuICBSZW1vdmVTZWN0aW9uOiBzZWN0aW9uID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXNlY3Rpb24tbWVudS1yZW1vdmUtc2VjdGlvblwiLFxuICAgIGljb246IFwiZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuU2V0UHJlZihzZWN0aW9uLnNob3dQcmVmTmFtZSwgZmFsc2UpLFxuICAgIHVzZXJFdmVudDogXCJNRU5VX1JFTU9WRVwiLFxuICB9KSxcbiAgQ29sbGFwc2VTZWN0aW9uOiBzZWN0aW9uID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXNlY3Rpb24tbWVudS1jb2xsYXBzZS1zZWN0aW9uXCIsXG4gICAgaWNvbjogXCJtaW5pbWl6ZVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5VUERBVEVfU0VDVElPTl9QUkVGUyxcbiAgICAgIGRhdGE6IHsgaWQ6IHNlY3Rpb24uaWQsIHZhbHVlOiB7IGNvbGxhcHNlZDogdHJ1ZSB9IH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIk1FTlVfQ09MTEFQU0VcIixcbiAgfSksXG4gIEV4cGFuZFNlY3Rpb246IHNlY3Rpb24gPT4gKHtcbiAgICBpZDogXCJuZXd0YWItc2VjdGlvbi1tZW51LWV4cGFuZC1zZWN0aW9uXCIsXG4gICAgaWNvbjogXCJtYXhpbWl6ZVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5VUERBVEVfU0VDVElPTl9QUkVGUyxcbiAgICAgIGRhdGE6IHsgaWQ6IHNlY3Rpb24uaWQsIHZhbHVlOiB7IGNvbGxhcHNlZDogZmFsc2UgfSB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJNRU5VX0VYUEFORFwiLFxuICB9KSxcbiAgTWFuYWdlU2VjdGlvbjogc2VjdGlvbiA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1zZWN0aW9uLW1lbnUtbWFuYWdlLXNlY3Rpb25cIixcbiAgICBpY29uOiBcInNldHRpbmdzXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuU0VUVElOR1NfT1BFTiB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiTUVOVV9NQU5BR0VcIixcbiAgfSksXG4gIE1hbmFnZVdlYkV4dGVuc2lvbjogc2VjdGlvbiA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1zZWN0aW9uLW1lbnUtbWFuYWdlLXdlYmV4dFwiLFxuICAgIGljb246IFwic2V0dGluZ3NcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5PUEVOX1dFQkVYVF9TRVRUSU5HUywgZGF0YTogc2VjdGlvbi5pZCB9KSxcbiAgfSksXG4gIEFkZFRvcFNpdGU6IHNlY3Rpb24gPT4gKHtcbiAgICBpZDogXCJuZXd0YWItc2VjdGlvbi1tZW51LWFkZC10b3BzaXRlXCIsXG4gICAgaWNvbjogXCJhZGRcIixcbiAgICBhY3Rpb246IHsgdHlwZTogYXQuVE9QX1NJVEVTX0VESVQsIGRhdGE6IHsgaW5kZXg6IC0xIH0gfSxcbiAgICB1c2VyRXZlbnQ6IFwiTUVOVV9BRERfVE9QU0lURVwiLFxuICB9KSxcbiAgQWRkU2VhcmNoU2hvcnRjdXQ6IHNlY3Rpb24gPT4gKHtcbiAgICBpZDogXCJuZXd0YWItc2VjdGlvbi1tZW51LWFkZC1zZWFyY2gtZW5naW5lXCIsXG4gICAgaWNvbjogXCJzZWFyY2hcIixcbiAgICBhY3Rpb246IHsgdHlwZTogYXQuVE9QX1NJVEVTX09QRU5fU0VBUkNIX1NIT1JUQ1VUU19NT0RBTCB9LFxuICAgIHVzZXJFdmVudDogXCJNRU5VX0FERF9TRUFSQ0hcIixcbiAgfSksXG4gIFByaXZhY3lOb3RpY2U6IHNlY3Rpb24gPT4gKHtcbiAgICBpZDogXCJuZXd0YWItc2VjdGlvbi1tZW51LXByaXZhY3ktbm90aWNlXCIsXG4gICAgaWNvbjogXCJpbmZvXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgIGRhdGE6IHsgdXJsOiBzZWN0aW9uLnByaXZhY3lOb3RpY2VVUkwgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiTUVOVV9QUklWQUNZX05PVElDRVwiLFxuICB9KSxcbiAgQ2hlY2tDb2xsYXBzZWQ6IHNlY3Rpb24gPT5cbiAgICBzZWN0aW9uLmNvbGxhcHNlZFxuICAgICAgPyBTZWN0aW9uTWVudU9wdGlvbnMuRXhwYW5kU2VjdGlvbihzZWN0aW9uKVxuICAgICAgOiBTZWN0aW9uTWVudU9wdGlvbnMuQ29sbGFwc2VTZWN0aW9uKHNlY3Rpb24pLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGlua01lbnVPcHRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9saW5rLW1lbnUtb3B0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgRFNEaXNtaXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2sgPSB0aGlzLm9uRGlzbWlzc0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkhvdmVyID0gdGhpcy5vbkhvdmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vZmZIb3ZlciA9IHRoaXMub2ZmSG92ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJpbmc6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvbkRpc21pc3NDbGljaygpIHtcbiAgICBjb25zdCBpbmRleCA9IDA7XG4gICAgY29uc3Qgc291cmNlID0gXCJESVNDT1ZFUllfU1RSRUFNXCI7XG4gICAgY29uc3QgYmxvY2tVcmxPcHRpb24gPSBMaW5rTWVudU9wdGlvbnMuQmxvY2tVcmwoXG4gICAgICB0aGlzLnByb3BzLmRhdGEsXG4gICAgICBpbmRleCxcbiAgICAgIHNvdXJjZVxuICAgICk7XG5cbiAgICBjb25zdCB7IGFjdGlvbiwgaW1wcmVzc2lvbiwgdXNlckV2ZW50IH0gPSBibG9ja1VybE9wdGlvbjtcblxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICBjb25zdCB1c2VyRXZlbnREYXRhID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgZXZlbnQ6IHVzZXJFdmVudCxcbiAgICAgICAgc291cmNlLFxuICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgfSxcbiAgICAgIHRoaXMucHJvcHMuZGF0YVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQodXNlckV2ZW50RGF0YSkpO1xuICAgIGlmIChpbXByZXNzaW9uICYmIHRoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cykge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChpbXByZXNzaW9uKTtcbiAgICB9XG4gIH1cblxuICBvbkhvdmVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaG92ZXJpbmc6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvZmZIb3ZlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhvdmVyaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gYGRzLWRpc21pc3NcbiAgICAgICR7dGhpcy5zdGF0ZS5ob3ZlcmluZyA/IGAgaG92ZXJpbmdgIDogYGB9XG4gICAgICAke3RoaXMucHJvcHMuZXh0cmFDbGFzc2VzID8gYCAke3RoaXMucHJvcHMuZXh0cmFDbGFzc2VzfWAgOiBgYH1gO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWRpc21pc3MtYnV0dG9uXCJcbiAgICAgICAgICBvbkhvdmVyPXt0aGlzLm9uSG92ZXJ9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRpc21pc3NDbGlja31cbiAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMub25Ib3Zlcn1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMub2ZmSG92ZXJ9XG4gICAgICAgICAgYXJpYS1sYWJlbD1cImRpc21pc3NcIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRpc21pc3NcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBEU01lc3NhZ2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLW1lc3NhZ2VcIj5cbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmljb24gJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbHlwaFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybCgke3RoaXMucHJvcHMuaWNvbn0pYCB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt0aGlzLnByb3BzLnRpdGxlICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRpdGxlLXRleHRcIj5cbiAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXt0aGlzLnByb3BzLnRpdGxlfSAvPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3RoaXMucHJvcHMubGlua190ZXh0ICYmIHRoaXMucHJvcHMubGlua191cmwgJiYgKFxuICAgICAgICAgICAgPFNhZmVBbmNob3IgY2xhc3NOYW1lPVwibGlua1wiIHVybD17dGhpcy5wcm9wcy5saW5rX3VybH0+XG4gICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGhpcy5wcm9wcy5saW5rX3RleHR9IC8+XG4gICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9oZWFkZXI+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IE1vZGFsT3ZlcmxheVdyYXBwZXIgfSBmcm9tIFwiY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5XCI7XG5cbmV4cG9ydCBjbGFzcyBEU1ByaXZhY3lNb2RhbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmNsb3NlTW9kYWwgPSB0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tfUFJJVkFDWV9JTkZPXCIsXG4gICAgICAgIHNvdXJjZTogXCJEU19QUklWQUNZX01PREFMXCIsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjbG9zZU1vZGFsKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYEhJREVfUFJJVkFDWV9JTkZPYCxcbiAgICAgIGRhdGE6IHt9LFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XG4gICAgICAgIGlubmVyQ2xhc3NOYW1lPVwiZHMtcHJpdmFjeS1tb2RhbFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpdmFjeS1ub3RpY2VcIj5cbiAgICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByaXZhY3ktbW9kYWwtaGVhZGVyXCIgLz5cbiAgICAgICAgICA8cCBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJpdmFjeS1tb2RhbC1wYXJhZ3JhcGhcIiAvPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJpdmFjeS1tb2RhbC1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25MaW5rQ2xpY2t9XG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly93d3cubW96aWxsYS5vcmcvZW4tVVMvcHJpdmFjeS9maXJlZm94L1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZU1vZGFsfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByaXZhY3ktbW9kYWwtYnV0dG9uLWRvbmVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvTW9kYWxPdmVybGF5V3JhcHBlcj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IERTSW1hZ2UgfSBmcm9tIFwiLi4vRFNJbWFnZS9EU0ltYWdlLmpzeFwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBEU1RleHRQcm9tbyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNoaW0gJiYgdGhpcy5wcm9wcy5zaGltLmNsaWNrXG4gICAgICAgICAgICAgICAgPyB7IHNoaW06IHRoaXMucHJvcHMuc2hpbS5jbGljayB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy10ZXh0LXByb21vXCI+XG4gICAgICAgIDxEU0ltYWdlXG4gICAgICAgICAgYWx0X3RleHQ9e3RoaXMucHJvcHMuYWx0X3RleHR9XG4gICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLmltYWdlfVxuICAgICAgICAgIHJhd1NvdXJjZT17dGhpcy5wcm9wcy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHRcIj5cbiAgICAgICAgICA8aDM+XG4gICAgICAgICAgICB7YCR7dGhpcy5wcm9wcy5oZWFkZXJ9XFx1MjAwM2B9XG4gICAgICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jaGV2cm9uLWxpbmtcIlxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgb25MaW5rQ2xpY2s9e3RoaXMub25MaW5rQ2xpY2t9XG4gICAgICAgICAgICAgIHVybD17dGhpcy5wcm9wcy5jdGFfdXJsfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jdGFfdGV4dH1cbiAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICA8L2gzPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInN1YnRpdGxlXCI+e3RoaXMucHJvcHMuc3VidGl0bGV9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgIGZsaWdodElkPXt0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgICAgIHNoaW06IHRoaXMucHJvcHMuc2hpbSAmJiB0aGlzLnByb3BzLnNoaW0uaW1wcmVzc2lvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IERTQ2FyZCwgUGxhY2Vob2xkZXJEU0NhcmQgfSBmcm9tIFwiLi4vRFNDYXJkL0RTQ2FyZC5qc3hcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgRFNFbXB0eVN0YXRlIH0gZnJvbSBcIi4uL0RTRW1wdHlTdGF0ZS9EU0VtcHR5U3RhdGUuanN4XCI7XG5pbXBvcnQgeyBEU0ltYWdlIH0gZnJvbSBcIi4uL0RTSW1hZ2UvRFNJbWFnZS5qc3hcIjtcbmltcG9ydCB7IERTTGlua01lbnUgfSBmcm9tIFwiLi4vRFNMaW5rTWVudS9EU0xpbmtNZW51XCI7XG5pbXBvcnQgeyBJbXByZXNzaW9uU3RhdHMgfSBmcm9tIFwiLi4vLi4vRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0c1wiO1xuaW1wb3J0IHsgTGlzdCB9IGZyb20gXCIuLi9MaXN0L0xpc3QuanN4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgRFNDb250ZXh0Rm9vdGVyIH0gZnJvbSBcIi4uL0RTQ29udGV4dEZvb3Rlci9EU0NvbnRleHRGb290ZXIuanN4XCI7XG5cbmV4cG9ydCBjbGFzcyBIZXJvIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMuaGVyb1JlYy5wb3MsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMuaGVyb1JlYy5pZCxcbiAgICAgICAgICAgICAgcG9zOiB0aGlzLmhlcm9SZWMucG9zLFxuICAgICAgICAgICAgICAuLi4odGhpcy5oZXJvUmVjLnNoaW0gJiYgdGhpcy5oZXJvUmVjLnNoaW0uY2xpY2tcbiAgICAgICAgICAgICAgICA/IHsgc2hpbTogdGhpcy5oZXJvUmVjLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIZXJvKCkge1xuICAgIGxldCBbaGVyb1JlYywgLi4ub3RoZXJSZWNzXSA9IHRoaXMucHJvcHMuZGF0YS5yZWNvbW1lbmRhdGlvbnMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgdGhpcy5wcm9wcy5pdGVtc1xuICAgICk7XG4gICAgdGhpcy5oZXJvUmVjID0gaGVyb1JlYztcblxuICAgIGNvbnN0IGNhcmRzID0gW107XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucHJvcHMuaXRlbXMgLSAxOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCByZWMgPSBvdGhlclJlY3NbaW5kZXhdO1xuICAgICAgY2FyZHMucHVzaChcbiAgICAgICAgIXJlYyB8fCByZWMucGxhY2Vob2xkZXIgPyAoXG4gICAgICAgICAgPFBsYWNlaG9sZGVyRFNDYXJkIGtleT17YGRzY2FyZC0ke2luZGV4fWB9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPERTQ2FyZFxuICAgICAgICAgICAgZmxpZ2h0SWQ9e3JlYy5mbGlnaHRfaWR9XG4gICAgICAgICAgICBrZXk9e2Bkc2NhcmQtJHtyZWMuaWR9YH1cbiAgICAgICAgICAgIGltYWdlX3NyYz17cmVjLmltYWdlX3NyY31cbiAgICAgICAgICAgIHJhd19pbWFnZV9zcmM9e3JlYy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgdGl0bGU9e3JlYy50aXRsZX1cbiAgICAgICAgICAgIHVybD17cmVjLnVybH1cbiAgICAgICAgICAgIGlkPXtyZWMuaWR9XG4gICAgICAgICAgICBzaGltPXtyZWMuc2hpbX1cbiAgICAgICAgICAgIHBvcz17cmVjLnBvc31cbiAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICBjb250ZXh0X3R5cGU9e3JlYy5jb250ZXh0X3R5cGV9XG4gICAgICAgICAgICBzb3VyY2U9e3JlYy5kb21haW59XG4gICAgICAgICAgICBwb2NrZXRfaWQ9e3JlYy5wb2NrZXRfaWR9XG4gICAgICAgICAgICBib29rbWFya0d1aWQ9e3JlYy5ib29rbWFya0d1aWR9XG4gICAgICAgICAgICBlbmdhZ2VtZW50PXtyZWMuZW5nYWdlbWVudH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBoZXJvQ2FyZCA9IG51bGw7XG5cbiAgICBpZiAoIWhlcm9SZWMgfHwgaGVyb1JlYy5wbGFjZWhvbGRlcikge1xuICAgICAgaGVyb0NhcmQgPSA8UGxhY2Vob2xkZXJEU0NhcmQgLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlcm9DYXJkID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWhlcm8taXRlbVwiIGtleT17YGRzY2FyZC0ke2hlcm9SZWMuaWR9YH0+XG4gICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIndyYXBwZXJcIlxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBvbkxpbmtDbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgICAgIHVybD17aGVyb1JlYy51cmx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWctd3JhcHBlclwiPlxuICAgICAgICAgICAgICA8RFNJbWFnZVxuICAgICAgICAgICAgICAgIGV4dHJhQ2xhc3NOYW1lcz1cImltZ1wiXG4gICAgICAgICAgICAgICAgc291cmNlPXtoZXJvUmVjLmltYWdlX3NyY31cbiAgICAgICAgICAgICAgICByYXdTb3VyY2U9e2hlcm9SZWMucmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXRhXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWFuZC1leGNlcnB0XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wXCI+e2hlcm9SZWMuZG9tYWlufTwvcD5cbiAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImNsYW1wXCI+e2hlcm9SZWMudGl0bGV9PC9oZWFkZXI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZXhjZXJwdCBjbGFtcFwiPntoZXJvUmVjLmV4Y2VycHR9PC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPERTQ29udGV4dEZvb3RlclxuICAgICAgICAgICAgICAgIGNvbnRleHQ9e2hlcm9SZWMuY29udGV4dH1cbiAgICAgICAgICAgICAgICBjb250ZXh0X3R5cGU9e2hlcm9SZWMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnQ9e2hlcm9SZWMuZW5nYWdlbWVudH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgICBmbGlnaHRJZD17aGVyb1JlYy5mbGlnaHRfaWR9XG4gICAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZDogaGVyb1JlYy5pZCxcbiAgICAgICAgICAgICAgICAgIHBvczogaGVyb1JlYy5wb3MsXG4gICAgICAgICAgICAgICAgICAuLi4oaGVyb1JlYy5zaGltICYmIGhlcm9SZWMuc2hpbS5pbXByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8geyBzaGltOiBoZXJvUmVjLnNoaW0uaW1wcmVzc2lvbiB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgIDxEU0xpbmtNZW51XG4gICAgICAgICAgICBpZD17aGVyb1JlYy5pZH1cbiAgICAgICAgICAgIGluZGV4PXtoZXJvUmVjLnBvc31cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgdXJsPXtoZXJvUmVjLnVybH1cbiAgICAgICAgICAgIHRpdGxlPXtoZXJvUmVjLnRpdGxlfVxuICAgICAgICAgICAgc291cmNlPXtoZXJvUmVjLmRvbWFpbn1cbiAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIHBvY2tldF9pZD17aGVyb1JlYy5wb2NrZXRfaWR9XG4gICAgICAgICAgICBzaGltPXtoZXJvUmVjLnNoaW19XG4gICAgICAgICAgICBib29rbWFya0d1aWQ9e2hlcm9SZWMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgZmxpZ2h0SWQ9e2hlcm9SZWMuZmxpZ2h0X2lkfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgbGlzdCA9IChcbiAgICAgIDxMaXN0XG4gICAgICAgIHJlY1N0YXJ0aW5nUG9pbnQ9ezF9XG4gICAgICAgIGRhdGE9e3RoaXMucHJvcHMuZGF0YX1cbiAgICAgICAgZmVlZD17dGhpcy5wcm9wcy5mZWVkfVxuICAgICAgICBoYXNJbWFnZXM9e3RydWV9XG4gICAgICAgIGhhc0JvcmRlcnM9e3RoaXMucHJvcHMuYm9yZGVyID09PSBgYm9yZGVyYH1cbiAgICAgICAgaXRlbXM9e3RoaXMucHJvcHMuaXRlbXMgLSAxfVxuICAgICAgICB0eXBlPXtgSGVyb2B9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Bkcy1oZXJvIGRzLWhlcm8tJHt0aGlzLnByb3BzLmJvcmRlcn1gfT5cbiAgICAgICAge2hlcm9DYXJkfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7dGhpcy5wcm9wcy5zdWJDb21wb25lbnRUeXBlfWB9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLnN1YkNvbXBvbmVudFR5cGUgPT09IGBjYXJkc2AgPyBjYXJkcyA6IGxpc3R9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBIYW5kbGUgYSByZW5kZXIgYmVmb3JlIGZlZWQgaGFzIGJlZW4gZmV0Y2hlZCBieSBkaXNwbGF5aW5nIG5vdGhpbmdcbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEucmVjb21tZW5kYXRpb25zKSB7XG4gICAgICByZXR1cm4gPGRpdiAvPjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgYSB1c2VyIGhhcyBkaXNtaXNzZWQgYWxsIHJlY29tbWVuZGF0aW9uc1xuICAgIGNvbnN0IGlzRW1wdHkgPSBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGggPT09IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1oZWFkZXJcIj57dGhpcy5wcm9wcy50aXRsZX08L2Rpdj5cbiAgICAgICAge2lzRW1wdHkgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1oZXJvIGVtcHR5XCI+XG4gICAgICAgICAgICA8RFNFbXB0eVN0YXRlXG4gICAgICAgICAgICAgIHN0YXR1cz17ZGF0YS5zdGF0dXN9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBmZWVkPXt0aGlzLnByb3BzLmZlZWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIHRoaXMucmVuZGVySGVybygpXG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkhlcm8uZGVmYXVsdFByb3BzID0ge1xuICBkYXRhOiB7fSxcbiAgYm9yZGVyOiBgYm9yZGVyYCxcbiAgaXRlbXM6IDEsIC8vIE51bWJlciBvZiBzdG9yaWVzIHRvIGRpc3BsYXlcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IERTRW1wdHlTdGF0ZSB9IGZyb20gXCIuLi9EU0VtcHR5U3RhdGUvRFNFbXB0eVN0YXRlLmpzeFwiO1xuaW1wb3J0IHsgRFNJbWFnZSB9IGZyb20gXCIuLi9EU0ltYWdlL0RTSW1hZ2UuanN4XCI7XG5pbXBvcnQgeyBEU0xpbmtNZW51IH0gZnJvbSBcIi4uL0RTTGlua01lbnUvRFNMaW5rTWVudVwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBEU0NvbnRleHRGb290ZXIgfSBmcm9tIFwiLi4vRFNDb250ZXh0Rm9vdGVyL0RTQ29udGV4dEZvb3Rlci5qc3hcIjtcblxuLyoqXG4gKiBAbm90ZSBleHBvcnRlZCBmb3IgdGVzdGluZyBvbmx5XG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0SXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBUT0RPIHBlcmZvcm1hbmNlOiBnZXQgZmVlZHMgdG8gc2VuZCBhcHByb3ByaWF0ZWx5IHNpemVkIGltYWdlcyByYXRoZXJcbiAgLy8gdGhhbiB3YWl0aW5nIGxvbmdlciBhbmQgc2NhbGluZyBkb3duIG9uIGNsaWVudD9cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgdmFsdWU6IHsgY2FyZF90eXBlOiB0aGlzLnByb3BzLmZsaWdodElkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIiB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgIHRpbGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMucG9zLFxuICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9e2Bkcy1saXN0LWl0ZW0ke1xuICAgICAgICAgIHRoaXMucHJvcHMucGxhY2Vob2xkZXIgPyBcIiBwbGFjZWhvbGRlclwiIDogXCJcIlxuICAgICAgICB9YH1cbiAgICAgID5cbiAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICBjbGFzc05hbWU9XCJkcy1saXN0LWl0ZW0tbGlua1wiXG4gICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgb25MaW5rQ2xpY2s9eyF0aGlzLnByb3BzLnBsYWNlaG9sZGVyID8gdGhpcy5vbkxpbmtDbGljayA6IHVuZGVmaW5lZH1cbiAgICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1saXN0LWl0ZW0tdGV4dFwiPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRzLWxpc3QtaXRlbS1pbmZvIGNsYW1wXCI+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuZG9tYWlufVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWxpc3QtaXRlbS1ib2R5XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbGlzdC1pdGVtLXRpdGxlIGNsYW1wXCI+e3RoaXMucHJvcHMudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4Y2VycHQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbGlzdC1pdGVtLWV4Y2VycHQgY2xhbXBcIj5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4Y2VycHR9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxEU0NvbnRleHRGb290ZXJcbiAgICAgICAgICAgICAgY29udGV4dD17dGhpcy5wcm9wcy5jb250ZXh0fVxuICAgICAgICAgICAgICBjb250ZXh0X3R5cGU9e3RoaXMucHJvcHMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgICBlbmdhZ2VtZW50PXt0aGlzLnByb3BzLmVuZ2FnZW1lbnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxEU0ltYWdlXG4gICAgICAgICAgICBleHRyYUNsYXNzTmFtZXM9XCJkcy1saXN0LWltYWdlXCJcbiAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5pbWFnZV9zcmN9XG4gICAgICAgICAgICByYXdTb3VyY2U9e3RoaXMucHJvcHMucmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXt0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5pbXByZXNzaW9uXG4gICAgICAgICAgICAgICAgICA/IHsgc2hpbTogdGhpcy5wcm9wcy5zaGltLmltcHJlc3Npb24gfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgIHshdGhpcy5wcm9wcy5wbGFjZWhvbGRlciAmJiAoXG4gICAgICAgICAgPERTTGlua01lbnVcbiAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgaW5kZXg9e3RoaXMucHJvcHMucG9zfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgcG9ja2V0X2lkPXt0aGlzLnByb3BzLnBvY2tldF9pZH1cbiAgICAgICAgICAgIHNoaW09e3RoaXMucHJvcHMuc2hpbX1cbiAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17dGhpcy5wcm9wcy5ib29rbWFya0d1aWR9XG4gICAgICAgICAgICBmbGlnaHRJZD17dGhpcy5wcm9wcy5mbGlnaHRJZH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlckxpc3RJdGVtID0gcHJvcHMgPT4gPExpc3RJdGVtIHBsYWNlaG9sZGVyPXt0cnVlfSAvPjtcblxuLyoqXG4gKiBAbm90ZSBleHBvcnRlZCBmb3IgdGVzdGluZyBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfTGlzdChwcm9wcykge1xuICBjb25zdCByZW5kZXJMaXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlY3MgPSBwcm9wcy5kYXRhLnJlY29tbWVuZGF0aW9ucy5zbGljZShcbiAgICAgIHByb3BzLnJlY1N0YXJ0aW5nUG9pbnQsXG4gICAgICBwcm9wcy5yZWNTdGFydGluZ1BvaW50ICsgcHJvcHMuaXRlbXNcbiAgICApO1xuICAgIGNvbnN0IHJlY01hcmt1cCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHByb3BzLml0ZW1zOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCByZWMgPSByZWNzW2luZGV4XTtcbiAgICAgIHJlY01hcmt1cC5wdXNoKFxuICAgICAgICAhcmVjIHx8IHJlYy5wbGFjZWhvbGRlciA/IChcbiAgICAgICAgICA8UGxhY2Vob2xkZXJMaXN0SXRlbSBrZXk9e2Bkcy1saXN0LWl0ZW0tJHtpbmRleH1gfSAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxMaXN0SXRlbVxuICAgICAgICAgICAga2V5PXtgZHMtbGlzdC1pdGVtLSR7cmVjLmlkfWB9XG4gICAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBmbGlnaHRJZD17cmVjLmZsaWdodF9pZH1cbiAgICAgICAgICAgIGRvbWFpbj17cmVjLmRvbWFpbn1cbiAgICAgICAgICAgIGV4Y2VycHQ9e3JlYy5leGNlcnB0fVxuICAgICAgICAgICAgaWQ9e3JlYy5pZH1cbiAgICAgICAgICAgIHNoaW09e3JlYy5zaGltfVxuICAgICAgICAgICAgaW1hZ2Vfc3JjPXtyZWMuaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgcmF3X2ltYWdlX3NyYz17cmVjLnJhd19pbWFnZV9zcmN9XG4gICAgICAgICAgICBwb3M9e3JlYy5wb3N9XG4gICAgICAgICAgICB0aXRsZT17cmVjLnRpdGxlfVxuICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICBjb250ZXh0X3R5cGU9e3JlYy5jb250ZXh0X3R5cGV9XG4gICAgICAgICAgICB0eXBlPXtwcm9wcy50eXBlfVxuICAgICAgICAgICAgdXJsPXtyZWMudXJsfVxuICAgICAgICAgICAgcG9ja2V0X2lkPXtyZWMucG9ja2V0X2lkfVxuICAgICAgICAgICAgYm9va21hcmtHdWlkPXtyZWMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgZW5nYWdlbWVudD17cmVjLmVuZ2FnZW1lbnR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0U3R5bGVzID0gW1xuICAgICAgXCJkcy1saXN0XCIsXG4gICAgICBwcm9wcy5mdWxsV2lkdGggPyBcImRzLWxpc3QtZnVsbC13aWR0aFwiIDogXCJcIixcbiAgICAgIHByb3BzLmhhc0JvcmRlcnMgPyBcImRzLWxpc3QtYm9yZGVyc1wiIDogXCJcIixcbiAgICAgIHByb3BzLmhhc0ltYWdlcyA/IFwiZHMtbGlzdC1pbWFnZXNcIiA6IFwiXCIsXG4gICAgICBwcm9wcy5oYXNOdW1iZXJzID8gXCJkcy1saXN0LW51bWJlcnNcIiA6IFwiXCIsXG4gICAgXTtcblxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXtsaXN0U3R5bGVzLmpvaW4oXCIgXCIpfT57cmVjTWFya3VwfTwvdWw+O1xuICB9O1xuXG4gIGNvbnN0IHsgZGF0YSB9ID0gcHJvcHM7XG4gIGlmICghZGF0YSB8fCAhZGF0YS5yZWNvbW1lbmRhdGlvbnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBhIHVzZXIgaGFzIGRpc21pc3NlZCBhbGwgcmVjb21tZW5kYXRpb25zXG4gIGNvbnN0IGlzRW1wdHkgPSBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGggPT09IDA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAge3Byb3BzLmhlYWRlciAmJiBwcm9wcy5oZWFkZXIudGl0bGUgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtaGVhZGVyXCI+e3Byb3BzLmhlYWRlci50aXRsZX08L2Rpdj5cbiAgICAgICkgOiBudWxsfVxuICAgICAge2lzRW1wdHkgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbGlzdCBlbXB0eVwiPlxuICAgICAgICAgIDxEU0VtcHR5U3RhdGVcbiAgICAgICAgICAgIHN0YXR1cz17ZGF0YS5zdGF0dXN9XG4gICAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBmZWVkPXtwcm9wcy5mZWVkfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgcmVuZGVyTGlzdCgpXG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5fTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gIHJlY1N0YXJ0aW5nUG9pbnQ6IDAsIC8vIEluZGV4IG9mIHJlY29tbWVuZGF0aW9ucyB0byBzdGFydCBkaXNwbGF5aW5nIGZyb21cbiAgZnVsbFdpZHRoOiBmYWxzZSwgLy8gRGlzcGxheSBpdGVtcyB0YWtpbmcgdXAgdGhlIHdob2xlIGNvbHVtblxuICBoYXNCb3JkZXJzOiBmYWxzZSwgLy8gRGlzcGxheSBsaW5lcyBzZXBhcmF0aW5nIGVhY2ggaXRlbVxuICBoYXNJbWFnZXM6IGZhbHNlLCAvLyBEaXNwbGF5IGltYWdlcyBmb3IgZWFjaCBpdGVtXG4gIGhhc051bWJlcnM6IGZhbHNlLCAvLyBEaXNwbGF5IG51bWJlcnMgZm9yIGVhY2ggaXRlbVxuICBpdGVtczogNiwgLy8gTnVtYmVyIG9mIHN0b3JpZXMgdG8gZGlzcGxheS4gIFRPRE86IGdldCBmcm9tIGVuZHBvaW50XG59O1xuXG5leHBvcnQgY29uc3QgTGlzdCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG59KSkoX0xpc3QpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VjdGlvbkludGwgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9ucy9TZWN0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgX0hpZ2hsaWdodHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBcImhpZ2hsaWdodHNcIik7XG4gICAgaWYgKCFzZWN0aW9uIHx8ICFzZWN0aW9uLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWhpZ2hsaWdodHMgc2VjdGlvbnMtbGlzdFwiPlxuICAgICAgICA8U2VjdGlvbkludGwgey4uLnNlY3Rpb259IGlzRml4ZWQ9e3RydWV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBIaWdobGlnaHRzID0gY29ubmVjdChzdGF0ZSA9PiAoeyBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMgfSkpKFxuICBfSGlnaGxpZ2h0c1xuKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IENhcmQsIFBsYWNlaG9sZGVyQ2FyZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NhcmQvQ2FyZFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGVTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvblwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UGVyZlRpbWVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50UGVyZlRpbWVyL0NvbXBvbmVudFBlcmZUaW1lclwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgTW9yZVJlY29tbWVuZGF0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL01vcmVSZWNvbW1lbmRhdGlvbnMvTW9yZVJlY29tbWVuZGF0aW9uc1wiO1xuaW1wb3J0IHsgUG9ja2V0TG9nZ2VkSW5DdGEgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Qb2NrZXRMb2dnZWRJbkN0YS9Qb2NrZXRMb2dnZWRJbkN0YVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVG9waWNzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9waWNzL1RvcGljc1wiO1xuaW1wb3J0IHsgVG9wU2l0ZXMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuY29uc3QgQ0FSRFNfUEVSX1JPV19ERUZBVUxUID0gMztcbmNvbnN0IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFID0gNDtcblxuZXhwb3J0IGNsYXNzIFNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgZ2V0IG51bVJvd3MoKSB7XG4gICAgY29uc3QgeyByb3dzUHJlZiwgbWF4Um93cywgUHJlZnMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIHJvd3NQcmVmID8gUHJlZnMudmFsdWVzW3Jvd3NQcmVmXSA6IG1heFJvd3M7XG4gIH1cblxuICBfZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBsZXQgY2FyZHNQZXJSb3cgPSBDQVJEU19QRVJfUk9XX0RFRkFVTFQ7XG4gICAgaWYgKFxuICAgICAgcHJvcHMuY29tcGFjdENhcmRzICYmXG4gICAgICBnbG9iYWwubWF0Y2hNZWRpYShgKG1pbi13aWR0aDogMTA3MnB4KWApLm1hdGNoZXNcbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBzZWN0aW9uIGhhcyBjb21wYWN0IGNhcmRzIGFuZCB0aGUgdmlld3BvcnQgaXMgd2lkZSBlbm91Z2gsIHdlIHNob3dcbiAgICAgIC8vIDQgY29sdW1ucyBpbnN0ZWFkIG9mIDMuXG4gICAgICAvLyAkYnJlYWstcG9pbnQtd2lkZXN0ID0gMTA3MnB4IChmcm9tIF92YXJpYWJsZXMuc2NzcylcbiAgICAgIGNhcmRzUGVyUm93ID0gQ0FSRFNfUEVSX1JPV19DT01QQUNUX1dJREU7XG4gICAgfVxuICAgIGNvbnN0IG1heENhcmRzID0gY2FyZHNQZXJSb3cgKiB0aGlzLm51bVJvd3M7XG4gICAgY29uc3QgY2FyZHMgPSBwcm9wcy5yb3dzLnNsaWNlKDAsIG1heENhcmRzKTtcblxuICAgIGlmICh0aGlzLm5lZWRzSW1wcmVzc2lvblN0YXRzKGNhcmRzKSkge1xuICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgc291cmNlOiBwcm9wcy5ldmVudFNvdXJjZSxcbiAgICAgICAgICB0aWxlczogY2FyZHMubWFwKGxpbmsgPT4gKHsgaWQ6IGxpbmsuZ3VpZCB9KSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzID0gY2FyZHMubWFwKGxpbmsgPT4gbGluay5ndWlkKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIHNlbmRzIGFuIGV2ZW50IHdoZW4gYSB1c2VyIHNlZXMgYSBzZXQgb2YgbmV3IGNvbnRlbnQuIElmIGNvbnRlbnRcbiAgLy8gY2hhbmdlcyB3aGlsZSB0aGUgcGFnZSBpcyBoaWRkZW4gKGkuZS4gcHJlbG9hZGVkIG9yIG9uIGEgaGlkZGVuIHRhYiksXG4gIC8vIG9ubHkgc2VuZCB0aGUgZXZlbnQgaWYgdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlIGFnYWluLlxuICBzZW5kSW1wcmVzc2lvblN0YXRzT3JBZGRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy5zaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzIHx8ICFwcm9wcy5kaXNwYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHRoZSBwYWdlIGJlY29tZXMgdmlzaWJsZSwgc2VuZCB0aGUgaW1wcmVzc2lvbiBzdGF0cyBwaW5nIGlmIHRoZSBzZWN0aW9uIGlzbid0IGNvbGxhcHNlZC5cbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5wcmVmLmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHByb3BzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuc2VuZE5ld1RhYlJlaHlkcmF0ZWQodGhpcy5wcm9wcy5pbml0aWFsaXplZCk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3dzLmxlbmd0aCAmJiAhdGhpcy5wcm9wcy5wcmVmLmNvbGxhcHNlZCkge1xuICAgICAgdGhpcy5zZW5kSW1wcmVzc2lvblN0YXRzT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gcHJvcHMucHJlZi5jb2xsYXBzZWQ7XG4gICAgY29uc3Qgd2FzQ29sbGFwc2VkID0gcHJldlByb3BzLnByZWYuY29sbGFwc2VkO1xuICAgIGlmIChcbiAgICAgIC8vIERvbid0IHNlbmQgaW1wcmVzc2lvbiBzdGF0cyBmb3IgdGhlIGVtcHR5IHN0YXRlXG4gICAgICBwcm9wcy5yb3dzLmxlbmd0aCAmJlxuICAgICAgLy8gV2Ugb25seSB3YW50IHRvIHNlbmQgaW1wcmVzc2lvbiBzdGF0cyBpZiB0aGUgY29udGVudCBvZiB0aGUgY2FyZHMgaGFzIGNoYW5nZWRcbiAgICAgIC8vIGFuZCB0aGUgc2VjdGlvbiBpcyBub3QgY29sbGFwc2VkLi4uXG4gICAgICAoKHByb3BzLnJvd3MgIT09IHByZXZQcm9wcy5yb3dzICYmICFpc0NvbGxhcHNlZCkgfHxcbiAgICAgICAgLy8gb3IgaWYgd2UgYXJlIGV4cGFuZGluZyBhIHNlY3Rpb24gdGhhdCB3YXMgY29sbGFwc2VkLlxuICAgICAgICAod2FzQ29sbGFwc2VkICYmICFpc0NvbGxhcHNlZCkpXG4gICAgKSB7XG4gICAgICB0aGlzLnNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICB0aGlzLnNlbmROZXdUYWJSZWh5ZHJhdGVkKG5leHRQcm9wcy5pbml0aWFsaXplZCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbmVlZHNJbXByZXNzaW9uU3RhdHMoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzIHx8XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMubGVuZ3RoICE9PSBjYXJkcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYXJkc1tpXS5ndWlkICE9PSB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHNbaV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGhlIE5FV19UQUJfUkVIWURSQVRFRCBldmVudCBpcyB1c2VkIHRvIGluZm9ybSBmZWVkcyB0aGF0IHRoZWlyXG4gIC8vIGRhdGEgaGFzIGJlZW4gY29uc3VtZWQgZS5nLiBmb3IgY291bnRpbmcgdGhlIG51bWJlciBvZiB0YWJzIHRoYXRcbiAgLy8gaGF2ZSByZW5kZXJlZCB0aGF0IGRhdGEuXG4gIHNlbmROZXdUYWJSZWh5ZHJhdGVkKGluaXRpYWxpemVkKSB7XG4gICAgaWYgKGluaXRpYWxpemVkICYmICF0aGlzLnJlbmRlck5vdGlmaWVkKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHsgdHlwZTogYXQuTkVXX1RBQl9SRUhZRFJBVEVELCBkYXRhOiB7fSB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMucmVuZGVyTm90aWZpZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgICAgdGl0bGUsXG4gICAgICBpY29uLFxuICAgICAgcm93cyxcbiAgICAgIFBvY2tldCxcbiAgICAgIHRvcGljcyxcbiAgICAgIGVtcHR5U3RhdGUsXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIGNvbXBhY3RDYXJkcyxcbiAgICAgIHJlYWRfbW9yZV9lbmRwb2ludCxcbiAgICAgIGNvbnRleHRNZW51T3B0aW9ucyxcbiAgICAgIGluaXRpYWxpemVkLFxuICAgICAgbGVhcm5Nb3JlLFxuICAgICAgcHJlZixcbiAgICAgIHByaXZhY3lOb3RpY2VVUkwsXG4gICAgICBpc0ZpcnN0LFxuICAgICAgaXNMYXN0LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgd2FpdGluZ0ZvclNwb2MgPVxuICAgICAgaWQgPT09IFwidG9wc3Rvcmllc1wiICYmIHRoaXMucHJvcHMuUG9ja2V0LndhaXRpbmdGb3JTcG9jO1xuICAgIGNvbnN0IG1heENhcmRzUGVyUm93ID0gY29tcGFjdENhcmRzXG4gICAgICA/IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFXG4gICAgICA6IENBUkRTX1BFUl9ST1dfREVGQVVMVDtcbiAgICBjb25zdCB7IG51bVJvd3MgfSA9IHRoaXM7XG4gICAgY29uc3QgbWF4Q2FyZHMgPSBtYXhDYXJkc1BlclJvdyAqIG51bVJvd3M7XG4gICAgY29uc3QgbWF4Q2FyZHNPbk5hcnJvdyA9IENBUkRTX1BFUl9ST1dfREVGQVVMVCAqIG51bVJvd3M7XG5cbiAgICBjb25zdCB7IHBvY2tldEN0YSwgaXNVc2VyTG9nZ2VkSW4gfSA9IFBvY2tldCB8fCB7fTtcbiAgICBjb25zdCB7IHVzZUN0YSB9ID0gcG9ja2V0Q3RhIHx8IHt9O1xuXG4gICAgLy8gRG9uJ3QgZGlzcGxheSBhbnl0aGluZyB1bnRpbCB3ZSBoYXZlIGEgZGVmaW5pdHZlIHJlc3VsdCBmcm9tIFBvY2tldCxcbiAgICAvLyB0byBhdm9pZCBhIGZsYXNoIG9mIGxvZ2dlZCBvdXQgc3RhdGUgd2hpbGUgd2UgcmVuZGVyLlxuICAgIGNvbnN0IGlzUG9ja2V0TG9nZ2VkSW5EZWZpbmVkID1cbiAgICAgIGlzVXNlckxvZ2dlZEluID09PSB0cnVlIHx8IGlzVXNlckxvZ2dlZEluID09PSBmYWxzZTtcblxuICAgIGNvbnN0IGhhc1RvcGljcyA9IHRvcGljcyAmJiAhIXRvcGljcy5sZW5ndGg7XG5cbiAgICBjb25zdCBzaG91bGRTaG93UG9ja2V0Q3RhID1cbiAgICAgIGlkID09PSBcInRvcHN0b3JpZXNcIiAmJiB1c2VDdGEgJiYgaXNVc2VyTG9nZ2VkSW4gPT09IGZhbHNlO1xuXG4gICAgLy8gU2hvdyB0b3BpY3Mgb25seSBmb3IgdG9wIHN0b3JpZXMgYW5kIGlmIGl0IGhhcyBsb2FkZWQgd2l0aCB0b3BpY3MuXG4gICAgLy8gVGhlIGNsYXNzcyAudG9wLXN0b3JpZXMtYm90dG9tLWNvbnRhaW5lciBlbnN1cmVzIGNvbnRlbnQgZG9lc24ndCBzaGlmdCBhcyB0aGluZ3MgbG9hZC5cbiAgICBjb25zdCBzaG91bGRTaG93VG9waWNzID1cbiAgICAgIGlkID09PSBcInRvcHN0b3JpZXNcIiAmJlxuICAgICAgaGFzVG9waWNzICYmXG4gICAgICAoKHVzZUN0YSAmJiBpc1VzZXJMb2dnZWRJbiA9PT0gdHJ1ZSkgfHxcbiAgICAgICAgKCF1c2VDdGEgJiYgaXNQb2NrZXRMb2dnZWRJbkRlZmluZWQpKTtcblxuICAgIC8vIFdlIHVzZSB0b3BpY3MgdG8gZGV0ZXJtaW5lIGxhbmd1YWdlIHN1cHBvcnQgZm9yIHJlYWQgbW9yZS5cbiAgICBjb25zdCBzaG91bGRTaG93UmVhZE1vcmUgPSByZWFkX21vcmVfZW5kcG9pbnQgJiYgaGFzVG9waWNzO1xuXG4gICAgY29uc3QgcmVhbFJvd3MgPSByb3dzLnNsaWNlKDAsIG1heENhcmRzKTtcblxuICAgIC8vIFRoZSBlbXB0eSBzdGF0ZSBzaG91bGQgb25seSBiZSBzaG93biBhZnRlciB3ZSBoYXZlIGluaXRpYWxpemVkIGFuZCB0aGVyZSBpcyBubyBjb250ZW50LlxuICAgIC8vIE90aGVyd2lzZSwgd2Ugc2hvdWxkIHNob3cgcGxhY2Vob2xkZXJzLlxuICAgIGNvbnN0IHNob3VsZFNob3dFbXB0eVN0YXRlID0gaW5pdGlhbGl6ZWQgJiYgIXJvd3MubGVuZ3RoO1xuXG4gICAgY29uc3QgY2FyZHMgPSBbXTtcbiAgICBpZiAoIXNob3VsZFNob3dFbXB0eVN0YXRlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENhcmRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGluayA9IHJlYWxSb3dzW2ldO1xuICAgICAgICAvLyBPbiBuYXJyb3cgdmlld3BvcnRzLCB3ZSBvbmx5IHNob3cgMyBjYXJkcyBwZXIgcm93LiBXZSdsbCBtYXJrIHRoZSByZXN0IGFzXG4gICAgICAgIC8vIC5oaWRlLWZvci1uYXJyb3cgdG8gaGlkZSBpbiBDU1MgdmlhIEBtZWRpYSBxdWVyeS5cbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gaSA+PSBtYXhDYXJkc09uTmFycm93ID8gXCJoaWRlLWZvci1uYXJyb3dcIiA6IFwiXCI7XG4gICAgICAgIGxldCB1c2VQbGFjZWhvbGRlciA9ICFsaW5rO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gdGhlIHRoaXJkIGNhcmQgYW5kIHdhaXRpbmcgZm9yIHNwb2MsXG4gICAgICAgIC8vIHVzZSB0aGUgcGxhY2Vob2xkZXIuXG4gICAgICAgIGlmICghdXNlUGxhY2Vob2xkZXIgJiYgaSA9PT0gMiAmJiB3YWl0aW5nRm9yU3BvYykge1xuICAgICAgICAgIHVzZVBsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkcy5wdXNoKFxuICAgICAgICAgICF1c2VQbGFjZWhvbGRlciA/IChcbiAgICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgaW5kZXg9e2l9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGxpbms9e2xpbmt9XG4gICAgICAgICAgICAgIGNvbnRleHRNZW51T3B0aW9ucz17Y29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICBldmVudFNvdXJjZT17ZXZlbnRTb3VyY2V9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0c31cbiAgICAgICAgICAgICAgaXNXZWJFeHRlbnNpb249e3RoaXMucHJvcHMuaXNXZWJFeHRlbnNpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8UGxhY2Vob2xkZXJDYXJkIGtleT17aX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlY3Rpb25DbGFzc05hbWUgPSBbXG4gICAgICBcInNlY3Rpb25cIixcbiAgICAgIGNvbXBhY3RDYXJkcyA/IFwiY29tcGFjdC1jYXJkc1wiIDogXCJub3JtYWwtY2FyZHNcIixcbiAgICBdLmpvaW4oXCIgXCIpO1xuXG4gICAgLy8gPFNlY3Rpb24+IDwtLSBSZWFjdCBjb21wb25lbnRcbiAgICAvLyA8c2VjdGlvbj4gPC0tIEhUTUw1IGVsZW1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFBlcmZUaW1lciB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICBjbGFzc05hbWU9e3NlY3Rpb25DbGFzc05hbWV9XG4gICAgICAgICAgaWNvbj17aWNvbn1cbiAgICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgIGV2ZW50U291cmNlPXtldmVudFNvdXJjZX1cbiAgICAgICAgICBjb2xsYXBzZWQ9e3RoaXMucHJvcHMucHJlZi5jb2xsYXBzZWR9XG4gICAgICAgICAgc2hvd1ByZWZOYW1lPXsocHJlZiAmJiBwcmVmLmZlZWQpIHx8IGlkfVxuICAgICAgICAgIHByaXZhY3lOb3RpY2VVUkw9e3ByaXZhY3lOb3RpY2VVUkx9XG4gICAgICAgICAgUHJlZnM9e3RoaXMucHJvcHMuUHJlZnN9XG4gICAgICAgICAgaXNGaXhlZD17dGhpcy5wcm9wcy5pc0ZpeGVkfVxuICAgICAgICAgIGlzRmlyc3Q9e2lzRmlyc3R9XG4gICAgICAgICAgaXNMYXN0PXtpc0xhc3R9XG4gICAgICAgICAgbGVhcm5Nb3JlPXtsZWFybk1vcmV9XG4gICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgaXNXZWJFeHRlbnNpb249e3RoaXMucHJvcHMuaXNXZWJFeHRlbnNpb259XG4gICAgICAgID5cbiAgICAgICAgICB7IXNob3VsZFNob3dFbXB0eVN0YXRlICYmIChcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzZWN0aW9uLWxpc3RcIiBzdHlsZT17eyBwYWRkaW5nOiAwIH19PlxuICAgICAgICAgICAgICB7Y2FyZHN9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3Nob3VsZFNob3dFbXB0eVN0YXRlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1lbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICAgICAge2VtcHR5U3RhdGUuaWNvbiAmJlxuICAgICAgICAgICAgICAgIGVtcHR5U3RhdGUuaWNvbi5zdGFydHNXaXRoKFwibW96LWV4dGVuc2lvbjovL1wiKSA/IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlLWljb24gaWNvblwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFwiYmFja2dyb3VuZC1pbWFnZVwiOiBgdXJsKCcke2VtcHR5U3RhdGUuaWNvbn0nKWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGVtcHR5LXN0YXRlLWljb24gaWNvbiBpY29uLSR7ZW1wdHlTdGF0ZS5pY29ufWB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXtlbXB0eVN0YXRlLm1lc3NhZ2V9PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZW1wdHktc3RhdGUtbWVzc2FnZVwiIC8+XG4gICAgICAgICAgICAgICAgPC9GbHVlbnRPclRleHQ+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7aWQgPT09IFwidG9wc3Rvcmllc1wiICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXN0b3JpZXMtYm90dG9tLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICB7c2hvdWxkU2hvd1RvcGljcyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLXRvcGljc1wiPlxuICAgICAgICAgICAgICAgICAgPFRvcGljcyB0b3BpY3M9e3RoaXMucHJvcHMudG9waWNzfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHtzaG91bGRTaG93UG9ja2V0Q3RhICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXItY3RhXCI+XG4gICAgICAgICAgICAgICAgICA8UG9ja2V0TG9nZ2VkSW5DdGEgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXItbW9yZS1yZWNvbW1lbmRhdGlvbnNcIj5cbiAgICAgICAgICAgICAgICB7c2hvdWxkU2hvd1JlYWRNb3JlICYmIChcbiAgICAgICAgICAgICAgICAgIDxNb3JlUmVjb21tZW5kYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIHJlYWRfbW9yZV9lbmRwb2ludD17cmVhZF9tb3JlX2VuZHBvaW50fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgPC9Db21wb25lbnRQZXJmVGltZXI+XG4gICAgKTtcbiAgfVxufVxuXG5TZWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCxcbiAgcm93czogW10sXG4gIGVtcHR5U3RhdGU6IHt9LFxuICBwcmVmOiB7fSxcbiAgdGl0bGU6IFwiXCIsXG59O1xuXG5leHBvcnQgY29uc3QgU2VjdGlvbkludGwgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgUG9ja2V0OiBzdGF0ZS5Qb2NrZXQsXG59KSkoU2VjdGlvbik7XG5cbmV4cG9ydCBjbGFzcyBfU2VjdGlvbnMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyU2VjdGlvbnMoKSB7XG4gICAgY29uc3Qgc2VjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBlbmFibGVkU2VjdGlvbnMgPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbHRlcihcbiAgICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5lbmFibGVkXG4gICAgKTtcbiAgICBjb25zdCB7XG4gICAgICBzZWN0aW9uT3JkZXIsXG4gICAgICBcImZlZWRzLnRvcHNpdGVzXCI6IHNob3dUb3BTaXRlcyxcbiAgICB9ID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG4gICAgLy8gRW5hYmxlZCBzZWN0aW9ucyBkb2Vzbid0IGluY2x1ZGUgVG9wIFNpdGVzLCBzbyB3ZSBhZGQgaXQgaWYgZW5hYmxlZC5cbiAgICBjb25zdCBleHBlY3RlZENvdW50ID0gZW5hYmxlZFNlY3Rpb25zLmxlbmd0aCArIH5+c2hvd1RvcFNpdGVzO1xuXG4gICAgZm9yIChjb25zdCBzZWN0aW9uSWQgb2Ygc2VjdGlvbk9yZGVyLnNwbGl0KFwiLFwiKSkge1xuICAgICAgY29uc3QgY29tbW9uUHJvcHMgPSB7XG4gICAgICAgIGtleTogc2VjdGlvbklkLFxuICAgICAgICBpc0ZpcnN0OiBzZWN0aW9ucy5sZW5ndGggPT09IDAsXG4gICAgICAgIGlzTGFzdDogc2VjdGlvbnMubGVuZ3RoID09PSBleHBlY3RlZENvdW50IC0gMSxcbiAgICAgIH07XG4gICAgICBpZiAoc2VjdGlvbklkID09PSBcInRvcHNpdGVzXCIgJiYgc2hvd1RvcFNpdGVzKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goPFRvcFNpdGVzIHsuLi5jb21tb25Qcm9wc30gLz4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGVuYWJsZWRTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgICBzZWN0aW9ucy5wdXNoKDxTZWN0aW9uSW50bCB7Li4uc2VjdGlvbn0gey4uLmNvbW1vblByb3BzfSAvPik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlY3Rpb25zO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25zLWxpc3RcIj57dGhpcy5yZW5kZXJTZWN0aW9ucygpfTwvZGl2PjtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgU2VjdGlvbnMgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9TZWN0aW9ucyk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBjYXJkQ29udGV4dFR5cGVzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNjcmVlbnNob3RVdGlscyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlsc1wiO1xuXG4vLyBLZWVwIHRyYWNrIG9mIHBlbmRpbmcgaW1hZ2UgbG9hZHMgdG8gb25seSByZXF1ZXN0IG9uY2VcbmNvbnN0IGdJbWFnZUxvYWRpbmcgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogQ2FyZCBjb21wb25lbnQuXG4gKiBDYXJkcyBhcmUgZm91bmQgd2l0aGluIGEgU2VjdGlvbiBjb21wb25lbnQgYW5kIGNvbnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgYSBsaW5rIHN1Y2hcbiAqIGFzIHByZXZpZXcgaW1hZ2UsIHBhZ2UgdGl0bGUsIHBhZ2UgZGVzY3JpcHRpb24sIGFuZCBzb21lIGNvbnRleHQgYWJvdXQgaWYgdGhlIHBhZ2VcbiAqIHdhcyB2aXNpdGVkLCBib29rbWFya2VkLCB0cmVuZGluZyBldGMuLi5cbiAqIEVhY2ggU2VjdGlvbiBjYW4gbWFrZSBhbiB1bm9yZGVyZWQgbGlzdCBvZiBDYXJkcyB3aGljaCB3aWxsIGNyZWF0ZSBvbmUgaW5zdGFuZSBvZlxuICogdGhpcyBjbGFzcy4gRWFjaCBjYXJkIHdpbGwgdGhlbiBnZXQgYSBjb250ZXh0IG1lbnUgd2hpY2ggcmVmbGVjdHMgdGhlIGFjdGlvbnMgdGhhdFxuICogY2FuIGJlIGRvbmUgb24gdGhpcyBDYXJkLlxuICovXG5leHBvcnQgY2xhc3MgX0NhcmQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFjdGl2ZUNhcmQ6IG51bGwsXG4gICAgICBpbWFnZUxvYWRlZDogZmFsc2UsXG4gICAgICBjYXJkSW1hZ2U6IG51bGwsXG4gICAgfTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZSA9IHRoaXMub25NZW51QnV0dG9uVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gY29uZGl0aW9uYWxseSBsb2FkIGFuIGltYWdlIGFuZCB1cGRhdGUgc3RhdGUgd2hlbiBpdCBsb2Fkcy5cbiAgICovXG4gIGFzeW5jIG1heWJlTG9hZEltYWdlKCkge1xuICAgIC8vIE5vIG5lZWQgdG8gbG9hZCBpZiBpdCdzIGFscmVhZHkgbG9hZGVkIG9yIG5vIGltYWdlXG4gICAgY29uc3QgeyBjYXJkSW1hZ2UgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKCFjYXJkSW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZVVybCA9IGNhcmRJbWFnZS51cmw7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmltYWdlTG9hZGVkKSB7XG4gICAgICAvLyBJbml0aWFsaXplIGEgcHJvbWlzZSB0byBzaGFyZSBhIGxvYWQgYWNyb3NzIG11bHRpcGxlIGNhcmQgdXBkYXRlc1xuICAgICAgaWYgKCFnSW1hZ2VMb2FkaW5nLmhhcyhpbWFnZVVybCkpIHtcbiAgICAgICAgY29uc3QgbG9hZGVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCBsb2FkZXIgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICBsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgcmVzb2x2ZSk7XG4gICAgICAgICAgbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICAgIGxvYWRlci5zcmMgPSBpbWFnZVVybDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2F2ZSBhbmQgcmVtb3ZlIHRoZSBwcm9taXNlIG9ubHkgd2hpbGUgaXQncyBwZW5kaW5nXG4gICAgICAgIGdJbWFnZUxvYWRpbmcuc2V0KGltYWdlVXJsLCBsb2FkZXJQcm9taXNlKTtcbiAgICAgICAgbG9hZGVyUHJvbWlzZVxuICAgICAgICAgIC5jYXRjaChleCA9PiBleClcbiAgICAgICAgICAudGhlbigoKSA9PiBnSW1hZ2VMb2FkaW5nLmRlbGV0ZShpbWFnZVVybCkpXG4gICAgICAgICAgLmNhdGNoKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBpbWFnZSB3aGV0aGVyIGp1c3Qgc3RhcnRlZCBsb2FkaW5nIG9yIHJldXNlZCBwcm9taXNlXG4gICAgICBhd2FpdCBnSW1hZ2VMb2FkaW5nLmdldChpbWFnZVVybCk7XG5cbiAgICAgIC8vIE9ubHkgdXBkYXRlIHN0YXRlIGlmIHdlJ3JlIHN0aWxsIHdhaXRpbmcgdG8gbG9hZCB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAgIGlmIChcbiAgICAgICAgU2NyZWVuc2hvdFV0aWxzLmlzUmVtb3RlSW1hZ2VMb2NhbChcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhcmRJbWFnZSxcbiAgICAgICAgICB0aGlzLnByb3BzLmxpbmsuaW1hZ2VcbiAgICAgICAgKSAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5pbWFnZUxvYWRlZFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbWFnZUxvYWRlZDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIG9idGFpbiB0aGUgbmV4dCBzdGF0ZSBiYXNlZCBvbiBuZXh0UHJvcHMgYW5kIHByZXZTdGF0ZS5cbiAgICpcbiAgICogTk9URTogUmVuYW1lIHRoaXMgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB3aGVuIHdlIHVwZGF0ZSBSZWFjdFxuICAgKiAgICAgICB0byA+PSAxNi4zLiBXZSB3aWxsIG5lZWQgdG8gdXBkYXRlIHRlc3RzIGFzIHdlbGwuIFdlIGNhbm5vdCByZW5hbWUgdGhpc1xuICAgKiAgICAgICBtZXRob2QgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIG5vdyBiZWNhdXNlIHRoZXJlIGlzIGEgbWlzbWF0Y2ggaW5cbiAgICogICAgICAgdGhlIFJlYWN0IHZlcnNpb24gdGhhdCB3ZSBhcmUgdXNpbmcgZm9yIGJvdGggdGVzdGluZyBhbmQgcHJvZHVjdGlvbi5cbiAgICogICAgICAgKGkuZS4gcmVhY3QtdGVzdC1yZW5kZXIgPT4gXCIxNi4zLjJcIiwgcmVhY3QgPT4gXCIxNi4yLjBcIikuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL2VuenltZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9lbnp5bWUtYWRhcHRlci1yZWFjdC0xNi9wYWNrYWdlLmpzb24jTDQzLlxuICAgKi9cbiAgc3RhdGljIGdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IHsgaW1hZ2UgfSA9IG5leHRQcm9wcy5saW5rO1xuICAgIGNvbnN0IGltYWdlSW5TdGF0ZSA9IFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICBwcmV2U3RhdGUuY2FyZEltYWdlLFxuICAgICAgaW1hZ2VcbiAgICApO1xuICAgIGxldCBuZXh0U3RhdGUgPSBudWxsO1xuXG4gICAgLy8gSW1hZ2UgaXMgdXBkYXRpbmcuXG4gICAgaWYgKCFpbWFnZUluU3RhdGUgJiYgbmV4dFByb3BzLmxpbmspIHtcbiAgICAgIG5leHRTdGF0ZSA9IHsgaW1hZ2VMb2FkZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgaWYgKGltYWdlSW5TdGF0ZSkge1xuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBpbWFnZSB3YXMgdXBkYXRlZCwgYXR0ZW1wdCB0byByZXZva2Ugb2xkIGltYWdlIGJsb2IgVVJMLCBpZiBpdCBleGlzdHMuXG4gICAgU2NyZWVuc2hvdFV0aWxzLm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTChwcmV2U3RhdGUuY2FyZEltYWdlKTtcblxuICAgIG5leHRTdGF0ZSA9IG5leHRTdGF0ZSB8fCB7fTtcbiAgICBuZXh0U3RhdGUuY2FyZEltYWdlID0gU2NyZWVuc2hvdFV0aWxzLmNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QoaW1hZ2UpO1xuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvblVwZGF0ZShpc09wZW4pIHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlQ2FyZDogdGhpcy5wcm9wcy5pbmRleCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUNhcmQ6IG51bGwgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydCB0byB0ZWxlbWV0cnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaXRlbS5cbiAgICovXG4gIF9nZXRUZWxlbWV0cnlJbmZvKCkge1xuICAgIC8vIEZpbHRlciBvdXQgXCJoaXN0b3J5XCIgdHlwZSBmb3IgYmVpbmcgdGhlIGRlZmF1bHRcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnR5cGUgIT09IFwiaGlzdG9yeVwiKSB7XG4gICAgICByZXR1cm4geyB2YWx1ZTogeyBjYXJkX3R5cGU6IHRoaXMucHJvcHMubGluay50eXBlIH0gfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnR5cGUgPT09IFwiZG93bmxvYWRcIikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0hPV19ET1dOTE9BRF9GSUxFLFxuICAgICAgICAgIGRhdGE6IHRoaXMucHJvcHMubGluayxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0gPSBldmVudDtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMubGluaywge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5pc1dlYkV4dGVuc2lvbikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuV2ViRXh0RXZlbnQoYXQuV0VCRVhUX0NMSUNLLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgIHVybDogdGhpcy5wcm9wcy5saW5rLnVybCxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5zaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5ldmVudFNvdXJjZSxcbiAgICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgICAgdGlsZXM6IFt7IGlkOiB0aGlzLnByb3BzLmxpbmsuZ3VpZCwgcG9zOiB0aGlzLnByb3BzLmluZGV4IH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5tYXliZUxvYWRJbWFnZSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMubWF5YmVMb2FkSW1hZ2UoKTtcbiAgfVxuXG4gIC8vIE5PVEU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIHdoZW4gd2UgdXBkYXRlIFJlYWN0IHRvID49IDE2LjMgc2luY2UgUmVhY3Qgd2lsbFxuICAvLyAgICAgICBjYWxsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBhdXRvbWF0aWNhbGx5LiBXZSB3aWxsIGFsc28gbmVlZCB0b1xuICAvLyAgICAgICByZW5hbWUgZ2V0TmV4dFN0YXRlRnJvbVByb3BzIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IF9DYXJkLmdldE5leHRTdGF0ZUZyb21Qcm9wcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcbiAgICBpZiAobmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IF9DYXJkLmdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBTY3JlZW5zaG90VXRpbHMubWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKHRoaXMuc3RhdGUuY2FyZEltYWdlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGxpbmssXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIGNvbnRleHRNZW51T3B0aW9ucyxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRpdGxlID0gbGluay50aXRsZSB8fCBsaW5rLmhvc3RuYW1lO1xuICAgIGNvbnN0IGlzQ29udGV4dE1lbnVPcGVuID0gdGhpcy5zdGF0ZS5hY3RpdmVDYXJkID09PSBpbmRleDtcbiAgICAvLyBEaXNwbGF5IFwibm93XCIgYXMgXCJ0cmVuZGluZ1wiIHVudGlsIHdlIGhhdmUgbmV3IHN0cmluZ3MgIzM0MDJcbiAgICBjb25zdCB7IGljb24sIGZsdWVudElEIH0gPVxuICAgICAgY2FyZENvbnRleHRUeXBlc1tsaW5rLnR5cGUgPT09IFwibm93XCIgPyBcInRyZW5kaW5nXCIgOiBsaW5rLnR5cGVdIHx8IHt9O1xuICAgIGNvbnN0IGhhc0ltYWdlID0gdGhpcy5zdGF0ZS5jYXJkSW1hZ2UgfHwgbGluay5oYXNJbWFnZTtcbiAgICBjb25zdCBpbWFnZVN0eWxlID0ge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGlzLnN0YXRlLmNhcmRJbWFnZVxuICAgICAgICA/IGB1cmwoJHt0aGlzLnN0YXRlLmNhcmRJbWFnZS51cmx9KWBcbiAgICAgICAgOiBcIm5vbmVcIixcbiAgICB9O1xuICAgIGNvbnN0IG91dGVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJjYXJkLW91dGVyXCIsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBpc0NvbnRleHRNZW51T3BlbiAmJiBcImFjdGl2ZVwiLFxuICAgICAgcHJvcHMucGxhY2Vob2xkZXIgJiYgXCJwbGFjZWhvbGRlclwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtsaW5rLnR5cGUgPT09IFwicG9ja2V0XCIgPyBsaW5rLm9wZW5fdXJsIDogbGluay51cmx9XG4gICAgICAgICAgb25DbGljaz17IXByb3BzLnBsYWNlaG9sZGVyID8gdGhpcy5vbkxpbmtDbGljayA6IHVuZGVmaW5lZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXByZXZpZXctaW1hZ2Utb3V0ZXJcIj5cbiAgICAgICAgICAgICAge2hhc0ltYWdlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLXByZXZpZXctaW1hZ2Uke1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlTG9hZGVkID8gXCIgbG9hZGVkXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXtpbWFnZVN0eWxlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFwiZG93bmxvYWRcIiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FyZC1ob3N0LW5hbWUgYWx0ZXJuYXRlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LXNob3ctZmlsZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2xpbmsuaG9zdG5hbWUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ob3N0LW5hbWVcIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLmhvc3RuYW1lLnNsaWNlKDAsIDEwMCl9XG4gICAgICAgICAgICAgICAgICB7bGluay50eXBlID09PSBcImRvd25sb2FkXCIgJiYgYCAgXFx1MjAxNCAke2xpbmsuZGVzY3JpcHRpb259YH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17W1xuICAgICAgICAgICAgICAgICAgXCJjYXJkLXRleHRcIixcbiAgICAgICAgICAgICAgICAgIGljb24gPyBcIlwiIDogXCJuby1jb250ZXh0XCIsXG4gICAgICAgICAgICAgICAgICBsaW5rLmRlc2NyaXB0aW9uID8gXCJcIiA6IFwibm8tZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICAgIGxpbmsuaG9zdG5hbWUgPyBcIlwiIDogXCJuby1ob3N0LW5hbWVcIixcbiAgICAgICAgICAgICAgICBdLmpvaW4oXCIgXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIiBkaXI9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bGluay50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNhcmQtZGVzY3JpcHRpb25cIiBkaXI9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bGluay5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtY29udGV4dFwiPlxuICAgICAgICAgICAgICAgIHtpY29uICYmICFsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLWNvbnRleHQtaWNvbiBpY29uIGljb24tJHtpY29ufWB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2xpbmsuaWNvbiAmJiBsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXJkLWNvbnRleHQtaWNvbiBpY29uXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcke2xpbmsuaWNvbn0nKWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7Zmx1ZW50SUQgJiYgIWxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtY29udGV4dC1sYWJlbFwiIGRhdGEtbDEwbi1pZD17Zmx1ZW50SUR9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGluay5jb250ZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0LWxhYmVsXCI+e2xpbmsuY29udGV4dH08L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2E+XG4gICAgICAgIHshcHJvcHMucGxhY2Vob2xkZXIgJiYgKFxuICAgICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgICAgdG9vbHRpcD1cIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwiXG4gICAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51QnV0dG9uVXBkYXRlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgc291cmNlPXtldmVudFNvdXJjZX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17bGluay5jb250ZXh0TWVudU9wdGlvbnMgfHwgY29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICBzaXRlPXtsaW5rfVxuICAgICAgICAgICAgICBzaXRlSW5mbz17dGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpfVxuICAgICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXtzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0NvbnRleHRNZW51QnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5fQ2FyZC5kZWZhdWx0UHJvcHMgPSB7IGxpbms6IHt9IH07XG5leHBvcnQgY29uc3QgQ2FyZCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgcGxhdGZvcm06IHN0YXRlLlByZWZzLnZhbHVlcy5wbGF0Zm9ybSxcbn0pKShfQ2FyZCk7XG5leHBvcnQgY29uc3QgUGxhY2Vob2xkZXJDYXJkID0gcHJvcHMgPT4gKFxuICA8Q2FyZCBwbGFjZWhvbGRlcj17dHJ1ZX0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IC8+XG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyoqXG4gKiBMaXN0IG9mIGhlbHBlciBmdW5jdGlvbnMgZm9yIHNjcmVlbnNob3QtYmFzZWQgaW1hZ2VzLlxuICpcbiAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgaW1hZ2VzOlxuICogMS4gUmVtb3RlIEltYWdlOiBUaGlzIGlzIHRoZSBpbWFnZSBmcm9tIHRoZSBtYWluIHByb2Nlc3MgYW5kIGl0IHJlZmVycyB0b1xuICogICAgdGhlIGltYWdlIGluIHRoZSBSZWFjdCBwcm9wcy4gVGhpcyBjYW4gZWl0aGVyIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBgZGF0YWBcbiAqICAgIGFuZCBgcGF0aGAgcHJvcGVydGllcywgaWYgaXQgaXMgYSBibG9iLCBvciBhIHN0cmluZywgaWYgaXQgaXMgYSBub3JtYWwgaW1hZ2UuXG4gKiAyLiBMb2NhbCBJbWFnZTogVGhpcyBpcyB0aGUgaW1hZ2Ugb2JqZWN0IGluIHRoZSBjb250ZW50IHByb2Nlc3MgYW5kIGl0IHJlZmVyc1xuICogICAgdG8gdGhlIGltYWdlICpvYmplY3QqIGluIHRoZSBSZWFjdCBjb21wb25lbnQncyBzdGF0ZS4gQWxsIGxvY2FsIGltYWdlXG4gKiAgICBvYmplY3RzIGhhdmUgdGhlIGB1cmxgIHByb3BlcnR5LCBhbmQgYW4gYWRkaXRpb25hbCBwcm9wZXJ0eSBgcGF0aGAsIGlmIHRoZXlcbiAqICAgIGFyZSBibG9icy5cbiAqL1xuZXhwb3J0IGNvbnN0IFNjcmVlbnNob3RVdGlscyA9IHtcbiAgaXNCbG9iKGlzTG9jYWwsIGltYWdlKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgaW1hZ2UgJiZcbiAgICAgIGltYWdlLnBhdGggJiZcbiAgICAgICgoIWlzTG9jYWwgJiYgaW1hZ2UuZGF0YSkgfHwgKGlzTG9jYWwgJiYgaW1hZ2UudXJsKSlcbiAgICApO1xuICB9LFxuXG4gIC8vIFRoaXMgc2hvdWxkIGFsd2F5cyBiZSBjYWxsZWQgd2l0aCBhIHJlbW90ZSBpbWFnZSBhbmQgbm90IGEgbG9jYWwgaW1hZ2UuXG4gIGNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QocmVtb3RlSW1hZ2UpIHtcbiAgICBpZiAoIXJlbW90ZUltYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNCbG9iKGZhbHNlLCByZW1vdGVJbWFnZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogZ2xvYmFsLlVSTC5jcmVhdGVPYmplY3RVUkwocmVtb3RlSW1hZ2UuZGF0YSksXG4gICAgICAgIHBhdGg6IHJlbW90ZUltYWdlLnBhdGgsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyB1cmw6IHJlbW90ZUltYWdlIH07XG4gIH0sXG5cbiAgLy8gUmV2b2tlcyB0aGUgb2JqZWN0IFVSTCBvZiB0aGUgaW1hZ2UgaWYgdGhlIGxvY2FsIGltYWdlIGlzIGEgYmxvYi5cbiAgLy8gVGhpcyBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCB3aXRoIGEgbG9jYWwgaW1hZ2UgYW5kIG5vdCBhIHJlbW90ZSBpbWFnZS5cbiAgbWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKGxvY2FsSW1hZ2UpIHtcbiAgICBpZiAodGhpcy5pc0Jsb2IodHJ1ZSwgbG9jYWxJbWFnZSkpIHtcbiAgICAgIGdsb2JhbC5VUkwucmV2b2tlT2JqZWN0VVJMKGxvY2FsSW1hZ2UudXJsKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ2hlY2tzIGlmIHJlbW90ZUltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSB0aGUgc2FtZS5cbiAgaXNSZW1vdGVJbWFnZUxvY2FsKGxvY2FsSW1hZ2UsIHJlbW90ZUltYWdlKSB7XG4gICAgLy8gQm90aCByZW1vdGVJbWFnZSBhbmQgbG9jYWxJbWFnZSBhcmUgcHJlc2VudC5cbiAgICBpZiAocmVtb3RlSW1hZ2UgJiYgbG9jYWxJbWFnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNCbG9iKGZhbHNlLCByZW1vdGVJbWFnZSlcbiAgICAgICAgPyBsb2NhbEltYWdlLnBhdGggPT09IHJlbW90ZUltYWdlLnBhdGhcbiAgICAgICAgOiBsb2NhbEltYWdlLnVybCA9PT0gcmVtb3RlSW1hZ2U7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3aWxsIG9ubHkgaGFuZGxlIHRoZSByZW1haW5pbmcgdGhyZWUgcG9zc2libGUgb3V0Y29tZXMuXG4gICAgLy8gKGkuZS4gZXZlcnl0aGluZyBleGNlcHQgd2hlbiBib3RoIGltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSBwcmVzZW50KVxuICAgIHJldHVybiAhcmVtb3RlSW1hZ2UgJiYgIWxvY2FsSW1hZ2U7XG4gIH0sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgcGVyZlNlcnZpY2UgYXMgcGVyZlN2YyB9IGZyb20gXCJjb21tb24vUGVyZlNlcnZpY2UuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbi8vIEN1cnJlbnRseSByZWNvcmQgb25seSBhIGZpeGVkIHNldCBvZiBzZWN0aW9ucy4gVGhpcyB3aWxsIHByZXZlbnQgZGF0YVxuLy8gZnJvbSBjdXN0b20gc2VjdGlvbnMgZnJvbSBzaG93aW5nIHVwIG9yIGZyb20gdG9wc3Rvcmllcy5cbmNvbnN0IFJFQ09SREVEX1NFQ1RJT05TID0gW1wiaGlnaGxpZ2h0c1wiLCBcInRvcHNpdGVzXCJdO1xuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50UGVyZlRpbWVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgLy8gSnVzdCBmb3IgdGVzdCBkZXBlbmRlbmN5IGluamVjdGlvbjpcbiAgICB0aGlzLnBlcmZTdmMgPSB0aGlzLnByb3BzLnBlcmZTdmMgfHwgcGVyZlN2YztcblxuICAgIHRoaXMuX3NlbmRCYWRTdGF0ZUV2ZW50ID0gdGhpcy5fc2VuZEJhZFN0YXRlRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9zZW5kUGFpbnRlZEV2ZW50ID0gdGhpcy5fc2VuZFBhaW50ZWRFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhID0gZmFsc2U7XG4gICAgdGhpcy5fdGltZXN0YW1wSGFuZGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlY29yZGVkRmlyc3RSZW5kZXIgPSBmYWxzZTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICghUkVDT1JERURfU0VDVElPTlMuaW5jbHVkZXModGhpcy5wcm9wcy5pZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXliZVNlbmRQYWludGVkRXZlbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAoIVJFQ09SREVEX1NFQ1RJT05TLmluY2x1ZGVzKHRoaXMucHJvcHMuaWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWF5YmVTZW5kUGFpbnRlZEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgYWZ0ZXIgdGhlIHVwY29taW5nIGZyYW1lIHBhaW50cy5cbiAgICpcbiAgICogQG5vdGUgQm90aCBzZXRUaW1lb3V0IGFuZCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYXJlIHRocm90dGxlZCB3aGVuIHRoZSBwYWdlXG4gICAqIGlzIGhpZGRlbiwgc28gdGhpcyBjYWxsYmFjayBtYXkgZ2V0IGNhbGxlZCB1cCB0byBhIHNlY29uZCBvciBzbyBhZnRlciB0aGVcbiAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIFwicGFpbnRcIiBmb3IgaGlkZGVuIHRhYnMuXG4gICAqXG4gICAqIE5ld3RhYnMgaGlkZGVuIHdoaWxlIGxvYWRpbmcgd2lsbCBwcmVzdW1hYmx5IGJlIGZhaXJseSByYXJlIChvdGhlciB0aGFuXG4gICAqIHByZWxvYWRlZCB0YWJzLCB3aGljaCB3ZSB3aWxsIGJlIGZpbHRlcmluZyBvdXQgb24gdGhlIHNlcnZlciBzaWRlKSwgc28gc3VjaFxuICAgKiBjYXNlcyBzaG91bGQgZ2V0IGxvc3QgaW4gdGhlIG5vaXNlLlxuICAgKlxuICAgKiBJZiB3ZSBkZWNpZGUgdGhhdCBpdCdzIGltcG9ydGFudCB0byBmaW5kIG91dCB3aGVuIHNvbWV0aGluZyB0aGF0J3MgaGlkZGVuXG4gICAqIGhhcyBcInBhaW50ZWRcIiwgaG93ZXZlciwgYW5vdGhlciBvcHRpb24gaXMgdG8gcG9zdCBhIG1lc3NhZ2UgdG8gdGhpcyB3aW5kb3cuXG4gICAqIFRoYXQgc2hvdWxkIGhhcHBlbiBldmVuIGZhc3RlciB0aGFuIHNldFRpbWVvdXQsIGFuZCwgYXQgbGVhc3QgYXMgb2YgdGhpc1xuICAgKiB3cml0aW5nLCBpdCdzIG5vdCB0aHJvdHRsZWQgaW4gaGlkZGVuIHdpbmRvd3MgaW4gRmlyZWZveC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICpcbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgX2FmdGVyRnJhbWVQYWludChjYWxsYmFjaykge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKSk7XG4gIH1cblxuICBfbWF5YmVTZW5kQmFkU3RhdGVFdmVudCgpIHtcbiAgICAvLyBGb2xsb3cgdXAgYnVnczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9hY3Rpdml0eS1zdHJlYW0vaXNzdWVzLzM2OTFcbiAgICBpZiAoIXRoaXMucHJvcHMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIC8vIFJlbWVtYmVyIHRvIHJlcG9ydCBiYWNrIHdoZW4gZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICB0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSkge1xuICAgICAgdGhpcy5fcmVwb3J0TWlzc2luZ0RhdGEgPSBmYWxzZTtcbiAgICAgIC8vIFJlcG9ydCBob3cgbG9uZyBpdCB0b29rIGZvciBjb21wb25lbnQgdG8gYmVjb21lIGluaXRpYWxpemVkLlxuICAgICAgdGhpcy5fc2VuZEJhZFN0YXRlRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICBfbWF5YmVTZW5kUGFpbnRlZEV2ZW50KCkge1xuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCBhIHRpbWVzdGFtcCwgZG9uJ3QgZG8gaXQgYWdhaW4uXG4gICAgaWYgKHRoaXMuX3RpbWVzdGFtcEhhbmRsZWQgfHwgIXRoaXMucHJvcHMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBbmQgaWYgd2UgaGF2ZW4ndCwgd2UncmUgZG9pbmcgc28gbm93LCBzbyByZW1lbWJlciB0aGF0LiBFdmVuIGlmXG4gICAgLy8gc29tZXRoaW5nIGdvZXMgd3JvbmcgaW4gdGhlIGNhbGxiYWNrLCB3ZSBjYW4ndCB0cnkgYWdhaW4sIGFzIHdlJ2QgYmVcbiAgICAvLyBzZW5kaW5nIGJhY2sgdGhlIHdyb25nIGRhdGEsIGFuZCB3ZSBoYXZlIHRvIGRvIGl0IGhlcmUsIHNvIHRoYXQgb3RoZXJcbiAgICAvLyBjYWxscyB0byB0aGlzIG1ldGhvZCB3aGlsZSB3YWl0aW5nIGZvciB0aGUgbmV4dCBmcmFtZSB3b24ndCBhbHNvIHRyeSB0b1xuICAgIC8vIGhhbmRsZSBpdC5cbiAgICB0aGlzLl90aW1lc3RhbXBIYW5kbGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9hZnRlckZyYW1lUGFpbnQodGhpcy5fc2VuZFBhaW50ZWRFdmVudCk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGJ5IGNhbGwgdG8gcmVuZGVyLiBPbmx5IGZpcnN0IGNhbGwgZ29lcyB0aHJvdWdoIGR1ZSB0b1xuICAgKiBgX3JlY29yZGVkRmlyc3RSZW5kZXJgLlxuICAgKi9cbiAgX2Vuc3VyZUZpcnN0UmVuZGVyVHNSZWNvcmRlZCgpIHtcbiAgICAvLyBVc2VkIGFzIHQwIGZvciByZWNvcmRpbmcgaG93IGxvbmcgY29tcG9uZW50IHRvb2sgdG8gaW5pdGlhbGl6ZS5cbiAgICBpZiAoIXRoaXMuX3JlY29yZGVkRmlyc3RSZW5kZXIpIHtcbiAgICAgIHRoaXMuX3JlY29yZGVkRmlyc3RSZW5kZXIgPSB0cnVlO1xuICAgICAgLy8gdG9wc2l0ZXNfZmlyc3RfcmVuZGVyX3RzLCBoaWdobGlnaHRzX2ZpcnN0X3JlbmRlcl90cy5cbiAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMucHJvcHMuaWR9X2ZpcnN0X3JlbmRlcl90c2A7XG4gICAgICB0aGlzLnBlcmZTdmMubWFyayhrZXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGBURUxFTUVUUllfVU5ERVNJUkVEX0VWRU5UYCB3aXRoIHRpbWVzdGFtcCBpbiBtc1xuICAgKiBvZiBob3cgbXVjaCBsb25nZXIgdGhlIGRhdGEgdG9vayB0byBiZSByZWFkeSBmb3IgZGlzcGxheSB0aGFuIGl0IHdvdWxkXG4gICAqIGhhdmUgYmVlbiB0aGUgaWRlYWwgY2FzZS5cbiAgICogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvcGluZy1jZW50cmUvaXNzdWVzLzk4XG4gICAqL1xuICBfc2VuZEJhZFN0YXRlRXZlbnQoKSB7XG4gICAgLy8gaGlnaGxpZ2h0c19kYXRhX3JlYWR5X3RzLCB0b3BzaXRlc19kYXRhX3JlYWR5X3RzLlxuICAgIGNvbnN0IGRhdGFSZWFkeUtleSA9IGAke3RoaXMucHJvcHMuaWR9X2RhdGFfcmVhZHlfdHNgO1xuICAgIHRoaXMucGVyZlN2Yy5tYXJrKGRhdGFSZWFkeUtleSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlyc3RSZW5kZXJLZXkgPSBgJHt0aGlzLnByb3BzLmlkfV9maXJzdF9yZW5kZXJfdHNgO1xuICAgICAgLy8gdmFsdWUgaGFzIHRvIGJlIEludDMyLlxuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChcbiAgICAgICAgdGhpcy5wZXJmU3ZjLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoZGF0YVJlYWR5S2V5KSAtXG4gICAgICAgICAgdGhpcy5wZXJmU3ZjLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoZmlyc3RSZW5kZXJLZXkpLFxuICAgICAgICAxMFxuICAgICAgKTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNBVkVfU0VTU0lPTl9QRVJGX0RBVEEsXG4gICAgICAgICAgLy8gaGlnaGxpZ2h0c19kYXRhX2xhdGVfYnlfbXMsIHRvcHNpdGVzX2RhdGFfbGF0ZV9ieV9tcy5cbiAgICAgICAgICBkYXRhOiB7IFtgJHt0aGlzLnByb3BzLmlkfV9kYXRhX2xhdGVfYnlfbXNgXTogdmFsdWUgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIElmIHRoaXMgZmFpbGVkLCBpdCdzIGxpa2VseSBiZWNhdXNlIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2BcbiAgICAgIC8vIHByZWYgaXMgdHJ1ZS5cbiAgICB9XG4gIH1cblxuICBfc2VuZFBhaW50ZWRFdmVudCgpIHtcbiAgICAvLyBSZWNvcmQgZmlyc3RfcGFpbnRlZCBldmVudCBidXQgb25seSBzZW5kIGlmIHRvcHNpdGVzLlxuICAgIGlmICh0aGlzLnByb3BzLmlkICE9PSBcInRvcHNpdGVzXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0b3BzaXRlc19maXJzdF9wYWludGVkX3RzLlxuICAgIGNvbnN0IGtleSA9IGAke3RoaXMucHJvcHMuaWR9X2ZpcnN0X3BhaW50ZWRfdHNgO1xuICAgIHRoaXMucGVyZlN2Yy5tYXJrKGtleSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgZGF0YVtrZXldID0gdGhpcy5wZXJmU3ZjLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoa2V5KTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIGl0J3MgbGlrZWx5IGJlY2F1c2UgdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYFxuICAgICAgLy8gcHJlZiBpcyB0cnVlLiAgV2Ugc2hvdWxkIGF0IGxlYXN0IG5vdCBibG93IHVwLCBhbmQgc2hvdWxkIGNvbnRpbnVlXG4gICAgICAvLyB0byBzZXQgdGhpcy5fdGltZXN0YW1wSGFuZGxlZCB0byBhdm9pZCBnb2luZyB0aHJvdWdoIHRoaXMgYWdhaW4uXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmIChSRUNPUkRFRF9TRUNUSU9OUy5pbmNsdWRlcyh0aGlzLnByb3BzLmlkKSkge1xuICAgICAgdGhpcy5fZW5zdXJlRmlyc3RSZW5kZXJUc1JlY29yZGVkKCk7XG4gICAgICB0aGlzLl9tYXliZVNlbmRCYWRTdGF0ZUV2ZW50KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuaWYgKHR5cGVvZiBDaHJvbWVVdGlscyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAvLyBVc2UgYSB2YXIgaGVyZSBpbnN0ZWFkIG9mIGxldCBvdXRzaWRlIHRvIGF2b2lkIGNyZWF0aW5nIGEgbG9jYWxseSBzY29wZWRcbiAgLy8gdmFyaWFibGUgdGhhdCBoaWRlcyB0aGUgZ2xvYmFsLCB3aGljaCB3ZSBtb2RpZnkgZm9yIHRlc3RpbmcuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXIsIHZhcnMtb24tdG9wXG4gIHZhciB7IFNlcnZpY2VzIH0gPSBDaHJvbWVVdGlscy5pbXBvcnQoXCJyZXNvdXJjZTovL2dyZS9tb2R1bGVzL1NlcnZpY2VzLmpzbVwiKTtcbn1cblxubGV0IHVzYWJsZVBlcmZPYmo7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmxvY2stc2NvcGVkLXZhclxuaWYgKHR5cGVvZiBTZXJ2aWNlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAvLyBCb3Jyb3cgdGhlIGhpZ2gtcmVzb2x1dGlvbiB0aW1lciBmcm9tIHRoZSBoaWRkZW4gd2luZG93Li4uLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmxvY2stc2NvcGVkLXZhclxuICB1c2FibGVQZXJmT2JqID0gU2VydmljZXMuYXBwU2hlbGwuaGlkZGVuRE9NV2luZG93LnBlcmZvcm1hbmNlO1xufSBlbHNlIHtcbiAgLy8gd2UgbXVzdCBiZSBydW5uaW5nIGluIGNvbnRlbnQgc3BhY2VcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHVzYWJsZVBlcmZPYmogPSBwZXJmb3JtYW5jZTtcbn1cblxuZnVuY3Rpb24gX1BlcmZTZXJ2aWNlKG9wdGlvbnMpIHtcbiAgLy8gRm9yIHRlc3RpbmcsIHNvIHRoYXQgd2UgY2FuIHVzZSBhIGZha2UgV2luZG93LnBlcmZvcm1hbmNlIG9iamVjdCB3aXRoXG4gIC8vIGtub3duIHN0YXRlLlxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBlcmZvcm1hbmNlT2JqKSB7XG4gICAgdGhpcy5fcGVyZiA9IG9wdGlvbnMucGVyZm9ybWFuY2VPYmo7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fcGVyZiA9IHVzYWJsZVBlcmZPYmo7XG4gIH1cbn1cblxuX1BlcmZTZXJ2aWNlLnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIENhbGxzIHRoZSB1bmRlcmx5aW5nIG1hcmsoKSBtZXRob2Qgb24gdGhlIGFwcHJvcHJpYXRlIFdpbmRvdy5wZXJmb3JtYW5jZVxuICAgKiBvYmplY3QgdG8gYWRkIGEgbWFyayB3aXRoIHRoZSBnaXZlbiBuYW1lIHRvIHRoZSBhcHByb3ByaWF0ZSBwZXJmb3JtYW5jZVxuICAgKiB0aW1lbGluZS5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICB0aGUgbmFtZSB0byBnaXZlIHRoZSBjdXJyZW50IG1hcmtcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIG1hcms6IGZ1bmN0aW9uIG1hcmsoc3RyKSB7XG4gICAgdGhpcy5fcGVyZi5tYXJrKHN0cik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSB1bmRlcmx5aW5nIGdldEVudHJpZXNCeU5hbWUgb24gdGhlIGFwcHJvcHJpYXRlIFdpbmRvdy5wZXJmb3JtYW5jZVxuICAgKiBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUgZWcgXCJtYXJrXCJcbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgIFBlcmZvcm1hbmNlKiBvYmplY3RzXG4gICAqL1xuICBnZXRFbnRyaWVzQnlOYW1lOiBmdW5jdGlvbiBnZXRFbnRyaWVzQnlOYW1lKG5hbWUsIHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5fcGVyZi5nZXRFbnRyaWVzQnlOYW1lKG5hbWUsIHR5cGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgdGltZU9yaWdpbiBwcm9wZXJ0eSBmcm9tIHRoZSBhcHByb3ByaWF0ZSBwZXJmb3JtYW5jZSBvYmplY3QuXG4gICAqIFVzZWQgdG8gZW5zdXJlIHRoYXQgdGltZXN0YW1wcyBmcm9tIHRoZSBhZGQtb24gY29kZSBhbmQgdGhlIGNvbnRlbnQgY29kZVxuICAgKiBhcmUgY29tcGFyYWJsZS5cbiAgICpcbiAgICogQG5vdGUgSWYgdGhpcyBpcyBjYWxsZWQgZnJvbSBhIGNvbnRleHQgd2l0aG91dCBhIHdpbmRvd1xuICAgKiAoZWcgYSBKU00gaW4gY2hyb21lKSwgaXQgd2lsbCByZXR1cm4gdGhlIHRpbWVPcmlnaW4gb2YgdGhlIFhVTCBoaWRkZW5cbiAgICogd2luZG93LCB3aGljaCBhcHBlYXJzIHRvIGJlIHRoZSBmaXJzdCBjcmVhdGVkIHdpbmRvdyAoYW5kIHRodXNcbiAgICogdGltZU9yaWdpbikgaW4gdGhlIGJyb3dzZXIuICBOb3RlIGFsc28sIGhvd2V2ZXIsIHRoZXJlIGlzIGFsc28gYSBwcml2YXRlXG4gICAqIGhpZGRlbiB3aW5kb3csIHByZXN1bWFibHkgZm9yIHByaXZhdGUgYnJvd3NpbmcsIHdoaWNoIGFwcGVhcnMgdG8gYmVcbiAgICogY3JlYXRlZCBkeW5hbWljYWxseSBsYXRlci4gIEV4YWN0bHkgaG93L3doZW4gdGhhdCBzaG93cyB1cCBuZWVkcyB0byBiZVxuICAgKiBpbnZlc3RpZ2F0ZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSBkb3VibGUgb2YgbWlsbGlzZWNvbmRzIHdpdGggYSBwcmVjaXNpb24gb2YgMC41dXMuXG4gICAqL1xuICBnZXQgdGltZU9yaWdpbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcGVyZi50aW1lT3JpZ2luO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBcImFic29sdXRlXCIgdmVyc2lvbiBvZiBwZXJmb3JtYW5jZS5ub3coKSwgaS5lLiBvbmUgdGhhdFxuICAgKiBzaG91bGQgKFtidWcgMTQwMTQwNl0oaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQwMTQwNilcbiAgICogYmUgY29tcGFyYWJsZSBhY3Jvc3MgYm90aCBjaHJvbWUgYW5kIGNvbnRlbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGFic05vdzogZnVuY3Rpb24gYWJzTm93KCkge1xuICAgIHJldHVybiB0aGlzLnRpbWVPcmlnaW4gKyB0aGlzLl9wZXJmLm5vdygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIHJldHVybnMgdGhlIGFic29sdXRlIHN0YXJ0VGltZSBmcm9tIHRoZSBtb3N0IHJlY2VudCBwZXJmb3JtYW5jZS5tYXJrKClcbiAgICogd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICB0aGUgbmFtZSB0byBsb29rdXAgdGhlIHN0YXJ0IHRpbWUgZm9yXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgdGhlIHJldHVybmVkIHN0YXJ0IHRpbWUsIGFzIGEgRE9NSGlnaFJlc1RpbWVTdGFtcFxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gICAgICAgIFwiTm8gTWFya3Mgd2l0aCB0aGUgbmFtZSAuLi5cIiBpZiBub25lIGFyZSBhdmFpbGFibGVcbiAgICpcbiAgICogQG5vdGUgQWx3YXlzIHN1cnJvdW5kIGNhbGxzIHRvIHRoaXMgYnkgdHJ5L2NhdGNoLiAgT3RoZXJ3aXNlIHlvdXIgY29kZVxuICAgKiBtYXkgZmFpbCB3aGVuIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2AgcHJlZiBpcyB0cnVlLiAgV2hlblxuICAgKiB0aGlzIHByZWYgaXMgc2V0LCBhbGwgYXR0ZW1wdHMgdG8gZ2V0IG1hcmtzIHdpbGwgbGlrZWx5IGZhaWwsIHdoaWNoIHdpbGxcbiAgICogY2F1c2UgdGhpcyBtZXRob2QgdG8gdGhyb3cuXG4gICAqXG4gICAqIFNlZSBbYnVnIDEzNjkzMDNdKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjkzMDMpXG4gICAqIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBnZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKG5hbWUpIHtcbiAgICBsZXQgZW50cmllcyA9IHRoaXMuZ2V0RW50cmllc0J5TmFtZShuYW1lLCBcIm1hcmtcIik7XG5cbiAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIG1hcmtzIHdpdGggdGhlIG5hbWUgJHtuYW1lfWApO1xuICAgIH1cblxuICAgIGxldCBtb3N0UmVjZW50RW50cnkgPSBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHRoaXMuX3BlcmYudGltZU9yaWdpbiArIG1vc3RSZWNlbnRFbnRyeS5zdGFydFRpbWU7XG4gIH0sXG59O1xuXG50aGlzLnBlcmZTZXJ2aWNlID0gbmV3IF9QZXJmU2VydmljZSgpO1xuY29uc3QgRVhQT1JURURfU1lNQk9MUyA9IFtcIl9QZXJmU2VydmljZVwiLCBcInBlcmZTZXJ2aWNlXCJdO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgTW9yZVJlY29tbWVuZGF0aW9ucyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByZWFkX21vcmVfZW5kcG9pbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHJlYWRfbW9yZV9lbmRwb2ludCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb3JlLXJlY29tbWVuZGF0aW9uc1wiXG4gICAgICAgICAgaHJlZj17cmVhZF9tb3JlX2VuZHBvaW50fVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtbW9yZS1yZWNvbW1lbmRhdGlvbnNcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIF9Qb2NrZXRMb2dnZWRJbkN0YSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb2NrZXRDdGEgfSA9IHRoaXMucHJvcHMuUG9ja2V0O1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJwb2NrZXQtbG9nZ2VkLWluLWN0YVwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGNsYXNzTmFtZT1cInBvY2tldC1jdGEtYnV0dG9uXCJcbiAgICAgICAgICBocmVmPXtwb2NrZXRDdGEuY3RhVXJsID8gcG9ja2V0Q3RhLmN0YVVybCA6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL1wifVxuICAgICAgICA+XG4gICAgICAgICAge3BvY2tldEN0YS5jdGFCdXR0b24gPyAoXG4gICAgICAgICAgICBwb2NrZXRDdGEuY3RhQnV0dG9uXG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtY3RhLWJ1dHRvblwiIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9hPlxuXG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17cG9ja2V0Q3RhLmN0YVVybCA/IHBvY2tldEN0YS5jdGFVcmwgOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9cIn1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImN0YS10ZXh0XCI+XG4gICAgICAgICAgICB7cG9ja2V0Q3RhLmN0YVRleHQgPyAoXG4gICAgICAgICAgICAgIHBvY2tldEN0YS5jdGFUZXh0XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LWN0YS10ZXh0XCIgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUG9ja2V0TG9nZ2VkSW5DdGEgPSBjb25uZWN0KHN0YXRlID0+ICh7IFBvY2tldDogc3RhdGUuUG9ja2V0IH0pKShcbiAgX1BvY2tldExvZ2dlZEluQ3RhXG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgVG9waWMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXJsLCBuYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhIGtleT17bmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAgICB7bmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb3BpY3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdG9waWNzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0b3BpY3NcIj5cbiAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC1yZWFkLW1vcmVcIiAvPlxuICAgICAgICA8dWw+XG4gICAgICAgICAge3RvcGljcyAmJlxuICAgICAgICAgICAgdG9waWNzLm1hcCh0ID0+IDxUb3BpYyBrZXk9e3QubmFtZX0gdXJsPXt0LnVybH0gbmFtZT17dC5uYW1lfSAvPil9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHtcbiAgTUlOX0NPUk5FUl9GQVZJQ09OX1NJWkUsXG4gIE1JTl9SSUNIX0ZBVklDT05fU0laRSxcbiAgVE9QX1NJVEVTX1NPVVJDRSxcbn0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IENvbXBvbmVudFBlcmZUaW1lciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXJcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1vZGFsT3ZlcmxheVdyYXBwZXIgfSBmcm9tIFwiLi4vLi4vYXNyb3V0ZXIvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWFyY2hTaG9ydGN1dHNGb3JtIH0gZnJvbSBcIi4vU2VhcmNoU2hvcnRjdXRzRm9ybVwiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5qc21cIjtcbmltcG9ydCB7IFRvcFNpdGVGb3JtIH0gZnJvbSBcIi4vVG9wU2l0ZUZvcm1cIjtcbmltcG9ydCB7IFRvcFNpdGVMaXN0IH0gZnJvbSBcIi4vVG9wU2l0ZVwiO1xuXG5mdW5jdGlvbiB0b3BTaXRlSWNvblR5cGUobGluaykge1xuICBpZiAobGluay5jdXN0b21TY3JlZW5zaG90VVJMKSB7XG4gICAgcmV0dXJuIFwiY3VzdG9tX3NjcmVlbnNob3RcIjtcbiAgfVxuICBpZiAobGluay50aXBweVRvcEljb24gfHwgbGluay5mYXZpY29uUmVmID09PSBcInRpcHB5dG9wXCIpIHtcbiAgICByZXR1cm4gXCJ0aXBweXRvcFwiO1xuICB9XG4gIGlmIChsaW5rLmZhdmljb25TaXplID49IE1JTl9SSUNIX0ZBVklDT05fU0laRSkge1xuICAgIHJldHVybiBcInJpY2hfaWNvblwiO1xuICB9XG4gIGlmIChsaW5rLnNjcmVlbnNob3QgJiYgbGluay5mYXZpY29uU2l6ZSA+PSBNSU5fQ09STkVSX0ZBVklDT05fU0laRSkge1xuICAgIHJldHVybiBcInNjcmVlbnNob3Rfd2l0aF9pY29uXCI7XG4gIH1cbiAgaWYgKGxpbmsuc2NyZWVuc2hvdCkge1xuICAgIHJldHVybiBcInNjcmVlbnNob3RcIjtcbiAgfVxuICByZXR1cm4gXCJub19pbWFnZVwiO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggVG9wU2l0ZXMgYW5kIGNvdW50cyB0eXBlcyBvZiBpbWFnZXMuXG4gKiBAcGFyYW0gYWNjIEFjY3VtdWxhdG9yIGZvciByZWR1Y2VyLlxuICogQHBhcmFtIHRvcHNpdGUgRW50cnkgaW4gVG9wU2l0ZXMuXG4gKi9cbmZ1bmN0aW9uIGNvdW50VG9wU2l0ZXNJY29uc1R5cGVzKHRvcFNpdGVzKSB7XG4gIGNvbnN0IGNvdW50VG9wU2l0ZXNUeXBlcyA9IChhY2MsIGxpbmspID0+IHtcbiAgICBhY2NbdG9wU2l0ZUljb25UeXBlKGxpbmspXSsrO1xuICAgIHJldHVybiBhY2M7XG4gIH07XG5cbiAgcmV0dXJuIHRvcFNpdGVzLnJlZHVjZShjb3VudFRvcFNpdGVzVHlwZXMsIHtcbiAgICBjdXN0b21fc2NyZWVuc2hvdDogMCxcbiAgICBzY3JlZW5zaG90X3dpdGhfaWNvbjogMCxcbiAgICBzY3JlZW5zaG90OiAwLFxuICAgIHRpcHB5dG9wOiAwLFxuICAgIHJpY2hfaWNvbjogMCxcbiAgICBub19pbWFnZTogMCxcbiAgfSk7XG59XG5cbmV4cG9ydCBjbGFzcyBfVG9wU2l0ZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVkaXRGb3JtQ2xvc2UgPSB0aGlzLm9uRWRpdEZvcm1DbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2UgPSB0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaCBzZXNzaW9uIHN0YXRpc3RpY3MgYWJvdXQgdGhlIHF1YWxpdHkgb2YgVG9wU2l0ZXMgaWNvbnMgYW5kIHBpbm5lZCBjb3VudC5cbiAgICovXG4gIF9kaXNwYXRjaFRvcFNpdGVzU3RhdHMoKSB7XG4gICAgY29uc3QgdG9wU2l0ZXMgPSB0aGlzLl9nZXRWaXNpYmxlVG9wU2l0ZXMoKS5maWx0ZXIoXG4gICAgICB0b3BTaXRlID0+IHRvcFNpdGUgIT09IG51bGwgJiYgdG9wU2l0ZSAhPT0gdW5kZWZpbmVkXG4gICAgKTtcbiAgICBjb25zdCB0b3BTaXRlc0ljb25zU3RhdHMgPSBjb3VudFRvcFNpdGVzSWNvbnNUeXBlcyh0b3BTaXRlcyk7XG4gICAgY29uc3QgdG9wU2l0ZXNQaW5uZWQgPSB0b3BTaXRlcy5maWx0ZXIoc2l0ZSA9PiAhIXNpdGUuaXNQaW5uZWQpLmxlbmd0aDtcbiAgICBjb25zdCBzZWFyY2hTaG9ydGN1dHMgPSB0b3BTaXRlcy5maWx0ZXIoc2l0ZSA9PiAhIXNpdGUuc2VhcmNoVG9wU2l0ZSlcbiAgICAgIC5sZW5ndGg7XG4gICAgLy8gRGlzcGF0Y2ggdGVsZW1ldHJ5IGV2ZW50IHdpdGggdGhlIGNvdW50IG9mIFRvcFNpdGVzIGltYWdlcyB0eXBlcy5cbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlNBVkVfU0VTU0lPTl9QRVJGX0RBVEEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0b3BzaXRlc19pY29uX3N0YXRzOiB0b3BTaXRlc0ljb25zU3RhdHMsXG4gICAgICAgICAgdG9wc2l0ZXNfcGlubmVkOiB0b3BTaXRlc1Bpbm5lZCxcbiAgICAgICAgICB0b3BzaXRlc19zZWFyY2hfc2hvcnRjdXRzOiBzZWFyY2hTaG9ydGN1dHMsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBUb3BTaXRlcyB0aGF0IGFyZSB2aXNpYmxlIGJhc2VkIG9uIHByZWZzIGFuZCB3aW5kb3cgd2lkdGguXG4gICAqL1xuICBfZ2V0VmlzaWJsZVRvcFNpdGVzKCkge1xuICAgIC8vIFdlIGhpZGUgMiBzaXRlcyBwZXIgcm93IHdoZW4gbm90IGluIHRoZSB3aWRlIGxheW91dC5cbiAgICBsZXQgc2l0ZXNQZXJSb3cgPSBUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1c7XG4gICAgLy8gJGJyZWFrLXBvaW50LXdpZGVzdCA9IDEwNzJweCAoZnJvbSBfdmFyaWFibGVzLnNjc3MpXG4gICAgaWYgKCFnbG9iYWwubWF0Y2hNZWRpYShgKG1pbi13aWR0aDogMTA3MnB4KWApLm1hdGNoZXMpIHtcbiAgICAgIHNpdGVzUGVyUm93IC09IDI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3BzLlRvcFNpdGVzLnJvd3Muc2xpY2UoXG4gICAgICAwLFxuICAgICAgdGhpcy5wcm9wcy5Ub3BTaXRlc1Jvd3MgKiBzaXRlc1BlclJvd1xuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5fZGlzcGF0Y2hUb3BTaXRlc1N0YXRzKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl9kaXNwYXRjaFRvcFNpdGVzU3RhdHMoKTtcbiAgfVxuXG4gIG9uRWRpdEZvcm1DbG9zZSgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICBldmVudDogXCJUT1BfU0lURVNfRURJVF9DTE9TRVwiLFxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5UT1BfU0lURVNfQ0FOQ0VMX0VESVQgfSk7XG4gIH1cblxuICBvblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZSgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICBldmVudDogXCJTRUFSQ0hfRURJVF9DTE9TRVwiLFxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5UT1BfU0lURVNfQ0xPU0VfU0VBUkNIX1NIT1JUQ1VUU19NT0RBTCB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgZWRpdEZvcm0sIHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtIH0gPSBwcm9wcy5Ub3BTaXRlcztcbiAgICBjb25zdCBleHRyYU1lbnVPcHRpb25zID0gW1wiQWRkVG9wU2l0ZVwiXTtcbiAgICBpZiAocHJvcHMuUHJlZnMudmFsdWVzW1wiaW1wcm92ZXNlYXJjaC50b3BTaXRlU2VhcmNoU2hvcnRjdXRzXCJdKSB7XG4gICAgICBleHRyYU1lbnVPcHRpb25zLnB1c2goXCJBZGRTZWFyY2hTaG9ydGN1dFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFBlcmZUaW1lclxuICAgICAgICBpZD1cInRvcHNpdGVzXCJcbiAgICAgICAgaW5pdGlhbGl6ZWQ9e3Byb3BzLlRvcFNpdGVzLmluaXRpYWxpemVkfVxuICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICA+XG4gICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0b3Atc2l0ZXNcIlxuICAgICAgICAgIGljb249XCJ0b3BzaXRlc1wiXG4gICAgICAgICAgaWQ9XCJ0b3BzaXRlc1wiXG4gICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGUgfHwgeyBpZDogXCJuZXd0YWItc2VjdGlvbi1oZWFkZXItdG9wc2l0ZXNcIiB9fVxuICAgICAgICAgIGV4dHJhTWVudU9wdGlvbnM9e2V4dHJhTWVudU9wdGlvbnN9XG4gICAgICAgICAgc2hvd1ByZWZOYW1lPVwiZmVlZHMudG9wc2l0ZXNcIlxuICAgICAgICAgIGV2ZW50U291cmNlPXtUT1BfU0lURVNfU09VUkNFfVxuICAgICAgICAgIGNvbGxhcHNlZD17XG4gICAgICAgICAgICBwcm9wcy5Ub3BTaXRlcy5wcmVmID8gcHJvcHMuVG9wU2l0ZXMucHJlZi5jb2xsYXBzZWQgOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNGaXhlZD17cHJvcHMuaXNGaXhlZH1cbiAgICAgICAgICBpc0ZpcnN0PXtwcm9wcy5pc0ZpcnN0fVxuICAgICAgICAgIGlzTGFzdD17cHJvcHMuaXNMYXN0fVxuICAgICAgICAgIGRpc3BhdGNoPXtwcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgPlxuICAgICAgICAgIDxUb3BTaXRlTGlzdFxuICAgICAgICAgICAgVG9wU2l0ZXM9e3Byb3BzLlRvcFNpdGVzfVxuICAgICAgICAgICAgVG9wU2l0ZXNSb3dzPXtwcm9wcy5Ub3BTaXRlc1Jvd3N9XG4gICAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB0b3BTaXRlSWNvblR5cGU9e3RvcFNpdGVJY29uVHlwZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdC10b3BzaXRlcy13cmFwcGVyXCI+XG4gICAgICAgICAgICB7ZWRpdEZvcm0gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXQtdG9wc2l0ZXNcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICAgICAgICAgICAgdW5zdHlsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uRWRpdEZvcm1DbG9zZX1cbiAgICAgICAgICAgICAgICAgIGlubmVyQ2xhc3NOYW1lPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxUb3BTaXRlRm9ybVxuICAgICAgICAgICAgICAgICAgICBzaXRlPXtwcm9wcy5Ub3BTaXRlcy5yb3dzW2VkaXRGb3JtLmluZGV4XX1cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkVkaXRGb3JtQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgICAgICB7Li4uZWRpdEZvcm19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWxPdmVybGF5V3JhcHBlcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3Nob3dTZWFyY2hTaG9ydGN1dHNGb3JtICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0LXNlYXJjaC1zaG9ydGN1dHNcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICAgICAgICAgICAgdW5zdHlsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgaW5uZXJDbGFzc05hbWU9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaFNob3J0Y3V0c0Zvcm1cbiAgICAgICAgICAgICAgICAgICAgVG9wU2l0ZXM9e3Byb3BzLlRvcFNpdGVzfVxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbE92ZXJsYXlXcmFwcGVyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgPC9Db21wb25lbnRQZXJmVGltZXI+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVG9wU2l0ZXMgPSBjb25uZWN0KChzdGF0ZSwgcHJvcHMpID0+ICh7XG4gIC8vIEZvciBTUE9DIEV4cGVyaW1lbnQgb25seSwgdGFrZSBUb3BTaXRlcyBmcm9tIERpc2NvdmVyeVN0cmVhbSBUb3BTaXRlcyB0aGF0IHRha2VzIGluIFNQT0MgRGF0YVxuICBUb3BTaXRlczogcHJvcHMuVG9wU2l0ZXNXaXRoU3BvYyB8fCBzdGF0ZS5Ub3BTaXRlcyxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBUb3BTaXRlc1Jvd3M6IHN0YXRlLlByZWZzLnZhbHVlcy50b3BTaXRlc1Jvd3MsXG59KSkoX1RvcFNpdGVzKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU09VUkNFID0gXCJUT1BfU0lURVNcIjtcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiRWRpdFRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbiAgXCJEZWxldGVVcmxcIixcbl07XG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiUGluU3BvY1RvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbiAgXCJTaG93UHJpdmFjeUluZm9cIixcbl07XG4vLyB0aGUgc3BlY2lhbCB0b3Agc2l0ZSBmb3Igc2VhcmNoIHNob3J0Y3V0IGV4cGVyaW1lbnQgY2FuIG9ubHkgaGF2ZSB0aGUgb3B0aW9uIHRvIHVucGluICh3aGljaCByZW1vdmVzKSB0aGUgdG9wc2l0ZVxuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICBcIkNoZWNrUGluVG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG5dO1xuLy8gbWluaW11bSBzaXplIG5lY2Vzc2FyeSB0byBzaG93IGEgcmljaCBpY29uIGluc3RlYWQgb2YgYSBzY3JlZW5zaG90XG5leHBvcnQgY29uc3QgTUlOX1JJQ0hfRkFWSUNPTl9TSVpFID0gOTY7XG4vLyBtaW5pbXVtIHNpemUgbmVjZXNzYXJ5IHRvIHNob3cgYW55IGljb24gaW4gdGhlIHRvcCBsZWZ0IGNvcm5lciB3aXRoIGEgc2NyZWVuc2hvdFxuZXhwb3J0IGNvbnN0IE1JTl9DT1JORVJfRkFWSUNPTl9TSVpFID0gMTY7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUT1BfU0lURVNfU09VUkNFIH0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIFNlbGVjdGFibGVTZWFyY2hTaG9ydGN1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBzaG9ydGN1dCwgc2VsZWN0ZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW1hZ2VTdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzaG9ydGN1dC50aXBweVRvcEljb259XCIpYCB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLW91dGVyIHNlYXJjaC1zaG9ydGN1dFwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIGlkPXtzaG9ydGN1dC5rZXl3b3JkfVxuICAgICAgICAgIG5hbWU9e3Nob3J0Y3V0LmtleXdvcmR9XG4gICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPXtzaG9ydGN1dC5rZXl3b3JkfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLWlubmVyXCI+XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aWxlXCI+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e2ltYWdlU3R5bGV9XG4gICAgICAgICAgICAgICAgICBkYXRhLWZhbGxiYWNrPVwiQFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gc2VhcmNoLXRvcHNpdGVcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGRpcj1cImF1dG9cIj57c2hvcnRjdXQua2V5d29yZH08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VhcmNoU2hvcnRjdXRzRm9ybSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrID0gdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNhdmVCdXR0b25DbGljayA9IHRoaXMub25TYXZlQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIC8vIGNsb25lIHRoZSBzaG9ydGN1dHMgYW5kIGFkZCB0aGVtIHRvIHRoZSBzdGF0ZSBzbyB3ZSBjYW4gYWRkIGlzU2VsZWN0ZWQgcHJvcGVydHlcbiAgICBjb25zdCBzaG9ydGN1dHMgPSBbXTtcbiAgICBjb25zdCB7IHJvd3MsIHNlYXJjaFNob3J0Y3V0cyB9ID0gcHJvcHMuVG9wU2l0ZXM7XG4gICAgc2VhcmNoU2hvcnRjdXRzLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgc2hvcnRjdXRzLnB1c2goe1xuICAgICAgICAuLi5zaG9ydGN1dCxcbiAgICAgICAgaXNTZWxlY3RlZDogISFyb3dzLmZpbmQoXG4gICAgICAgICAgcm93ID0+XG4gICAgICAgICAgICByb3cgJiZcbiAgICAgICAgICAgIHJvdy5pc1Bpbm5lZCAmJlxuICAgICAgICAgICAgcm93LnNlYXJjaFRvcFNpdGUgJiZcbiAgICAgICAgICAgIHJvdy5sYWJlbCA9PT0gc2hvcnRjdXQua2V5d29yZFxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgc2hvcnRjdXRzIH07XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBuYW1lLCBjaGVja2VkIH0gPSB0YXJnZXQ7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4ge1xuICAgICAgY29uc3Qgc2hvcnRjdXRzID0gcHJldlN0YXRlLnNob3J0Y3V0cy5zbGljZSgpO1xuICAgICAgbGV0IHNob3J0Y3V0ID0gc2hvcnRjdXRzLmZpbmQoKHsga2V5d29yZCB9KSA9PiBrZXl3b3JkID09PSBuYW1lKTtcbiAgICAgIHNob3J0Y3V0LmlzU2VsZWN0ZWQgPSBjaGVja2VkO1xuICAgICAgcmV0dXJuIHsgc2hvcnRjdXRzIH07XG4gICAgfSk7XG4gIH1cblxuICBvbkNhbmNlbEJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIG9uU2F2ZUJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlIHdlcmUgYW55IGNoYW5nZXMgYW5kIGFjdCBhY2NvcmRpbmdseVxuICAgIGNvbnN0IHsgcm93cyB9ID0gdGhpcy5wcm9wcy5Ub3BTaXRlcztcbiAgICBjb25zdCBwaW5RdWV1ZSA9IFtdO1xuICAgIGNvbnN0IHVucGluUXVldWUgPSBbXTtcbiAgICB0aGlzLnN0YXRlLnNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIGNvbnN0IGFscmVhZHlQaW5uZWQgPSByb3dzLmZpbmQoXG4gICAgICAgIHJvdyA9PlxuICAgICAgICAgIHJvdyAmJlxuICAgICAgICAgIHJvdy5pc1Bpbm5lZCAmJlxuICAgICAgICAgIHJvdy5zZWFyY2hUb3BTaXRlICYmXG4gICAgICAgICAgcm93LmxhYmVsID09PSBzaG9ydGN1dC5rZXl3b3JkXG4gICAgICApO1xuICAgICAgaWYgKHNob3J0Y3V0LmlzU2VsZWN0ZWQgJiYgIWFscmVhZHlQaW5uZWQpIHtcbiAgICAgICAgcGluUXVldWUucHVzaCh0aGlzLl9zZWFyY2hUb3BTaXRlKHNob3J0Y3V0KSk7XG4gICAgICB9IGVsc2UgaWYgKCFzaG9ydGN1dC5pc1NlbGVjdGVkICYmIGFscmVhZHlQaW5uZWQpIHtcbiAgICAgICAgdW5waW5RdWV1ZS5wdXNoKHtcbiAgICAgICAgICB1cmw6IGFscmVhZHlQaW5uZWQudXJsLFxuICAgICAgICAgIHNlYXJjaFZlbmRvcjogc2hvcnRjdXQuc2hvcnRVUkwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVGVsbCB0aGUgZmVlZCB0byBkbyB0aGUgd29yay5cbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlVQREFURV9QSU5ORURfU0VBUkNIX1NIT1JUQ1VUUyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGFkZGVkU2hvcnRjdXRzOiBwaW5RdWV1ZSxcbiAgICAgICAgICBkZWxldGVkU2hvcnRjdXRzOiB1bnBpblF1ZXVlLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gU2VuZCB0aGUgVGVsZW1ldHJ5IHBpbmdzLlxuICAgIHBpblF1ZXVlLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgZXZlbnQ6IFwiU0VBUkNIX0VESVRfQUREXCIsXG4gICAgICAgICAgdmFsdWU6IHsgc2VhcmNoX3ZlbmRvcjogc2hvcnRjdXQuc2VhcmNoVmVuZG9yIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICAgIHVucGluUXVldWUuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJTRUFSQ0hfRURJVF9ERUxFVEVcIixcbiAgICAgICAgICB2YWx1ZTogeyBzZWFyY2hfdmVuZG9yOiBzaG9ydGN1dC5zZWFyY2hWZW5kb3IgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIF9zZWFyY2hUb3BTaXRlKHNob3J0Y3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVybDogc2hvcnRjdXQudXJsLFxuICAgICAgc2VhcmNoVG9wU2l0ZTogdHJ1ZSxcbiAgICAgIGxhYmVsOiBzaG9ydGN1dC5rZXl3b3JkLFxuICAgICAgc2VhcmNoVmVuZG9yOiBzaG9ydGN1dC5zaG9ydFVSTCxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJ0b3BzaXRlLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtc2hvcnRjdXRzLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoM1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZSBncmV5LXRpdGxlXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1hZGQtc2VhcmNoLWVuZ2luZS1oZWFkZXJcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3J0Y3V0cy5tYXAoc2hvcnRjdXQgPT4gKFxuICAgICAgICAgICAgICA8U2VsZWN0YWJsZVNlYXJjaFNob3J0Y3V0XG4gICAgICAgICAgICAgICAga2V5PXtzaG9ydGN1dC5rZXl3b3JkfVxuICAgICAgICAgICAgICAgIHNob3J0Y3V0PXtzaG9ydGN1dH1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZD17c2hvcnRjdXQuaXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYW5jZWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtY2FuY2VsLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNhdmVCdXR0b25DbGlja31cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1zYXZlLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7XG4gIE1JTl9DT1JORVJfRkFWSUNPTl9TSVpFLFxuICBNSU5fUklDSF9GQVZJQ09OX1NJWkUsXG4gIFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyxcbiAgVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TLFxuICBUT1BfU0lURVNfU09VUkNFLFxufSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNjcmVlbnNob3RVdGlscyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlsc1wiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5qc21cIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmNvbnN0IFNQT0NfVFlQRSA9IFwiU1BPQ1wiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUxpbmsgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgc2NyZWVuc2hvdEltYWdlOiBudWxsIH07XG4gICAgdGhpcy5vbkRyYWdFdmVudCA9IHRoaXMub25EcmFnRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5UHJlc3MgPSB0aGlzLm9uS2V5UHJlc3MuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qXG4gICAqIEhlbHBlciB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgZHJvcCB6b25lIHNob3VsZCBhbGxvdyBhIGRyb3AuIFdlIG9ubHkgYWxsb3dcbiAgICogZHJvcHBpbmcgdG9wIHNpdGVzIGZvciBub3cuXG4gICAqL1xuICBfYWxsb3dEcm9wKGUpIHtcbiAgICByZXR1cm4gZS5kYXRhVHJhbnNmZXIudHlwZXMuaW5jbHVkZXMoXCJ0ZXh0L3RvcHNpdGUtaW5kZXhcIik7XG4gIH1cblxuICBvbkRyYWdFdmVudChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBcImNsaWNrXCI6XG4gICAgICAgIC8vIFN0b3AgYW55IGxpbmsgY2xpY2tzIGlmIHdlIHN0YXJ0ZWQgYW55IGRyYWdnaW5nXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICB0aGlzLmRyYWdnZWQgPSB0cnVlO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvdG9wc2l0ZS1pbmRleFwiLCB0aGlzLnByb3BzLmluZGV4KTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICB0aGlzLnByb3BzLmluZGV4LFxuICAgICAgICAgIHRoaXMucHJvcHMubGluayxcbiAgICAgICAgICB0aGlzLnByb3BzLnRpdGxlXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgY2FzZSBcImRyYWdvdmVyXCI6XG4gICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICBpZiAodGhpcy5fYWxsb3dEcm9wKGV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChldmVudCwgdGhpcy5wcm9wcy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgIC8vIEJsb2NrIHRoZSBzY3JvbGwgd2hlZWwgZnJvbSBhcHBlYXJpbmcgZm9yIG1pZGRsZSBjbGlja3Mgb24gc2VhcmNoIHRvcCBzaXRlc1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAxICYmIHRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCBhdCB0aGUgZmlyc3QgbW91c2UgZXZlbnQgb2YgYSBwb3RlbnRpYWwgZHJhZ1xuICAgICAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBvYnRhaW4gdGhlIG5leHQgc3RhdGUgYmFzZWQgb24gbmV4dFByb3BzIGFuZCBwcmV2U3RhdGUuXG4gICAqXG4gICAqIE5PVEU6IFJlbmFtZSB0aGlzIG1ldGhvZCB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgd2hlbiB3ZSB1cGRhdGUgUmVhY3RcbiAgICogICAgICAgdG8gPj0gMTYuMy4gV2Ugd2lsbCBuZWVkIHRvIHVwZGF0ZSB0ZXN0cyBhcyB3ZWxsLiBXZSBjYW5ub3QgcmVuYW1lIHRoaXNcbiAgICogICAgICAgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBub3cgYmVjYXVzZSB0aGVyZSBpcyBhIG1pc21hdGNoIGluXG4gICAqICAgICAgIHRoZSBSZWFjdCB2ZXJzaW9uIHRoYXQgd2UgYXJlIHVzaW5nIGZvciBib3RoIHRlc3RpbmcgYW5kIHByb2R1Y3Rpb24uXG4gICAqICAgICAgIChpLmUuIHJlYWN0LXRlc3QtcmVuZGVyID0+IFwiMTYuMy4yXCIsIHJlYWN0ID0+IFwiMTYuMi4wXCIpLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9lbnp5bWUvYmxvYi9tYXN0ZXIvcGFja2FnZXMvZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYvcGFja2FnZS5qc29uI0w0My5cbiAgICovXG4gIHN0YXRpYyBnZXROZXh0U3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBjb25zdCB7IHNjcmVlbnNob3QgfSA9IG5leHRQcm9wcy5saW5rO1xuICAgIGNvbnN0IGltYWdlSW5TdGF0ZSA9IFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICBwcmV2U3RhdGUuc2NyZWVuc2hvdEltYWdlLFxuICAgICAgc2NyZWVuc2hvdFxuICAgICk7XG4gICAgaWYgKGltYWdlSW5TdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2luY2UgaW1hZ2Ugd2FzIHVwZGF0ZWQsIGF0dGVtcHQgdG8gcmV2b2tlIG9sZCBpbWFnZSBibG9iIFVSTCwgaWYgaXQgZXhpc3RzLlxuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwocHJldlN0YXRlLnNjcmVlbnNob3RJbWFnZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuc2hvdEltYWdlOiBTY3JlZW5zaG90VXRpbHMuY3JlYXRlTG9jYWxJbWFnZU9iamVjdChzY3JlZW5zaG90KSxcbiAgICB9O1xuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVG9wU2l0ZUxpbmsuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIHVwZGF0ZSBSZWFjdCB0byA+PSAxNi4zIHNpbmNlIFJlYWN0IHdpbGxcbiAgLy8gICAgICAgY2FsbCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgYXV0b21hdGljYWxseS4gV2Ugd2lsbCBhbHNvIG5lZWQgdG9cbiAgLy8gICAgICAgcmVuYW1lIGdldE5leHRTdGF0ZUZyb21Qcm9wcyB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVG9wU2l0ZUxpbmsuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwodGhpcy5zdGF0ZS5zY3JlZW5zaG90SW1hZ2UpO1xuICB9XG5cbiAgb25LZXlQcmVzcyhldmVudCkge1xuICAgIC8vIElmIHdlIGhhdmUgdGFiYmVkIHRvIGEgc2VhcmNoIHNob3J0Y3V0IHRvcCBzaXRlLCBhbmQgd2UgY2xpY2sgJ2VudGVyJyxcbiAgICAvLyB3ZSBzaG91bGQgZXhlY3V0ZSB0aGUgb25DbGljayBmdW5jdGlvbi4gVGhpcyBuZWVkcyB0byBiZSBhZGRlZCBiZWNhdXNlXG4gICAgLy8gc2VhcmNoIHRvcCBzaXRlcyBhcmUgYW5jaG9yIHRhZ3Mgd2l0aG91dCBhbiBocmVmLiBTZWUgYnVnIDE0ODMxMzVcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnNlYXJjaFRvcFNpdGUgJiYgZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgZGVmYXVsdFN0eWxlLFxuICAgICAgaXNEcmFnZ2FibGUsXG4gICAgICBsaW5rLFxuICAgICAgb25DbGljayxcbiAgICAgIHRpdGxlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHRvcFNpdGVPdXRlckNsYXNzTmFtZSA9IGB0b3Atc2l0ZS1vdXRlciR7XG4gICAgICBjbGFzc05hbWUgPyBgICR7Y2xhc3NOYW1lfWAgOiBcIlwiXG4gICAgfSR7bGluay5pc0RyYWdnZWQgPyBcIiBkcmFnZ2VkXCIgOiBcIlwifSR7XG4gICAgICBsaW5rLnNlYXJjaFRvcFNpdGUgPyBcIiBzZWFyY2gtc2hvcnRjdXRcIiA6IFwiXCJcbiAgICB9YDtcbiAgICBjb25zdCB7IHRpcHB5VG9wSWNvbiwgZmF2aWNvblNpemUgfSA9IGxpbms7XG4gICAgY29uc3QgW2xldHRlckZhbGxiYWNrXSA9IHRpdGxlO1xuICAgIGxldCBpbWFnZUNsYXNzTmFtZTtcbiAgICBsZXQgaW1hZ2VTdHlsZTtcbiAgICBsZXQgc2hvd1NtYWxsRmF2aWNvbiA9IGZhbHNlO1xuICAgIGxldCBzbWFsbEZhdmljb25TdHlsZTtcbiAgICBsZXQgc21hbGxGYXZpY29uRmFsbGJhY2s7XG4gICAgbGV0IGhhc1NjcmVlbnNob3RJbWFnZSA9XG4gICAgICB0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZSAmJiB0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZS51cmw7XG4gICAgaWYgKGRlZmF1bHRTdHlsZSkge1xuICAgICAgLy8gZm9yY2Ugbm8gc3R5bGVzIChsZXR0ZXIgZmFsbGJhY2spIGV2ZW4gaWYgdGhlIGxpbmsgaGFzIGltYWdlcnlcbiAgICAgIHNtYWxsRmF2aWNvbkZhbGxiYWNrID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChsaW5rLnNlYXJjaFRvcFNpdGUpIHtcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29ufSlgLFxuICAgICAgfTtcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlID0geyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aXBweVRvcEljb259KWAgfTtcbiAgICB9IGVsc2UgaWYgKGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgICAgLy8gYXNzdW1lIGhpZ2ggcXVhbGl0eSBjdXN0b20gc2NyZWVuc2hvdCBhbmQgdXNlIHJpY2ggaWNvbiBzdHlsZXMgYW5kIGNsYXNzIG5hbWVzXG5cbiAgICAgIC8vIFRvcFNpdGUgc3BvYyBleHBlcmltZW50IG9ubHlcbiAgICAgIGNvbnN0IHNwb2NJbWdVUkwgPVxuICAgICAgICBsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSA/IGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCA6IFwiXCI7XG5cbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBoYXNTY3JlZW5zaG90SW1hZ2VcbiAgICAgICAgICA/IGB1cmwoJHt0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZS51cmx9KWBcbiAgICAgICAgICA6IGB1cmwoJHtzcG9jSW1nVVJMfSlgLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRpcHB5VG9wSWNvbiB8fCBmYXZpY29uU2l6ZSA+PSBNSU5fUklDSF9GQVZJQ09OX1NJWkUpIHtcbiAgICAgIC8vIHN0eWxlcyBhbmQgY2xhc3MgbmFtZXMgZm9yIHRvcCBzaXRlcyB3aXRoIHJpY2ggaWNvbnNcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29uIHx8IGxpbmsuZmF2aWNvbn0pYCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN0eWxlcyBhbmQgY2xhc3MgbmFtZXMgZm9yIHRvcCBzaXRlcyB3aXRoIHNjcmVlbnNob3QgKyBzbWFsbCBpY29uIGluIHRvcCBsZWZ0IGNvcm5lclxuICAgICAgaW1hZ2VDbGFzc05hbWUgPSBgc2NyZWVuc2hvdCR7aGFzU2NyZWVuc2hvdEltYWdlID8gXCIgYWN0aXZlXCIgOiBcIlwifWA7XG4gICAgICBpbWFnZVN0eWxlID0ge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGhhc1NjcmVlbnNob3RJbWFnZVxuICAgICAgICAgID8gYHVybCgke3RoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlLnVybH0pYFxuICAgICAgICAgIDogXCJub25lXCIsXG4gICAgICB9O1xuXG4gICAgICAvLyBvbmx5IHNob3cgYSBmYXZpY29uIGluIHRvcCBsZWZ0IGlmIGl0J3MgZ3JlYXRlciB0aGFuIDE2eDE2XG4gICAgICBpZiAoZmF2aWNvblNpemUgPj0gTUlOX0NPUk5FUl9GQVZJQ09OX1NJWkUpIHtcbiAgICAgICAgc2hvd1NtYWxsRmF2aWNvbiA9IHRydWU7XG4gICAgICAgIHNtYWxsRmF2aWNvblN0eWxlID0geyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtsaW5rLmZhdmljb259KWAgfTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzU2NyZWVuc2hvdEltYWdlKSB7XG4gICAgICAgIC8vIERvbid0IHNob3cgYSBzbWFsbCBmYXZpY29uIGlmIHRoZXJlIGlzIG5vIHNjcmVlbnNob3QsIGJlY2F1c2UgdGhhdFxuICAgICAgICAvLyB3b3VsZCByZXN1bHQgaW4gdHdvIGZhbGxiYWNrIGljb25zXG4gICAgICAgIHNob3dTbWFsbEZhdmljb24gPSB0cnVlO1xuICAgICAgICBzbWFsbEZhdmljb25GYWxsYmFjayA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBkcmFnZ2FibGVQcm9wcyA9IHt9O1xuICAgIGlmIChpc0RyYWdnYWJsZSkge1xuICAgICAgZHJhZ2dhYmxlUHJvcHMgPSB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICAgIG9uRHJhZ0VuZDogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgICAgb25EcmFnU3RhcnQ6IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9e3RvcFNpdGVPdXRlckNsYXNzTmFtZX1cbiAgICAgICAgb25Ecm9wPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMub25EcmFnRXZlbnR9XG4gICAgICAgIHsuLi5kcmFnZ2FibGVQcm9wc31cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pbm5lclwiPlxuICAgICAgICAgIHsvKiBXZSBkb24ndCB5ZXQgc3VwcG9ydCBhbiBhY2Nlc3NpYmxlIGRyYWctYW5kLWRyb3AgaW1wbGVtZW50YXRpb24sIHNlZSBCdWcgMTU1MjAwNSAqL31cbiAgICAgICAgICB7LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FuY2hvci1pcy12YWxpZCAqL31cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtYnV0dG9uXCJcbiAgICAgICAgICAgIGhyZWY9e2xpbmsuc2VhcmNoVG9wU2l0ZSA/IHVuZGVmaW5lZCA6IGxpbmsudXJsfVxuICAgICAgICAgICAgdGFiSW5kZXg9XCIwXCJcbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMub25LZXlQcmVzc31cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgICBkcmFnZ2FibGU9e3RydWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aWxlXCJcbiAgICAgICAgICAgICAgYXJpYS1oaWRkZW49e3RydWV9XG4gICAgICAgICAgICAgIGRhdGEtZmFsbGJhY2s9e2xldHRlckZhbGxiYWNrfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aW1hZ2VDbGFzc05hbWV9IHN0eWxlPXtpbWFnZVN0eWxlfSAvPlxuICAgICAgICAgICAgICB7bGluay5zZWFyY2hUb3BTaXRlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gc2VhcmNoLXRvcHNpdGVcIiAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7c2hvd1NtYWxsRmF2aWNvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiBkZWZhdWx0LWljb25cIlxuICAgICAgICAgICAgICAgICAgZGF0YS1mYWxsYmFjaz17c21hbGxGYXZpY29uRmFsbGJhY2sgJiYgbGV0dGVyRmFsbGJhY2t9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17c21hbGxGYXZpY29uU3R5bGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0aXRsZSAke2xpbmsuaXNQaW5uZWQgPyBcInBpbm5lZFwiIDogXCJcIn1gfT5cbiAgICAgICAgICAgICAge2xpbmsuaXNQaW5uZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJpY29uIGljb24tcGluLXNtYWxsXCIgLz59XG4gICAgICAgICAgICAgIDxzcGFuIGRpcj1cImF1dG9cIj57dGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7bGluay50eXBlID09PSBTUE9DX1RZUEUgPyAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvcC1zaXRlLXNwb2MtbGFiZWxcIj5TcG9uc29yZWQ8L3NwYW4+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSA/IChcbiAgICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgICAgZmxpZ2h0SWQ9e2xpbmsuZmxpZ2h0SWR9XG4gICAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZDogbGluay5pZCxcbiAgICAgICAgICAgICAgICAgIHBvczogbGluay5wb3MsXG4gICAgICAgICAgICAgICAgICBzaGltOiBsaW5rLnNoaW0gJiYgbGluay5zaGltLmltcHJlc3Npb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIHNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5Ub3BTaXRlTGluay5kZWZhdWx0UHJvcHMgPSB7XG4gIHRpdGxlOiBcIlwiLFxuICBsaW5rOiB7fSxcbiAgaXNEcmFnZ2FibGU6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBzaG93Q29udGV4dE1lbnU6IGZhbHNlIH07XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVVwZGF0ZSA9IHRoaXMub25NZW51VXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IHRvIHRlbGVtZXRyeSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpdGVtLlxuICAgKi9cbiAgX2dldFRlbGVtZXRyeUluZm8oKSB7XG4gICAgY29uc3QgdmFsdWUgPSB7IGljb25fdHlwZTogdGhpcy5wcm9wcy5saW5rLmljb25UeXBlIH07XG4gICAgLy8gRmlsdGVyIG91dCBcIm5vdF9waW5uZWRcIiB0eXBlIGZvciBiZWluZyB0aGUgZGVmYXVsdFxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsuaXNQaW5uZWQpIHtcbiAgICAgIHZhbHVlLmNhcmRfdHlwZSA9IFwicGlubmVkXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgLy8gU2V0IHRoZSBjYXJkX3R5cGUgYXMgXCJzZWFyY2hcIiByZWdhcmRsZXNzIG9mIGl0cyBwaW5uaW5nIHN0YXR1c1xuICAgICAgdmFsdWUuY2FyZF90eXBlID0gXCJzZWFyY2hcIjtcbiAgICAgIHZhbHVlLnNlYXJjaF92ZW5kb3IgPSB0aGlzLnByb3BzLmxpbmsuaG9zdG5hbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsudHlwZSA9PT0gU1BPQ19UWVBFKSB7XG4gICAgICB2YWx1ZS5jYXJkX3R5cGUgPSBcInNwb2NcIjtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsdWUgfTtcbiAgfVxuXG4gIHVzZXJFdmVudChldmVudCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIHRoaXMudXNlckV2ZW50KFwiQ0xJQ0tcIik7XG5cbiAgICAvLyBTcGVjaWFsbHkgaGFuZGxlIGEgdG9wIHNpdGUgbGluayBjbGljayBmb3IgXCJ0eXBlZFwiIGZyZWNlbmN5IGJvbnVzIGFzXG4gICAgLy8gc3BlY2lmaWVkIGFzIGEgcHJvcGVydHkgb24gdGhlIGxpbmsuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgaWYgKCF0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5saW5rLCB7XG4gICAgICAgICAgICBldmVudDogeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIEZpcmUgb2ZmIGEgc3BvYyBzcGVjaWZpYyBpbXByZXNzaW9uLlxuICAgICAgaWYgKHRoaXMucHJvcHMubGluay50eXBlID09PSBTUE9DX1RZUEUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMubGluay5pZCxcbiAgICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMubGluay5wb3MsXG4gICAgICAgICAgICAgICAgc2hpbTogdGhpcy5wcm9wcy5saW5rLnNoaW0gJiYgdGhpcy5wcm9wcy5saW5rLnNoaW0uY2xpY2ssXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LkZJTExfU0VBUkNIX1RFUk0sXG4gICAgICAgICAgZGF0YTogeyBsYWJlbDogdGhpcy5wcm9wcy5saW5rLmxhYmVsIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uTWVudVVwZGF0ZShpc09wZW4pIHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZhdGUodGhpcy5wcm9wcy5pbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbGluayB9ID0gcHJvcHM7XG4gICAgY29uc3QgaXNDb250ZXh0TWVudU9wZW4gPSBwcm9wcy5hY3RpdmVJbmRleCA9PT0gcHJvcHMuaW5kZXg7XG4gICAgY29uc3QgdGl0bGUgPSBsaW5rLmxhYmVsIHx8IGxpbmsuaG9zdG5hbWU7XG4gICAgY29uc3QgbWVudU9wdGlvbnMgPVxuICAgICAgbGluay50eXBlICE9PSBTUE9DX1RZUEVcbiAgICAgICAgPyBUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlNcbiAgICAgICAgOiBUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUztcblxuICAgIHJldHVybiAoXG4gICAgICA8VG9wU2l0ZUxpbmtcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICBvbkRyYWdFdmVudD17dGhpcy5wcm9wcy5vbkRyYWdFdmVudH1cbiAgICAgICAgY2xhc3NOYW1lPXtgJHtwcm9wcy5jbGFzc05hbWUgfHwgXCJcIn0ke1xuICAgICAgICAgIGlzQ29udGV4dE1lbnVPcGVuID8gXCIgYWN0aXZlXCIgOiBcIlwiXG4gICAgICAgIH1gfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICA+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgICB0b29sdGlwPVwibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJcbiAgICAgICAgICAgIHRvb2x0aXBBcmdzPXt7IHRpdGxlIH19XG4gICAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXtwcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgaW5kZXg9e3Byb3BzLmluZGV4fVxuICAgICAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgICAgICAgIG9wdGlvbnM9e1xuICAgICAgICAgICAgICAgIGxpbmsuc2VhcmNoVG9wU2l0ZVxuICAgICAgICAgICAgICAgICAgPyBUT1BfU0lURVNfU0VBUkNIX1NIT1JUQ1VUU19DT05URVhUX01FTlVfT1BUSU9OU1xuICAgICAgICAgICAgICAgICAgOiBtZW51T3B0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNpdGU9e2xpbmt9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e2xpbmsudHlwZSA9PT0gU1BPQ19UWVBFfVxuICAgICAgICAgICAgICBzaXRlSW5mbz17dGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpfVxuICAgICAgICAgICAgICBzb3VyY2U9e1RPUF9TSVRFU19TT1VSQ0V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Ub3BTaXRlTGluaz5cbiAgICApO1xuICB9XG59XG5Ub3BTaXRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGluazoge30sXG4gIG9uQWN0aXZhdGUoKSB7fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBUb3BTaXRlUGxhY2Vob2xkZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVkaXRCdXR0b25DbGljayA9IHRoaXMub25FZGl0QnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uRWRpdEJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0VESVQsXG4gICAgICBkYXRhOiB7IGluZGV4OiB0aGlzLnByb3BzLmluZGV4IH0sXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY2xhc3NOYW1lPXtgcGxhY2Vob2xkZXIgJHt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIlwifWB9XG4gICAgICAgIGlzRHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtYnV0dG9uIGVkaXQtYnV0dG9uIGljb25cIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LXRvcHNpdGVzLXBsYWNlaG9sZGVyLXRvb2x0aXBcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25FZGl0QnV0dG9uQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICA8L1RvcFNpdGVMaW5rPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBnZXQgREVGQVVMVF9TVEFURSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlSW5kZXg6IG51bGwsXG4gICAgICBkcmFnZ2VkSW5kZXg6IG51bGwsXG4gICAgICBkcmFnZ2VkU2l0ZTogbnVsbCxcbiAgICAgIGRyYWdnZWRUaXRsZTogbnVsbCxcbiAgICAgIHRvcFNpdGVzUHJldmlldzogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IFRvcFNpdGVMaXN0LkRFRkFVTFRfU1RBVEU7XG4gICAgdGhpcy5vbkRyYWdFdmVudCA9IHRoaXMub25EcmFnRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQWN0aXZhdGUgPSB0aGlzLm9uQWN0aXZhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUpIHtcbiAgICAgIGNvbnN0IHByZXZUb3BTaXRlcyA9IHRoaXMucHJvcHMuVG9wU2l0ZXMgJiYgdGhpcy5wcm9wcy5Ub3BTaXRlcy5yb3dzO1xuICAgICAgY29uc3QgbmV3VG9wU2l0ZXMgPSBuZXh0UHJvcHMuVG9wU2l0ZXMgJiYgbmV4dFByb3BzLlRvcFNpdGVzLnJvd3M7XG4gICAgICBpZiAoXG4gICAgICAgIHByZXZUb3BTaXRlcyAmJlxuICAgICAgICBwcmV2VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdICYmXG4gICAgICAgIHByZXZUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0udXJsID09PVxuICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsICYmXG4gICAgICAgICghbmV3VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdIHx8XG4gICAgICAgICAgbmV3VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdLnVybCAhPT1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsKVxuICAgICAgKSB7XG4gICAgICAgIC8vIFdlIGdvdCB0aGUgbmV3IG9yZGVyIGZyb20gdGhlIHJlZHV4IHN0b3JlIHZpYSBwcm9wcy4gV2UgY2FuIGNsZWFyIHN0YXRlIG5vdy5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShUb3BTaXRlTGlzdC5ERUZBVUxUX1NUQVRFKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1c2VyRXZlbnQoZXZlbnQsIGluZGV4KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBvbkRyYWdFdmVudChldmVudCwgaW5kZXgsIGxpbmssIHRpdGxlKSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgIHRoaXMuZHJvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkcmFnZ2VkSW5kZXg6IGluZGV4LFxuICAgICAgICAgIGRyYWdnZWRTaXRlOiBsaW5rLFxuICAgICAgICAgIGRyYWdnZWRUaXRsZTogdGl0bGUsXG4gICAgICAgICAgYWN0aXZlSW5kZXg6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzZXJFdmVudChcIkRSQUdcIiwgaW5kZXgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgIGlmICghdGhpcy5kcm9wcGVkKSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGRyb3AgZXZlbnQsIHJlc2V0IHRoZSBzdGF0ZSB0byB0aGUgZGVmYXVsdC5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKFRvcFNpdGVMaXN0LkRFRkFVTFRfU1RBVEUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4KSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRvcFNpdGVzUHJldmlldzogbnVsbCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG9wU2l0ZXNQcmV2aWV3OiB0aGlzLl9tYWtlVG9wU2l0ZXNQcmV2aWV3KGluZGV4KSB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXgpIHtcbiAgICAgICAgICB0aGlzLmRyb3BwZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0lOU0VSVCxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHNpdGU6IHtcbiAgICAgICAgICAgICAgICAgIHVybDogdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5zdGF0ZS5kcmFnZ2VkVGl0bGUsXG4gICAgICAgICAgICAgICAgICBjdXN0b21TY3JlZW5zaG90VVJMOiB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlXG4gICAgICAgICAgICAgICAgICAgIC5jdXN0b21TY3JlZW5zaG90VVJMLFxuICAgICAgICAgICAgICAgICAgLy8gT25seSBpZiB0aGUgc2VhcmNoIHRvcHNpdGVzIGV4cGVyaW1lbnQgaXMgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgLi4uKHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUuc2VhcmNoVG9wU2l0ZSAmJiB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFRvcFNpdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIGRyYWdnZWRGcm9tSW5kZXg6IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMudXNlckV2ZW50KFwiRFJPUFwiLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgX2dldFRvcFNpdGVzKCkge1xuICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBzaXRlcyB0byB0cnVuY2F0ZSBvciBleHRlbmQgdG8gZGVzaXJlZCBsZW5ndGhcbiAgICBsZXQgdG9wU2l0ZXMgPSB0aGlzLnByb3BzLlRvcFNpdGVzLnJvd3Muc2xpY2UoKTtcbiAgICB0b3BTaXRlcy5sZW5ndGggPSB0aGlzLnByb3BzLlRvcFNpdGVzUm93cyAqIFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVztcbiAgICByZXR1cm4gdG9wU2l0ZXM7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIHByZXZpZXcgb2YgdGhlIHRvcHNpdGVzIHRoYXQgd2lsbCBiZSB0aGUgcmVzdWx0IG9mIGRyb3BwaW5nIHRoZSBjdXJyZW50bHlcbiAgICogZHJhZ2dlZCBzaXRlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAqL1xuICBfbWFrZVRvcFNpdGVzUHJldmlldyhpbmRleCkge1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5fZ2V0VG9wU2l0ZXMoKTtcbiAgICB0b3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gPSBudWxsO1xuICAgIGNvbnN0IHBpbm5lZE9ubHkgPSB0b3BTaXRlcy5tYXAoc2l0ZSA9PlxuICAgICAgc2l0ZSAmJiBzaXRlLmlzUGlubmVkID8gc2l0ZSA6IG51bGxcbiAgICApO1xuICAgIGNvbnN0IHVucGlubmVkID0gdG9wU2l0ZXMuZmlsdGVyKHNpdGUgPT4gc2l0ZSAmJiAhc2l0ZS5pc1Bpbm5lZCk7XG4gICAgY29uc3Qgc2l0ZVRvSW5zZXJ0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZSwge1xuICAgICAgaXNQaW5uZWQ6IHRydWUsXG4gICAgICBpc0RyYWdnZWQ6IHRydWUsXG4gICAgfSk7XG4gICAgaWYgKCFwaW5uZWRPbmx5W2luZGV4XSkge1xuICAgICAgcGlubmVkT25seVtpbmRleF0gPSBzaXRlVG9JbnNlcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmQgdGhlIGhvbGUgdG8gc2hpZnQgdGhlIHBpbm5lZCBzaXRlKHMpIHRvd2FyZHMuIFdlIHNoaWZ0IHRvd2FyZHMgdGhlXG4gICAgICAvLyBob2xlIGxlZnQgYnkgdGhlIHNpdGUgYmVpbmcgZHJhZ2dlZC5cbiAgICAgIGxldCBob2xlSW5kZXggPSBpbmRleDtcbiAgICAgIGNvbnN0IGluZGV4U3RlcCA9IGluZGV4ID4gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXggPyAtMSA6IDE7XG4gICAgICB3aGlsZSAocGlubmVkT25seVtob2xlSW5kZXhdKSB7XG4gICAgICAgIGhvbGVJbmRleCArPSBpbmRleFN0ZXA7XG4gICAgICB9XG5cbiAgICAgIC8vIFNoaWZ0IHRvd2FyZHMgdGhlIGhvbGUuXG4gICAgICBjb25zdCBzaGlmdGluZ1N0ZXAgPSBpbmRleCA+IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4ID8gMSA6IC0xO1xuICAgICAgd2hpbGUgKGhvbGVJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gaG9sZUluZGV4ICsgc2hpZnRpbmdTdGVwO1xuICAgICAgICBwaW5uZWRPbmx5W2hvbGVJbmRleF0gPSBwaW5uZWRPbmx5W25leHRJbmRleF07XG4gICAgICAgIGhvbGVJbmRleCA9IG5leHRJbmRleDtcbiAgICAgIH1cbiAgICAgIHBpbm5lZE9ubHlbaW5kZXhdID0gc2l0ZVRvSW5zZXJ0O1xuICAgIH1cblxuICAgIC8vIEZpbGwgaW4gdGhlIHJlbWFpbmluZyBob2xlcyB3aXRoIHVucGlubmVkIHNpdGVzLlxuICAgIGNvbnN0IHByZXZpZXcgPSBwaW5uZWRPbmx5O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFwcmV2aWV3W2ldKSB7XG4gICAgICAgIHByZXZpZXdbaV0gPSB1bnBpbm5lZC5zaGlmdCgpIHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXZpZXc7XG4gIH1cblxuICBvbkFjdGl2YXRlKGluZGV4KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUluZGV4OiBpbmRleCB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5zdGF0ZS50b3BTaXRlc1ByZXZpZXcgfHwgdGhpcy5fZ2V0VG9wU2l0ZXMoKTtcbiAgICBjb25zdCB0b3BTaXRlc1VJID0gW107XG4gICAgY29uc3QgY29tbW9uUHJvcHMgPSB7XG4gICAgICBvbkRyYWdFdmVudDogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgIGRpc3BhdGNoOiBwcm9wcy5kaXNwYXRjaCxcbiAgICB9O1xuICAgIC8vIFdlIGFzc2lnbiBhIGtleSB0byBlYWNoIHBsYWNlaG9sZGVyIHNsb3QuIFdlIG5lZWQgaXQgdG8gYmUgaW5kZXBlbmRlbnRcbiAgICAvLyBvZiB0aGUgc2xvdCBpbmRleCAoaSBiZWxvdykgc28gdGhhdCB0aGUga2V5cyB1c2VkIHN0YXkgdGhlIHNhbWUgZHVyaW5nXG4gICAgLy8gZHJhZyBhbmQgZHJvcCByZW9yZGVyaW5nIGFuZCB0aGUgdW5kZXJseWluZyBET00gbm9kZXMgYXJlIHJldXNlZC5cbiAgICAvLyBUaGlzIG1vc3RseSAob25seT8pIGFmZmVjdHMgbGludXggc28gYmUgc3VyZSB0byB0ZXN0IG9uIGxpbnV4IGJlZm9yZSBjaGFuZ2luZy5cbiAgICBsZXQgaG9sZUluZGV4ID0gMDtcblxuICAgIC8vIE9uIG5hcnJvdyB2aWV3cG9ydHMsIHdlIG9ubHkgc2hvdyA2IHNpdGVzIHBlciByb3cuIFdlJ2xsIG1hcmsgdGhlIHJlc3QgYXNcbiAgICAvLyAuaGlkZS1mb3ItbmFycm93IHRvIGhpZGUgaW4gQ1NTIHZpYSBAbWVkaWEgcXVlcnkuXG4gICAgY29uc3QgbWF4TmFycm93VmlzaWJsZUluZGV4ID0gcHJvcHMuVG9wU2l0ZXNSb3dzICogNjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG9wU2l0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5rID1cbiAgICAgICAgdG9wU2l0ZXNbaV0gJiZcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdG9wU2l0ZXNbaV0sIHtcbiAgICAgICAgICBpY29uVHlwZTogdGhpcy5wcm9wcy50b3BTaXRlSWNvblR5cGUodG9wU2l0ZXNbaV0pLFxuICAgICAgICB9KTtcbiAgICAgIGNvbnN0IHNsb3RQcm9wcyA9IHtcbiAgICAgICAga2V5OiBsaW5rID8gbGluay51cmwgOiBob2xlSW5kZXgrKyxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICB9O1xuICAgICAgaWYgKGkgPj0gbWF4TmFycm93VmlzaWJsZUluZGV4KSB7XG4gICAgICAgIHNsb3RQcm9wcy5jbGFzc05hbWUgPSBcImhpZGUtZm9yLW5hcnJvd1wiO1xuICAgICAgfVxuICAgICAgdG9wU2l0ZXNVSS5wdXNoKFxuICAgICAgICAhbGluayA/IChcbiAgICAgICAgICA8VG9wU2l0ZVBsYWNlaG9sZGVyIHsuLi5zbG90UHJvcHN9IHsuLi5jb21tb25Qcm9wc30gLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8VG9wU2l0ZVxuICAgICAgICAgICAgbGluaz17bGlua31cbiAgICAgICAgICAgIGFjdGl2ZUluZGV4PXt0aGlzLnN0YXRlLmFjdGl2ZUluZGV4fVxuICAgICAgICAgICAgb25BY3RpdmF0ZT17dGhpcy5vbkFjdGl2YXRlfVxuICAgICAgICAgICAgey4uLnNsb3RQcm9wc31cbiAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT17YHRvcC1zaXRlcy1saXN0JHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlID8gXCIgZG5kLWFjdGl2ZVwiIDogXCJcIlxuICAgICAgICB9YH1cbiAgICAgID5cbiAgICAgICAge3RvcFNpdGVzVUl9XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIEhvcml6b250YWxSdWxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGhyIGNsYXNzTmFtZT1cImRzLWhyXCIgLz47XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBUb3BpYyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1cmwsIG5hbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPFNhZmVBbmNob3Iga2V5PXtuYW1lfSB1cmw9e3VybH0+XG4gICAgICAgICAge25hbWV9XG4gICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsaW5rcyB9ID0gdGhpcy5wcm9wcyB8fCBbXTtcbiAgICBjb25zdCB7IGFsaWdubWVudCB9ID0gdGhpcy5wcm9wcyB8fCBcImNlbnRlcmVkXCI7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5wcm9wcy5oZWFkZXIgfHwge307XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZHMtbmF2aWdhdGlvbiBkcy1uYXZpZ2F0aW9uLSR7YWxpZ25tZW50fWB9PlxuICAgICAgICB7aGVhZGVyLnRpdGxlID8gKFxuICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17aGVhZGVyLnRpdGxlfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtaGVhZGVyXCIgLz5cbiAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAge2xpbmtzICYmXG4gICAgICAgICAgICAgIGxpbmtzLm1hcCh0ID0+IDxUb3BpYyBrZXk9e3QubmFtZX0gdXJsPXt0LnVybH0gbmFtZT17dC5uYW1lfSAvPil9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBTZWN0aW9uVGl0bGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGhlYWRlcjogeyB0aXRsZSwgc3VidGl0bGUgfSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1zZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj57dGl0bGV9PC9kaXY+XG4gICAgICAgIHtzdWJ0aXRsZSA/IDxkaXYgY2xhc3NOYW1lPVwic3VidGl0bGVcIj57c3VidGl0bGV9PC9kaXY+IDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBzZWxlY3RMYXlvdXRSZW5kZXIgPSAoe1xuICBzdGF0ZSA9IHt9LFxuICBwcmVmcyA9IHt9LFxuICByb2xsQ2FjaGUgPSBbXSxcbiAgbGFuZyA9IFwiXCIsXG59KSA9PiB7XG4gIGNvbnN0IHsgbGF5b3V0LCBmZWVkcywgc3BvY3MgfSA9IHN0YXRlO1xuICBsZXQgc3BvY0luZGV4TWFwID0ge307XG4gIGxldCBidWZmZXJSb2xsQ2FjaGUgPSBbXTtcbiAgLy8gUmVjb3JkcyB0aGUgY2hvc2VuIGFuZCB1bmNob3NlbiBzcG9jcyBieSB0aGUgcHJvYmFiaWxpdHkgc2VsZWN0aW9uLlxuICBsZXQgY2hvc2VuU3BvY3MgPSBuZXcgU2V0KCk7XG4gIGxldCB1bmNob3NlblNwb2NzID0gbmV3IFNldCgpO1xuXG4gIGZ1bmN0aW9uIHJvbGxGb3JTcG9jcyhkYXRhLCBzcG9jc0NvbmZpZywgc3BvY3NEYXRhLCBwbGFjZW1lbnROYW1lKSB7XG4gICAgaWYgKCFzcG9jSW5kZXhNYXBbcGxhY2VtZW50TmFtZV0gJiYgc3BvY0luZGV4TWFwW3BsYWNlbWVudE5hbWVdICE9PSAwKSB7XG4gICAgICBzcG9jSW5kZXhNYXBbcGxhY2VtZW50TmFtZV0gPSAwO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gWy4uLmRhdGFdO1xuICAgIGZvciAobGV0IHBvc2l0aW9uIG9mIHNwb2NzQ29uZmlnLnBvc2l0aW9ucykge1xuICAgICAgY29uc3Qgc3BvYyA9IHNwb2NzRGF0YVtzcG9jSW5kZXhNYXBbcGxhY2VtZW50TmFtZV1dO1xuICAgICAgaWYgKCFzcG9jKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWNoZSByYW5kb20gbnVtYmVyIGZvciBhIHBvc2l0aW9uXG4gICAgICBsZXQgcmlja1JvbGw7XG4gICAgICBpZiAoIXJvbGxDYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgcmlja1JvbGwgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICBidWZmZXJSb2xsQ2FjaGUucHVzaChyaWNrUm9sbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByaWNrUm9sbCA9IHJvbGxDYWNoZS5zaGlmdCgpO1xuICAgICAgICBidWZmZXJSb2xsQ2FjaGUucHVzaChyaWNrUm9sbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyaWNrUm9sbCA8PSBzcG9jc0NvbmZpZy5wcm9iYWJpbGl0eSkge1xuICAgICAgICBzcG9jSW5kZXhNYXBbcGxhY2VtZW50TmFtZV0rKztcbiAgICAgICAgaWYgKCFzcG9jcy5ibG9ja2VkLmluY2x1ZGVzKHNwb2MudXJsKSkge1xuICAgICAgICAgIHJlc3VsdHMuc3BsaWNlKHBvc2l0aW9uLmluZGV4LCAwLCBzcG9jKTtcbiAgICAgICAgICBjaG9zZW5TcG9jcy5hZGQoc3BvYyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVuY2hvc2VuU3BvY3MuYWRkKHNwb2MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgY29uc3QgcG9zaXRpb25zID0ge307XG4gIGNvbnN0IERTX0NPTVBPTkVOVFMgPSBbXG4gICAgXCJNZXNzYWdlXCIsXG4gICAgXCJUZXh0UHJvbW9cIixcbiAgICBcIlNlY3Rpb25UaXRsZVwiLFxuICAgIFwiTmF2aWdhdGlvblwiLFxuICAgIFwiQ2FyZEdyaWRcIixcbiAgICBcIkhlcm9cIixcbiAgICBcIkhvcml6b250YWxSdWxlXCIsXG4gICAgXCJMaXN0XCIsXG4gIF07XG5cbiAgY29uc3QgZmlsdGVyQXJyYXkgPSBbXTtcblxuICBpZiAoIXByZWZzW1wiZmVlZHMudG9wc2l0ZXNcIl0pIHtcbiAgICBmaWx0ZXJBcnJheS5wdXNoKFwiVG9wU2l0ZXNcIik7XG4gIH1cblxuICBpZiAoIWxhbmcuc3RhcnRzV2l0aChcImVuLVwiKSkge1xuICAgIGZpbHRlckFycmF5LnB1c2goXCJOYXZpZ2F0aW9uXCIpO1xuICB9XG5cbiAgaWYgKCFwcmVmc1tcImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiXSkge1xuICAgIGZpbHRlckFycmF5LnB1c2goLi4uRFNfQ09NUE9ORU5UUyk7XG4gIH1cblxuICBjb25zdCBwbGFjZWhvbGRlckNvbXBvbmVudCA9IGNvbXBvbmVudCA9PiB7XG4gICAgaWYgKCFjb21wb25lbnQuZmVlZCkge1xuICAgICAgLy8gVE9ETyB3ZSBub3cgbmVlZCBhIHBsYWNlaG9sZGVyIGZvciB0b3BzaXRlcyBhbmQgdGV4dFByb21vLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3BvY3M6IFtdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgfTtcblxuICAgIGxldCBpdGVtcyA9IDA7XG4gICAgaWYgKGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zKSB7XG4gICAgICBpdGVtcyA9IGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zOyBpKyspIHtcbiAgICAgIGRhdGEucmVjb21tZW5kYXRpb25zLnB1c2goeyBwbGFjZWhvbGRlcjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5jb21wb25lbnQsIGRhdGEgfTtcbiAgfTtcblxuICAvLyBUT0RPIHVwZGF0ZSBkZXZ0b29scyB0byBzaG93IHBsYWNlbWVudHNcbiAgY29uc3QgaGFuZGxlU3BvY3MgPSAoZGF0YSwgY29tcG9uZW50KSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IFsuLi5kYXRhXTtcbiAgICAvLyBEbyB3ZSBldmVyIGV4cGVjdCB0byBwb3NzaWJseSBoYXZlIGEgc3BvYy5cbiAgICBpZiAoXG4gICAgICBjb21wb25lbnQuc3BvY3MgJiZcbiAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMgJiZcbiAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMubGVuZ3RoXG4gICAgKSB7XG4gICAgICBjb25zdCBwbGFjZW1lbnQgPSBjb21wb25lbnQucGxhY2VtZW50IHx8IHt9O1xuICAgICAgY29uc3QgcGxhY2VtZW50TmFtZSA9IHBsYWNlbWVudC5uYW1lIHx8IFwic3BvY3NcIjtcbiAgICAgIGNvbnN0IHNwb2NzRGF0YSA9IHNwb2NzLmRhdGFbcGxhY2VtZW50TmFtZV07XG4gICAgICAvLyBXZSBleHBlY3QgYSBzcG9jLCBzcG9jcyBhcmUgbG9hZGVkLCBhbmQgdGhlIHNlcnZlciByZXR1cm5lZCBzcG9jcy5cbiAgICAgIGlmIChzcG9jcy5sb2FkZWQgJiYgc3BvY3NEYXRhICYmIHNwb2NzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gcm9sbEZvclNwb2NzKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBjb21wb25lbnQuc3BvY3MsXG4gICAgICAgICAgc3BvY3NEYXRhLFxuICAgICAgICAgIHBsYWNlbWVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wb25lbnQgPSBjb21wb25lbnQgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jb21wb25lbnQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNwb2NzOiBoYW5kbGVTcG9jcyhbXSwgY29tcG9uZW50KSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wb25lbnRXaXRoRmVlZCA9IGNvbXBvbmVudCA9PiB7XG4gICAgcG9zaXRpb25zW2NvbXBvbmVudC50eXBlXSA9IHBvc2l0aW9uc1tjb21wb25lbnQudHlwZV0gfHwgMDtcbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgfTtcblxuICAgIGNvbnN0IGZlZWQgPSBmZWVkcy5kYXRhW2NvbXBvbmVudC5mZWVkLnVybF07XG4gICAgaWYgKGZlZWQgJiYgZmVlZC5kYXRhKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5mZWVkLmRhdGEsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogWy4uLihmZWVkLmRhdGEucmVjb21tZW5kYXRpb25zIHx8IFtdKV0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LnByb3BlcnRpZXMgJiYgY29tcG9uZW50LnByb3BlcnRpZXMub2Zmc2V0KSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGRhdGEucmVjb21tZW5kYXRpb25zLnNsaWNlKFxuICAgICAgICAgIGNvbXBvbmVudC5wcm9wZXJ0aWVzLm9mZnNldFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBkYXRhID0ge1xuICAgICAgLi4uZGF0YSxcbiAgICAgIHJlY29tbWVuZGF0aW9uczogaGFuZGxlU3BvY3MoZGF0YS5yZWNvbW1lbmRhdGlvbnMsIGNvbXBvbmVudCksXG4gICAgfTtcblxuICAgIGxldCBpdGVtcyA9IDA7XG4gICAgaWYgKGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zKSB7XG4gICAgICBpdGVtcyA9IE1hdGgubWluKGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zLCBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8vIGxvb3AgdGhyb3VnaCBhIGNvbXBvbmVudCBpdGVtc1xuICAgIC8vIFN0b3JlIHRoZSBpdGVtcyBwb3NpdGlvbiBzZXF1ZW50aWFsbHkgZm9yIG11bHRpcGxlIGNvbXBvbmVudHMgb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAvLyBFeGFtcGxlOiBBIHNlY29uZCBjYXJkIGdyaWQgc3RhcnRzIHBvcyBvZmZzZXQgZnJvbSB0aGUgbGFzdCBjYXJkIGdyaWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtczsgaSsrKSB7XG4gICAgICBkYXRhLnJlY29tbWVuZGF0aW9uc1tpXSA9IHtcbiAgICAgICAgLi4uZGF0YS5yZWNvbW1lbmRhdGlvbnNbaV0sXG4gICAgICAgIHBvczogcG9zaXRpb25zW2NvbXBvbmVudC50eXBlXSsrLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5jb21wb25lbnQsIGRhdGEgfTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJMYXlvdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVuZGVyZWRMYXlvdXRBcnJheSA9IFtdO1xuICAgIGZvciAoY29uc3Qgcm93IG9mIGxheW91dC5maWx0ZXIoXG4gICAgICByID0+IHIuY29tcG9uZW50cy5maWx0ZXIoYyA9PiAhZmlsdGVyQXJyYXkuaW5jbHVkZXMoYy50eXBlKSkubGVuZ3RoXG4gICAgKSkge1xuICAgICAgbGV0IGNvbXBvbmVudHMgPSBbXTtcbiAgICAgIHJlbmRlcmVkTGF5b3V0QXJyYXkucHVzaCh7XG4gICAgICAgIC4uLnJvdyxcbiAgICAgICAgY29tcG9uZW50cyxcbiAgICAgIH0pO1xuICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2Ygcm93LmNvbXBvbmVudHMuZmlsdGVyKFxuICAgICAgICBjID0+ICFmaWx0ZXJBcnJheS5pbmNsdWRlcyhjLnR5cGUpXG4gICAgICApKSB7XG4gICAgICAgIGNvbnN0IHNwb2NzQ29uZmlnID0gY29tcG9uZW50LnNwb2NzO1xuICAgICAgICBpZiAoc3BvY3NDb25maWcgfHwgY29tcG9uZW50LmZlZWQpIHtcbiAgICAgICAgICAvLyBUT0RPIG1ha2Ugc3VyZSB0aGlzIHN0aWxsIHdvcmtzIGZvciBkaWZmZXJlbnQgbG9hZGluZyBjYXNlcy5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoY29tcG9uZW50LmZlZWQgJiYgIWZlZWRzLmRhdGFbY29tcG9uZW50LmZlZWQudXJsXSkgfHxcbiAgICAgICAgICAgIChzcG9jc0NvbmZpZyAmJlxuICAgICAgICAgICAgICBzcG9jc0NvbmZpZy5wb3NpdGlvbnMgJiZcbiAgICAgICAgICAgICAgc3BvY3NDb25maWcucG9zaXRpb25zLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAhc3BvY3MubG9hZGVkKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHBsYWNlaG9sZGVyQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkTGF5b3V0QXJyYXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb21wb25lbnQuZmVlZCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGhhbmRsZUNvbXBvbmVudFdpdGhGZWVkKGNvbXBvbmVudCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goaGFuZGxlQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZWRMYXlvdXRBcnJheTtcbiAgfTtcblxuICBjb25zdCBsYXlvdXRSZW5kZXIgPSByZW5kZXJMYXlvdXQoKTtcblxuICAvLyBJZiBlbXB0eSwgZmlsbCByb2xsQ2FjaGUgd2l0aCByYW5kb20gcHJvYmFiaWxpdHkgdmFsdWVzIGZyb20gYnVmZmVyUm9sbENhY2hlXG4gIGlmICghcm9sbENhY2hlLmxlbmd0aCkge1xuICAgIHJvbGxDYWNoZS5wdXNoKC4uLmJ1ZmZlclJvbGxDYWNoZSk7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSB0aGUgcGF5bG9hZCBmb3IgdGhlIFNQT0NTIEZpbGwgcGluZy4gTm90ZSB0aGF0IGEgU1BPQyBjb3VsZCBiZSByZWplY3RlZFxuICAvLyBieSB0aGUgYHByb2JhYmlsaXR5X3NlbGVjdGlvbmAgZmlyc3QsIHRoZW4gZ2V0cyBjaG9zZW4gZm9yIHRoZSBuZXh0IHBvc2l0aW9uLiBGb3JcbiAgLy8gYWxsIG90aGVyIFNQT0NTIHRoYXQgbmV2ZXIgd2VudCB0aHJvdWdoIHRoZSBwcm9iYWJpbGlzdGljIHNlbGVjdGlvbiwgaXRzIHJlYXNvbiB3aWxsXG4gIC8vIGJlIFwib3V0X29mX3Bvc2l0aW9uXCIuXG4gIGxldCBzcG9jc0ZpbGwgPSBbXTtcbiAgaWYgKHNwb2NzLmxvYWRlZCAmJiBmZWVkcy5sb2FkZWQgJiYgc3BvY3MuZGF0YS5zcG9jcykge1xuICAgIGNvbnN0IGNob3NlblNwb2NzRmlsbCA9IFsuLi5jaG9zZW5TcG9jc10ubWFwKHNwb2MgPT4gKHtcbiAgICAgIGlkOiBzcG9jLmlkLFxuICAgICAgcmVhc29uOiBcIm4vYVwiLFxuICAgICAgZGlzcGxheWVkOiAxLFxuICAgICAgZnVsbF9yZWNhbGM6IDAsXG4gICAgfSkpO1xuICAgIGNvbnN0IHVuY2hvc2VuU3BvY3NGaWxsID0gWy4uLnVuY2hvc2VuU3BvY3NdXG4gICAgICAuZmlsdGVyKHNwb2MgPT4gIWNob3NlblNwb2NzLmhhcyhzcG9jKSlcbiAgICAgIC5tYXAoc3BvYyA9PiAoe1xuICAgICAgICBpZDogc3BvYy5pZCxcbiAgICAgICAgcmVhc29uOiBcInByb2JhYmlsaXR5X3NlbGVjdGlvblwiLFxuICAgICAgICBkaXNwbGF5ZWQ6IDAsXG4gICAgICAgIGZ1bGxfcmVjYWxjOiAwLFxuICAgICAgfSkpO1xuICAgIGNvbnN0IG91dE9mUG9zaXRpb25TcG9jc0ZpbGwgPSBzcG9jcy5kYXRhLnNwb2NzXG4gICAgICAuc2xpY2Uoc3BvY0luZGV4TWFwLnNwb2NzKVxuICAgICAgLmZpbHRlcihzcG9jID0+ICF1bmNob3NlblNwb2NzLmhhcyhzcG9jKSlcbiAgICAgIC5tYXAoc3BvYyA9PiAoe1xuICAgICAgICBpZDogc3BvYy5pZCxcbiAgICAgICAgcmVhc29uOiBcIm91dF9vZl9wb3NpdGlvblwiLFxuICAgICAgICBkaXNwbGF5ZWQ6IDAsXG4gICAgICAgIGZ1bGxfcmVjYWxjOiAwLFxuICAgICAgfSkpO1xuXG4gICAgc3BvY3NGaWxsID0gW1xuICAgICAgLi4uY2hvc2VuU3BvY3NGaWxsLFxuICAgICAgLi4udW5jaG9zZW5TcG9jc0ZpbGwsXG4gICAgICAuLi5vdXRPZlBvc2l0aW9uU3BvY3NGaWxsLFxuICAgIF07XG4gIH1cblxuICByZXR1cm4geyBzcG9jc0ZpbGwsIGxheW91dFJlbmRlciB9O1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IFRvcFNpdGVzIGFzIE9sZFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXNcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBfVG9wU2l0ZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgLy8gRmluZCBhIFNQT0MgdGhhdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgaW4gVXNlcidzIFRvcFNpdGVzXG4gIGdldEZpcnN0QXZhaWxhYmxlU3BvYyh0b3BTaXRlcywgZGF0YSkge1xuICAgIGNvbnN0IHsgc3BvY3MgfSA9IGRhdGE7XG4gICAgaWYgKCFzcG9jcyB8fCBzcG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJUb3BTaXRlcyA9IG5ldyBTZXQoXG4gICAgICB0b3BTaXRlcy5tYXAodG9wU2l0ZSA9PiB0b3BTaXRlICYmIHRvcFNpdGUudXJsKVxuICAgICk7XG5cbiAgICAvLyBXZSBcImNsZWFuIHVybHNcIiB3aXRoIGh0dHAgaW4gVG9wU2l0ZUZvcm0uanN4XG4gICAgLy8gU3BvYyBkb21haW5zIGFyZSBpbiB0aGUgZm9ybWF0ICdzcG9uc29ybmFtZS5jb20nXG4gICAgcmV0dXJuIHNwb2NzLmZpbmQoXG4gICAgICBzcG9jID0+XG4gICAgICAgICF1c2VyVG9wU2l0ZXMuaGFzKHNwb2MudXJsKSAmJlxuICAgICAgICAhdXNlclRvcFNpdGVzLmhhcyhgaHR0cDovLyR7c3BvYy5kb21haW59YCkgJiZcbiAgICAgICAgIXVzZXJUb3BTaXRlcy5oYXMoYGh0dHBzOi8vJHtzcG9jLmRvbWFpbn1gKSAmJlxuICAgICAgICAhdXNlclRvcFNpdGVzLmhhcyhgaHR0cDovL3d3dy4ke3Nwb2MuZG9tYWlufWApICYmXG4gICAgICAgICF1c2VyVG9wU2l0ZXMuaGFzKGBodHRwczovL3d3dy4ke3Nwb2MuZG9tYWlufWApXG4gICAgKTtcbiAgfVxuXG4gIC8vIEZpbmQgdGhlIGZpcnN0IGVtcHR5IG9yIHVucGlubmVkIGluZGV4IHdlIGNhbiBwbGFjZSB0aGUgU1BPQyBpbi5cbiAgLy8gUmV0dXJuIC0xIGlmIG5vIGF2YWlsYWJsZSBpbmRleCBhbmQgd2Ugc2hvdWxkIHB1c2ggaXQgYXQgdGhlIGVuZC5cbiAgZ2V0Rmlyc3RBdmFpbGFibGVJbmRleCh0b3BTaXRlcywgcHJvbW9BbGlnbm1lbnQpIHtcbiAgICBpZiAocHJvbW9BbGlnbm1lbnQgPT09IFwibGVmdFwiKSB7XG4gICAgICByZXR1cm4gdG9wU2l0ZXMuZmluZEluZGV4KHRvcFNpdGUgPT4gIXRvcFNpdGUgfHwgIXRvcFNpdGUuaXNQaW5uZWQpO1xuICAgIH1cblxuICAgIC8vIFRoZSByb3cgaXNuJ3QgZnVsbCBzbyB3ZSBjYW4gcHVzaCBpdCB0byB0aGUgZW5kIG9mIHRoZSByb3cuXG4gICAgaWYgKHRvcFNpdGVzLmxlbmd0aCA8IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVykge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSByb3cgaXMgZnVsbCwgd2UgY2FuIGNoZWNrIHRoZSByb3cgZmlyc3QgZm9yIHVucGlubmVkIHRvcHNpdGVzIHRvIHJlcGxhY2UuXG4gICAgLy8gRWxzZSB3ZSBjYW4gY2hlY2sgYWZ0ZXIgdGhlIHJvdy4gVGhpcyBiZWhhdmlvciBpcyBob3cgdW5waW5uZWQgdG9wc2l0ZXMgbW92ZSB3aGlsZSBkcmFnIGFuZCBkcm9wLlxuICAgIGxldCBlbmRPZlJvdyA9IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyAtIDE7XG4gICAgZm9yIChsZXQgaSA9IGVuZE9mUm93OyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKCF0b3BTaXRlc1tpXSB8fCAhdG9wU2l0ZXNbaV0uaXNQaW5uZWQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IGVuZE9mUm93ICsgMTsgaSA8IHRvcFNpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRvcFNpdGVzW2ldIHx8ICF0b3BTaXRlc1tpXS5pc1Bpbm5lZCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBpbnNlcnRTcG9jQ29udGVudChUb3BTaXRlcywgZGF0YSwgcHJvbW9BbGlnbm1lbnQpIHtcbiAgICBpZiAoXG4gICAgICAhVG9wU2l0ZXMucm93cyB8fFxuICAgICAgVG9wU2l0ZXMucm93cy5sZW5ndGggPT09IDAgfHxcbiAgICAgICFkYXRhLnNwb2NzIHx8XG4gICAgICBkYXRhLnNwb2NzLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IHRvcFNpdGVzID0gWy4uLlRvcFNpdGVzLnJvd3NdO1xuICAgIGNvbnN0IHRvcFNpdGVTcG9jID0gdGhpcy5nZXRGaXJzdEF2YWlsYWJsZVNwb2ModG9wU2l0ZXMsIGRhdGEpO1xuXG4gICAgaWYgKCF0b3BTaXRlU3BvYykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGluayA9IHtcbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVUkw6IHRvcFNpdGVTcG9jLmltYWdlX3NyYyxcbiAgICAgIHR5cGU6IFwiU1BPQ1wiLFxuICAgICAgbGFiZWw6IHRvcFNpdGVTcG9jLnNwb25zb3IsXG4gICAgICB0aXRsZTogdG9wU2l0ZVNwb2Muc3BvbnNvcixcbiAgICAgIHVybDogdG9wU2l0ZVNwb2MudXJsLFxuICAgICAgZmxpZ2h0SWQ6IHRvcFNpdGVTcG9jLmZsaWdodF9pZCxcbiAgICAgIGlkOiB0b3BTaXRlU3BvYy5pZCxcbiAgICAgIGd1aWQ6IHRvcFNpdGVTcG9jLmlkLFxuICAgICAgc2hpbTogdG9wU2l0ZVNwb2Muc2hpbSxcbiAgICAgIC8vIEZvciBub3cgd2UgYXJlIGFzc3VtaW5nIHBvc2l0aW9uIGJhc2VkIG9uIGludGVuZGVkIHBvc2l0aW9uLlxuICAgICAgLy8gQWN0dWFsIHBvc2l0aW9uIGNhbiBzaGlmdCBiYXNlZCBvbiBvdGhlciBjb250ZW50LlxuICAgICAgLy8gV2UgYWxzbyBoYXJkIGNvZGUgbGVmdCBhbmQgcmlnaHQgdG8gYmUgMCBhbmQgNy5cbiAgICAgIC8vIFdlIHNlbmQgdGhlIGludGVuZGVkIHBvc3Rpb24gaW4gdGhlIHBpbmcuXG4gICAgICBwb3M6IHByb21vQWxpZ25tZW50ID09PSBcImxlZnRcIiA/IDAgOiA3LFxuICAgIH07XG5cbiAgICBjb25zdCBmaXJzdEF2YWlsYWJsZUluZGV4ID0gdGhpcy5nZXRGaXJzdEF2YWlsYWJsZUluZGV4KFxuICAgICAgdG9wU2l0ZXMsXG4gICAgICBwcm9tb0FsaWdubWVudFxuICAgICk7XG5cbiAgICBpZiAoZmlyc3RBdmFpbGFibGVJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRvcFNpdGVzLnB1c2gobGluayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vcm1hbCBpbnNlcnRpb24gd2lsbCBub3Qgd29yayBzaW5jZSBwaW5uZWQgdG9wc2l0ZXMgYXJlIGluIHRoZWlyIGNvcnJlY3QgaW5kZXggYWxyZWFkeVxuICAgICAgLy8gU2ltaWxhciBsb2dpYyBpcyBkb25lIHRvIGhhbmRsZSBkcmFnIGFuZCBkcm9wIHdpdGggcGlubmVkIHRvcHNpdGVzIGluIFRvcFNpdGUuanN4XG5cbiAgICAgIGxldCBzaGlmdGVkVG9wU2l0ZSA9IHRvcFNpdGVzW2ZpcnN0QXZhaWxhYmxlSW5kZXhdO1xuICAgICAgbGV0IGluZGV4ID0gZmlyc3RBdmFpbGFibGVJbmRleCArIDE7XG5cbiAgICAgIC8vIFNoaWZ0IHVucGlubmVkIHRvcHNpdGVzIHRvIHRoZSByaWdodCBieSBmaW5kaW5nIHRoZSBuZXh0IHVucGlubmVkIHRvcHNpdGUgdG8gcmVwbGFjZVxuICAgICAgd2hpbGUgKHNoaWZ0ZWRUb3BTaXRlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdG9wU2l0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdG9wU2l0ZXMucHVzaChzaGlmdGVkVG9wU2l0ZSk7XG4gICAgICAgICAgc2hpZnRlZFRvcFNpdGUgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHRvcFNpdGVzW2luZGV4XSAmJiB0b3BTaXRlc1tpbmRleF0uaXNQaW5uZWQpIHtcbiAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG5leHRUb3BTaXRlID0gdG9wU2l0ZXNbaW5kZXhdO1xuICAgICAgICAgIHRvcFNpdGVzW2luZGV4XSA9IHNoaWZ0ZWRUb3BTaXRlO1xuICAgICAgICAgIHNoaWZ0ZWRUb3BTaXRlID0gbmV4dFRvcFNpdGU7XG4gICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0b3BTaXRlc1tmaXJzdEF2YWlsYWJsZUluZGV4XSA9IGxpbms7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uVG9wU2l0ZXMsIHJvd3M6IHRvcFNpdGVzIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBoZWFkZXIgPSB7fSwgZGF0YSwgcHJvbW9BbGlnbm1lbnQsIFRvcFNpdGVzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgVG9wU2l0ZXNXaXRoU3BvYyA9XG4gICAgICBUb3BTaXRlcyAmJiBkYXRhICYmIHByb21vQWxpZ25tZW50XG4gICAgICAgID8gdGhpcy5pbnNlcnRTcG9jQ29udGVudChUb3BTaXRlcywgZGF0YSwgcHJvbW9BbGlnbm1lbnQpXG4gICAgICAgIDogbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGRzLXRvcC1zaXRlcyAke1RvcFNpdGVzV2l0aFNwb2MgPyBcInRvcC1zaXRlcy1zcG9jXCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIDxPbGRUb3BTaXRlc1xuICAgICAgICAgIGlzRml4ZWQ9e3RydWV9XG4gICAgICAgICAgdGl0bGU9e2hlYWRlci50aXRsZX1cbiAgICAgICAgICBUb3BTaXRlc1dpdGhTcG9jPXtUb3BTaXRlc1dpdGhTcG9jfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVG9wU2l0ZXMgPSBjb25uZWN0KHN0YXRlID0+ICh7IFRvcFNpdGVzOiBzdGF0ZS5Ub3BTaXRlcyB9KSkoXG4gIF9Ub3BTaXRlc1xuKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qIGdsb2JhbHMgQ29udGVudFNlYXJjaFVJQ29udHJvbGxlciAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IElTX05FV1RBQiB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBfU2VhcmNoIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25TZWFyY2hDbGljayA9IHRoaXMub25TZWFyY2hDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmQ2xpY2sgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZQYXN0ZSA9IHRoaXMub25TZWFyY2hIYW5kb2ZmUGFzdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoSGFuZG9mZkRyb3AgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZkRyb3AuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSW5wdXRNb3VudCA9IHRoaXMub25JbnB1dE1vdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudCA9IHRoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAvLyBBbHNvIHRyYWNrIHNlYXJjaCBldmVudHMgd2l0aCBvdXIgb3duIHRlbGVtZXRyeVxuICAgIGlmIChldmVudC5kZXRhaWwudHlwZSA9PT0gXCJTZWFyY2hcIikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJTRUFSQ0hcIiB9KSk7XG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hDbGljayhldmVudCkge1xuICAgIHdpbmRvdy5nQ29udGVudFNlYXJjaENvbnRyb2xsZXIuc2VhcmNoKGV2ZW50KTtcbiAgfVxuXG4gIGRvU2VhcmNoSGFuZG9mZih0ZXh0KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5IQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSLCBkYXRhOiB7IHRleHQgfSB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LkZBS0VfRk9DVVNfU0VBUkNIIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0VBUkNIX0hBTkRPRkZcIiB9KSk7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5ISURFX1NFQVJDSCB9KTtcbiAgICB9XG4gIH1cblxuICBvblNlYXJjaEhhbmRvZmZDbGljayhldmVudCkge1xuICAgIC8vIFdoZW4gc2VhcmNoIGhhbmQtb2ZmIGlzIGVuYWJsZWQsIHdlIHJlbmRlciBhIGJpZyBidXR0b24gdGhhdCBpcyBzdHlsZWQgdG9cbiAgICAvLyBsb29rIGxpa2UgYSBzZWFyY2ggdGV4dGJveC4gSWYgdGhlIGJ1dHRvbiBpcyBjbGlja2VkLCB3ZSBzdHlsZVxuICAgIC8vIHRoZSBidXR0b24gYXMgaWYgaXQgd2FzIGEgZm9jdXNlZCBzZWFyY2ggYm94IGFuZCBzaG93IGEgZmFrZSBjdXJzb3IgYnV0XG4gICAgLy8gcmVhbGx5IGZvY3VzIHRoZSBhd2Vzb21lYmFyIHdpdGhvdXQgdGhlIGZvY3VzIHN0eWxlcyAoXCJoaWRkZW4gZm9jdXNcIikuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZigpO1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmUGFzdGUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuZG9TZWFyY2hIYW5kb2ZmKGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikpO1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmRHJvcChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IHRleHQgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHRcIik7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRoaXMuZG9TZWFyY2hIYW5kb2ZmKHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRlbGV0ZSB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyO1xuICB9XG5cbiAgb25JbnB1dE1vdW50KGlucHV0KSB7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICAvLyBUaGUgXCJoZWFsdGhSZXBvcnRLZXlcIiBhbmQgbmVlZHMgdG8gYmUgXCJuZXd0YWJcIiBvciBcImFib3V0aG9tZVwiIHNvIHRoYXRcbiAgICAgIC8vIEJyb3dzZXJVc2FnZVRlbGVtZXRyeS5qc20ga25vd3MgdG8gaGFuZGxlIGV2ZW50cyB3aXRoIHRoaXMgbmFtZSwgYW5kXG4gICAgICAvLyBjYW4gYWRkIHRoZSBhcHByb3ByaWF0ZSB0ZWxlbWV0cnkgcHJvYmVzIGZvciBzZWFyY2guIFdpdGhvdXQgdGhlIGNvcnJlY3RcbiAgICAgIC8vIG5hbWUsIGNlcnRhaW4gdGVzdHMgbGlrZSBicm93c2VyX1VzYWdlVGVsZW1ldHJ5X2NvbnRlbnQuanMgd2lsbCBmYWlsXG4gICAgICAvLyAoU2VlIGdpdGh1YiB0aWNrZXQgIzIzNDggZm9yIG1vcmUgZGV0YWlscylcbiAgICAgIGNvbnN0IGhlYWx0aFJlcG9ydEtleSA9IElTX05FV1RBQiA/IFwibmV3dGFiXCIgOiBcImFib3V0aG9tZVwiO1xuXG4gICAgICAvLyBUaGUgXCJzZWFyY2hTb3VyY2VcIiBuZWVkcyB0byBiZSBcIm5ld3RhYlwiIG9yIFwiaG9tZXBhZ2VcIiBhbmQgaXMgc2VudCB3aXRoXG4gICAgICAvLyB0aGUgc2VhcmNoIGRhdGEgYW5kIGFjdHMgYXMgY29udGV4dCBmb3IgdGhlIHNlYXJjaCByZXF1ZXN0IChTZWVcbiAgICAgIC8vIG5zSVNlYXJjaEVuZ2luZS5nZXRTdWJtaXNzaW9uKS4gSXQgaXMgbmVjZXNzYXJ5IHNvIHRoYXQgc2VhcmNoIGVuZ2luZVxuICAgICAgLy8gcGx1Z2lucyBjYW4gY29ycmVjdGx5IGF0cmlidXRlIHJlZmVycmFscy4gKFNlZSBnaXRodWIgdGlja2V0ICMzMzIxIGZvclxuICAgICAgLy8gbW9yZSBkZXRhaWxzKVxuICAgICAgY29uc3Qgc2VhcmNoU291cmNlID0gSVNfTkVXVEFCID8gXCJuZXd0YWJcIiA6IFwiaG9tZXBhZ2VcIjtcblxuICAgICAgLy8gZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyIG5lZWRzIHRvIGV4aXN0IGFzIGEgZ2xvYmFsIHNvIHRoYXQgdGVzdHMgZm9yXG4gICAgICAvLyB0aGUgZXhpc3RpbmcgYWJvdXQ6aG9tZSBjYW4gZmluZCBpdDsgYW5kIHNvIGl0IGFsbG93cyB0aGVzZSB0ZXN0cyB0byBwYXNzLlxuICAgICAgLy8gSW4gdGhlIGZ1dHVyZSwgd2hlbiBhY3Rpdml0eSBzdHJlYW0gaXMgZGVmYXVsdCBhYm91dDpob21lLCB0aGlzIGNhbiBiZSByZW5hbWVkXG4gICAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyID0gbmV3IENvbnRlbnRTZWFyY2hVSUNvbnRyb2xsZXIoXG4gICAgICAgIGlucHV0LFxuICAgICAgICBpbnB1dC5wYXJlbnROb2RlLFxuICAgICAgICBoZWFsdGhSZXBvcnRLZXksXG4gICAgICAgIHNlYXJjaFNvdXJjZVxuICAgICAgKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJDb250ZW50U2VhcmNoQ2xpZW50XCIsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyID0gbnVsbDtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJDb250ZW50U2VhcmNoQ2xpZW50XCIsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VhcmNoSGFuZG9mZkJ1dHRvbk1vdW50KGJ1dHRvbikge1xuICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBmb3IgdXNlIGR1cmluZyBcInBhc3RlXCIgZXZlbnQgaGFuZGxpbmcuXG4gICAgdGhpcy5fc2VhcmNoSGFuZG9mZkJ1dHRvbiA9IGJ1dHRvbjtcbiAgfVxuXG4gIC8qXG4gICAqIERvIG5vdCBjaGFuZ2UgdGhlIElEIG9uIHRoZSBpbnB1dCBmaWVsZCwgYXMgbGVnYWN5IG5ld3RhYiBjb2RlXG4gICAqIHNwZWNpZmljYWxseSBsb29rcyBmb3IgdGhlIGlkICduZXd0YWItc2VhcmNoLXRleHQnIG9uIGlucHV0IGZpZWxkc1xuICAgKiBpbiBvcmRlciB0byBleGVjdXRlIHNlYXJjaGVzIGluIHZhcmlvdXMgdGVzdHNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB3cmFwcGVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJzZWFyY2gtd3JhcHBlclwiLFxuICAgICAgdGhpcy5wcm9wcy5oaWRlICYmIFwic2VhcmNoLWhpZGRlblwiLFxuICAgICAgdGhpcy5wcm9wcy5mYWtlRm9jdXMgJiYgXCJmYWtlLWZvY3VzXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3dyYXBwZXJDbGFzc05hbWV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5zaG93TG9nbyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvLWFuZC13b3JkbWFya1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvXCIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid29yZG1hcmtcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7IXRoaXMucHJvcHMuaGFuZG9mZkVuYWJsZWQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cIm5ld3RhYi1zZWFyY2gtdGV4dFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWFyY2gtYm94LXNlYXJjaC10aGUtd2ViLWlucHV0XCJcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiMjU2XCJcbiAgICAgICAgICAgICAgcmVmPXt0aGlzLm9uSW5wdXRNb3VudH1cbiAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBpZD1cInNlYXJjaFN1Ym1pdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaC1idXR0b25cIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VhcmNoLWJveC1zZWFyY2gtYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNlYXJjaENsaWNrfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge3RoaXMucHJvcHMuaGFuZG9mZkVuYWJsZWQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoLWhhbmRvZmYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlYXJjaC1ib3gtc2VhcmNoLXRoZS13ZWItaW5wdXRcIlxuICAgICAgICAgICAgICByZWY9e3RoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25TZWFyY2hIYW5kb2ZmQ2xpY2t9XG4gICAgICAgICAgICAgIHRhYkluZGV4PVwiLTFcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFrZS10ZXh0Ym94XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VhcmNoLWJveC1zZWFyY2gtdGhlLXdlYi10ZXh0XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFrZS1lZGl0YWJsZVwiXG4gICAgICAgICAgICAgICAgdGFiSW5kZXg9XCItMVwiXG4gICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBvbkRyb3A9e3RoaXMub25TZWFyY2hIYW5kb2ZmRHJvcH1cbiAgICAgICAgICAgICAgICBvblBhc3RlPXt0aGlzLm9uU2VhcmNoSGFuZG9mZlBhc3RlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZha2UtY2FyZXRcIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7LypcbiAgICAgICAgICAgIFRoaXMgZHVtbXkgYW5kIGhpZGRlbiBpbnB1dCBiZWxvdyBpcyBzbyB3ZSBjYW4gbG9hZCBDb250ZW50U2VhcmNoVUlDb250cm9sbGVyLlxuICAgICAgICAgICAgV2h5PyBJdCBzZXRzIC0tbmV3dGFiLXNlYXJjaC1pY29uIGZvciB1cyBhbmQgaXQgaXNuJ3QgdHJpdmlhbCB0byBwb3J0IG92ZXIuXG4gICAgICAgICAgKi99XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19XG4gICAgICAgICAgICAgIHJlZj17dGhpcy5vbklucHV0TW91bnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgU2VhcmNoID0gY29ubmVjdCgpKF9TZWFyY2gpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgcGVyZlNlcnZpY2UgYXMgcGVyZlN2YyB9IGZyb20gXCJjb21tb24vUGVyZlNlcnZpY2UuanNtXCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5cbmV4cG9ydCBjbGFzcyBEZXRlY3RVc2VyU2Vzc2lvblN0YXJ0IHtcbiAgY29uc3RydWN0b3Ioc3RvcmUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmU7XG4gICAgLy8gT3ZlcnJpZGVzIGZvciB0ZXN0aW5nXG4gICAgdGhpcy5kb2N1bWVudCA9IG9wdGlvbnMuZG9jdW1lbnQgfHwgZ2xvYmFsLmRvY3VtZW50O1xuICAgIHRoaXMuX3BlcmZTZXJ2aWNlID0gb3B0aW9ucy5wZXJmU2VydmljZSB8fCBwZXJmU3ZjO1xuICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9IHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIHNlbmRFdmVudE9yQWRkTGlzdGVuZXIgLSBOb3RpZnkgaW1tZWRpYXRlbHkgaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSB2aXNpYmxlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgb3IgZWxzZSBzZXQgdXAgYSBsaXN0ZW5lciBmb3Igd2hlbiB2aXNpYmlsaXR5IGNoYW5nZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIG5lZWRlZCBmb3IgYWNjdXJhdGUgc2Vzc2lvbiB0cmFja2luZyBmb3IgdGVsZW1ldHJ5LFxuICAgKiAgICAgICAgICAgICAgICAgICAgYmVjYXVzZSB0YWJzIGFyZSBwcmUtbG9hZGVkLlxuICAgKi9cbiAgc2VuZEV2ZW50T3JBZGRMaXN0ZW5lcigpIHtcbiAgICBpZiAodGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIC8vIElmIHRoZSBkb2N1bWVudCBpcyBhbHJlYWR5IHZpc2libGUsIHRvIHRoZSB1c2VyLCBzZW5kIGEgbm90aWZpY2F0aW9uXG4gICAgICAvLyBpbW1lZGlhdGVseSB0aGF0IGEgc2Vzc2lvbiBoYXMgc3RhcnRlZC5cbiAgICAgIHRoaXMuX3NlbmRFdmVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgbm90IHZpc2libGUsIGxpc3RlbiBmb3Igd2hlbiBpdCBkb2VzIGJlY29tZSB2aXNpYmxlLlxuICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfc2VuZEV2ZW50IC0gU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBtYWluIHByb2Nlc3MgdG8gaW5kaWNhdGUgdGhlIGN1cnJlbnRcbiAgICogICAgICAgICAgICAgIHRhYiBpcyBub3cgdmlzaWJsZSB0byB0aGUgdXNlciwgaW5jbHVkZXMgdGhlXG4gICAqICAgICAgICAgICAgICB2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHMgdGltZSBpbiBtcyBmcm9tIHRoZSBVTklYIGVwb2NoLlxuICAgKi9cbiAgX3NlbmRFdmVudCgpIHtcbiAgICB0aGlzLl9wZXJmU2VydmljZS5tYXJrKFwidmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCB2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHMgPSB0aGlzLl9wZXJmU2VydmljZS5nZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKFxuICAgICAgICBcInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90c1wiXG4gICAgICApO1xuXG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICBkYXRhOiB7IHZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIGl0J3MgbGlrZWx5IGJlY2F1c2UgdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYFxuICAgICAgLy8gcHJlZiBpcyB0cnVlLiAgV2Ugc2hvdWxkIGF0IGxlYXN0IG5vdCBibG93IHVwLlxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfb25WaXNpYmlsaXR5Q2hhbmdlIC0gSWYgdGhlIHZpc2liaWxpdHkgaGFzIGNoYW5nZWQgdG8gdmlzaWJsZSwgc2VuZHMgYSBub3RpZmljYXRpb25cbiAgICogICAgICAgICAgICAgICAgICAgICAgYW5kIHJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVyLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciB0YWIuXG4gICAqL1xuICBfb25WaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgdGhpcy5fc2VuZEV2ZW50KCk7XG4gICAgICB0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCIvKlxuICogU3luY2hyb25vdXNseSBtYXAgYW4gaWRlbnRpZmllciBvciBhbiBhcnJheSBvZiBpZGVudGlmaWVycyB0byB0aGUgYmVzdFxuICogYEZsdWVudEJ1bmRsZWAgaW5zdGFuY2UocykuXG4gKlxuICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IGlkc1xuICogQHJldHVybnMge0ZsdWVudEJ1bmRsZXxBcnJheTxGbHVlbnRCdW5kbGU+fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBCdW5kbGVTeW5jKGl0ZXJhYmxlLCBpZHMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlkcykpIHtcbiAgICByZXR1cm4gZ2V0QnVuZGxlRm9ySWQoaXRlcmFibGUsIGlkcyk7XG4gIH1cblxuICByZXR1cm4gaWRzLm1hcChcbiAgICBpZCA9PiBnZXRCdW5kbGVGb3JJZChpdGVyYWJsZSwgaWQpXG4gICk7XG59XG5cbi8qXG4gKiBGaW5kIHRoZSBiZXN0IGBGbHVlbnRCdW5kbGVgIHdpdGggdGhlIHRyYW5zbGF0aW9uIGZvciBgaWRgLlxuICovXG5mdW5jdGlvbiBnZXRCdW5kbGVGb3JJZChpdGVyYWJsZSwgaWQpIHtcbiAgZm9yIChjb25zdCBidW5kbGUgb2YgaXRlcmFibGUpIHtcbiAgICBpZiAoYnVuZGxlLmhhc01lc3NhZ2UoaWQpKSB7XG4gICAgICByZXR1cm4gYnVuZGxlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiLypcbiAqIEFzeW5jaHJvbm91c2x5IG1hcCBhbiBpZGVudGlmaWVyIG9yIGFuIGFycmF5IG9mIGlkZW50aWZpZXJzIHRvIHRoZSBiZXN0XG4gKiBgRmx1ZW50QnVuZGxlYCBpbnN0YW5jZShzKS5cbiAqXG4gKiBAcGFyYW0ge0FzeW5jSXRlcmFibGV9IGl0ZXJhYmxlXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBpZHNcbiAqIEByZXR1cm5zIHtQcm9taXNlPEZsdWVudEJ1bmRsZXxBcnJheTxGbHVlbnRCdW5kbGU+Pn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbWFwQnVuZGxlQXN5bmMoaXRlcmFibGUsIGlkcykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaWRzKSkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgYnVuZGxlIG9mIGl0ZXJhYmxlKSB7XG4gICAgICBpZiAoYnVuZGxlLmhhc01lc3NhZ2UoaWRzKSkge1xuICAgICAgICByZXR1cm4gYnVuZGxlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCByZW1haW5pbmdDb3VudCA9IGlkcy5sZW5ndGg7XG4gIGNvbnN0IGZvdW5kQnVuZGxlcyA9IG5ldyBBcnJheShyZW1haW5pbmdDb3VudCkuZmlsbChudWxsKTtcblxuICBmb3IgYXdhaXQgKGNvbnN0IGJ1bmRsZSBvZiBpdGVyYWJsZSkge1xuICAgIGZvciAoY29uc3QgW2luZGV4LCBpZF0gb2YgaWRzLmVudHJpZXMoKSkge1xuICAgICAgaWYgKCFmb3VuZEJ1bmRsZXNbaW5kZXhdICYmIGJ1bmRsZS5oYXNNZXNzYWdlKGlkKSkge1xuICAgICAgICBmb3VuZEJ1bmRsZXNbaW5kZXhdID0gYnVuZGxlO1xuICAgICAgICByZW1haW5pbmdDb3VudC0tO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gZWFybHkgd2hlbiBhbGwgaWRzIGhhdmUgYmVlbiBtYXBwZWQgdG8gY29udGV4dHMuXG4gICAgICBpZiAocmVtYWluaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZvdW5kQnVuZGxlcztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm91bmRCdW5kbGVzO1xufVxuIiwiLypcbiAqIEBtb2R1bGUgZmx1ZW50LXNlcXVlbmNlXG4gKiBAb3ZlcnZpZXcgTWFuYWdlIG9yZGVyZWQgc2VxdWVuY2VzIG9mIEZsdWVudEJ1bmRsZXMuXG4gKi9cblxuZXhwb3J0IHtkZWZhdWx0IGFzIG1hcEJ1bmRsZVN5bmN9IGZyb20gXCIuL21hcF9zeW5jXCI7XG5leHBvcnQge2RlZmF1bHQgYXMgbWFwQnVuZGxlQXN5bmN9IGZyb20gXCIuL21hcF9hc3luY1wiO1xuIiwiLypcbiAqIEJhc2UgQ2FjaGVkSXRlcmFibGUgY2xhc3MuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhY2hlZEl0ZXJhYmxlIGV4dGVuZHMgQXJyYXkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBDYWNoZWRJdGVyYWJsZWAgaW5zdGFuY2UgZnJvbSBhbiBpdGVyYWJsZSBvciwgaWYgYW5vdGhlclxuICAgICAqIGluc3RhbmNlIG9mIGBDYWNoZWRJdGVyYWJsZWAgaXMgcGFzc2VkLCByZXR1cm4gaXQgd2l0aG91dCBhbnlcbiAgICAgKiBtb2RpZmljYXRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAgICAgKiBAcmV0dXJucyB7Q2FjaGVkSXRlcmFibGV9XG4gICAgICovXG4gICAgc3RhdGljIGZyb20oaXRlcmFibGUpIHtcbiAgICAgICAgaWYgKGl0ZXJhYmxlIGluc3RhbmNlb2YgdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKGl0ZXJhYmxlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FjaGVkSXRlcmFibGUgZnJvbSBcIi4vY2FjaGVkX2l0ZXJhYmxlLm1qc1wiO1xuXG4vKlxuICogQ2FjaGVkU3luY0l0ZXJhYmxlIGNhY2hlcyB0aGUgZWxlbWVudHMgeWllbGRlZCBieSBhbiBpdGVyYWJsZS5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCB0byBpdGVyYXRlIG92ZXIgYW4gaXRlcmFibGUgbWFueSB0aW1lcyB3aXRob3V0IGRlcGxldGluZyB0aGVcbiAqIGl0ZXJhYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWNoZWRTeW5jSXRlcmFibGUgZXh0ZW5kcyBDYWNoZWRJdGVyYWJsZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGBDYWNoZWRTeW5jSXRlcmFibGVgIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAgICAgKiBAcmV0dXJucyB7Q2FjaGVkU3luY0l0ZXJhYmxlfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhYmxlKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgaW1wbGVtZW50IHRoZSBpdGVyYXRpb24gcHJvdG9jb2wuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXM7XG4gICAgICAgIGxldCBjdXIgPSAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQubGVuZ3RoIDw9IGN1cikge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZWQucHVzaChjYWNoZWQuaXRlcmF0b3IubmV4dCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFtjdXIrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgYWxsb3dzIHVzZXIgdG8gY29uc3VtZSB0aGUgbmV4dCBlbGVtZW50IGZyb20gdGhlIGl0ZXJhdG9yXG4gICAgICogaW50byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnQgLSBudW1iZXIgb2YgZWxlbWVudHMgdG8gY29uc3VtZVxuICAgICAqL1xuICAgIHRvdWNoTmV4dChjb3VudCA9IDEpIHtcbiAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHgrKyA8IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2godGhpcy5pdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgbGFzdCBjYWNoZWQge3ZhbHVlLCBkb25lfSBvYmplY3QgdG8gYWxsb3cgdGhlIGNhbGxpbmdcbiAgICAgICAgLy8gY29kZSB0byBkZWNpZGUgaWYgaXQgbmVlZHMgdG8gY2FsbCB0b3VjaE5leHQgYWdhaW4uXG4gICAgICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgfVxufVxuIiwiaW1wb3J0IENhY2hlZEl0ZXJhYmxlIGZyb20gXCIuL2NhY2hlZF9pdGVyYWJsZS5tanNcIjtcblxuLypcbiAqIENhY2hlZEFzeW5jSXRlcmFibGUgY2FjaGVzIHRoZSBlbGVtZW50cyB5aWVsZGVkIGJ5IGFuIGFzeW5jIGl0ZXJhYmxlLlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIHRvIGl0ZXJhdGUgb3ZlciBhbiBpdGVyYWJsZSBtYW55IHRpbWVzIHdpdGhvdXQgZGVwbGV0aW5nIHRoZVxuICogaXRlcmFibGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhY2hlZEFzeW5jSXRlcmFibGUgZXh0ZW5kcyBDYWNoZWRJdGVyYWJsZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGBDYWNoZWRBc3luY0l0ZXJhYmxlYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SXRlcmFibGV9IGl0ZXJhYmxlXG4gICAgICogQHJldHVybnMge0NhY2hlZEFzeW5jSXRlcmFibGV9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaXRlcmFibGUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXJhYmxlKSkge1xuICAgICAgICAgICAgdGhpcy5pdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgaW1wbGVtZW50IHRoZSBpdGVyYXRpb24gcHJvdG9jb2wuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3luY2hyb25vdXMgaXRlcmF0b3Igb3ZlciB0aGUgY2FjaGVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9iamVjdCBpbXBsZW1lbnRpbmcgdGhlIGl0ZXJhdG9yIHByb3RvY29sIG92ZXIgdGhlXG4gICAgICogY2FjaGVkIGVsZW1lbnRzIG9mIHRoZSBvcmlnaW5hbCAoYXN5bmMgb3Igc3luYykgaXRlcmFibGUuXG4gICAgICovXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXM7XG4gICAgICAgIGxldCBjdXIgPSAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQubGVuZ3RoID09PSBjdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFtjdXIrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzIGl0ZXJhdG9yIGNhY2hpbmcgdGhlIHlpZWxkZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBFbGVtZW50cyB5aWVsZGVkIGJ5IHRoZSBvcmlnaW5hbCBpdGVyYWJsZSB3aWxsIGJlIGNhY2hlZCBhbmQgYXZhaWxhYmxlXG4gICAgICogc3luY2hyb25vdXNseS4gUmV0dXJucyBhbiBhc3luYyBnZW5lcmF0b3Igb2JqZWN0IGltcGxlbWVudGluZyB0aGVcbiAgICAgKiBpdGVyYXRvciBwcm90b2NvbCBvdmVyIHRoZSBlbGVtZW50cyBvZiB0aGUgb3JpZ2luYWwgKGFzeW5jIG9yIHN5bmMpXG4gICAgICogaXRlcmFibGUuXG4gICAgICovXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcztcbiAgICAgICAgbGV0IGN1ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC5sZW5ndGggPD0gY3VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZC5wdXNoKGF3YWl0IGNhY2hlZC5pdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkW2N1cisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdXNlciB0byBjb25zdW1lIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgaXRlcmF0b3JcbiAgICAgKiBpbnRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAtIG51bWJlciBvZiBlbGVtZW50cyB0byBjb25zdW1lXG4gICAgICovXG4gICAgYXN5bmMgdG91Y2hOZXh0KGNvdW50ID0gMSkge1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCsrIDwgY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaChhd2FpdCB0aGlzLml0ZXJhdG9yLm5leHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBsYXN0IGNhY2hlZCB7dmFsdWUsIGRvbmV9IG9iamVjdCB0byBhbGxvdyB0aGUgY2FsbGluZ1xuICAgICAgICAvLyBjb2RlIHRvIGRlY2lkZSBpZiBpdCBuZWVkcyB0byBjYWxsIHRvdWNoTmV4dCBhZ2Fpbi5cbiAgICAgICAgcmV0dXJuIHRoaXNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICB9XG59XG4iLCJleHBvcnQge2RlZmF1bHQgYXMgQ2FjaGVkU3luY0l0ZXJhYmxlfSBmcm9tIFwiLi9jYWNoZWRfc3luY19pdGVyYWJsZS5tanNcIjtcbmV4cG9ydCB7ZGVmYXVsdCBhcyBDYWNoZWRBc3luY0l0ZXJhYmxlfSBmcm9tIFwiLi9jYWNoZWRfYXN5bmNfaXRlcmFibGUubWpzXCI7XG4iLCJpbXBvcnQgeyBtYXBCdW5kbGVTeW5jIH0gZnJvbSBcImZsdWVudC1zZXF1ZW5jZVwiO1xuaW1wb3J0IHsgQ2FjaGVkU3luY0l0ZXJhYmxlIH0gZnJvbSBcImNhY2hlZC1pdGVyYWJsZVwiO1xuXG4vKlxuICogYFJlYWN0TG9jYWxpemF0aW9uYCBoYW5kbGVzIHRyYW5zbGF0aW9uIGZvcm1hdHRpbmcgYW5kIGZhbGxiYWNrLlxuICpcbiAqIFRoZSBjdXJyZW50IG5lZ290aWF0ZWQgZmFsbGJhY2sgY2hhaW4gb2YgbGFuZ3VhZ2VzIGlzIHN0b3JlZCBpbiB0aGVcbiAqIGBSZWFjdExvY2FsaXphdGlvbmAgaW5zdGFuY2UgaW4gZm9ybSBvZiBhbiBpdGVyYWJsZSBvZiBgRmx1ZW50QnVuZGxlYFxuICogaW5zdGFuY2VzLiAgVGhpcyBpdGVyYWJsZSBpcyB1c2VkIHRvIGZpbmQgdGhlIGJlc3QgZXhpc3RpbmcgdHJhbnNsYXRpb24gZm9yXG4gKiBhIGdpdmVuIGlkZW50aWZpZXIuXG4gKlxuICogYExvY2FsaXplZGAgY29tcG9uZW50cyBtdXN0IHN1YnNjcmliZSB0byB0aGUgY2hhbmdlcyBvZiB0aGVcbiAqIGBSZWFjdExvY2FsaXphdGlvbmAncyBmYWxsYmFjayBjaGFpbi4gIFdoZW4gdGhlIGZhbGxiYWNrIGNoYWluIGNoYW5nZXMgKHRoZVxuICogYGJ1bmRsZXNgIGl0ZXJhYmxlIGlzIHNldCBhbmV3KSwgYWxsIHN1YnNjcmliZWQgY29tcG9udGVudCBtdXN0IHJlbG9jYWxpemUuXG4gKlxuICogVGhlIGBSZWFjdExvY2FsaXphdGlvbmAgY2xhc3MgaW5zdGFuY2VzIGFyZSBleHBvc2VkIHRvIGBMb2NhbGl6ZWRgIGVsZW1lbnRzXG4gKiB2aWEgdGhlIGBMb2NhbGl6YXRpb25Qcm92aWRlcmAgY29tcG9uZW50LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFjdExvY2FsaXphdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGJ1bmRsZXMpIHtcbiAgICB0aGlzLmJ1bmRsZXMgPSBDYWNoZWRTeW5jSXRlcmFibGUuZnJvbShidW5kbGVzKTtcbiAgICB0aGlzLnN1YnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICAvKlxuICAgKiBTdWJzY3JpYmUgYSBgTG9jYWxpemVkYCBjb21wb25lbnQgdG8gY2hhbmdlcyBvZiBgYnVuZGxlc2AuXG4gICAqL1xuICBzdWJzY3JpYmUoY29tcCkge1xuICAgIHRoaXMuc3Vicy5hZGQoY29tcCk7XG4gIH1cblxuICAvKlxuICAgKiBVbnN1YnNjcmliZSBhIGBMb2NhbGl6ZWRgIGNvbXBvbmVudCBmcm9tIGBidW5kbGVzYCBjaGFuZ2VzLlxuICAgKi9cbiAgdW5zdWJzY3JpYmUoY29tcCkge1xuICAgIHRoaXMuc3Vicy5kZWxldGUoY29tcCk7XG4gIH1cblxuICAvKlxuICAgKiBTZXQgYSBuZXcgYGJ1bmRsZXNgIGl0ZXJhYmxlIGFuZCB0cmlnZ2VyIHRoZSByZXRyYW5zbGF0aW9uLlxuICAgKi9cbiAgc2V0QnVuZGxlcyhidW5kbGVzKSB7XG4gICAgdGhpcy5idW5kbGVzID0gQ2FjaGVkU3luY0l0ZXJhYmxlLmZyb20oYnVuZGxlcyk7XG5cbiAgICAvLyBVcGRhdGUgYWxsIHN1YnNjcmliZWQgTG9jYWxpemVkIGNvbXBvbmVudHMuXG4gICAgdGhpcy5zdWJzLmZvckVhY2goY29tcCA9PiBjb21wLnJlbG9jYWxpemUoKSk7XG4gIH1cblxuICBnZXRCdW5kbGUoaWQpIHtcbiAgICByZXR1cm4gbWFwQnVuZGxlU3luYyh0aGlzLmJ1bmRsZXMsIGlkKTtcbiAgfVxuXG4gIC8qXG4gICAqIEZpbmQgYSB0cmFuc2xhdGlvbiBieSBgaWRgIGFuZCBmb3JtYXQgaXQgdG8gYSBzdHJpbmcgdXNpbmcgYGFyZ3NgLlxuICAgKi9cbiAgZ2V0U3RyaW5nKGlkLCBhcmdzLCBmYWxsYmFjaykge1xuICAgIGNvbnN0IGJ1bmRsZSA9IHRoaXMuZ2V0QnVuZGxlKGlkKTtcblxuICAgIGlmIChidW5kbGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxsYmFjayB8fCBpZDtcbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBidW5kbGUuZ2V0TWVzc2FnZShpZCk7XG4gICAgcmV0dXJuIGJ1bmRsZS5mb3JtYXQobXNnLCBhcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFjdExvY2FsaXphdGlvbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgY29uc3QgcHJvcCA9IHByb3BzW3Byb3BOYW1lXTtcblxuICBpZiAocHJvcCBpbnN0YW5jZW9mIFJlYWN0TG9jYWxpemF0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGBUaGUgJHtwcm9wTmFtZX0gY29udGV4dCBmaWVsZCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlYWN0TG9jYWxpemF0aW9uLmBcbiAgKTtcbn1cbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5sZXQgY2FjaGVkUGFyc2VNYXJrdXA7XG5cbi8vIFdlIHVzZSBhIGZ1bmN0aW9uIGNyZWF0b3IgdG8gbWFrZSB0aGUgcmVmZXJlbmNlIHRvIGBkb2N1bWVudGAgbGF6eS4gQXQgdGhlXG4vLyBzYW1lIHRpbWUsIGl0J3MgZWFnZXIgZW5vdWdoIHRvIHRocm93IGluIDxMb2NhbGl6YXRpb25Qcm92aWRlcj4gYXMgc29vbiBhc1xuLy8gaXQncyBmaXJzdCBtb3VudGVkIHdoaWNoIHJlZHVjZXMgdGhlIHJpc2sgb2YgdGhpcyBlcnJvciBtYWtpbmcgaXQgdG8gdGhlXG4vLyBydW50aW1lIHdpdGhvdXQgZGV2ZWxvcGVycyBub3RpY2luZyBpdCBpbiBkZXZlbG9wbWVudC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVBhcnNlTWFya3VwKCkge1xuICBpZiAodHlwZW9mKGRvY3VtZW50KSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIFdlIGNhbid0IHVzZSA8dGVtcGxhdGU+IHRvIHNhbml0aXplIHRyYW5zbGF0aW9ucy5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcImBkb2N1bWVudGAgaXMgdW5kZWZpbmVkLiBXaXRob3V0IGl0LCB0cmFuc2xhdGlvbnMgY2Fubm90IFwiICtcbiAgICAgIFwiYmUgc2FmZWx5IHNhbml0aXplZC4gQ29uc3VsdCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBcIiArXG4gICAgICBcImh0dHBzOi8vZ2l0aHViLmNvbS9wcm9qZWN0Zmx1ZW50L2ZsdWVudC5qcy93aWtpL1JlYWN0LU92ZXJsYXlzLlwiXG4gICAgKTtcbiAgfVxuXG4gIGlmICghY2FjaGVkUGFyc2VNYXJrdXApIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICBjYWNoZWRQYXJzZU1hcmt1cCA9IGZ1bmN0aW9uIHBhcnNlTWFya3VwKHN0cikge1xuICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gc3RyO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20odGVtcGxhdGUuY29udGVudC5jaGlsZE5vZGVzKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlZFBhcnNlTWFya3VwO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IFJlYWN0TG9jYWxpemF0aW9uLCB7IGlzUmVhY3RMb2NhbGl6YXRpb259IGZyb20gXCIuL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IGNyZWF0ZVBhcnNlTWFya3VwIGZyb20gXCIuL21hcmt1cFwiO1xuXG4vKlxuICogVGhlIFByb3ZpZGVyIGNvbXBvbmVudCBmb3IgdGhlIGBSZWFjdExvY2FsaXphdGlvbmAgY2xhc3MuXG4gKlxuICogRXhwb3NlcyBhIGBSZWFjdExvY2FsaXphdGlvbmAgaW5zdGFuY2UgdG8gYWxsIGRlc2NlbmRhbnRzIHZpYSBSZWFjdCdzXG4gKiBjb250ZXh0IGZlYXR1cmUuICBJdCBtYWtlcyB0cmFuc2xhdGlvbnMgYXZhaWxhYmxlIHRvIGFsbCBsb2NhbGl6YWJsZVxuICogZWxlbWVudHMgaW4gdGhlIGRlc2NlbmRhbnQncyByZW5kZXIgdHJlZSB3aXRob3V0IHRoZSBuZWVkIHRvIHBhc3MgdGhlbVxuICogZXhwbGljaXRseS5cbiAqXG4gKiAgICAgPExvY2FsaXphdGlvblByb3ZpZGVyIGJ1bmRsZXM9e+KApn0+XG4gKiAgICAgICAgIOKAplxuICogICAgIDwvTG9jYWxpemF0aW9uUHJvdmlkZXI+XG4gKlxuICogVGhlIGBMb2NhbGl6YXRpb25Qcm92aWRlcmAgY29tcG9uZW50IHRha2VzIG9uZSBwcm9wOiBgYnVuZGxlc2AuICBJdCBzaG91bGRcbiAqIGJlIGFuIGl0ZXJhYmxlIG9mIGBGbHVlbnRCdW5kbGVgIGluc3RhbmNlcyBpbiBvcmRlciBvZiB0aGUgdXNlcidzXG4gKiBwcmVmZXJyZWQgbGFuZ3VhZ2VzLiAgVGhlIGBGbHVlbnRCdW5kbGVgIGluc3RhbmNlcyB3aWxsIGJlIHVzZWQgYnlcbiAqIGBSZWFjdExvY2FsaXphdGlvbmAgdG8gZm9ybWF0IHRyYW5zbGF0aW9ucy4gIElmIGEgdHJhbnNsYXRpb24gaXMgbWlzc2luZyBpblxuICogb25lIGluc3RhbmNlLCBgUmVhY3RMb2NhbGl6YXRpb25gIHdpbGwgZmFsbCBiYWNrIHRvIHRoZSBuZXh0IG9uZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYWxpemF0aW9uUHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBjb25zdCB7YnVuZGxlcywgcGFyc2VNYXJrdXB9ID0gcHJvcHM7XG5cbiAgICBpZiAoYnVuZGxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2NhbGl6YXRpb25Qcm92aWRlciBtdXN0IHJlY2VpdmUgdGhlIGJ1bmRsZXMgcHJvcC5cIik7XG4gICAgfVxuXG4gICAgaWYgKCFidW5kbGVzW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBidW5kbGVzIHByb3AgbXVzdCBiZSBhbiBpdGVyYWJsZS5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5sMTBuID0gbmV3IFJlYWN0TG9jYWxpemF0aW9uKGJ1bmRsZXMpO1xuICAgIHRoaXMucGFyc2VNYXJrdXAgPSBwYXJzZU1hcmt1cCB8fCBjcmVhdGVQYXJzZU1hcmt1cCgpO1xuICB9XG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBsMTBuOiB0aGlzLmwxMG4sXG4gICAgICBwYXJzZU1hcmt1cDogdGhpcy5wYXJzZU1hcmt1cCxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0KSB7XG4gICAgY29uc3QgeyBidW5kbGVzIH0gPSBuZXh0O1xuXG4gICAgaWYgKGJ1bmRsZXMgIT09IHRoaXMucHJvcHMuYnVuZGxlcykge1xuICAgICAgdGhpcy5sMTBuLnNldEJ1bmRsZXMoYnVuZGxlcyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICB9XG59XG5cbkxvY2FsaXphdGlvblByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICBsMTBuOiBpc1JlYWN0TG9jYWxpemF0aW9uLFxuICBwYXJzZU1hcmt1cDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5Mb2NhbGl6YXRpb25Qcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkLFxuICBidW5kbGVzOiBpc0l0ZXJhYmxlLFxuICBwYXJzZU1hcmt1cDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5mdW5jdGlvbiBpc0l0ZXJhYmxlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICBjb25zdCBwcm9wID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHByb3ApKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGBUaGUgJHtwcm9wTmFtZX0gcHJvcCBzdXBwbGllZCB0byAke2NvbXBvbmVudE5hbWV9IG11c3QgYmUgYW4gaXRlcmFibGUuYFxuICApO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IGlzUmVhY3RMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2l0aExvY2FsaXphdGlvbihJbm5lcikge1xuICBjbGFzcyBXaXRoTG9jYWxpemF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGNvbnN0IHsgbDEwbiB9ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICBpZiAobDEwbikge1xuICAgICAgICBsMTBuLnN1YnNjcmliZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNvbnN0IHsgbDEwbiB9ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICBpZiAobDEwbikge1xuICAgICAgICBsMTBuLnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVyZW5kZXIgdGhpcyBjb21wb25lbnQgaW4gYSBuZXcgbGFuZ3VhZ2UuXG4gICAgICovXG4gICAgcmVsb2NhbGl6ZSgpIHtcbiAgICAgIC8vIFdoZW4gdGhlIGBSZWFjdExvY2FsaXphdGlvbmAncyBmYWxsYmFjayBjaGFpbiBjaGFuZ2VzLCB1cGRhdGUgdGhlXG4gICAgICAvLyBjb21wb25lbnQuXG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBGaW5kIGEgdHJhbnNsYXRpb24gYnkgYGlkYCBhbmQgZm9ybWF0IGl0IHRvIGEgc3RyaW5nIHVzaW5nIGBhcmdzYC5cbiAgICAgKi9cbiAgICBnZXRTdHJpbmcoaWQsIGFyZ3MsIGZhbGxiYWNrKSB7XG4gICAgICBjb25zdCB7IGwxMG4gfSA9IHRoaXMuY29udGV4dDtcblxuICAgICAgaWYgKCFsMTBuKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFjayB8fCBpZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGwxMG4uZ2V0U3RyaW5nKGlkLCBhcmdzLCBmYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIElubmVyLFxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIC8vIGdldFN0cmluZyBuZWVkcyB0byBiZSByZS1ib3VuZCBvbiB1cGRhdGVzIHRvIHRyaWdnZXIgYSByZS1yZW5kZXJcbiAgICAgICAgICB7IGdldFN0cmluZzogKC4uLmFyZ3MpID0+IHRoaXMuZ2V0U3RyaW5nKC4uLmFyZ3MpIH0sXG4gICAgICAgICAgdGhpcy5wcm9wc1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIFdpdGhMb2NhbGl6YXRpb24uZGlzcGxheU5hbWUgPSBgV2l0aExvY2FsaXphdGlvbigke2Rpc3BsYXlOYW1lKElubmVyKX0pYDtcblxuICBXaXRoTG9jYWxpemF0aW9uLmNvbnRleHRUeXBlcyA9IHtcbiAgICBsMTBuOiBpc1JlYWN0TG9jYWxpemF0aW9uXG4gIH07XG5cbiAgcmV0dXJuIFdpdGhMb2NhbGl6YXRpb247XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlOYW1lKGNvbXBvbmVudCkge1xuICByZXR1cm4gY29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudC5uYW1lIHx8IFwiQ29tcG9uZW50XCI7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoaXMgZGlyZWN0b3J5LlxuICovXG5cbi8vIEZvciBIVE1MLCBjZXJ0YWluIHRhZ3Mgc2hvdWxkIG9taXQgdGhlaXIgY2xvc2UgdGFnLiBXZSBrZWVwIGEgd2hpdGVsaXN0IGZvclxuLy8gdGhvc2Ugc3BlY2lhbC1jYXNlIHRhZ3MuXG5cbnZhciBvbWl0dGVkQ2xvc2VUYWdzID0ge1xuICBhcmVhOiB0cnVlLFxuICBiYXNlOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgaHI6IHRydWUsXG4gIGltZzogdHJ1ZSxcbiAgaW5wdXQ6IHRydWUsXG4gIGtleWdlbjogdHJ1ZSxcbiAgbGluazogdHJ1ZSxcbiAgbWV0YTogdHJ1ZSxcbiAgcGFyYW06IHRydWUsXG4gIHNvdXJjZTogdHJ1ZSxcbiAgdHJhY2s6IHRydWUsXG4gIHdicjogdHJ1ZSxcbiAgLy8gTk9URTogbWVudWl0ZW0ncyBjbG9zZSB0YWcgc2hvdWxkIGJlIG9taXR0ZWQsIGJ1dCB0aGF0IGNhdXNlcyBwcm9ibGVtcy5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9taXR0ZWRDbG9zZVRhZ3M7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoaXMgZGlyZWN0b3J5LlxuICovXG5cbmltcG9ydCBvbWl0dGVkQ2xvc2VUYWdzIGZyb20gJy4vb21pdHRlZENsb3NlVGFncyc7XG5cbi8vIEZvciBIVE1MLCBjZXJ0YWluIHRhZ3MgY2Fubm90IGhhdmUgY2hpbGRyZW4uIFRoaXMgaGFzIHRoZSBzYW1lIHB1cnBvc2UgYXNcbi8vIGBvbWl0dGVkQ2xvc2VUYWdzYCBleGNlcHQgdGhhdCBgbWVudWl0ZW1gIHNob3VsZCBzdGlsbCBoYXZlIGl0cyBjbG9zaW5nIHRhZy5cblxudmFyIHZvaWRFbGVtZW50VGFncyA9IHtcbiAgbWVudWl0ZW06IHRydWUsXG4gIC4uLm9taXR0ZWRDbG9zZVRhZ3MsXG59O1xuXG5leHBvcnQgZGVmYXVsdCB2b2lkRWxlbWVudFRhZ3M7XG4iLCJpbXBvcnQgeyBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCB7IGlzUmVhY3RMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCBWT0lEX0VMRU1FTlRTIGZyb20gXCIuLi92ZW5kb3Ivdm9pZEVsZW1lbnRUYWdzXCI7XG5cbi8vIE1hdGNoIHRoZSBvcGVuaW5nIGFuZ2xlIGJyYWNrZXQgKDwpIGluIEhUTUwgdGFncywgYW5kIEhUTUwgZW50aXRpZXMgbGlrZVxuLy8gJmFtcDssICYjMDAzODssICYjeDAwMjY7LlxuY29uc3QgcmVNYXJrdXAgPSAvPHwmIz9cXHcrOy87XG5cbi8qXG4gKiBQcmVwYXJlIHByb3BzIHBhc3NlZCB0byBgTG9jYWxpemVkYCBmb3IgZm9ybWF0dGluZy5cbiAqL1xuZnVuY3Rpb24gdG9Bcmd1bWVudHMocHJvcHMpIHtcbiAgY29uc3QgYXJncyA9IHt9O1xuICBjb25zdCBlbGVtcyA9IHt9O1xuXG4gIGZvciAoY29uc3QgW3Byb3BuYW1lLCBwcm9wdmFsXSBvZiBPYmplY3QuZW50cmllcyhwcm9wcykpIHtcbiAgICBpZiAocHJvcG5hbWUuc3RhcnRzV2l0aChcIiRcIikpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBwcm9wbmFtZS5zdWJzdHIoMSk7XG4gICAgICBhcmdzW25hbWVdID0gcHJvcHZhbDtcbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KHByb3B2YWwpKSB7XG4gICAgICAvLyBXZSdsbCB0cnkgdG8gbWF0Y2ggbG9jYWxOYW1lcyBvZiBlbGVtZW50cyBmb3VuZCBpbiB0aGUgdHJhbnNsYXRpb24gd2l0aFxuICAgICAgLy8gbmFtZXMgb2YgZWxlbWVudHMgcGFzc2VkIGFzIHByb3BzLiBsb2NhbE5hbWVzIGFyZSBhbHdheXMgbG93ZXJjYXNlLlxuICAgICAgY29uc3QgbmFtZSA9IHByb3BuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBlbGVtc1tuYW1lXSA9IHByb3B2YWw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFthcmdzLCBlbGVtc107XG59XG5cbi8qXG4gKiBUaGUgYExvY2FsaXplZGAgY2xhc3MgcmVuZGVycyBpdHMgY2hpbGQgd2l0aCB0cmFuc2xhdGVkIHByb3BzIGFuZCBjaGlsZHJlbi5cbiAqXG4gKiAgICAgPExvY2FsaXplZCBpZD1cImhlbGxvLXdvcmxkXCI+XG4gKiAgICAgICAgIDxwPnsnSGVsbG8sIHdvcmxkISd9PC9wPlxuICogICAgIDwvTG9jYWxpemVkPlxuICpcbiAqIFRoZSBgaWRgIHByb3Agc2hvdWxkIGJlIHRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgdHJhbnNsYXRpb24uICBBbnlcbiAqIGF0dHJpYnV0ZXMgZm91bmQgaW4gdGhlIHRyYW5zbGF0aW9uIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgd3JhcHBlZCBlbGVtZW50LlxuICpcbiAqIEFyZ3VtZW50cyB0byB0aGUgdHJhbnNsYXRpb24gY2FuIGJlIHBhc3NlZCBhcyBgJGAtcHJlZml4ZWQgcHJvcHMgb25cbiAqIGBMb2NhbGl6ZWRgLlxuICpcbiAqICAgICA8TG9jYWxpemVkIGlkPVwiaGVsbG8td29ybGRcIiAkdXNlcm5hbWU9e25hbWV9PlxuICogICAgICAgICA8cD57J0hlbGxvLCB7ICR1c2VybmFtZSB9ISd9PC9wPlxuICogICAgIDwvTG9jYWxpemVkPlxuICpcbiAqICBJdCdzIHJlY29tbWVuZGVkIHRoYXQgdGhlIGNvbnRlbnRzIG9mIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBiZSBhIHN0cmluZ1xuICogIGV4cHJlc3Npb24uICBUaGUgc3RyaW5nIHdpbGwgYmUgdXNlZCBhcyB0aGUgdWx0aW1hdGUgZmFsbGJhY2sgaWYgbm9cbiAqICB0cmFuc2xhdGlvbiBpcyBhdmFpbGFibGUuICBJdCBhbHNvIG1ha2VzIGl0IGVhc3kgdG8gZ3JlcCBmb3Igc3RyaW5ncyBpbiB0aGVcbiAqICBzb3VyY2UgY29kZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYWxpemVkIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBsMTBuIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBpZiAobDEwbikge1xuICAgICAgbDEwbi5zdWJzY3JpYmUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3QgeyBsMTBuIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBpZiAobDEwbikge1xuICAgICAgbDEwbi51bnN1YnNjcmliZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiBSZXJlbmRlciB0aGlzIGNvbXBvbmVudCBpbiBhIG5ldyBsYW5ndWFnZS5cbiAgICovXG4gIHJlbG9jYWxpemUoKSB7XG4gICAgLy8gV2hlbiB0aGUgYFJlYWN0TG9jYWxpemF0aW9uYCdzIGZhbGxiYWNrIGNoYWluIGNoYW5nZXMsIHVwZGF0ZSB0aGVcbiAgICAvLyBjb21wb25lbnQuXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbDEwbiwgcGFyc2VNYXJrdXAgfSA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCB7IGlkLCBhdHRycywgY2hpbGRyZW46IGVsZW0gfSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZSBjaGlsZCBlbGVtZW50IGlzbid0IGFuIGFycmF5XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIjxMb2NhbGl6ZWQvPiBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFwiICtcbiAgICAgICAgXCJSZWFjdCBub2RlIGNoaWxkXCIpO1xuICAgIH1cblxuICAgIGlmICghbDEwbikge1xuICAgICAgLy8gVXNlIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBhcyBmYWxsYmFjay5cbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1bmRsZSA9IGwxMG4uZ2V0QnVuZGxlKGlkKTtcblxuICAgIGlmIChidW5kbGUgPT09IG51bGwpIHtcbiAgICAgIC8vIFVzZSB0aGUgd3JhcHBlZCBjb21wb25lbnQgYXMgZmFsbGJhY2suXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBidW5kbGUuZ2V0TWVzc2FnZShpZCk7XG4gICAgY29uc3QgW2FyZ3MsIGVsZW1zXSA9IHRvQXJndW1lbnRzKHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IGJ1bmRsZS5mb3JtYXQobXNnLCBhcmdzKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBmYWxsYmFjayBpcyBhIHZhbGlkIGVsZW1lbnQgLS0gaWYgbm90IHRoZW4gaXQncyBub3RcbiAgICAvLyBtYXJrdXAgKGUuZy4gbm90aGluZyBvciBhIGZhbGxiYWNrIHN0cmluZykgc28ganVzdCB1c2UgdGhlXG4gICAgLy8gZm9ybWF0dGVkIG1lc3NhZ2UgdmFsdWVcbiAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGVsZW0pKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZVZhbHVlO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWZhdWx0IGlzIHRvIGZvcmJpZCBhbGwgbWVzc2FnZSBhdHRyaWJ1dGVzLiBJZiB0aGUgYXR0cnMgcHJvcCBleGlzdHNcbiAgICAvLyBvbiB0aGUgTG9jYWxpemVkIGluc3RhbmNlLCBvbmx5IHNldCBtZXNzYWdlIGF0dHJpYnV0ZXMgd2hpY2ggaGF2ZSBiZWVuXG4gICAgLy8gZXhwbGljaXRseSBhbGxvd2VkIGJ5IHRoZSBkZXZlbG9wZXIuXG4gICAgaWYgKGF0dHJzICYmIG1zZy5hdHRycykge1xuICAgICAgdmFyIGxvY2FsaXplZFByb3BzID0ge307XG4gICAgICBmb3IgKGNvbnN0IFtuYW1lLCBhbGxvd2VkXSBvZiBPYmplY3QuZW50cmllcyhhdHRycykpIHtcbiAgICAgICAgaWYgKGFsbG93ZWQgJiYgbXNnLmF0dHJzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgbG9jYWxpemVkUHJvcHNbbmFtZV0gPSBidW5kbGUuZm9ybWF0KG1zZy5hdHRyc1tuYW1lXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaXMgYSBrbm93biB2b2lkIGVsZW1lbnQsIGV4cGxpY2l0bHkgZGlzbWlzcyB0aGVcbiAgICAvLyBtZXNzYWdlIHZhbHVlIGFuZCBkbyBub3QgcGFzcyBpdCB0byBjbG9uZUVsZW1lbnQgaW4gb3JkZXIgdG8gYXZvaWQgdGhlXG4gICAgLy8gXCJ2b2lkIGVsZW1lbnQgdGFncyBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2VcbiAgICAvLyBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgXCIgZXJyb3IuXG4gICAgaWYgKGVsZW0udHlwZSBpbiBWT0lEX0VMRU1FTlRTKSB7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbWVzc2FnZSBoYXMgYSBudWxsIHZhbHVlLCB3ZSdyZSBvbmx5IGludGVyZXN0ZWQgaW4gaXRzIGF0dHJpYnV0ZXMuXG4gICAgLy8gRG8gbm90IHBhc3MgdGhlIG51bGwgdmFsdWUgdG8gY2xvbmVFbGVtZW50IGFzIGl0IHdvdWxkIG51a2UgYWxsIGNoaWxkcmVuXG4gICAgLy8gb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50LlxuICAgIGlmIChtZXNzYWdlVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoZWxlbSwgbG9jYWxpemVkUHJvcHMpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtZXNzYWdlIHZhbHVlIGRvZXNuJ3QgY29udGFpbiBhbnkgbWFya3VwIG5vciBhbnkgSFRNTCBlbnRpdGllcyxcbiAgICAvLyBpbnNlcnQgaXQgYXMgdGhlIG9ubHkgY2hpbGQgb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50LlxuICAgIGlmICghcmVNYXJrdXAudGVzdChtZXNzYWdlVmFsdWUpKSB7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzLCBtZXNzYWdlVmFsdWUpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtZXNzYWdlIGNvbnRhaW5zIG1hcmt1cCwgcGFyc2UgaXQgYW5kIHRyeSB0byBtYXRjaCB0aGUgY2hpbGRyZW5cbiAgICAvLyBmb3VuZCBpbiB0aGUgdHJhbnNsYXRpb24gd2l0aCB0aGUgcHJvcHMgcGFzc2VkIHRvIHRoaXMgTG9jYWxpemVkLlxuICAgIGNvbnN0IHRyYW5zbGF0aW9uTm9kZXMgPSBwYXJzZU1hcmt1cChtZXNzYWdlVmFsdWUpO1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRDaGlsZHJlbiA9IHRyYW5zbGF0aW9uTm9kZXMubWFwKGNoaWxkTm9kZSA9PiB7XG4gICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSBjaGlsZE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIHJldHVybiBjaGlsZE5vZGUudGV4dENvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBub3QgZXhwZWN0ZWQganVzdCB0YWtlIGl0cyB0ZXh0Q29udGVudC5cbiAgICAgIGlmICghZWxlbXMuaGFzT3duUHJvcGVydHkoY2hpbGROb2RlLmxvY2FsTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkTm9kZS50ZXh0Q29udGVudDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc291cmNlQ2hpbGQgPSBlbGVtc1tjaGlsZE5vZGUubG9jYWxOYW1lXTtcblxuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgcGFzc2VkIGFzIGEgcHJvcCB0byA8TG9jYWxpemVkPiBpcyBhIGtub3duIHZvaWQgZWxlbWVudCxcbiAgICAgIC8vIGV4cGxpY2l0bHkgZGlzbWlzcyBhbnkgdGV4dENvbnRlbnQgd2hpY2ggbWlnaHQgaGF2ZSBhY2NpZGVudGFsbHkgYmVlblxuICAgICAgLy8gZGVmaW5lZCBpbiB0aGUgdHJhbnNsYXRpb24gdG8gcHJldmVudCB0aGUgXCJ2b2lkIGVsZW1lbnQgdGFncyBtdXN0IG5vdFxuICAgICAgLy8gaGF2ZSBjaGlsZHJlblwiIGVycm9yLlxuICAgICAgaWYgKHNvdXJjZUNoaWxkLnR5cGUgaW4gVk9JRF9FTEVNRU5UUykge1xuICAgICAgICByZXR1cm4gc291cmNlQ2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8gUHJvdGVjdCBjb250ZW50cyBvZiBlbGVtZW50cyB3cmFwcGVkIGluIDxMb2NhbGl6ZWQ+XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcHJvamVjdGZsdWVudC9mbHVlbnQuanMvaXNzdWVzLzE4NFxuICAgICAgLy8gVE9ETyAgQ29udHJvbCBsb2NhbGl6YWJsZSBhdHRyaWJ1dGVzIG9uIGVsZW1lbnRzIHBhc3NlZCBhcyBwcm9wc1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Byb2plY3RmbHVlbnQvZmx1ZW50LmpzL2lzc3Vlcy8xODVcbiAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoc291cmNlQ2hpbGQsIG51bGwsIGNoaWxkTm9kZS50ZXh0Q29udGVudCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzLCAuLi50cmFuc2xhdGVkQ2hpbGRyZW4pO1xuICB9XG59XG5cbkxvY2FsaXplZC5jb250ZXh0VHlwZXMgPSB7XG4gIGwxMG46IGlzUmVhY3RMb2NhbGl6YXRpb24sXG4gIHBhcnNlTWFya3VwOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbkxvY2FsaXplZC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZVxufTtcbiIsIi8qXG4gKiBAbW9kdWxlIGZsdWVudC1yZWFjdFxuICogQG92ZXJ2aWV3XG4gKlxuXG4gKiBgZmx1ZW50LXJlYWN0YCBwcm92aWRlcyBSZWFjdCBiaW5kaW5ncyBmb3IgRmx1ZW50LiAgSXQgdGFrZXMgYWR2YW50YWdlIG9mXG4gKiBSZWFjdCdzIENvbXBvbmVudHMgc3lzdGVtIGFuZCB0aGUgdmlydHVhbCBET00uICBUcmFuc2xhdGlvbnMgYXJlIGV4cG9zZWQgdG9cbiAqIGNvbXBvbmVudHMgdmlhIHRoZSBwcm92aWRlciBwYXR0ZXJuLlxuICpcbiAqICAgICA8TG9jYWxpemF0aW9uUHJvdmlkZXIgYnVuZGxlcz174oCmfT5cbiAqICAgICAgICAgPExvY2FsaXplZCBpZD1cImhlbGxvLXdvcmxkXCI+XG4gKiAgICAgICAgICAgICA8cD57J0hlbGxvLCB3b3JsZCEnfTwvcD5cbiAqICAgICAgICAgPC9Mb2NhbGl6ZWQ+XG4gKiAgICAgPC9Mb2NhbGl6YXRpb25Qcm92aWRlcj5cbiAqXG4gKiBDb25zdWx0IHRoZSBkb2N1bWVudGF0aW9uIG9mIHRoZSBgTG9jYWxpemF0aW9uUHJvdmlkZXJgIGFuZCB0aGUgYExvY2FsaXplZGBcbiAqIGNvbXBvbmVudHMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NhbGl6YXRpb25Qcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHdpdGhMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi93aXRoX2xvY2FsaXphdGlvblwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NhbGl6ZWQgfSBmcm9tIFwiLi9sb2NhbGl6ZWRcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmVhY3RMb2NhbGl6YXRpb24sIGlzUmVhY3RMb2NhbGl6YXRpb24gfVxuICBmcm9tIFwiLi9sb2NhbGl6YXRpb25cIjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgQUxMT1dFRF9TVFlMRV9UQUdTID0gW1wiY29sb3JcIiwgXCJiYWNrZ3JvdW5kQ29sb3JcIl07XG5cbmV4cG9ydCBjb25zdCBCdXR0b24gPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHN0eWxlID0ge307XG5cbiAgLy8gQWRkIGFsbG93ZWQgc3R5bGUgdGFncyBmcm9tIHByb3BzLCBlLmcuIHByb3BzLmNvbG9yIGJlY29tZXMgc3R5bGU9e2NvbG9yOiBwcm9wcy5jb2xvcn1cbiAgZm9yIChjb25zdCB0YWcgb2YgQUxMT1dFRF9TVFlMRV9UQUdTKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wc1t0YWddICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzdHlsZVt0YWddID0gcHJvcHNbdGFnXTtcbiAgICB9XG4gIH1cbiAgLy8gcmVtb3ZlIGJvcmRlciBpZiBiZyBpcyBzZXQgdG8gc29tZXRoaW5nIGN1c3RvbVxuICBpZiAoc3R5bGUuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgc3R5bGUuYm9yZGVyID0gXCIwXCI7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwifVxuICAgICAgc3R5bGU9e3N0eWxlfVxuICAgID5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vLyBsaWZ0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9raXR6ZS8yM2Q4MmJiOWViMGJhYWJmZDAzYTZhNzIwYjFkNjM3ZlxuY29uc3QgQ29uZGl0aW9uYWxXcmFwcGVyID0gKHsgY29uZGl0aW9uLCB3cmFwLCBjaGlsZHJlbiB9KSA9PlxuICBjb25kaXRpb24gPyB3cmFwKGNoaWxkcmVuKSA6IGNoaWxkcmVuO1xuXG5leHBvcnQgZGVmYXVsdCBDb25kaXRpb25hbFdyYXBwZXI7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgc2NoZW1hIGZyb20gXCIuLi8uLi90ZW1wbGF0ZXMvU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0LnNjaGVtYS5qc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBTbmlwcGV0QmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQmxvY2tDbGlja2VkID0gdGhpcy5vbkJsb2NrQ2xpY2tlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2tlZCA9IHRoaXMub25EaXNtaXNzQ2xpY2tlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0QmxvY2tCdXR0b25SZWYgPSB0aGlzLnNldEJsb2NrQnV0dG9uUmVmLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VFbnRlciA9IHRoaXMub25CbG9ja0J1dHRvbk1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlID0gdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGJsb2NrQnV0dG9uSG92ZXI6IGZhbHNlIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5ibG9ja0J1dHRvblJlZikge1xuICAgICAgdGhpcy5ibG9ja0J1dHRvblJlZi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlZW50ZXJcIixcbiAgICAgICAgdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VFbnRlclxuICAgICAgKTtcbiAgICAgIHRoaXMuYmxvY2tCdXR0b25SZWYuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAgIHRoaXMub25CbG9ja0J1dHRvbk1vdXNlTGVhdmVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuYmxvY2tCdXR0b25SZWYpIHtcbiAgICAgIHRoaXMuYmxvY2tCdXR0b25SZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWVudGVyXCIsXG4gICAgICAgIHRoaXMub25CbG9ja0J1dHRvbk1vdXNlRW50ZXJcbiAgICAgICk7XG4gICAgICB0aGlzLmJsb2NrQnV0dG9uUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2VsZWF2ZVwiLFxuICAgICAgICB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHNldEJsb2NrQnV0dG9uUmVmKGVsZW1lbnQpIHtcbiAgICB0aGlzLmJsb2NrQnV0dG9uUmVmID0gZWxlbWVudDtcbiAgfVxuXG4gIG9uQmxvY2tCdXR0b25Nb3VzZUVudGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBibG9ja0J1dHRvbkhvdmVyOiB0cnVlIH0pO1xuICB9XG5cbiAgb25CbG9ja0J1dHRvbk1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGJsb2NrQnV0dG9uSG92ZXI6IGZhbHNlIH0pO1xuICB9XG5cbiAgb25CbG9ja0NsaWNrZWQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQkxPQ0tcIixcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkJsb2NrKCk7XG4gIH1cblxuICBvbkRpc21pc3NDbGlja2VkKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkRJU01JU1NcIixcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgfVxuXG4gIHJlbmRlckRpc21pc3NCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZm9vdGVyRGlzbWlzcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3Rlci1jb250ZW50XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25EaXNtaXNzQ2xpY2tlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGVudC5zY2VuZTJfZGlzbWlzc19idXR0b25fdGV4dH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgbGFiZWwgPVxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmJsb2NrX2J1dHRvbl90ZXh0IHx8XG4gICAgICBzY2hlbWEucHJvcGVydGllcy5ibG9ja19idXR0b25fdGV4dC5kZWZhdWx0O1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJsb2NrQnV0dG9uXCJcbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICBhcmlhLWxhYmVsPXtsYWJlbH1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkJsb2NrQ2xpY2tlZH1cbiAgICAgICAgcmVmPXt0aGlzLnNldEJsb2NrQnV0dG9uUmVmfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBibG9ja0J1dHRvbkhvdmVyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgY29udGFpbmVyQ2xhc3NOYW1lID0gYFNuaXBwZXRCYXNlQ29udGFpbmVyJHtcbiAgICAgIHByb3BzLmNsYXNzTmFtZSA/IGAgJHtwcm9wcy5jbGFzc05hbWV9YCA6IFwiXCJcbiAgICB9JHtibG9ja0J1dHRvbkhvdmVyID8gXCIgYWN0aXZlXCIgOiBcIlwifWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMudGV4dFN0eWxlfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbm5lcldyYXBwZXJcIj57cHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgICAgIHt0aGlzLnJlbmRlckRpc21pc3NCdXR0b24oKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b25cIjtcbmltcG9ydCBDb25kaXRpb25hbFdyYXBwZXIgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQ29uZGl0aW9uYWxXcmFwcGVyL0NvbmRpdGlvbmFsV3JhcHBlclwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUmljaFRleHQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9SaWNoVGV4dC9SaWNoVGV4dFwiO1xuaW1wb3J0IHsgc2FmZVVSSSB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZS11dGlsc1wiO1xuaW1wb3J0IHsgU25pcHBldEJhc2UgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9TbmlwcGV0QmFzZS9TbmlwcGV0QmFzZVwiO1xuXG5jb25zdCBERUZBVUxUX0lDT05fUEFUSCA9IFwiY2hyb21lOi8vYnJhbmRpbmcvY29udGVudC9pY29uNjQucG5nXCI7XG4vLyBBbHQgdGV4dCBwbGFjZWhvbGRlciBpbiBjYXNlIHRoZSBwcm9wIGZyb20gdGhlIHNlcnZlciBpc24ndCBhdmFpbGFibGVcbmNvbnN0IElDT05fQUxUX1RFWFQgPSBcIlwiO1xuXG5leHBvcnQgY2xhc3MgU2ltcGxlU25pcHBldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQnV0dG9uQ2xpY2sgPSB0aGlzLm9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLlVJU3VyZmFjZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1dHRvbl91cmwgfSA9IHRoaXMucHJvcHMuY29udGVudDtcbiAgICAvLyBJZiBidXR0b25fdXJsIGlzIGRlZmluZWQgaGFuZGxlIGl0IGFzIE9QRU5fVVJMIGFjdGlvblxuICAgIGNvbnN0IHR5cGUgPSB0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX2FjdGlvbiB8fCAoYnV0dG9uX3VybCAmJiBcIk9QRU5fVVJMXCIpO1xuICAgIHRoaXMucHJvcHMub25BY3Rpb24oe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGE6IHsgYXJnczogdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb25fYXJncyB8fCBidXR0b25fdXJsIH0sXG4gICAgfSk7XG4gICAgaWYgKCF0aGlzLnByb3BzLmNvbnRlbnQuZG9fbm90X2F1dG9ibG9jaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkJsb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3VsZFJlbmRlckJ1dHRvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb24gfHxcbiAgICAgIHRoaXMucHJvcHMub25CdXR0b25DbGljayB8fFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl91cmxcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGl0bGUoKSB7XG4gICAgY29uc3QgeyB0aXRsZSB9ID0gdGhpcy5wcm9wcy5jb250ZW50O1xuICAgIHJldHVybiB0aXRsZSA/IChcbiAgICAgIDxoM1xuICAgICAgICBjbGFzc05hbWU9e2B0aXRsZSAke3RoaXMuX3Nob3VsZFJlbmRlckJ1dHRvbigpID8gXCJ0aXRsZS1pbmxpbmVcIiA6IFwiXCJ9YH1cbiAgICAgID5cbiAgICAgICAge3RoaXMucmVuZGVyVGl0bGVJY29uKCl9IHt0aXRsZX1cbiAgICAgIDwvaDM+XG4gICAgKSA6IG51bGw7XG4gIH1cblxuICByZW5kZXJUaXRsZUljb24oKSB7XG4gICAgY29uc3QgdGl0bGVJY29uTGlnaHQgPSBzYWZlVVJJKHRoaXMucHJvcHMuY29udGVudC50aXRsZV9pY29uKTtcbiAgICBjb25zdCB0aXRsZUljb25EYXJrID0gc2FmZVVSSShcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC50aXRsZV9pY29uX2RhcmtfdGhlbWUgfHwgdGhpcy5wcm9wcy5jb250ZW50LnRpdGxlX2ljb25cbiAgICApO1xuICAgIGlmICghdGl0bGVJY29uTGlnaHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwidGl0bGVJY29uIGljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7dGl0bGVJY29uTGlnaHR9XCIpYCB9fVxuICAgICAgICAvPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cInRpdGxlSWNvbiBpY29uLWRhcmstdGhlbWVcIlxuICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7dGl0bGVJY29uRGFya31cIilgIH19XG4gICAgICAgIC8+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJCdXR0b24oKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBpZiAoIXRoaXMuX3Nob3VsZFJlbmRlckJ1dHRvbigpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkJ1dHRvbkNsaWNrIHx8IHRoaXMub25CdXR0b25DbGlja31cbiAgICAgICAgY29sb3I9e3Byb3BzLmNvbnRlbnQuYnV0dG9uX2NvbG9yfVxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9e3Byb3BzLmNvbnRlbnQuYnV0dG9uX2JhY2tncm91bmRfY29sb3J9XG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5jb250ZW50LmJ1dHRvbl9sYWJlbH1cbiAgICAgIDwvQnV0dG9uPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJUZXh0KCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSaWNoVGV4dFxuICAgICAgICB0ZXh0PXtwcm9wcy5jb250ZW50LnRleHR9XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzPXt0aGlzLnByb3BzLmN1c3RvbUVsZW1lbnRzfVxuICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJ0ZXh0XCJcbiAgICAgICAgbGlua3M9e3Byb3BzLmNvbnRlbnQubGlua3N9XG4gICAgICAgIHNlbmRDbGljaz17cHJvcHMuc2VuZENsaWNrfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgd3JhcFNlY3Rpb25IZWFkZXIodXJsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gPGEgaHJlZj17dXJsfT57Y2hpbGRyZW59PC9hPjtcbiAgICB9O1xuICB9XG5cbiAgd3JhcFNuaXBwZXRDb250ZW50KGNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiaW5uZXJDb250ZW50V3JhcHBlclwiPntjaGlsZHJlbn08L2Rpdj47XG4gIH1cblxuICByZW5kZXJTZWN0aW9uSGVhZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICAvLyBhbiBpY29uIGFuZCB0ZXh0IG11c3QgYmUgc3BlY2lmaWVkIHRvIHJlbmRlciB0aGUgc2VjdGlvbiBoZWFkZXJcbiAgICBpZiAocHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb24gJiYgcHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX3RleHQpIHtcbiAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZUljb25MaWdodCA9IHNhZmVVUkkocHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb24pO1xuICAgICAgY29uc3Qgc2VjdGlvblRpdGxlSWNvbkRhcmsgPSBzYWZlVVJJKFxuICAgICAgICBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvbl9kYXJrX3RoZW1lIHx8XG4gICAgICAgICAgcHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb25cbiAgICAgICk7XG4gICAgICBjb25zdCBzZWN0aW9uVGl0bGVVUkwgPSBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfdXJsO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgIDxDb25kaXRpb25hbFdyYXBwZXJcbiAgICAgICAgICAgICAgY29uZGl0aW9uPXtzZWN0aW9uVGl0bGVVUkx9XG4gICAgICAgICAgICAgIHdyYXA9e3RoaXMud3JhcFNlY3Rpb25IZWFkZXIoc2VjdGlvblRpdGxlVVJMKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7c2VjdGlvblRpdGxlSWNvbkxpZ2h0fVwiKWAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tZGFyay10aGVtZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzZWN0aW9uVGl0bGVJY29uRGFya31cIilgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUtdGV4dFwiPlxuICAgICAgICAgICAgICAgIHtwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfdGV4dH1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9Db25kaXRpb25hbFdyYXBwZXI+XG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3Qgc2VjdGlvbkhlYWRlciA9IHRoaXMucmVuZGVyU2VjdGlvbkhlYWRlcigpO1xuICAgIGxldCBjbGFzc05hbWUgPSBcIlNpbXBsZVNuaXBwZXRcIjtcblxuICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBgICR7cHJvcHMuY2xhc3NOYW1lfWA7XG4gICAgfVxuICAgIGlmIChwcm9wcy5jb250ZW50LnRhbGwpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiB0YWxsXCI7XG4gICAgfVxuICAgIGlmIChzZWN0aW9uSGVhZGVyKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgaGFzLXNlY3Rpb24taGVhZGVyXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic25pcHBldC1ob3Zlci13cmFwcGVyXCI+XG4gICAgICAgIDxTbmlwcGV0QmFzZVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICB0ZXh0U3R5bGU9e3RoaXMucHJvcHMudGV4dFN0eWxlfVxuICAgICAgICA+XG4gICAgICAgICAge3NlY3Rpb25IZWFkZXJ9XG4gICAgICAgICAgPENvbmRpdGlvbmFsV3JhcHBlclxuICAgICAgICAgICAgY29uZGl0aW9uPXtzZWN0aW9uSGVhZGVyfVxuICAgICAgICAgICAgd3JhcD17dGhpcy53cmFwU25pcHBldENvbnRlbnR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e3NhZmVVUkkocHJvcHMuY29udGVudC5pY29uKSB8fCBERUZBVUxUX0lDT05fUEFUSH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWxpZ2h0LXRoZW1lXCJcbiAgICAgICAgICAgICAgYWx0PXtwcm9wcy5jb250ZW50Lmljb25fYWx0X3RleHQgfHwgSUNPTl9BTFRfVEVYVH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17XG4gICAgICAgICAgICAgICAgc2FmZVVSSShwcm9wcy5jb250ZW50Lmljb25fZGFya190aGVtZSB8fCBwcm9wcy5jb250ZW50Lmljb24pIHx8XG4gICAgICAgICAgICAgICAgREVGQVVMVF9JQ09OX1BBVEhcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tZGFyay10aGVtZVwiXG4gICAgICAgICAgICAgIGFsdD17cHJvcHMuY29udGVudC5pY29uX2FsdF90ZXh0IHx8IElDT05fQUxUX1RFWFR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAge3RoaXMucmVuZGVyVGl0bGUoKX0gPHAgY2xhc3NOYW1lPVwiYm9keVwiPnt0aGlzLnJlbmRlclRleHQoKX08L3A+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4dHJhQ29udGVudH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezxkaXY+e3RoaXMucmVuZGVyQnV0dG9uKCl9PC9kaXY+fVxuICAgICAgICAgIDwvQ29uZGl0aW9uYWxXcmFwcGVyPlxuICAgICAgICA8L1NuaXBwZXRCYXNlPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHNjaGVtYSBmcm9tIFwiLi9FT1lTbmlwcGV0LnNjaGVtYS5qc29uXCI7XG5pbXBvcnQgeyBTaW1wbGVTbmlwcGV0IH0gZnJvbSBcIi4uL1NpbXBsZVNuaXBwZXQvU2ltcGxlU25pcHBldFwiO1xuXG5jbGFzcyBFT1lTbmlwcGV0QmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogc2V0RnJlcXVlbmN5VmFsdWUgLSBgZnJlcXVlbmN5YCBmb3JtIHBhcmFtZXRlciB2YWx1ZSBzaG91bGQgYmUgYG1vbnRobHlgXG4gICAqICAgICAgICAgICAgICAgICAgICAgaWYgYG1vbnRobHktY2hlY2tib3hgIGlzIHNlbGVjdGVkIG9yIGBzaW5nbGVgIG90aGVyd2lzZVxuICAgKi9cbiAgc2V0RnJlcXVlbmN5VmFsdWUoKSB7XG4gICAgY29uc3QgZnJlcXVlbmN5Q2hlY2tib3ggPSB0aGlzLnJlZnMuZm9ybS5xdWVyeVNlbGVjdG9yKFwiI21vbnRobHktY2hlY2tib3hcIik7XG4gICAgaWYgKGZyZXF1ZW5jeUNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMucmVmcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nZnJlcXVlbmN5J11cIikudmFsdWUgPSBcIm1vbnRobHlcIjtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdWJtaXQoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0RnJlcXVlbmN5VmFsdWUoKTtcbiAgICB0aGlzLnJlZnMuZm9ybS5zdWJtaXQoKTtcbiAgICBpZiAoIXRoaXMucHJvcHMuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQmxvY2soKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJEb25hdGlvbnMoKSB7XG4gICAgY29uc3QgZmllbGROYW1lcyA9IFtcImZpcnN0XCIsIFwic2Vjb25kXCIsIFwidGhpcmRcIiwgXCJmb3VydGhcIl07XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmxvY2FsZSB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgIGN1cnJlbmN5OiB0aGlzLnByb3BzLmNvbnRlbnQuY3VycmVuY3lfY29kZSxcbiAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgICAgfVxuICAgICk7XG4gICAgLy8gRGVmYXVsdCB0byBgc2Vjb25kYCBidXR0b25cbiAgICBjb25zdCB7IHNlbGVjdGVkX2J1dHRvbiB9ID0gdGhpcy5wcm9wcy5jb250ZW50O1xuICAgIGNvbnN0IGJ0blN0eWxlID0ge1xuICAgICAgY29sb3I6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fY29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYmFja2dyb3VuZF9jb2xvcixcbiAgICB9O1xuICAgIGNvbnN0IGRvbmF0aW9uVVJMUGFyYW1zID0gW107XG4gICAgY29uc3QgcGFyYW1zU3RhcnRJbmRleCA9IHRoaXMucHJvcHMuY29udGVudC5kb25hdGlvbl9mb3JtX3VybC5pbmRleE9mKFwiP1wiKTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnQuZG9uYXRpb25fZm9ybV91cmwuc2xpY2UocGFyYW1zU3RhcnRJbmRleClcbiAgICApLmVudHJpZXMoKSkge1xuICAgICAgZG9uYXRpb25VUkxQYXJhbXMucHVzaChlbnRyeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtXG4gICAgICAgIGNsYXNzTmFtZT1cIkVPWVNuaXBwZXRGb3JtXCJcbiAgICAgICAgYWN0aW9uPXt0aGlzLnByb3BzLmNvbnRlbnQuZG9uYXRpb25fZm9ybV91cmx9XG4gICAgICAgIG1ldGhvZD17dGhpcy5wcm9wcy5mb3JtX21ldGhvZH1cbiAgICAgICAgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICByZWY9XCJmb3JtXCJcbiAgICAgID5cbiAgICAgICAge2RvbmF0aW9uVVJMUGFyYW1zLm1hcCgoW2tleSwgdmFsdWVdLCBpZHgpID0+IChcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9e2tleX0gdmFsdWU9e3ZhbHVlfSBrZXk9e2lkeH0gLz5cbiAgICAgICAgKSl9XG4gICAgICAgIHtmaWVsZE5hbWVzLm1hcCgoZmllbGQsIGlkeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJ1dHRvbl9uYW1lID0gYGRvbmF0aW9uX2Ftb3VudF8ke2ZpZWxkfWA7XG4gICAgICAgICAgY29uc3QgYW1vdW50ID0gdGhpcy5wcm9wcy5jb250ZW50W2J1dHRvbl9uYW1lXTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17aWR4fT5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW1vdW50XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17YW1vdW50fVxuICAgICAgICAgICAgICAgIGlkPXtmaWVsZH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17YnV0dG9uX25hbWUgPT09IHNlbGVjdGVkX2J1dHRvbn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2ZpZWxkfSBjbGFzc05hbWU9XCJkb25hdGlvbi1hbW91bnRcIj5cbiAgICAgICAgICAgICAgICB7bnVtYmVyRm9ybWF0LmZvcm1hdChhbW91bnQpfVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbnRobHktY2hlY2tib3gtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGlucHV0IGlkPVwibW9udGhseS1jaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiIC8+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJtb250aGx5LWNoZWNrYm94XCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jb250ZW50Lm1vbnRobHlfY2hlY2tib3hfbGFiZWxfdGV4dH1cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJmcmVxdWVuY3lcIiB2YWx1ZT1cInNpbmdsZVwiIC8+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJoaWRkZW5cIlxuICAgICAgICAgIG5hbWU9XCJjdXJyZW5jeVwiXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuY29udGVudC5jdXJyZW5jeV9jb2RlfVxuICAgICAgICAvPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiaGlkZGVuXCJcbiAgICAgICAgICBuYW1lPVwicHJlc2V0c1wiXG4gICAgICAgICAgdmFsdWU9e2ZpZWxkTmFtZXMubWFwKFxuICAgICAgICAgICAgZmllbGQgPT4gdGhpcy5wcm9wcy5jb250ZW50W2Bkb25hdGlvbl9hbW91bnRfJHtmaWVsZH1gXVxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBzdHlsZT17YnRuU3R5bGV9XG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gcHJpbWFyeSBkb25hdGlvbi1mb3JtLXVybFwiXG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9sYWJlbH1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0ZXh0U3R5bGUgPSB7XG4gICAgICBjb2xvcjogdGhpcy5wcm9wcy5jb250ZW50LnRleHRfY29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuY29udGVudC5iYWNrZ3JvdW5kX2NvbG9yLFxuICAgIH07XG4gICAgY29uc3QgY3VzdG9tRWxlbWVudCA9IChcbiAgICAgIDxlbSBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuY29udGVudC5oaWdobGlnaHRfY29sb3IgfX0gLz5cbiAgICApO1xuICAgIHJldHVybiAoXG4gICAgICA8U2ltcGxlU25pcHBldFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNvbnRlbnQudGVzdH1cbiAgICAgICAgY3VzdG9tRWxlbWVudHM9e3sgZW06IGN1c3RvbUVsZW1lbnQgfX1cbiAgICAgICAgdGV4dFN0eWxlPXt0ZXh0U3R5bGV9XG4gICAgICAgIGV4dHJhQ29udGVudD17dGhpcy5yZW5kZXJEb25hdGlvbnMoKX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRU9ZU25pcHBldCA9IHByb3BzID0+IHtcbiAgY29uc3QgZXh0ZW5kZWRDb250ZW50ID0ge1xuICAgIG1vbnRobHlfY2hlY2tib3hfbGFiZWxfdGV4dDpcbiAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLm1vbnRobHlfY2hlY2tib3hfbGFiZWxfdGV4dC5kZWZhdWx0LFxuICAgIGxvY2FsZTogc2NoZW1hLnByb3BlcnRpZXMubG9jYWxlLmRlZmF1bHQsXG4gICAgY3VycmVuY3lfY29kZTogc2NoZW1hLnByb3BlcnRpZXMuY3VycmVuY3lfY29kZS5kZWZhdWx0LFxuICAgIHNlbGVjdGVkX2J1dHRvbjogc2NoZW1hLnByb3BlcnRpZXMuc2VsZWN0ZWRfYnV0dG9uLmRlZmF1bHQsXG4gICAgLi4ucHJvcHMuY29udGVudCxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxFT1lTbmlwcGV0QmFzZSB7Li4ucHJvcHN9IGNvbnRlbnQ9e2V4dGVuZGVkQ29udGVudH0gZm9ybV9tZXRob2Q9XCJHRVRcIiAvPlxuICApO1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJpY2hUZXh0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUmljaFRleHQvUmljaFRleHRcIjtcbmltcG9ydCB7IHNhZmVVUkkgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGUtdXRpbHNcIjtcbmltcG9ydCB7IFNpbXBsZVNuaXBwZXQgfSBmcm9tIFwiLi4vU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0XCI7XG5pbXBvcnQgeyBTbmlwcGV0QmFzZSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1NuaXBwZXRCYXNlL1NuaXBwZXRCYXNlXCI7XG5cbi8vIEFsdCB0ZXh0IHBsYWNlaG9sZGVyIGluIGNhc2UgdGhlIHByb3AgZnJvbSB0aGUgc2VydmVyIGlzbid0IGF2YWlsYWJsZVxuY29uc3QgSUNPTl9BTFRfVEVYVCA9IFwiXCI7XG5cbmV4cG9ydCBjbGFzcyBTdWJtaXRGb3JtU25pcHBldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmV4cGFuZFNuaXBwZXQgPSB0aGlzLmV4cGFuZFNuaXBwZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTdWJtaXRBdHRlbXB0ID0gdGhpcy5oYW5kbGVTdWJtaXRBdHRlbXB0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIHN1Ym1pdEF0dGVtcHRlZDogZmFsc2UsXG4gICAgICBzaWdudXBTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgc2lnbnVwU3VjY2VzczogZmFsc2UsXG4gICAgICBkaXNhYmxlRm9ybTogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdEF0dGVtcHQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnN1Ym1pdEF0dGVtcHRlZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN1Ym1pdEF0dGVtcHRlZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVTdWJtaXQoZXZlbnQpIHtcbiAgICBsZXQganNvbjtcblxuICAgIGlmICh0aGlzLnN0YXRlLmRpc2FibGVGb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgZGlzYWJsZUZvcm06IHRydWUgfSk7XG4gICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICBldmVudDogXCJDTElDS19CVVRUT05cIixcbiAgICAgIHZhbHVlOiBcImNvbnZlcnNpb24tc3Vic2NyaWJlLWFjdGl2YXRpb25cIixcbiAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnByb3BzLmZvcm1fbWV0aG9kLnRvVXBwZXJDYXNlKCkgPT09IFwiR0VUXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9jayh7IHByZXZlbnREaXNtaXNzOiB0cnVlIH0pO1xuICAgICAgdGhpcy5yZWZzLmZvcm0uc3VibWl0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyB1cmwsIGZvcm1EYXRhIH0gPSB0aGlzLnByb3BzLnByb2Nlc3NGb3JtRGF0YVxuICAgICAgPyB0aGlzLnByb3BzLnByb2Nlc3NGb3JtRGF0YSh0aGlzLnJlZnMubWFpbklucHV0LCB0aGlzLnByb3BzKVxuICAgICAgOiB7IHVybDogdGhpcy5yZWZzLmZvcm0uYWN0aW9uLCBmb3JtRGF0YTogbmV3IEZvcm1EYXRhKHRoaXMucmVmcy5mb3JtKSB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgY3JlZGVudGlhbHM6IFwib21pdFwiLFxuICAgICAgfSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZldGNoUmVxdWVzdCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZmV0Y2gtb3B0aW9ucy9uby1mZXRjaC1jcmVkZW50aWFsc1xuICAgICAganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cblxuICAgIGlmIChqc29uICYmIGpzb24uc3RhdHVzID09PSBcIm9rXCIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaWdudXBTdWNjZXNzOiB0cnVlLCBzaWdudXBTdWJtaXR0ZWQ6IHRydWUgfSk7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25CbG9jayh7IHByZXZlbnREaXNtaXNzOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgICB2YWx1ZTogXCJzdWJzY3JpYmUtc3VjY2Vzc1wiLFxuICAgICAgICBpZDogXCJORVdUQUJfRk9PVEVSX0JBUl9DT05URU5UXCIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiVGhlcmUgd2FzIGEgcHJvYmxlbSBzdWJtaXR0aW5nIHRoZSBmb3JtXCIsXG4gICAgICAgIGpzb24gfHwgXCJbTm8gSlNPTiByZXNwb25zZV1cIlxuICAgICAgKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaWdudXBTdWNjZXNzOiBmYWxzZSwgc2lnbnVwU3VibWl0dGVkOiB0cnVlIH0pO1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgICB2YWx1ZTogXCJzdWJzY3JpYmUtZXJyb3JcIixcbiAgICAgICAgaWQ6IFwiTkVXVEFCX0ZPT1RFUl9CQVJfQ09OVEVOVFwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRpc2FibGVGb3JtOiBmYWxzZSB9KTtcbiAgfVxuXG4gIGV4cGFuZFNuaXBwZXQoKSB7XG4gICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICBldmVudDogXCJDTElDS19CVVRUT05cIixcbiAgICAgIHZhbHVlOiBcInNjZW5lMS1idXR0b24tbGVhcm4tbW9yZVwiLFxuICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBleHBhbmRlZDogdHJ1ZSxcbiAgICAgIHNpZ251cFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgc2lnbnVwU3VibWl0dGVkOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZvcm1JbnB1dHMoKSB7XG4gICAgY29uc3QgeyBoaWRkZW5faW5wdXRzIH0gPSB0aGlzLnByb3BzLmNvbnRlbnQ7XG5cbiAgICBpZiAoIWhpZGRlbl9pbnB1dHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhoaWRkZW5faW5wdXRzKS5tYXAoKGtleSwgaWR4KSA9PiAoXG4gICAgICA8aW5wdXQga2V5PXtpZHh9IHR5cGU9XCJoaWRkZW5cIiBuYW1lPXtrZXl9IHZhbHVlPXtoaWRkZW5faW5wdXRzW2tleV19IC8+XG4gICAgKSk7XG4gIH1cblxuICByZW5kZXJEaXNjbGFpbWVyKCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWNvbnRlbnQuc2NlbmUyX2Rpc2NsYWltZXJfaHRtbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJkaXNjbGFpbWVyVGV4dFwiPlxuICAgICAgICA8UmljaFRleHRcbiAgICAgICAgICB0ZXh0PXtjb250ZW50LnNjZW5lMl9kaXNjbGFpbWVyX2h0bWx9XG4gICAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwiZGlzY2xhaW1lcl9odG1sXCJcbiAgICAgICAgICBsaW5rcz17Y29udGVudC5saW5rc31cbiAgICAgICAgICBkb05vdEF1dG9CbG9jaz17dHJ1ZX1cbiAgICAgICAgICBvcGVuTmV3V2luZG93PXt0cnVlfVxuICAgICAgICAgIHNlbmRDbGljaz17dGhpcy5wcm9wcy5zZW5kQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckZvcm1Qcml2YWN5Tm90aWNlKCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWNvbnRlbnQuc2NlbmUyX3ByaXZhY3lfaHRtbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJwcml2YWN5Tm90aWNlXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgaWQ9XCJpZF9wcml2YWN5XCJcbiAgICAgICAgICBuYW1lPVwicHJpdmFjeVwiXG4gICAgICAgICAgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwiaWRfcHJpdmFjeVwiPlxuICAgICAgICAgIDxSaWNoVGV4dFxuICAgICAgICAgICAgdGV4dD17Y29udGVudC5zY2VuZTJfcHJpdmFjeV9odG1sfVxuICAgICAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwicHJpdmFjeV9odG1sXCJcbiAgICAgICAgICAgIGxpbmtzPXtjb250ZW50LmxpbmtzfVxuICAgICAgICAgICAgZG9Ob3RBdXRvQmxvY2s9e3RydWV9XG4gICAgICAgICAgICBvcGVuTmV3V2luZG93PXt0cnVlfVxuICAgICAgICAgICAgc2VuZENsaWNrPXt0aGlzLnByb3BzLnNlbmRDbGlja31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTaWdudXBTdWJtaXR0ZWQoKSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzU3VjY2VzcyA9IHRoaXMuc3RhdGUuc2lnbnVwU3VjY2VzcztcbiAgICBjb25zdCBzdWNjZXNzVGl0bGUgPSBpc1N1Y2Nlc3MgJiYgY29udGVudC5zdWNjZXNzX3RpdGxlO1xuICAgIGNvbnN0IGJvZHlUZXh0ID0gaXNTdWNjZXNzXG4gICAgICA/IHsgc3VjY2Vzc190ZXh0OiBjb250ZW50LnN1Y2Nlc3NfdGV4dCB9XG4gICAgICA6IHsgZXJyb3JfdGV4dDogY29udGVudC5lcnJvcl90ZXh0IH07XG4gICAgY29uc3QgcmV0cnlCdXR0b25UZXh0ID0gY29udGVudC5yZXRyeV9idXR0b25fbGFiZWw7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTbmlwcGV0QmFzZSB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VibWlzc2lvblN0YXR1c1wiPlxuICAgICAgICAgIHtzdWNjZXNzVGl0bGUgPyAoXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwic3VibWl0U3RhdHVzVGl0bGVcIj57c3VjY2Vzc1RpdGxlfTwvaDI+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8UmljaFRleHRcbiAgICAgICAgICAgICAgey4uLmJvZHlUZXh0fVxuICAgICAgICAgICAgICBsb2NhbGl6YXRpb25faWQ9e2lzU3VjY2VzcyA/IFwic3VjY2Vzc190ZXh0XCIgOiBcImVycm9yX3RleHRcIn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7aXNTdWNjZXNzID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmV4cGFuZFNuaXBwZXR9PntyZXRyeUJ1dHRvblRleHR9PC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1NuaXBwZXRCYXNlPlxuICAgICk7XG4gIH1cblxuICBvbklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnZhbGlkYXRlSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGFzRXJyb3IgPSB0aGlzLnByb3BzLnZhbGlkYXRlSW5wdXQoXG4gICAgICBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRcbiAgICApO1xuICAgIGV2ZW50LnRhcmdldC5zZXRDdXN0b21WYWxpZGl0eShoYXNFcnJvcik7XG4gIH1cblxuICByZW5kZXJJbnB1dCgpIHtcbiAgICBjb25zdCBwbGFjaG9sZGVyID1cbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5zY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dCB8fFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LnNjZW5lMl9pbnB1dF9wbGFjZWhvbGRlcjtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHJlZj1cIm1haW5JbnB1dFwiXG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMuaW5wdXRUeXBlIHx8IFwiZW1haWxcIn1cbiAgICAgICAgY2xhc3NOYW1lPXtgbWFpbklucHV0JHt0aGlzLnN0YXRlLnN1Ym1pdEF0dGVtcHRlZCA/IFwiXCIgOiBcIiBjbGVhblwifWB9XG4gICAgICAgIG5hbWU9XCJlbWFpbFwiXG4gICAgICAgIHJlcXVpcmVkPXt0cnVlfVxuICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2hvbGRlcn1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMudmFsaWRhdGVJbnB1dCA/IHRoaXMub25JbnB1dENoYW5nZSA6IG51bGx9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTaWdudXBWaWV3KCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjb250YWluZXJDbGFzcyA9IGBTdWJtaXRGb3JtU25pcHBldCAke3RoaXMucHJvcHMuY2xhc3NOYW1lfWA7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTbmlwcGV0QmFzZVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc31cbiAgICAgICAgZm9vdGVyRGlzbWlzcz17dHJ1ZX1cbiAgICAgID5cbiAgICAgICAge2NvbnRlbnQuc2NlbmUyX2ljb24gPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2VuZTJJY29uXCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17c2FmZVVSSShjb250ZW50LnNjZW5lMl9pY29uKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgICAgIGFsdD17Y29udGVudC5zY2VuZTJfaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtzYWZlVVJJKFxuICAgICAgICAgICAgICAgIGNvbnRlbnQuc2NlbmUyX2ljb25fZGFya190aGVtZSB8fCBjb250ZW50LnNjZW5lMl9pY29uXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24tZGFyay10aGVtZVwiXG4gICAgICAgICAgICAgIGFsdD17Y29udGVudC5zY2VuZTJfaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2NvbnRlbnQuc2NlbmUyX3RpdGxlICYmIChcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInNjZW5lMlRpdGxlXCI+e2NvbnRlbnQuc2NlbmUyX3RpdGxlfTwvaDM+XG4gICAgICAgICAgICApfXtcIiBcIn1cbiAgICAgICAgICAgIHtjb250ZW50LnNjZW5lMl90ZXh0ICYmIChcbiAgICAgICAgICAgICAgPFJpY2hUZXh0XG4gICAgICAgICAgICAgICAgc2NlbmUyX3RleHQ9e2NvbnRlbnQuc2NlbmUyX3RleHR9XG4gICAgICAgICAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwic2NlbmUyX3RleHRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Zm9ybVxuICAgICAgICAgIGFjdGlvbj17dGhpcy5wcm9wcy5mb3JtX2FjdGlvbn1cbiAgICAgICAgICBtZXRob2Q9e3RoaXMucHJvcHMuZm9ybV9tZXRob2R9XG4gICAgICAgICAgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICAgIHJlZj1cImZvcm1cIlxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRm9ybUlucHV0cygpfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJJbnB1dCgpfVxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gcHJpbWFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0QXR0ZW1wdH1cbiAgICAgICAgICAgICAgcmVmPVwiZm9ybVN1Ym1pdEJ0blwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjb250ZW50LnNjZW5lMl9idXR0b25fbGFiZWx9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJGb3JtUHJpdmFjeU5vdGljZSgpIHx8IHRoaXMucmVuZGVyRGlzY2xhaW1lcigpfVxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L1NuaXBwZXRCYXNlPlxuICAgICk7XG4gIH1cblxuICBnZXRGaXJzdFNjZW5lQ29udGVudCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9wcy5jb250ZW50KVxuICAgICAgLmZpbHRlcihrZXkgPT4ga2V5LmluY2x1ZGVzKFwic2NlbmUxXCIpKVxuICAgICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgYWNjW2tleS5zdWJzdHIoNyldID0gdGhpcy5wcm9wcy5jb250ZW50W2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udGVudCA9IHsgLi4udGhpcy5wcm9wcy5jb250ZW50LCAuLi50aGlzLmdldEZpcnN0U2NlbmVDb250ZW50KCkgfTtcblxuICAgIGlmICh0aGlzLnN0YXRlLnNpZ251cFN1Ym1pdHRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyU2lnbnVwU3VibWl0dGVkKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLmV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJTaWdudXBWaWV3KCk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8U2ltcGxlU25pcHBldFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY29udGVudD17Y29udGVudH1cbiAgICAgICAgb25CdXR0b25DbGljaz17dGhpcy5leHBhbmRTbmlwcGV0fVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgc2NoZW1hIGZyb20gXCIuL0ZYQVNpZ251cFNuaXBwZXQuc2NoZW1hLmpzb25cIjtcbmltcG9ydCB7IFN1Ym1pdEZvcm1TbmlwcGV0IH0gZnJvbSBcIi4uL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeFwiO1xuXG5leHBvcnQgY29uc3QgRlhBU2lnbnVwU25pcHBldCA9IHByb3BzID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8pO1xuICBjb25zdCBmaXJlZm94X3ZlcnNpb24gPSB1c2VyQWdlbnQgPyBwYXJzZUludCh1c2VyQWdlbnRbMV0sIDEwKSA6IDA7XG4gIGNvbnN0IGV4dGVuZGVkQ29udGVudCA9IHtcbiAgICBzY2VuZTFfYnV0dG9uX2xhYmVsOiBzY2hlbWEucHJvcGVydGllcy5zY2VuZTFfYnV0dG9uX2xhYmVsLmRlZmF1bHQsXG4gICAgcmV0cnlfYnV0dG9uX2xhYmVsOiBzY2hlbWEucHJvcGVydGllcy5yZXRyeV9idXR0b25fbGFiZWwuZGVmYXVsdCxcbiAgICBzY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dDpcbiAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnNjZW5lMl9lbWFpbF9wbGFjZWhvbGRlcl90ZXh0LmRlZmF1bHQsXG4gICAgc2NlbmUyX2J1dHRvbl9sYWJlbDogc2NoZW1hLnByb3BlcnRpZXMuc2NlbmUyX2J1dHRvbl9sYWJlbC5kZWZhdWx0LFxuICAgIHNjZW5lMl9kaXNtaXNzX2J1dHRvbl90ZXh0OlxuICAgICAgc2NoZW1hLnByb3BlcnRpZXMuc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQuZGVmYXVsdCxcbiAgICAuLi5wcm9wcy5jb250ZW50LFxuICAgIGhpZGRlbl9pbnB1dHM6IHtcbiAgICAgIGFjdGlvbjogXCJlbWFpbFwiLFxuICAgICAgY29udGV4dDogXCJmeF9kZXNrdG9wX3YzXCIsXG4gICAgICBlbnRyeXBvaW50OiBcInNuaXBwZXRzXCIsXG4gICAgICB1dG1fc291cmNlOiBcInNuaXBwZXRcIixcbiAgICAgIHV0bV9jb250ZW50OiBmaXJlZm94X3ZlcnNpb24sXG4gICAgICB1dG1fY2FtcGFpZ246IHByb3BzLmNvbnRlbnQudXRtX2NhbXBhaWduLFxuICAgICAgdXRtX3Rlcm06IHByb3BzLmNvbnRlbnQudXRtX3Rlcm0sXG4gICAgICAuLi5wcm9wcy5jb250ZW50LmhpZGRlbl9pbnB1dHMsXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTdWJtaXRGb3JtU25pcHBldFxuICAgICAgey4uLnByb3BzfVxuICAgICAgY29udGVudD17ZXh0ZW5kZWRDb250ZW50fVxuICAgICAgZm9ybV9hY3Rpb249e1wiaHR0cHM6Ly9hY2NvdW50cy5maXJlZm94LmNvbS9cIn1cbiAgICAgIGZvcm1fbWV0aG9kPVwiR0VUXCJcbiAgICAvPlxuICApO1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBzY2hlbWEgZnJvbSBcIi4vTmV3c2xldHRlclNuaXBwZXQuc2NoZW1hLmpzb25cIjtcbmltcG9ydCB7IFN1Ym1pdEZvcm1TbmlwcGV0IH0gZnJvbSBcIi4uL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeFwiO1xuXG5leHBvcnQgY29uc3QgTmV3c2xldHRlclNuaXBwZXQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IGV4dGVuZGVkQ29udGVudCA9IHtcbiAgICBzY2VuZTFfYnV0dG9uX2xhYmVsOiBzY2hlbWEucHJvcGVydGllcy5zY2VuZTFfYnV0dG9uX2xhYmVsLmRlZmF1bHQsXG4gICAgcmV0cnlfYnV0dG9uX2xhYmVsOiBzY2hlbWEucHJvcGVydGllcy5yZXRyeV9idXR0b25fbGFiZWwuZGVmYXVsdCxcbiAgICBzY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dDpcbiAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnNjZW5lMl9lbWFpbF9wbGFjZWhvbGRlcl90ZXh0LmRlZmF1bHQsXG4gICAgc2NlbmUyX2J1dHRvbl9sYWJlbDogc2NoZW1hLnByb3BlcnRpZXMuc2NlbmUyX2J1dHRvbl9sYWJlbC5kZWZhdWx0LFxuICAgIHNjZW5lMl9kaXNtaXNzX2J1dHRvbl90ZXh0OlxuICAgICAgc2NoZW1hLnByb3BlcnRpZXMuc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQuZGVmYXVsdCxcbiAgICBzY2VuZTJfbmV3c2xldHRlcjogc2NoZW1hLnByb3BlcnRpZXMuc2NlbmUyX25ld3NsZXR0ZXIuZGVmYXVsdCxcbiAgICAuLi5wcm9wcy5jb250ZW50LFxuICAgIGhpZGRlbl9pbnB1dHM6IHtcbiAgICAgIG5ld3NsZXR0ZXJzOlxuICAgICAgICBwcm9wcy5jb250ZW50LnNjZW5lMl9uZXdzbGV0dGVyIHx8XG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnNjZW5lMl9uZXdzbGV0dGVyLmRlZmF1bHQsXG4gICAgICBmbXQ6IHNjaGVtYS5wcm9wZXJ0aWVzLmhpZGRlbl9pbnB1dHMucHJvcGVydGllcy5mbXQuZGVmYXVsdCxcbiAgICAgIGxhbmc6IHByb3BzLmNvbnRlbnQubG9jYWxlIHx8IHNjaGVtYS5wcm9wZXJ0aWVzLmxvY2FsZS5kZWZhdWx0LFxuICAgICAgc291cmNlX3VybDogYGh0dHBzOi8vc25pcHBldHMubW96aWxsYS5jb20vc2hvdy8ke3Byb3BzLmlkfWAsXG4gICAgICAuLi5wcm9wcy5jb250ZW50LmhpZGRlbl9pbnB1dHMsXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTdWJtaXRGb3JtU25pcHBldFxuICAgICAgey4uLnByb3BzfVxuICAgICAgY29udGVudD17ZXh0ZW5kZWRDb250ZW50fVxuICAgICAgZm9ybV9hY3Rpb249e1wiaHR0cHM6Ly9iYXNrZXQubW96aWxsYS5vcmcvc3Vic2NyaWJlLmpzb25cIn1cbiAgICAgIGZvcm1fbWV0aG9kPVwiUE9TVFwiXG4gICAgLz5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIHN0cmluZyBpcyBhbiBlbWFpbCBvciBwaG9uZSBudW1iZXIgb3IgbmVpdGhlclxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdXNlciBpbnB1dFxuICogQHBhcmFtIHtBU1JNZXNzYWdlQ29udGVudH0gY29udGVudCAuY29udGVudCBwcm9wZXJ0eSBvbiBBU1IgbWVzc2FnZVxuICogQHJldHVybnMge1wiZW1haWxcInxcInBob25lXCJ8XCJcIn0gVGhlIHR5cGUgb2YgdGhlIGlucHV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtYWlsT3JQaG9uZU51bWJlcih2YWwsIGNvbnRlbnQpIHtcbiAgY29uc3QgeyBsb2NhbGUgfSA9IGNvbnRlbnQ7XG4gIC8vIGh0dHA6Ly9lbWFpbHJlZ2V4LmNvbS9cbiAgY29uc3QgZW1haWxfcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICBjb25zdCBjaGVja19lbWFpbCA9IGVtYWlsX3JlLnRlc3QodmFsKTtcbiAgbGV0IGNoZWNrX3Bob25lOyAvLyBkZXBlbmRzIG9uIGxvY2FsZVxuICBzd2l0Y2ggKGxvY2FsZSkge1xuICAgIGNhc2UgXCJlbi1VU1wiOlxuICAgIGNhc2UgXCJlbi1DQVwiOlxuICAgICAgLy8gYWxsb3cgMTAtMTEgZGlnaXRzIGluIGNhc2UgdXNlciB3YW50cyB0byBlbnRlciBjb3VudHJ5IGNvZGVcbiAgICAgIGNoZWNrX3Bob25lID0gdmFsLmxlbmd0aCA+PSAxMCAmJiB2YWwubGVuZ3RoIDw9IDExICYmICFpc05hTih2YWwpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImRlXCI6XG4gICAgICAvLyBhbGxvdyBiZXR3ZWVuIDIgYW5kIDEyIGRpZ2l0cyBmb3IgZ2VybWFuIHBob25lIG51bWJlcnNcbiAgICAgIGNoZWNrX3Bob25lID0gdmFsLmxlbmd0aCA+PSAyICYmIHZhbC5sZW5ndGggPD0gMTIgJiYgIWlzTmFOKHZhbCk7XG4gICAgICBicmVhaztcbiAgICAvLyB0aGlzIGNhc2Ugc2hvdWxkIG5ldmVyIGJlIGhpdCwgYnV0IGdvb2QgdG8gaGF2ZSBhIGZhbGxiYWNrIGp1c3QgaW4gY2FzZVxuICAgIGRlZmF1bHQ6XG4gICAgICBjaGVja19waG9uZSA9ICFpc05hTih2YWwpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgaWYgKGNoZWNrX2VtYWlsKSB7XG4gICAgcmV0dXJuIFwiZW1haWxcIjtcbiAgfSBlbHNlIGlmIChjaGVja19waG9uZSkge1xuICAgIHJldHVybiBcInBob25lXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBpc0VtYWlsT3JQaG9uZU51bWJlciB9IGZyb20gXCIuL2lzRW1haWxPclBob25lTnVtYmVyXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgc2NoZW1hIGZyb20gXCIuL1NlbmRUb0RldmljZVNuaXBwZXQuc2NoZW1hLmpzb25cIjtcbmltcG9ydCB7IFN1Ym1pdEZvcm1TbmlwcGV0IH0gZnJvbSBcIi4uL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeFwiO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUlucHV0KHZhbHVlLCBjb250ZW50KSB7XG4gIGNvbnN0IHR5cGUgPSBpc0VtYWlsT3JQaG9uZU51bWJlcih2YWx1ZSwgY29udGVudCk7XG4gIHJldHVybiB0eXBlID8gXCJcIiA6IFwiTXVzdCBiZSBhbiBlbWFpbCBvciBhIHBob25lIG51bWJlci5cIjtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0Zvcm1EYXRhKGlucHV0LCBtZXNzYWdlKSB7XG4gIGNvbnN0IHsgY29udGVudCB9ID0gbWVzc2FnZTtcbiAgY29uc3QgdHlwZSA9IGNvbnRlbnQuaW5jbHVkZV9zbXNcbiAgICA/IGlzRW1haWxPclBob25lTnVtYmVyKGlucHV0LnZhbHVlLCBjb250ZW50KVxuICAgIDogXCJlbWFpbFwiO1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBsZXQgdXJsO1xuICBpZiAodHlwZSA9PT0gXCJwaG9uZVwiKSB7XG4gICAgdXJsID0gXCJodHRwczovL2Jhc2tldC5tb3ppbGxhLm9yZy9uZXdzL3N1YnNjcmliZV9zbXMvXCI7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwibW9iaWxlX251bWJlclwiLCBpbnB1dC52YWx1ZSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwibXNnX25hbWVcIiwgY29udGVudC5tZXNzYWdlX2lkX3Ntcyk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwiY291bnRyeVwiLCBjb250ZW50LmNvdW50cnkpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZW1haWxcIikge1xuICAgIHVybCA9IFwiaHR0cHM6Ly9iYXNrZXQubW96aWxsYS5vcmcvbmV3cy9zdWJzY3JpYmUvXCI7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwiZW1haWxcIiwgaW5wdXQudmFsdWUpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcIm5ld3NsZXR0ZXJzXCIsIGNvbnRlbnQubWVzc2FnZV9pZF9lbWFpbCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgXCJzb3VyY2VfdXJsXCIsXG4gICAgICBlbmNvZGVVUklDb21wb25lbnQoYGh0dHBzOi8vc25pcHBldHMubW96aWxsYS5jb20vc2hvdy8ke21lc3NhZ2UuaWR9YClcbiAgICApO1xuICB9XG4gIGZvcm1EYXRhLmFwcGVuZChcImxhbmdcIiwgY29udGVudC5sb2NhbGUpO1xuICByZXR1cm4geyBmb3JtRGF0YSwgdXJsIH07XG59XG5cbmZ1bmN0aW9uIGFkZERlZmF1bHRWYWx1ZXMocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcm9wcyxcbiAgICBjb250ZW50OiB7XG4gICAgICBzY2VuZTFfYnV0dG9uX2xhYmVsOiBzY2hlbWEucHJvcGVydGllcy5zY2VuZTFfYnV0dG9uX2xhYmVsLmRlZmF1bHQsXG4gICAgICByZXRyeV9idXR0b25fbGFiZWw6IHNjaGVtYS5wcm9wZXJ0aWVzLnJldHJ5X2J1dHRvbl9sYWJlbC5kZWZhdWx0LFxuICAgICAgc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQ6XG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnNjZW5lMl9kaXNtaXNzX2J1dHRvbl90ZXh0LmRlZmF1bHQsXG4gICAgICBzY2VuZTJfYnV0dG9uX2xhYmVsOiBzY2hlbWEucHJvcGVydGllcy5zY2VuZTJfYnV0dG9uX2xhYmVsLmRlZmF1bHQsXG4gICAgICBzY2VuZTJfaW5wdXRfcGxhY2Vob2xkZXI6XG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzLnNjZW5lMl9pbnB1dF9wbGFjZWhvbGRlci5kZWZhdWx0LFxuICAgICAgbG9jYWxlOiBzY2hlbWEucHJvcGVydGllcy5sb2NhbGUuZGVmYXVsdCxcbiAgICAgIGNvdW50cnk6IHNjaGVtYS5wcm9wZXJ0aWVzLmNvdW50cnkuZGVmYXVsdCxcbiAgICAgIG1lc3NhZ2VfaWRfZW1haWw6IFwiXCIsXG4gICAgICBpbmNsdWRlX3Ntczogc2NoZW1hLnByb3BlcnRpZXMuaW5jbHVkZV9zbXMuZGVmYXVsdCxcbiAgICAgIC4uLnByb3BzLmNvbnRlbnQsXG4gICAgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFNlbmRUb0RldmljZVNuaXBwZXQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHByb3BzV2l0aERlZmF1bHRzID0gYWRkRGVmYXVsdFZhbHVlcyhwcm9wcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8U3VibWl0Rm9ybVNuaXBwZXRcbiAgICAgIHsuLi5wcm9wc1dpdGhEZWZhdWx0c31cbiAgICAgIGZvcm1fbWV0aG9kPVwiUE9TVFwiXG4gICAgICBjbGFzc05hbWU9XCJzZW5kX3RvX2RldmljZV9zbmlwcGV0XCJcbiAgICAgIGlucHV0VHlwZT17cHJvcHNXaXRoRGVmYXVsdHMuY29udGVudC5pbmNsdWRlX3NtcyA/IFwidGV4dFwiIDogXCJlbWFpbFwifVxuICAgICAgdmFsaWRhdGVJbnB1dD17XG4gICAgICAgIHByb3BzV2l0aERlZmF1bHRzLmNvbnRlbnQuaW5jbHVkZV9zbXMgPyB2YWxpZGF0ZUlucHV0IDogbnVsbFxuICAgICAgfVxuICAgICAgcHJvY2Vzc0Zvcm1EYXRhPXtwcm9jZXNzRm9ybURhdGF9XG4gICAgLz5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9CdXR0b24vQnV0dG9uXCI7XG5pbXBvcnQgeyBSaWNoVGV4dCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1JpY2hUZXh0L1JpY2hUZXh0XCI7XG5pbXBvcnQgeyBzYWZlVVJJIH0gZnJvbSBcIi4uLy4uL3RlbXBsYXRlLXV0aWxzXCI7XG5pbXBvcnQgeyBTbmlwcGV0QmFzZSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1NuaXBwZXRCYXNlL1NuaXBwZXRCYXNlXCI7XG5cbmNvbnN0IERFRkFVTFRfSUNPTl9QQVRIID0gXCJjaHJvbWU6Ly9icmFuZGluZy9jb250ZW50L2ljb242NC5wbmdcIjtcbi8vIEFsdCB0ZXh0IHBsYWNlaG9sZGVyIGluIGNhc2UgdGhlIHByb3AgZnJvbSB0aGUgc2VydmVyIGlzbid0IGF2YWlsYWJsZVxuY29uc3QgSUNPTl9BTFRfVEVYVCA9IFwiXCI7XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkJ1dHRvbkNsaWNrID0gdGhpcy5vbkJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICByZW5kZXJUZXh0KCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIHByb3BzLmNvbnRlbnQudGV4dCA/IChcbiAgICAgIDxSaWNoVGV4dFxuICAgICAgICB0ZXh0PXtwcm9wcy5jb250ZW50LnRleHR9XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzPXt0aGlzLnByb3BzLmN1c3RvbUVsZW1lbnRzfVxuICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJ0ZXh0XCJcbiAgICAgICAgbGlua3M9e3Byb3BzLmNvbnRlbnQubGlua3N9XG4gICAgICAgIHNlbmRDbGljaz17cHJvcHMuc2VuZENsaWNrfVxuICAgICAgLz5cbiAgICApIDogbnVsbDtcbiAgfVxuXG4gIHJlbmRlclRpdGxlKCkge1xuICAgIGNvbnN0IHsgdGl0bGUgfSA9IHRoaXMucHJvcHMuY29udGVudDtcbiAgICByZXR1cm4gdGl0bGUgPyAoXG4gICAgICA8aDMgY2xhc3NOYW1lPXtcInRpdGxlIHRpdGxlLWlubGluZVwifT5cbiAgICAgICAge3RpdGxlfVxuICAgICAgICA8YnIgLz5cbiAgICAgIDwvaDM+XG4gICAgKSA6IG51bGw7XG4gIH1cblxuICBhc3luYyBvbkJ1dHRvbkNsaWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgICBpZDogdGhpcy5wcm9wcy5VSVN1cmZhY2UsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyBidXR0b25fdXJsIH0gPSB0aGlzLnByb3BzLmNvbnRlbnQ7XG4gICAgLy8gSWYgYnV0dG9uX3VybCBpcyBkZWZpbmVkIGhhbmRsZSBpdCBhcyBPUEVOX1VSTCBhY3Rpb25cbiAgICBjb25zdCB0eXBlID0gdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb24gfHwgKGJ1dHRvbl91cmwgJiYgXCJPUEVOX1VSTFwiKTtcbiAgICBhd2FpdCB0aGlzLnByb3BzLm9uQWN0aW9uKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhOiB7IGFyZ3M6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uX2FyZ3MgfHwgYnV0dG9uX3VybCB9LFxuICAgIH0pO1xuICAgIGlmICghdGhpcy5wcm9wcy5jb250ZW50LmRvX25vdF9hdXRvYmxvY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9jaygpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG91bGRSZW5kZXJCdXR0b24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uIHx8XG4gICAgICB0aGlzLnByb3BzLm9uQnV0dG9uQ2xpY2sgfHxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5idXR0b25fdXJsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckJ1dHRvbigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGlmICghdGhpcy5fc2hvdWxkUmVuZGVyQnV0dG9uKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQnV0dG9uQ2xpY2sgfHwgdGhpcy5vbkJ1dHRvbkNsaWNrfVxuICAgICAgICBjb2xvcj17cHJvcHMuY29udGVudC5idXR0b25fY29sb3J9XG4gICAgICAgIGJhY2tncm91bmRDb2xvcj17cHJvcHMuY29udGVudC5idXR0b25fYmFja2dyb3VuZF9jb2xvcn1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNvbnRlbnQuYnV0dG9uX2xhYmVsfVxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGxldCBjbGFzc05hbWUgPSBcIlNpbXBsZUJlbG93U2VhcmNoU25pcHBldFwiO1xuICAgIGxldCBjb250YWluZXJOYW1lID0gXCJiZWxvdy1zZWFyY2gtc25pcHBldFwiO1xuXG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcm9wcy5jbGFzc05hbWV9YDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3Nob3VsZFJlbmRlckJ1dHRvbigpKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgd2l0aEJ1dHRvblwiO1xuICAgICAgY29udGFpbmVyTmFtZSArPSBcIiB3aXRoQnV0dG9uXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb250YWluZXJOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmlwcGV0LWhvdmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICA8U25pcHBldEJhc2VcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgdGV4dFN0eWxlPXt0aGlzLnByb3BzLnRleHRTdHlsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17c2FmZVVSSShwcm9wcy5jb250ZW50Lmljb24pIHx8IERFRkFVTFRfSUNPTl9QQVRIfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgICAgICBhbHQ9e3Byb3BzLmNvbnRlbnQuaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtcbiAgICAgICAgICAgICAgICBzYWZlVVJJKHByb3BzLmNvbnRlbnQuaWNvbl9kYXJrX3RoZW1lIHx8IHByb3BzLmNvbnRlbnQuaWNvbikgfHxcbiAgICAgICAgICAgICAgICBERUZBVUxUX0lDT05fUEFUSFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1kYXJrLXRoZW1lXCJcbiAgICAgICAgICAgICAgYWx0PXtwcm9wcy5jb250ZW50Lmljb25fYWx0X3RleHQgfHwgSUNPTl9BTFRfVEVYVH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHRDb250YWluZXJcIj5cbiAgICAgICAgICAgICAge3RoaXMucmVuZGVyVGl0bGUoKX1cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYm9keVwiPnt0aGlzLnJlbmRlclRleHQoKX08L3A+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4dHJhQ29udGVudH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uQ29udGFpbmVyXCI+e3RoaXMucmVuZGVyQnV0dG9uKCl9PC9kaXY+fVxuICAgICAgICAgIDwvU25pcHBldEJhc2U+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRU9ZU25pcHBldCB9IGZyb20gXCIuL0VPWVNuaXBwZXQvRU9ZU25pcHBldFwiO1xuaW1wb3J0IHsgRlhBU2lnbnVwU25pcHBldCB9IGZyb20gXCIuL0ZYQVNpZ251cFNuaXBwZXQvRlhBU2lnbnVwU25pcHBldFwiO1xuaW1wb3J0IHsgTmV3c2xldHRlclNuaXBwZXQgfSBmcm9tIFwiLi9OZXdzbGV0dGVyU25pcHBldC9OZXdzbGV0dGVyU25pcHBldFwiO1xuaW1wb3J0IHsgU2VuZFRvRGV2aWNlU25pcHBldCB9IGZyb20gXCIuL1NlbmRUb0RldmljZVNuaXBwZXQvU2VuZFRvRGV2aWNlU25pcHBldFwiO1xuaW1wb3J0IHsgU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0IH0gZnJvbSBcIi4vU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0L1NpbXBsZUJlbG93U2VhcmNoU25pcHBldFwiO1xuaW1wb3J0IHsgU2ltcGxlU25pcHBldCB9IGZyb20gXCIuL1NpbXBsZVNuaXBwZXQvU2ltcGxlU25pcHBldFwiO1xuXG4vLyBLZXkgbmFtZXMgbWF0Y2hpbmcgc2NoZW1hIG5hbWUgb2YgdGVtcGxhdGVzXG5leHBvcnQgY29uc3QgU25pcHBldHNUZW1wbGF0ZXMgPSB7XG4gIHNpbXBsZV9zbmlwcGV0OiBTaW1wbGVTbmlwcGV0LFxuICBuZXdzbGV0dGVyX3NuaXBwZXQ6IE5ld3NsZXR0ZXJTbmlwcGV0LFxuICBmeGFfc2lnbnVwX3NuaXBwZXQ6IEZYQVNpZ251cFNuaXBwZXQsXG4gIHNlbmRfdG9fZGV2aWNlX3NuaXBwZXQ6IFNlbmRUb0RldmljZVNuaXBwZXQsXG4gIGVveV9zbmlwcGV0OiBFT1lTbmlwcGV0LFxuICBzaW1wbGVfYmVsb3dfc2VhcmNoX3NuaXBwZXQ6IFNpbXBsZUJlbG93U2VhcmNoU25pcHBldCxcbn07XG4iLCIvKiBnbG9iYWwgSW50bCAqL1xuXG4vKipcbiAqIFRoZSBgRmx1ZW50VHlwZWAgY2xhc3MgaXMgdGhlIGJhc2Ugb2YgRmx1ZW50J3MgdHlwZSBzeXN0ZW0uXG4gKlxuICogRmx1ZW50IHR5cGVzIHdyYXAgSmF2YVNjcmlwdCB2YWx1ZXMgYW5kIHN0b3JlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3JcbiAqIHRoZW0sIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgaW4gdGhlIGB0b1N0cmluZ2AgbWV0aG9kIHRvZ2V0aGVyIHdpdGggYSBwcm9wZXJcbiAqIGBJbnRsYCBmb3JtYXR0ZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBGbHVlbnRUeXBlIHtcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGBGbHVlbnRUeXBlYCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtICAge0FueX0gICAgdmFsdWUgLSBKYXZhU2NyaXB0IHZhbHVlIHRvIHdyYXAuXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IG9wdHMgIC0gQ29uZmlndXJhdGlvbi5cbiAgICogQHJldHVybnMge0ZsdWVudFR5cGV9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0cykge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVud3JhcCB0aGUgcmF3IHZhbHVlIHN0b3JlZCBieSB0aGlzIGBGbHVlbnRUeXBlYC5cbiAgICpcbiAgICogQHJldHVybnMge0FueX1cbiAgICovXG4gIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IHRoaXMgaW5zdGFuY2Ugb2YgYEZsdWVudFR5cGVgIHRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBGb3JtYXR0ZWQgdmFsdWVzIGFyZSBzdWl0YWJsZSBmb3IgdXNlIG91dHNpZGUgb2YgdGhlIGBGbHVlbnRCdW5kbGVgLlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gdXNlIGBJbnRsYCBmb3JtYXR0ZXJzIG1lbW9pemVkIGJ5IHRoZSBgRmx1ZW50QnVuZGxlYFxuICAgKiBpbnN0YW5jZSBwYXNzZWQgYXMgYW4gYXJndW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtGbHVlbnRCdW5kbGV9IFtidW5kbGVdXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdWJjbGFzc2VzIG9mIEZsdWVudFR5cGUgbXVzdCBpbXBsZW1lbnQgdG9TdHJpbmcuXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbHVlbnROb25lIGV4dGVuZHMgRmx1ZW50VHlwZSB7XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlIHx8IFwiPz8/XCI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsdWVudE51bWJlciBleHRlbmRzIEZsdWVudFR5cGUge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0cykge1xuICAgIHN1cGVyKHBhcnNlRmxvYXQodmFsdWUpLCBvcHRzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKGJ1bmRsZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZiA9IGJ1bmRsZS5fbWVtb2l6ZUludGxPYmplY3QoXG4gICAgICAgIEludGwuTnVtYmVyRm9ybWF0LCB0aGlzLm9wdHNcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmYuZm9ybWF0KHRoaXMudmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFhYWCBSZXBvcnQgdGhlIGVycm9yLlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbHVlbnREYXRlVGltZSBleHRlbmRzIEZsdWVudFR5cGUge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0cykge1xuICAgIHN1cGVyKG5ldyBEYXRlKHZhbHVlKSwgb3B0cyk7XG4gIH1cblxuICB0b1N0cmluZyhidW5kbGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZHRmID0gYnVuZGxlLl9tZW1vaXplSW50bE9iamVjdChcbiAgICAgICAgSW50bC5EYXRlVGltZUZvcm1hdCwgdGhpcy5vcHRzXG4gICAgICApO1xuICAgICAgcmV0dXJuIGR0Zi5mb3JtYXQodGhpcy52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gWFhYIFJlcG9ydCB0aGUgZXJyb3IuXG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQG92ZXJ2aWV3XG4gKlxuICogVGhlIEZUTCByZXNvbHZlciBzaGlwcyB3aXRoIGEgbnVtYmVyIG9mIGZ1bmN0aW9ucyBidWlsdC1pbi5cbiAqXG4gKiBFYWNoIGZ1bmN0aW9uIHRha2UgdHdvIGFyZ3VtZW50czpcbiAqICAgLSBhcmdzIC0gYW4gYXJyYXkgb2YgcG9zaXRpb25hbCBhcmdzXG4gKiAgIC0gb3B0cyAtIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgYXJnc1xuICpcbiAqIEFyZ3VtZW50cyB0byBmdW5jdGlvbnMgYXJlIGd1YXJhbnRlZWQgdG8gYWxyZWFkeSBiZSBpbnN0YW5jZXMgb2ZcbiAqIGBGbHVlbnRUeXBlYC4gIEZ1bmN0aW9ucyBtdXN0IHJldHVybiBgRmx1ZW50VHlwZWAgb2JqZWN0cyBhcyB3ZWxsLlxuICovXG5cbmltcG9ydCB7IEZsdWVudE51bWJlciwgRmx1ZW50RGF0ZVRpbWUgfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFwiTlVNQkVSXCI6IChbYXJnXSwgb3B0cykgPT5cbiAgICBuZXcgRmx1ZW50TnVtYmVyKGFyZy52YWx1ZU9mKCksIG1lcmdlKGFyZy5vcHRzLCBvcHRzKSksXG4gIFwiREFURVRJTUVcIjogKFthcmddLCBvcHRzKSA9PlxuICAgIG5ldyBGbHVlbnREYXRlVGltZShhcmcudmFsdWVPZigpLCBtZXJnZShhcmcub3B0cywgb3B0cykpLFxufTtcblxuZnVuY3Rpb24gbWVyZ2UoYXJnb3B0cywgb3B0cykge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYXJnb3B0cywgdmFsdWVzKG9wdHMpKTtcbn1cblxuZnVuY3Rpb24gdmFsdWVzKG9wdHMpIHtcbiAgY29uc3QgdW53cmFwcGVkID0ge307XG4gIGZvciAoY29uc3QgW25hbWUsIG9wdF0gb2YgT2JqZWN0LmVudHJpZXMob3B0cykpIHtcbiAgICB1bndyYXBwZWRbbmFtZV0gPSBvcHQudmFsdWVPZigpO1xuICB9XG4gIHJldHVybiB1bndyYXBwZWQ7XG59XG4iLCIvKiBnbG9iYWwgSW50bCAqL1xuXG4vKipcbiAqIEBvdmVydmlld1xuICpcbiAqIFRoZSByb2xlIG9mIHRoZSBGbHVlbnQgcmVzb2x2ZXIgaXMgdG8gZm9ybWF0IGEgdHJhbnNsYXRpb24gb2JqZWN0IHRvIGFuXG4gKiBpbnN0YW5jZSBvZiBgRmx1ZW50VHlwZWAgb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzLlxuICpcbiAqIFRyYW5zbGF0aW9ucyBjYW4gY29udGFpbiByZWZlcmVuY2VzIHRvIG90aGVyIG1lc3NhZ2VzIG9yIHZhcmlhYmxlcyxcbiAqIGNvbmRpdGlvbmFsIGxvZ2ljIGluIGZvcm0gb2Ygc2VsZWN0IGV4cHJlc3Npb25zLCB0cmFpdHMgd2hpY2ggZGVzY3JpYmUgdGhlaXJcbiAqIGdyYW1tYXRpY2FsIGZlYXR1cmVzLCBhbmQgY2FuIHVzZSBGbHVlbnQgYnVpbHRpbnMgd2hpY2ggbWFrZSB1c2Ugb2YgdGhlXG4gKiBgSW50bGAgZm9ybWF0dGVycyB0byBmb3JtYXQgbnVtYmVycywgZGF0ZXMsIGxpc3RzIGFuZCBtb3JlIGludG8gdGhlXG4gKiBidW5kbGUncyBsYW5ndWFnZS4gU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIHRoZSBGbHVlbnQgc3ludGF4IGZvciBtb3JlXG4gKiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiBjYXNlIG9mIGVycm9ycyB0aGUgcmVzb2x2ZXIgd2lsbCB0cnkgdG8gc2FsdmFnZSBhcyBtdWNoIG9mIHRoZVxuICogdHJhbnNsYXRpb24gYXMgcG9zc2libGUuICBJbiByYXJlIHNpdHVhdGlvbnMgd2hlcmUgdGhlIHJlc29sdmVyIGRpZG4ndCBrbm93XG4gKiBob3cgdG8gcmVjb3ZlciBmcm9tIGFuIGVycm9yIGl0IHdpbGwgcmV0dXJuIGFuIGluc3RhbmNlIG9mIGBGbHVlbnROb25lYC5cbiAqXG4gKiBBbGwgZXhwcmVzc2lvbnMgcmVzb2x2ZSB0byBhbiBpbnN0YW5jZSBvZiBgRmx1ZW50VHlwZWAuIFRoZSBjYWxsZXIgc2hvdWxkXG4gKiB1c2UgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIHRvIGNvbnZlcnQgdGhlIGluc3RhbmNlIHRvIGEgbmF0aXZlIHZhbHVlLlxuICpcbiAqIEFsbCBmdW5jdGlvbnMgaW4gdGhpcyBmaWxlIHBhc3MgYXJvdW5kIGEgc3BlY2lhbCBvYmplY3QgY2FsbGVkIGBzY29wZWAuXG4gKiBUaGlzIG9iamVjdCBzdG9yZXMgYSBzZXQgb2YgZWxlbWVudHMgdXNlZCBieSBhbGwgcmVzb2x2ZSBmdW5jdGlvbnM6XG4gKlxuICogICoge0ZsdWVudEJ1bmRsZX0gYnVuZGxlXG4gKiAgICAgIGJ1bmRsZSBmb3Igd2hpY2ggdGhlIGdpdmVuIHJlc29sdXRpb24gaXMgaGFwcGVuaW5nXG4gKiAgKiB7T2JqZWN0fSBhcmdzXG4gKiAgICAgIGxpc3Qgb2YgZGV2ZWxvcGVyIHByb3ZpZGVkIGFyZ3VtZW50cyB0aGF0IGNhbiBiZSB1c2VkXG4gKiAgKiB7QXJyYXl9IGVycm9yc1xuICogICAgICBsaXN0IG9mIGVycm9ycyBjb2xsZWN0ZWQgd2hpbGUgcmVzb2x2aW5nXG4gKiAgKiB7V2Vha1NldH0gZGlydHlcbiAqICAgICAgU2V0IG9mIHBhdHRlcm5zIGFscmVhZHkgZW5jb3VudGVyZWQgZHVyaW5nIHRoaXMgcmVzb2x1dGlvbi5cbiAqICAgICAgVGhpcyBpcyB1c2VkIHRvIHByZXZlbnQgY3ljbGljIHJlc29sdXRpb25zLlxuICovXG5cblxuaW1wb3J0IHsgRmx1ZW50VHlwZSwgRmx1ZW50Tm9uZSwgRmx1ZW50TnVtYmVyLCBGbHVlbnREYXRlVGltZSB9XG4gIGZyb20gXCIuL3R5cGVzLmpzXCI7XG5pbXBvcnQgYnVpbHRpbnMgZnJvbSBcIi4vYnVpbHRpbnMuanNcIjtcblxuLy8gUHJldmVudCBleHBhbnNpb24gb2YgdG9vIGxvbmcgcGxhY2VhYmxlcy5cbmNvbnN0IE1BWF9QTEFDRUFCTEVfTEVOR1RIID0gMjUwMDtcblxuLy8gVW5pY29kZSBiaWRpIGlzb2xhdGlvbiBjaGFyYWN0ZXJzLlxuY29uc3QgRlNJID0gXCJcXHUyMDY4XCI7XG5jb25zdCBQREkgPSBcIlxcdTIwNjlcIjtcblxuXG4vLyBIZWxwZXI6IG1hdGNoIGEgdmFyaWFudCBrZXkgdG8gdGhlIGdpdmVuIHNlbGVjdG9yLlxuZnVuY3Rpb24gbWF0Y2goYnVuZGxlLCBzZWxlY3Rvciwga2V5KSB7XG4gIGlmIChrZXkgPT09IHNlbGVjdG9yKSB7XG4gICAgLy8gQm90aCBhcmUgc3RyaW5ncy5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFhYWCBDb25zaWRlciBjb21wYXJpbmcgb3B0aW9ucyB0b28sIGUuZy4gbWluaW11bUZyYWN0aW9uRGlnaXRzLlxuICBpZiAoa2V5IGluc3RhbmNlb2YgRmx1ZW50TnVtYmVyXG4gICAgJiYgc2VsZWN0b3IgaW5zdGFuY2VvZiBGbHVlbnROdW1iZXJcbiAgICAmJiBrZXkudmFsdWUgPT09IHNlbGVjdG9yLnZhbHVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBGbHVlbnROdW1iZXIgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxldCBjYXRlZ29yeSA9IGJ1bmRsZVxuICAgICAgLl9tZW1vaXplSW50bE9iamVjdChJbnRsLlBsdXJhbFJ1bGVzLCBzZWxlY3Rvci5vcHRzKVxuICAgICAgLnNlbGVjdChzZWxlY3Rvci52YWx1ZSk7XG4gICAgaWYgKGtleSA9PT0gY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gSGVscGVyOiByZXNvbHZlIHRoZSBkZWZhdWx0IHZhcmlhbnQgZnJvbSBhIGxpc3Qgb2YgdmFyaWFudHMuXG5mdW5jdGlvbiBnZXREZWZhdWx0KHNjb3BlLCB2YXJpYW50cywgc3Rhcikge1xuICBpZiAodmFyaWFudHNbc3Rhcl0pIHtcbiAgICByZXR1cm4gVHlwZShzY29wZSwgdmFyaWFudHNbc3Rhcl0pO1xuICB9XG5cbiAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJhbmdlRXJyb3IoXCJObyBkZWZhdWx0XCIpKTtcbiAgcmV0dXJuIG5ldyBGbHVlbnROb25lKCk7XG59XG5cbi8vIEhlbHBlcjogcmVzb2x2ZSBhcmd1bWVudHMgdG8gYSBjYWxsIGV4cHJlc3Npb24uXG5mdW5jdGlvbiBnZXRBcmd1bWVudHMoc2NvcGUsIGFyZ3MpIHtcbiAgY29uc3QgcG9zaXRpb25hbCA9IFtdO1xuICBjb25zdCBuYW1lZCA9IHt9O1xuXG4gIGZvciAoY29uc3QgYXJnIG9mIGFyZ3MpIHtcbiAgICBpZiAoYXJnLnR5cGUgPT09IFwibmFyZ1wiKSB7XG4gICAgICBuYW1lZFthcmcubmFtZV0gPSBUeXBlKHNjb3BlLCBhcmcudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3NpdGlvbmFsLnB1c2goVHlwZShzY29wZSwgYXJnKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtwb3NpdGlvbmFsLCBuYW1lZF07XG59XG5cbi8vIFJlc29sdmUgYW4gZXhwcmVzc2lvbiB0byBhIEZsdWVudCB0eXBlLlxuZnVuY3Rpb24gVHlwZShzY29wZSwgZXhwcikge1xuICAvLyBBIGZhc3QtcGF0aCBmb3Igc3RyaW5ncyB3aGljaCBhcmUgdGhlIG1vc3QgY29tbW9uIGNhc2UuIFNpbmNlIHRoZXlcbiAgLy8gbmF0aXZlbHkgaGF2ZSB0aGUgYHRvU3RyaW5nYCBtZXRob2QgdGhleSBjYW4gYmUgdXNlZCBhcyBpZiB0aGV5IHdlcmVcbiAgLy8gYSBGbHVlbnRUeXBlIGluc3RhbmNlIHdpdGhvdXQgaW5jdXJyaW5nIHRoZSBjb3N0IG9mIGNyZWF0aW5nIG9uZS5cbiAgaWYgKHR5cGVvZiBleHByID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNjb3BlLmJ1bmRsZS5fdHJhbnNmb3JtKGV4cHIpO1xuICB9XG5cbiAgLy8gQSBmYXN0LXBhdGggZm9yIGBGbHVlbnROb25lYCB3aGljaCBkb2Vzbid0IHJlcXVpcmUgYW55IGFkZGl0aW9uYWwgbG9naWMuXG4gIGlmIChleHByIGluc3RhbmNlb2YgRmx1ZW50Tm9uZSkge1xuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLy8gVGhlIFJ1bnRpbWUgQVNUIChFbnRyaWVzKSBlbmNvZGVzIHBhdHRlcm5zIChjb21wbGV4IHN0cmluZ3Mgd2l0aFxuICAvLyBwbGFjZWFibGVzKSBhcyBBcnJheXMuXG4gIGlmIChBcnJheS5pc0FycmF5KGV4cHIpKSB7XG4gICAgcmV0dXJuIFBhdHRlcm4oc2NvcGUsIGV4cHIpO1xuICB9XG5cbiAgc3dpdGNoIChleHByLnR5cGUpIHtcbiAgICBjYXNlIFwic3RyXCI6XG4gICAgICByZXR1cm4gZXhwci52YWx1ZTtcbiAgICBjYXNlIFwibnVtXCI6XG4gICAgICByZXR1cm4gbmV3IEZsdWVudE51bWJlcihleHByLnZhbHVlLCB7XG4gICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogZXhwci5wcmVjaXNpb24sXG4gICAgICB9KTtcbiAgICBjYXNlIFwidmFyXCI6XG4gICAgICByZXR1cm4gVmFyaWFibGVSZWZlcmVuY2Uoc2NvcGUsIGV4cHIpO1xuICAgIGNhc2UgXCJtZXNnXCI6XG4gICAgICByZXR1cm4gTWVzc2FnZVJlZmVyZW5jZShzY29wZSwgZXhwcik7XG4gICAgY2FzZSBcInRlcm1cIjpcbiAgICAgIHJldHVybiBUZXJtUmVmZXJlbmNlKHNjb3BlLCBleHByKTtcbiAgICBjYXNlIFwiZnVuY1wiOlxuICAgICAgcmV0dXJuIEZ1bmN0aW9uUmVmZXJlbmNlKHNjb3BlLCBleHByKTtcbiAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICByZXR1cm4gU2VsZWN0RXhwcmVzc2lvbihzY29wZSwgZXhwcik7XG4gICAgY2FzZSB1bmRlZmluZWQ6IHtcbiAgICAgIC8vIElmIGl0J3MgYSBub2RlIHdpdGggYSB2YWx1ZSwgcmVzb2x2ZSB0aGUgdmFsdWUuXG4gICAgICBpZiAoZXhwci52YWx1ZSAhPT0gbnVsbCAmJiBleHByLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFR5cGUoc2NvcGUsIGV4cHIudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5lcnJvcnMucHVzaChuZXcgUmFuZ2VFcnJvcihcIk5vIHZhbHVlXCIpKTtcbiAgICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZSgpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKCk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZSBhIHJlZmVyZW5jZSB0byBhIHZhcmlhYmxlLlxuZnVuY3Rpb24gVmFyaWFibGVSZWZlcmVuY2Uoc2NvcGUsIHtuYW1lfSkge1xuICBpZiAoIXNjb3BlLmFyZ3MgfHwgIXNjb3BlLmFyZ3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICBpZiAoc2NvcGUuaW5zaWRlVGVybVJlZmVyZW5jZSA9PT0gZmFsc2UpIHtcbiAgICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biB2YXJpYWJsZTogJHtuYW1lfWApKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAkJHtuYW1lfWApO1xuICB9XG5cbiAgY29uc3QgYXJnID0gc2NvcGUuYXJnc1tuYW1lXTtcblxuICAvLyBSZXR1cm4gZWFybHkgaWYgdGhlIGFyZ3VtZW50IGFscmVhZHkgaXMgYW4gaW5zdGFuY2Ugb2YgRmx1ZW50VHlwZS5cbiAgaWYgKGFyZyBpbnN0YW5jZW9mIEZsdWVudFR5cGUpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9XG5cbiAgLy8gQ29udmVydCB0aGUgYXJndW1lbnQgdG8gYSBGbHVlbnQgdHlwZS5cbiAgc3dpdGNoICh0eXBlb2YgYXJnKSB7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIGFyZztcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4gbmV3IEZsdWVudE51bWJlcihhcmcpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmx1ZW50RGF0ZVRpbWUoYXJnKTtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgc2NvcGUuZXJyb3JzLnB1c2goXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIHZhcmlhYmxlIHR5cGU6ICR7bmFtZX0sICR7dHlwZW9mIGFyZ31gKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShgJCR7bmFtZX1gKTtcbiAgfVxufVxuXG4vLyBSZXNvbHZlIGEgcmVmZXJlbmNlIHRvIGFub3RoZXIgbWVzc2FnZS5cbmZ1bmN0aW9uIE1lc3NhZ2VSZWZlcmVuY2Uoc2NvcGUsIHtuYW1lLCBhdHRyfSkge1xuICBjb25zdCBtZXNzYWdlID0gc2NvcGUuYnVuZGxlLl9tZXNzYWdlcy5nZXQobmFtZSk7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biBtZXNzYWdlOiAke25hbWV9YCk7XG4gICAgc2NvcGUuZXJyb3JzLnB1c2goZXJyKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUobmFtZSk7XG4gIH1cblxuICBpZiAoYXR0cikge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG1lc3NhZ2UuYXR0cnMgJiYgbWVzc2FnZS5hdHRyc1thdHRyXTtcbiAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICByZXR1cm4gVHlwZShzY29wZSwgYXR0cmlidXRlKTtcbiAgICB9XG4gICAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJlZmVyZW5jZUVycm9yKGBVbmtub3duIGF0dHJpYnV0ZTogJHthdHRyfWApKTtcbiAgICByZXR1cm4gVHlwZShzY29wZSwgbWVzc2FnZSk7XG4gIH1cblxuICByZXR1cm4gVHlwZShzY29wZSwgbWVzc2FnZSk7XG59XG5cbi8vIFJlc29sdmUgYSBjYWxsIHRvIGEgVGVybSB3aXRoIGtleS12YWx1ZSBhcmd1bWVudHMuXG5mdW5jdGlvbiBUZXJtUmVmZXJlbmNlKHNjb3BlLCB7bmFtZSwgYXR0ciwgYXJnc30pIHtcbiAgY29uc3QgaWQgPSBgLSR7bmFtZX1gO1xuICBjb25zdCB0ZXJtID0gc2NvcGUuYnVuZGxlLl90ZXJtcy5nZXQoaWQpO1xuICBpZiAoIXRlcm0pIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgUmVmZXJlbmNlRXJyb3IoYFVua25vd24gdGVybTogJHtpZH1gKTtcbiAgICBzY29wZS5lcnJvcnMucHVzaChlcnIpO1xuICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShpZCk7XG4gIH1cblxuICAvLyBFdmVyeSBUZXJtUmVmZXJlbmNlIGhhcyBpdHMgb3duIGFyZ3MuXG4gIGNvbnN0IFssIGtleWFyZ3NdID0gZ2V0QXJndW1lbnRzKHNjb3BlLCBhcmdzKTtcbiAgY29uc3QgbG9jYWwgPSB7Li4uc2NvcGUsIGFyZ3M6IGtleWFyZ3MsIGluc2lkZVRlcm1SZWZlcmVuY2U6IHRydWV9O1xuXG4gIGlmIChhdHRyKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gdGVybS5hdHRycyAmJiB0ZXJtLmF0dHJzW2F0dHJdO1xuICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgIHJldHVybiBUeXBlKGxvY2FsLCBhdHRyaWJ1dGUpO1xuICAgIH1cbiAgICBzY29wZS5lcnJvcnMucHVzaChuZXcgUmVmZXJlbmNlRXJyb3IoYFVua25vd24gYXR0cmlidXRlOiAke2F0dHJ9YCkpO1xuICAgIHJldHVybiBUeXBlKGxvY2FsLCB0ZXJtKTtcbiAgfVxuXG4gIHJldHVybiBUeXBlKGxvY2FsLCB0ZXJtKTtcbn1cblxuLy8gUmVzb2x2ZSBhIGNhbGwgdG8gYSBGdW5jdGlvbiB3aXRoIHBvc2l0aW9uYWwgYW5kIGtleS12YWx1ZSBhcmd1bWVudHMuXG5mdW5jdGlvbiBGdW5jdGlvblJlZmVyZW5jZShzY29wZSwge25hbWUsIGFyZ3N9KSB7XG4gIC8vIFNvbWUgZnVuY3Rpb25zIGFyZSBidWlsdC1pbi4gT3RoZXJzIG1heSBiZSBwcm92aWRlZCBieSB0aGUgcnVudGltZSB2aWFcbiAgLy8gdGhlIGBGbHVlbnRCdW5kbGVgIGNvbnN0cnVjdG9yLlxuICBjb25zdCBmdW5jID0gc2NvcGUuYnVuZGxlLl9mdW5jdGlvbnNbbmFtZV0gfHwgYnVpbHRpbnNbbmFtZV07XG4gIGlmICghZnVuYykge1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biBmdW5jdGlvbjogJHtuYW1lfSgpYCkpO1xuICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShgJHtuYW1lfSgpYCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBUeXBlRXJyb3IoYEZ1bmN0aW9uICR7bmFtZX0oKSBpcyBub3QgY2FsbGFibGVgKSk7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAke25hbWV9KClgKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGZ1bmMoLi4uZ2V0QXJndW1lbnRzKHNjb3BlLCBhcmdzKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBYWFggUmVwb3J0IGVycm9ycy5cbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoKTtcbiAgfVxufVxuXG4vLyBSZXNvbHZlIGEgc2VsZWN0IGV4cHJlc3Npb24gdG8gdGhlIG1lbWJlciBvYmplY3QuXG5mdW5jdGlvbiBTZWxlY3RFeHByZXNzaW9uKHNjb3BlLCB7c2VsZWN0b3IsIHZhcmlhbnRzLCBzdGFyfSkge1xuICBsZXQgc2VsID0gVHlwZShzY29wZSwgc2VsZWN0b3IpO1xuICBpZiAoc2VsIGluc3RhbmNlb2YgRmx1ZW50Tm9uZSkge1xuICAgIGNvbnN0IHZhcmlhbnQgPSBnZXREZWZhdWx0KHNjb3BlLCB2YXJpYW50cywgc3Rhcik7XG4gICAgcmV0dXJuIFR5cGUoc2NvcGUsIHZhcmlhbnQpO1xuICB9XG5cbiAgLy8gTWF0Y2ggdGhlIHNlbGVjdG9yIGFnYWluc3Qga2V5cyBvZiBlYWNoIHZhcmlhbnQsIGluIG9yZGVyLlxuICBmb3IgKGNvbnN0IHZhcmlhbnQgb2YgdmFyaWFudHMpIHtcbiAgICBjb25zdCBrZXkgPSBUeXBlKHNjb3BlLCB2YXJpYW50LmtleSk7XG4gICAgaWYgKG1hdGNoKHNjb3BlLmJ1bmRsZSwgc2VsLCBrZXkpKSB7XG4gICAgICByZXR1cm4gVHlwZShzY29wZSwgdmFyaWFudCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdmFyaWFudCA9IGdldERlZmF1bHQoc2NvcGUsIHZhcmlhbnRzLCBzdGFyKTtcbiAgcmV0dXJuIFR5cGUoc2NvcGUsIHZhcmlhbnQpO1xufVxuXG4vLyBSZXNvbHZlIGEgcGF0dGVybiAoYSBjb21wbGV4IHN0cmluZyB3aXRoIHBsYWNlYWJsZXMpLlxuZnVuY3Rpb24gUGF0dGVybihzY29wZSwgcHRuKSB7XG4gIGlmIChzY29wZS5kaXJ0eS5oYXMocHRuKSkge1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSYW5nZUVycm9yKFwiQ3ljbGljIHJlZmVyZW5jZVwiKSk7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKCk7XG4gIH1cblxuICAvLyBUYWcgdGhlIHBhdHRlcm4gYXMgZGlydHkgZm9yIHRoZSBwdXJwb3NlIG9mIHRoZSBjdXJyZW50IHJlc29sdXRpb24uXG4gIHNjb3BlLmRpcnR5LmFkZChwdG4pO1xuICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAvLyBXcmFwIGludGVycG9sYXRpb25zIHdpdGggRGlyZWN0aW9uYWwgSXNvbGF0ZSBGb3JtYXR0aW5nIGNoYXJhY3RlcnNcbiAgLy8gb25seSB3aGVuIHRoZSBwYXR0ZXJuIGhhcyBtb3JlIHRoYW4gb25lIGVsZW1lbnQuXG4gIGNvbnN0IHVzZUlzb2xhdGluZyA9IHNjb3BlLmJ1bmRsZS5fdXNlSXNvbGF0aW5nICYmIHB0bi5sZW5ndGggPiAxO1xuXG4gIGZvciAoY29uc3QgZWxlbSBvZiBwdG4pIHtcbiAgICBpZiAodHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHNjb3BlLmJ1bmRsZS5fdHJhbnNmb3JtKGVsZW0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnQgPSBUeXBlKHNjb3BlLCBlbGVtKS50b1N0cmluZyhzY29wZS5idW5kbGUpO1xuXG4gICAgaWYgKHVzZUlzb2xhdGluZykge1xuICAgICAgcmVzdWx0LnB1c2goRlNJKTtcbiAgICB9XG5cbiAgICBpZiAocGFydC5sZW5ndGggPiBNQVhfUExBQ0VBQkxFX0xFTkdUSCkge1xuICAgICAgc2NvcGUuZXJyb3JzLnB1c2goXG4gICAgICAgIG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgIFwiVG9vIG1hbnkgY2hhcmFjdGVycyBpbiBwbGFjZWFibGUgXCIgK1xuICAgICAgICAgIGAoJHtwYXJ0Lmxlbmd0aH0sIG1heCBhbGxvd2VkIGlzICR7TUFYX1BMQUNFQUJMRV9MRU5HVEh9KWBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJlc3VsdC5wdXNoKHBhcnQuc2xpY2UoTUFYX1BMQUNFQUJMRV9MRU5HVEgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2gocGFydCk7XG4gICAgfVxuXG4gICAgaWYgKHVzZUlzb2xhdGluZykge1xuICAgICAgcmVzdWx0LnB1c2goUERJKTtcbiAgICB9XG4gIH1cblxuICBzY29wZS5kaXJ0eS5kZWxldGUocHRuKTtcbiAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIHRyYW5zbGF0aW9uIGludG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtICAge0ZsdWVudEJ1bmRsZX0gYnVuZGxlXG4gKiAgICBBIEZsdWVudEJ1bmRsZSBpbnN0YW5jZSB3aGljaCB3aWxsIGJlIHVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqICAgIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gb2YgdGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0gICB7T2JqZWN0fSAgICAgICAgIGFyZ3NcbiAqICAgIExpc3Qgb2YgYXJndW1lbnRzIHByb3ZpZGVkIGJ5IHRoZSBkZXZlbG9wZXIgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkXG4gKiAgICBmcm9tIHRoZSBtZXNzYWdlLlxuICogQHBhcmFtICAge09iamVjdH0gICAgICAgICBtZXNzYWdlXG4gKiAgICBBbiBvYmplY3Qgd2l0aCB0aGUgTWVzc2FnZSB0byBiZSByZXNvbHZlZC5cbiAqIEBwYXJhbSAgIHtBcnJheX0gICAgICAgICAgZXJyb3JzXG4gKiAgICBBbiBlcnJvciBhcnJheSB0aGF0IGFueSBlbmNvdW50ZXJlZCBlcnJvcnMgd2lsbCBiZSBhcHBlbmRlZCB0by5cbiAqIEByZXR1cm5zIHtGbHVlbnRUeXBlfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNvbHZlKGJ1bmRsZSwgYXJncywgbWVzc2FnZSwgZXJyb3JzID0gW10pIHtcbiAgY29uc3Qgc2NvcGUgPSB7XG4gICAgYnVuZGxlLCBhcmdzLCBlcnJvcnMsIGRpcnR5OiBuZXcgV2Vha1NldCgpLFxuICAgIC8vIFRlcm1SZWZlcmVuY2VzIGFyZSByZXNvbHZlZCBpbiBhIG5ldyBzY29wZS5cbiAgICBpbnNpZGVUZXJtUmVmZXJlbmNlOiBmYWxzZSxcbiAgfTtcbiAgcmV0dXJuIFR5cGUoc2NvcGUsIG1lc3NhZ2UpLnRvU3RyaW5nKGJ1bmRsZSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGbHVlbnRFcnJvciBleHRlbmRzIEVycm9yIHt9XG4iLCJpbXBvcnQgRmx1ZW50RXJyb3IgZnJvbSBcIi4vZXJyb3IuanNcIjtcblxuLy8gVGhpcyByZWdleCBpcyB1c2VkIHRvIGl0ZXJhdGUgdGhyb3VnaCB0aGUgYmVnaW5uaW5ncyBvZiBtZXNzYWdlcyBhbmQgdGVybXMuXG4vLyBXaXRoIHRoZSAvbSBmbGFnLCB0aGUgXiBtYXRjaGVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgZXZlcnkgbGluZS5cbmNvbnN0IFJFX01FU1NBR0VfU1RBUlQgPSAvXigtP1thLXpBLVpdW1xcdy1dKikgKj0gKi9tZztcblxuLy8gQm90aCBBdHRyaWJ1dGVzIGFuZCBWYXJpYW50cyBhcmUgcGFyc2VkIGluIHdoaWxlIGxvb3BzLiBUaGVzZSByZWdleGVzIGFyZVxuLy8gdXNlZCB0byBicmVhayBvdXQgb2YgdGhlbS5cbmNvbnN0IFJFX0FUVFJJQlVURV9TVEFSVCA9IC9cXC4oW2EtekEtWl1bXFx3LV0qKSAqPSAqL3k7XG5jb25zdCBSRV9WQVJJQU5UX1NUQVJUID0gL1xcKj9cXFsveTtcblxuY29uc3QgUkVfTlVNQkVSX0xJVEVSQUwgPSAvKC0/WzAtOV0rKD86XFwuKFswLTldKykpPykveTtcbmNvbnN0IFJFX0lERU5USUZJRVIgPSAvKFthLXpBLVpdW1xcdy1dKikveTtcbmNvbnN0IFJFX1JFRkVSRU5DRSA9IC8oWyQtXSk/KFthLXpBLVpdW1xcdy1dKikoPzpcXC4oW2EtekEtWl1bXFx3LV0qKSk/L3k7XG5jb25zdCBSRV9GVU5DVElPTl9OQU1FID0gL15bQS1aXVtBLVowLTlfLV0qJC87XG5cbi8vIEEgXCJydW5cIiBpcyBhIHNlcXVlbmNlIG9mIHRleHQgb3Igc3RyaW5nIGxpdGVyYWwgY2hhcmFjdGVycyB3aGljaCBkb24ndFxuLy8gcmVxdWlyZSBhbnkgc3BlY2lhbCBoYW5kbGluZy4gRm9yIFRleHRFbGVtZW50cyBzdWNoIHNwZWNpYWwgY2hhcmFjdGVycyBhcmU6IHtcbi8vIChzdGFydHMgYSBwbGFjZWFibGUpLCBhbmQgbGluZSBicmVha3Mgd2hpY2ggcmVxdWlyZSBhZGRpdGlvbmFsIGxvZ2ljIHRvIGNoZWNrXG4vLyBpZiB0aGUgbmV4dCBsaW5lIGlzIGluZGVudGVkLiBGb3IgU3RyaW5nTGl0ZXJhbHMgdGhleSBhcmU6IFxcIChzdGFydHMgYW5cbi8vIGVzY2FwZSBzZXF1ZW5jZSksIFwiIChlbmRzIHRoZSBsaXRlcmFsKSwgYW5kIGxpbmUgYnJlYWtzIHdoaWNoIGFyZSBub3QgYWxsb3dlZFxuLy8gaW4gU3RyaW5nTGl0ZXJhbHMuIE5vdGUgdGhhdCBzdHJpbmcgcnVucyBtYXkgYmUgZW1wdHk7IHRleHQgcnVucyBtYXkgbm90LlxuY29uc3QgUkVfVEVYVF9SVU4gPSAvKFtee31cXG5cXHJdKykveTtcbmNvbnN0IFJFX1NUUklOR19SVU4gPSAvKFteXFxcXFwiXFxuXFxyXSopL3k7XG5cbi8vIEVzY2FwZSBzZXF1ZW5jZXMuXG5jb25zdCBSRV9TVFJJTkdfRVNDQVBFID0gL1xcXFwoW1xcXFxcIl0pL3k7XG5jb25zdCBSRV9VTklDT0RFX0VTQ0FQRSA9IC9cXFxcdShbYS1mQS1GMC05XXs0fSl8XFxcXFUoW2EtZkEtRjAtOV17Nn0pL3k7XG5cbi8vIFVzZWQgZm9yIHRyaW1taW5nIFRleHRFbGVtZW50cyBhbmQgaW5kZW50cy5cbmNvbnN0IFJFX0xFQURJTkdfTkVXTElORVMgPSAvXlxcbisvO1xuY29uc3QgUkVfVFJBSUxJTkdfU1BBQ0VTID0gLyArJC87XG4vLyBVc2VkIGluIG1ha2VJbmRlbnQgdG8gc3RyaXAgc3BhY2VzIGZyb20gYmxhbmsgbGluZXMgYW5kIG5vcm1hbGl6ZSBDUkxGIHRvIExGLlxuY29uc3QgUkVfQkxBTktfTElORVMgPSAvICpcXHI/XFxuL2c7XG4vLyBVc2VkIGluIG1ha2VJbmRlbnQgdG8gbWVhc3VyZSB0aGUgaW5kZW50YXRpb24uXG5jb25zdCBSRV9JTkRFTlQgPSAvKCAqKSQvO1xuXG4vLyBDb21tb24gdG9rZW5zLlxuY29uc3QgVE9LRU5fQlJBQ0VfT1BFTiA9IC97XFxzKi95O1xuY29uc3QgVE9LRU5fQlJBQ0VfQ0xPU0UgPSAvXFxzKn0veTtcbmNvbnN0IFRPS0VOX0JSQUNLRVRfT1BFTiA9IC9cXFtcXHMqL3k7XG5jb25zdCBUT0tFTl9CUkFDS0VUX0NMT1NFID0gL1xccypdICoveTtcbmNvbnN0IFRPS0VOX1BBUkVOX09QRU4gPSAvXFxzKlxcKFxccyoveTtcbmNvbnN0IFRPS0VOX0FSUk9XID0gL1xccyotPlxccyoveTtcbmNvbnN0IFRPS0VOX0NPTE9OID0gL1xccyo6XFxzKi95O1xuLy8gTm90ZSB0aGUgb3B0aW9uYWwgY29tbWEuIEFzIGEgZGV2aWF0aW9uIGZyb20gdGhlIEZsdWVudCBFQk5GLCB0aGUgcGFyc2VyXG4vLyBkb2Vzbid0IGVuZm9yY2UgY29tbWFzIGJldHdlZW4gY2FsbCBhcmd1bWVudHMuXG5jb25zdCBUT0tFTl9DT01NQSA9IC9cXHMqLD9cXHMqL3k7XG5jb25zdCBUT0tFTl9CTEFOSyA9IC9cXHMrL3k7XG5cbi8vIE1heGltdW0gbnVtYmVyIG9mIHBsYWNlYWJsZXMgaW4gYSBzaW5nbGUgUGF0dGVybiB0byBwcm90ZWN0IGFnYWluc3QgUXVhZHJhdGljXG4vLyBCbG93dXAgYXR0YWNrcy4gU2VlIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL21hZ2F6aW5lL2VlMzM1NzEzLmFzcHguXG5jb25zdCBNQVhfUExBQ0VBQkxFUyA9IDEwMDtcblxuLyoqXG4gKiBGbHVlbnQgUmVzb3VyY2UgaXMgYSBzdHJ1Y3R1cmUgc3RvcmluZyBhIG1hcCBvZiBwYXJzZWQgbG9jYWxpemF0aW9uIGVudHJpZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsdWVudFJlc291cmNlIGV4dGVuZHMgTWFwIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBGbHVlbnRSZXNvdXJjZSBmcm9tIEZsdWVudCBjb2RlLlxuICAgKi9cbiAgc3RhdGljIGZyb21TdHJpbmcoc291cmNlKSB7XG4gICAgUkVfTUVTU0FHRV9TVEFSVC5sYXN0SW5kZXggPSAwO1xuXG4gICAgbGV0IHJlc291cmNlID0gbmV3IHRoaXMoKTtcbiAgICBsZXQgY3Vyc29yID0gMDtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgYmVnaW5uaW5ncyBvZiBtZXNzYWdlcyBhbmQgdGVybXMgdG8gZWZmaWNpZW50bHkgc2tpcFxuICAgIC8vIGNvbW1lbnRzIGFuZCByZWNvdmVyIGZyb20gZXJyb3JzLlxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dCA9IFJFX01FU1NBR0VfU1RBUlQuZXhlYyhzb3VyY2UpO1xuICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGN1cnNvciA9IFJFX01FU1NBR0VfU1RBUlQubGFzdEluZGV4O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb3VyY2Uuc2V0KG5leHRbMV0sIHBhcnNlTWVzc2FnZSgpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRmx1ZW50RXJyb3IpIHtcbiAgICAgICAgICAvLyBEb24ndCByZXBvcnQgYW55IEZsdWVudCBzeW50YXggZXJyb3JzLiBTa2lwIGRpcmVjdGx5IHRvIHRoZVxuICAgICAgICAgIC8vIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBtZXNzYWdlIG9yIHRlcm0uXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNvdXJjZTtcblxuICAgIC8vIFRoZSBwYXJzZXIgaW1wbGVtZW50YXRpb24gaXMgaW5saW5lZCBiZWxvdyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cblxuICAgIC8vIFRoZSBwYXJzZXIgZm9jdXNlcyBvbiBtaW5pbWl6aW5nIHRoZSBudW1iZXIgb2YgZmFsc2UgbmVnYXRpdmVzIGF0IHRoZVxuICAgIC8vIGV4cGVuc2Ugb2YgaW5jcmVhc2luZyB0aGUgcmlzayBvZiBmYWxzZSBwb3NpdGl2ZXMuIEluIG90aGVyIHdvcmRzLCBpdFxuICAgIC8vIGFpbXMgYXQgcGFyc2luZyB2YWxpZCBGbHVlbnQgbWVzc2FnZXMgd2l0aCBhIHN1Y2Nlc3MgcmF0ZSBvZiAxMDAlLCBidXQgaXRcbiAgICAvLyBtYXkgYWxzbyBwYXJzZSBhIGZldyBpbnZhbGlkIG1lc3NhZ2VzIHdoaWNoIHRoZSByZWZlcmVuY2UgcGFyc2VyIHdvdWxkXG4gICAgLy8gcmVqZWN0LiBUaGUgcGFyc2VyIGRvZXNuJ3QgcGVyZm9ybSBhbnkgdmFsaWRhdGlvbiBhbmQgbWF5IHByb2R1Y2UgZW50cmllc1xuICAgIC8vIHdoaWNoIHdvdWxkbid0IG1ha2Ugc2Vuc2UgaW4gdGhlIHJlYWwgd29ybGQuIEZvciBiZXN0IHJlc3VsdHMgdXNlcnMgYXJlXG4gICAgLy8gYWR2aXNlZCB0byB2YWxpZGF0ZSB0cmFuc2xhdGlvbnMgd2l0aCB0aGUgZmx1ZW50LXN5bnRheCBwYXJzZXJcbiAgICAvLyBwcmUtcnVudGltZS5cblxuICAgIC8vIFRoZSBwYXJzZXIgbWFrZXMgYW4gZXh0ZW5zaXZlIHVzZSBvZiBzdGlja3kgcmVnZXhlcyB3aGljaCBjYW4gYmUgYW5jaG9yZWRcbiAgICAvLyB0byBhbnkgb2Zmc2V0IG9mIHRoZSBzb3VyY2Ugc3RyaW5nIHdpdGhvdXQgc2xpY2luZyBpdC4gRXJyb3JzIGFyZSB0aHJvd25cbiAgICAvLyB0byBiYWlsIG91dCBvZiBwYXJzaW5nIG9mIGlsbC1mb3JtZWQgbWVzc2FnZXMuXG5cbiAgICBmdW5jdGlvbiB0ZXN0KHJlKSB7XG4gICAgICByZS5sYXN0SW5kZXggPSBjdXJzb3I7XG4gICAgICByZXR1cm4gcmUudGVzdChzb3VyY2UpO1xuICAgIH1cblxuICAgIC8vIEFkdmFuY2UgdGhlIGN1cnNvciBieSB0aGUgY2hhciBpZiBpdCBtYXRjaGVzLiBNYXkgYmUgdXNlZCBhcyBhIHByZWRpY2F0ZVxuICAgIC8vICh3YXMgdGhlIG1hdGNoIGZvdW5kPykgb3IsIGlmIGVycm9yQ2xhc3MgaXMgcGFzc2VkLCBhcyBhbiBhc3NlcnRpb24uXG4gICAgZnVuY3Rpb24gY29uc3VtZUNoYXIoY2hhciwgZXJyb3JDbGFzcykge1xuICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBjaGFyKSB7XG4gICAgICAgIGN1cnNvcisrO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvckNsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvckNsYXNzKGBFeHBlY3RlZCAke2NoYXJ9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQWR2YW5jZSB0aGUgY3Vyc29yIGJ5IHRoZSB0b2tlbiBpZiBpdCBtYXRjaGVzLiBNYXkgYmUgdXNlZCBhcyBhIHByZWRpY2F0ZVxuICAgIC8vICh3YXMgdGhlIG1hdGNoIGZvdW5kPykgb3IsIGlmIGVycm9yQ2xhc3MgaXMgcGFzc2VkLCBhcyBhbiBhc3NlcnRpb24uXG4gICAgZnVuY3Rpb24gY29uc3VtZVRva2VuKHJlLCBlcnJvckNsYXNzKSB7XG4gICAgICBpZiAodGVzdChyZSkpIHtcbiAgICAgICAgY3Vyc29yID0gcmUubGFzdEluZGV4O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvckNsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvckNsYXNzKGBFeHBlY3RlZCAke3JlLnRvU3RyaW5nKCl9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhIHJlZ2V4LCBhZHZhbmNlIHRoZSBjdXJzb3IsIGFuZCByZXR1cm4gYWxsIGNhcHR1cmUgZ3JvdXBzLlxuICAgIGZ1bmN0aW9uIG1hdGNoKHJlKSB7XG4gICAgICByZS5sYXN0SW5kZXggPSBjdXJzb3I7XG4gICAgICBsZXQgcmVzdWx0ID0gcmUuZXhlYyhzb3VyY2UpO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoYEV4cGVjdGVkICR7cmUudG9TdHJpbmcoKX1gKTtcbiAgICAgIH1cbiAgICAgIGN1cnNvciA9IHJlLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhIHJlZ2V4LCBhZHZhbmNlIHRoZSBjdXJzb3IsIGFuZCByZXR1cm4gdGhlIGNhcHR1cmUgZ3JvdXAuXG4gICAgZnVuY3Rpb24gbWF0Y2gxKHJlKSB7XG4gICAgICByZXR1cm4gbWF0Y2gocmUpWzFdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTWVzc2FnZSgpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHBhcnNlUGF0dGVybigpO1xuICAgICAgbGV0IGF0dHJzID0gcGFyc2VBdHRyaWJ1dGVzKCk7XG5cbiAgICAgIGlmIChhdHRycyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJFeHBlY3RlZCBtZXNzYWdlIHZhbHVlIG9yIGF0dHJpYnV0ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge3ZhbHVlLCBhdHRyc307XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKCkge1xuICAgICAgbGV0IGF0dHJzID0ge307XG5cbiAgICAgIHdoaWxlICh0ZXN0KFJFX0FUVFJJQlVURV9TVEFSVCkpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBtYXRjaDEoUkVfQVRUUklCVVRFX1NUQVJUKTtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VQYXR0ZXJuKCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkV4cGVjdGVkIGF0dHJpYnV0ZSB2YWx1ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoYXR0cnMpLmxlbmd0aCA+IDAgPyBhdHRycyA6IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VQYXR0ZXJuKCkge1xuICAgICAgLy8gRmlyc3QgdHJ5IHRvIHBhcnNlIGFueSBzaW1wbGUgdGV4dCBvbiB0aGUgc2FtZSBsaW5lIGFzIHRoZSBpZC5cbiAgICAgIGlmICh0ZXN0KFJFX1RFWFRfUlVOKSkge1xuICAgICAgICB2YXIgZmlyc3QgPSBtYXRjaDEoUkVfVEVYVF9SVU4pO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSdzIGEgcGxhY2VhYmxlIG9uIHRoZSBmaXJzdCBsaW5lLCBwYXJzZSBhIGNvbXBsZXggcGF0dGVybi5cbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJ7XCIgfHwgc291cmNlW2N1cnNvcl0gPT09IFwifVwiKSB7XG4gICAgICAgIC8vIFJlLXVzZSB0aGUgdGV4dCBwYXJzZWQgYWJvdmUsIGlmIHBvc3NpYmxlLlxuICAgICAgICByZXR1cm4gcGFyc2VQYXR0ZXJuRWxlbWVudHMoZmlyc3QgPyBbZmlyc3RdIDogW10sIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgLy8gUkVfVEVYVF9WQUxVRSBzdG9wcyBhdCBuZXdsaW5lcy4gT25seSBjb250aW51ZSBwYXJzaW5nIHRoZSBwYXR0ZXJuIGlmXG4gICAgICAvLyB3aGF0IGNvbWVzIGFmdGVyIHRoZSBuZXdsaW5lIGlzIGluZGVudGVkLlxuICAgICAgbGV0IGluZGVudCA9IHBhcnNlSW5kZW50KCk7XG4gICAgICBpZiAoaW5kZW50KSB7XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3MgdGV4dCBvbiB0aGUgZmlyc3QgbGluZSwgdGhlIGJsYW5rIGJsb2NrIGlzIHBhcnQgb2YgdGhlXG4gICAgICAgICAgLy8gdHJhbnNsYXRpb24gY29udGVudCBpbiBpdHMgZW50aXJldHkuXG4gICAgICAgICAgcmV0dXJuIHBhcnNlUGF0dGVybkVsZW1lbnRzKFtmaXJzdCwgaW5kZW50XSwgaW5kZW50Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSdyZSBkZWFsaW5nIHdpdGggYSBibG9jayBwYXR0ZXJuLCBpLmUuIGEgcGF0dGVybiB3aGljaFxuICAgICAgICAvLyBzdGFydHMgb24gYSBuZXcgbGluZS4gRGlzY3JhZCB0aGUgbGVhZGluZyBuZXdsaW5lcyBidXQga2VlcCB0aGVcbiAgICAgICAgLy8gaW5saW5lIGluZGVudDsgaXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBkZWRlbnRhdGlvbiBsb2dpYy5cbiAgICAgICAgaW5kZW50LnZhbHVlID0gdHJpbShpbmRlbnQudmFsdWUsIFJFX0xFQURJTkdfTkVXTElORVMpO1xuICAgICAgICByZXR1cm4gcGFyc2VQYXR0ZXJuRWxlbWVudHMoW2luZGVudF0sIGluZGVudC5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgLy8gSXQgd2FzIGp1c3QgYSBzaW1wbGUgaW5saW5lIHRleHQgYWZ0ZXIgYWxsLlxuICAgICAgICByZXR1cm4gdHJpbShmaXJzdCwgUkVfVFJBSUxJTkdfU1BBQ0VTKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgYSBjb21wbGV4IHBhdHRlcm4gYXMgYW4gYXJyYXkgb2YgZWxlbWVudHMuXG4gICAgZnVuY3Rpb24gcGFyc2VQYXR0ZXJuRWxlbWVudHMoZWxlbWVudHMgPSBbXSwgY29tbW9uSW5kZW50KSB7XG4gICAgICBsZXQgcGxhY2VhYmxlQ291bnQgPSAwO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAodGVzdChSRV9URVhUX1JVTikpIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKG1hdGNoMShSRV9URVhUX1JVTikpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBcIntcIikge1xuICAgICAgICAgIGlmICgrK3BsYWNlYWJsZUNvdW50ID4gTUFYX1BMQUNFQUJMRVMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIlRvbyBtYW55IHBsYWNlYWJsZXNcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnRzLnB1c2gocGFyc2VQbGFjZWFibGUoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc291cmNlW2N1cnNvcl0gPT09IFwifVwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5iYWxhbmNlZCBjbG9zaW5nIGJyYWNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGVudCA9IHBhcnNlSW5kZW50KCk7XG4gICAgICAgIGlmIChpbmRlbnQpIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKGluZGVudCk7XG4gICAgICAgICAgY29tbW9uSW5kZW50ID0gTWF0aC5taW4oY29tbW9uSW5kZW50LCBpbmRlbnQubGVuZ3RoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBsZXQgbGFzdEluZGV4ID0gZWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgIC8vIFRyaW0gdGhlIHRyYWlsaW5nIHNwYWNlcyBpbiB0aGUgbGFzdCBlbGVtZW50IGlmIGl0J3MgYSBUZXh0RWxlbWVudC5cbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudHNbbGFzdEluZGV4XSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBlbGVtZW50c1tsYXN0SW5kZXhdID0gdHJpbShlbGVtZW50c1tsYXN0SW5kZXhdLCBSRV9UUkFJTElOR19TUEFDRVMpO1xuICAgICAgfVxuXG4gICAgICBsZXQgYmFrZWQgPSBbXTtcbiAgICAgIGZvciAobGV0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gXCJpbmRlbnRcIikge1xuICAgICAgICAgIC8vIERlZGVudCBpbmRlbnRlZCBsaW5lcyBieSB0aGUgbWF4aW11bSBjb21tb24gaW5kZW50LlxuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnZhbHVlLnNsaWNlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoIC0gY29tbW9uSW5kZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IFwic3RyXCIpIHtcbiAgICAgICAgICAvLyBPcHRpbWl6ZSBTdHJpbmdMaXRlcmFscyBpbnRvIHRoZWlyIHZhbHVlLlxuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgYmFrZWQucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJha2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlUGxhY2VhYmxlKCkge1xuICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JSQUNFX09QRU4sIEZsdWVudEVycm9yKTtcblxuICAgICAgbGV0IHNlbGVjdG9yID0gcGFyc2VJbmxpbmVFeHByZXNzaW9uKCk7XG4gICAgICBpZiAoY29uc3VtZVRva2VuKFRPS0VOX0JSQUNFX0NMT1NFKSkge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25zdW1lVG9rZW4oVE9LRU5fQVJST1cpKSB7XG4gICAgICAgIGxldCB2YXJpYW50cyA9IHBhcnNlVmFyaWFudHMoKTtcbiAgICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JSQUNFX0NMT1NFLCBGbHVlbnRFcnJvcik7XG4gICAgICAgIHJldHVybiB7dHlwZTogXCJzZWxlY3RcIiwgc2VsZWN0b3IsIC4uLnZhcmlhbnRzfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5jbG9zZWQgcGxhY2VhYmxlXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlSW5saW5lRXhwcmVzc2lvbigpIHtcbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJ7XCIpIHtcbiAgICAgICAgLy8gSXQncyBhIG5lc3RlZCBwbGFjZWFibGUuXG4gICAgICAgIHJldHVybiBwYXJzZVBsYWNlYWJsZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVzdChSRV9SRUZFUkVOQ0UpKSB7XG4gICAgICAgIGxldCBbLCBzaWdpbCwgbmFtZSwgYXR0ciA9IG51bGxdID0gbWF0Y2goUkVfUkVGRVJFTkNFKTtcblxuICAgICAgICBpZiAoc2lnaWwgPT09IFwiJFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHt0eXBlOiBcInZhclwiLCBuYW1lfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25zdW1lVG9rZW4oVE9LRU5fUEFSRU5fT1BFTikpIHtcbiAgICAgICAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKCk7XG5cbiAgICAgICAgICBpZiAoc2lnaWwgPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAvLyBBIHBhcmFtZXRlcml6ZWQgdGVybTogLXRlcm0oLi4uKS5cbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJ0ZXJtXCIsIG5hbWUsIGF0dHIsIGFyZ3N9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChSRV9GVU5DVElPTl9OQU1FLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJmdW5jXCIsIG5hbWUsIGFyZ3N9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkZ1bmN0aW9uIG5hbWVzIG11c3QgYmUgYWxsIHVwcGVyLWNhc2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2lnaWwgPT09IFwiLVwiKSB7XG4gICAgICAgICAgLy8gQSBub24tcGFyYW1ldGVyaXplZCB0ZXJtOiAtdGVybS5cbiAgICAgICAgICByZXR1cm4ge3R5cGU6IFwidGVybVwiLCBuYW1lLCBhdHRyLCBhcmdzOiBbXX07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3R5cGU6IFwibWVzZ1wiLCBuYW1lLCBhdHRyfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKCkge1xuICAgICAgbGV0IGFyZ3MgPSBbXTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHN3aXRjaCAoc291cmNlW2N1cnNvcl0pIHtcbiAgICAgICAgICBjYXNlIFwiKVwiOiAvLyBFbmQgb2YgdGhlIGFyZ3VtZW50IGxpc3QuXG4gICAgICAgICAgICBjdXJzb3IrKztcbiAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOiAvLyBFT0ZcbiAgICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIlVuY2xvc2VkIGFyZ3VtZW50IGxpc3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICBhcmdzLnB1c2gocGFyc2VBcmd1bWVudCgpKTtcbiAgICAgICAgLy8gQ29tbWFzIGJldHdlZW4gYXJndW1lbnRzIGFyZSB0cmVhdGVkIGFzIHdoaXRlc3BhY2UuXG4gICAgICAgIGNvbnN1bWVUb2tlbihUT0tFTl9DT01NQSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VBcmd1bWVudCgpIHtcbiAgICAgIGxldCBleHByID0gcGFyc2VJbmxpbmVFeHByZXNzaW9uKCk7XG4gICAgICBpZiAoZXhwci50eXBlICE9PSBcIm1lc2dcIikge1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnN1bWVUb2tlbihUT0tFTl9DT0xPTikpIHtcbiAgICAgICAgLy8gVGhlIHJlZmVyZW5jZSBpcyB0aGUgYmVnaW5uaW5nIG9mIGEgbmFtZWQgYXJndW1lbnQuXG4gICAgICAgIHJldHVybiB7dHlwZTogXCJuYXJnXCIsIG5hbWU6IGV4cHIubmFtZSwgdmFsdWU6IHBhcnNlTGl0ZXJhbCgpfTtcbiAgICAgIH1cblxuICAgICAgLy8gSXQncyBhIHJlZ3VsYXIgbWVzc2FnZSByZWZlcmVuY2UuXG4gICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVZhcmlhbnRzKCkge1xuICAgICAgbGV0IHZhcmlhbnRzID0gW107XG4gICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgbGV0IHN0YXI7XG5cbiAgICAgIHdoaWxlICh0ZXN0KFJFX1ZBUklBTlRfU1RBUlQpKSB7XG4gICAgICAgIGlmIChjb25zdW1lQ2hhcihcIipcIikpIHtcbiAgICAgICAgICBzdGFyID0gY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5ID0gcGFyc2VWYXJpYW50S2V5KCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlUGF0dGVybigpO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJFeHBlY3RlZCB2YXJpYW50IHZhbHVlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhcmlhbnRzW2NvdW50KytdID0ge2tleSwgdmFsdWV9O1xuICAgICAgfVxuXG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGFyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiRXhwZWN0ZWQgZGVmYXVsdCB2YXJpYW50XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge3ZhcmlhbnRzLCBzdGFyfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVZhcmlhbnRLZXkoKSB7XG4gICAgICBjb25zdW1lVG9rZW4oVE9LRU5fQlJBQ0tFVF9PUEVOLCBGbHVlbnRFcnJvcik7XG4gICAgICBsZXQga2V5ID0gdGVzdChSRV9OVU1CRVJfTElURVJBTClcbiAgICAgICAgPyBwYXJzZU51bWJlckxpdGVyYWwoKVxuICAgICAgICA6IG1hdGNoMShSRV9JREVOVElGSUVSKTtcbiAgICAgIGNvbnN1bWVUb2tlbihUT0tFTl9CUkFDS0VUX0NMT1NFLCBGbHVlbnRFcnJvcik7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCgpIHtcbiAgICAgIGlmICh0ZXN0KFJFX05VTUJFUl9MSVRFUkFMKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VOdW1iZXJMaXRlcmFsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJcXFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nTGl0ZXJhbCgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJJbnZhbGlkIGV4cHJlc3Npb25cIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VOdW1iZXJMaXRlcmFsKCkge1xuICAgICAgbGV0IFssIHZhbHVlLCBmcmFjdGlvbiA9IFwiXCJdID0gbWF0Y2goUkVfTlVNQkVSX0xJVEVSQUwpO1xuICAgICAgbGV0IHByZWNpc2lvbiA9IGZyYWN0aW9uLmxlbmd0aDtcbiAgICAgIHJldHVybiB7dHlwZTogXCJudW1cIiwgdmFsdWU6IHBhcnNlRmxvYXQodmFsdWUpLCBwcmVjaXNpb259O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlU3RyaW5nTGl0ZXJhbCgpIHtcbiAgICAgIGNvbnN1bWVDaGFyKFwiXFxcIlwiLCBGbHVlbnRFcnJvcik7XG4gICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFsdWUgKz0gbWF0Y2gxKFJFX1NUUklOR19SVU4pO1xuXG4gICAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICB2YWx1ZSArPSBwYXJzZUVzY2FwZVNlcXVlbmNlKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uc3VtZUNoYXIoXCJcXFwiXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHt0eXBlOiBcInN0clwiLCB2YWx1ZX07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSd2ZSByZWFjaGVkIGFuIEVPTCBvZiBFT0YuXG4gICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIlVuY2xvc2VkIHN0cmluZyBsaXRlcmFsXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVuZXNjYXBlIGtub3duIGVzY2FwZSBzZXF1ZW5jZXMuXG4gICAgZnVuY3Rpb24gcGFyc2VFc2NhcGVTZXF1ZW5jZSgpIHtcbiAgICAgIGlmICh0ZXN0KFJFX1NUUklOR19FU0NBUEUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDEoUkVfU1RSSU5HX0VTQ0FQRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXN0KFJFX1VOSUNPREVfRVNDQVBFKSkge1xuICAgICAgICBsZXQgWywgY29kZXBvaW50NCwgY29kZXBvaW50Nl0gPSBtYXRjaChSRV9VTklDT0RFX0VTQ0FQRSk7XG4gICAgICAgIGxldCBjb2RlcG9pbnQgPSBwYXJzZUludChjb2RlcG9pbnQ0IHx8IGNvZGVwb2ludDYsIDE2KTtcbiAgICAgICAgcmV0dXJuIGNvZGVwb2ludCA8PSAweEQ3RkYgfHwgMHhFMDAwIDw9IGNvZGVwb2ludFxuICAgICAgICAgIC8vIEl0J3MgYSBVbmljb2RlIHNjYWxhciB2YWx1ZS5cbiAgICAgICAgICA/IFN0cmluZy5mcm9tQ29kZVBvaW50KGNvZGVwb2ludClcbiAgICAgICAgICAvLyBMb25lbHkgc3Vycm9nYXRlcyBjYW4gY2F1c2UgdHJvdWJsZSB3aGVuIHRoZSBwYXJzaW5nIHJlc3VsdCBpc1xuICAgICAgICAgIC8vIHNhdmVkIHVzaW5nIFVURi04LiBVc2UgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUiBpbnN0ZWFkLlxuICAgICAgICAgIDogXCLvv71cIjtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5rbm93biBlc2NhcGUgc2VxdWVuY2VcIik7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgYmxhbmsgc3BhY2UuIFJldHVybiBpdCBpZiBpdCBsb29rcyBsaWtlIGluZGVudCBiZWZvcmUgYSBwYXR0ZXJuXG4gICAgLy8gbGluZS4gU2tpcCBpdCBvdGh3ZXJ3aXNlLlxuICAgIGZ1bmN0aW9uIHBhcnNlSW5kZW50KCkge1xuICAgICAgbGV0IHN0YXJ0ID0gY3Vyc29yO1xuICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JMQU5LKTtcblxuICAgICAgLy8gQ2hlY2sgdGhlIGZpcnN0IG5vbi1ibGFuayBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGluZGVudC5cbiAgICAgIHN3aXRjaCAoc291cmNlW2N1cnNvcl0pIHtcbiAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgY2FzZSBcIn1cIjpcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6IC8vIEVPRlxuICAgICAgICAgIC8vIEEgc3BlY2lhbCBjaGFyYWN0ZXIuIEVuZCB0aGUgUGF0dGVybi5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgXCJ7XCI6XG4gICAgICAgICAgLy8gUGxhY2VhYmxlcyBkb24ndCByZXF1aXJlIGluZGVudGF0aW9uIChpbiBFQk5GOiBibG9jay1wbGFjZWFibGUpLlxuICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBQYXR0ZXJuLlxuICAgICAgICAgIHJldHVybiBtYWtlSW5kZW50KHNvdXJjZS5zbGljZShzdGFydCwgY3Vyc29yKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb24gdGhlIGxpbmUgaXMgbm90IG9uZSBvZiB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgICAvLyBsaXN0ZWQgYWJvdmUsIGl0J3MgYSByZWd1bGFyIHRleHQgY2hhcmFjdGVyLiBDaGVjayBpZiB0aGVyZSdzIGF0IGxlYXN0XG4gICAgICAvLyBvbmUgc3BhY2Ugb2YgaW5kZW50IGJlZm9yZSBpdC5cbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yIC0gMV0gPT09IFwiIFwiKSB7XG4gICAgICAgIC8vIEl0J3MgYW4gaW5kZW50ZWQgdGV4dCBjaGFyYWN0ZXIgKGluIEVCTkY6IGluZGVudGVkLWNoYXIpLiBDb250aW51ZVxuICAgICAgICAvLyB0aGUgUGF0dGVybi5cbiAgICAgICAgcmV0dXJuIG1ha2VJbmRlbnQoc291cmNlLnNsaWNlKHN0YXJ0LCBjdXJzb3IpKTtcbiAgICAgIH1cblxuICAgICAgLy8gQSBub3QtaW5kZW50ZWQgdGV4dCBjaGFyYWN0ZXIgaXMgbGlrZWx5IHRoZSBpZGVudGlmaWVyIG9mIHRoZSBuZXh0XG4gICAgICAvLyBtZXNzYWdlLiBFbmQgdGhlIFBhdHRlcm4uXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVHJpbSBibGFua3MgaW4gdGV4dCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHJlZ2V4LlxuICAgIGZ1bmN0aW9uIHRyaW0odGV4dCwgcmUpIHtcbiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UocmUsIFwiXCIpO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSBhIGJsYW5rIGJsb2NrIGFuZCBleHRyYWN0IHRoZSBpbmRlbnQgZGV0YWlscy5cbiAgICBmdW5jdGlvbiBtYWtlSW5kZW50KGJsYW5rKSB7XG4gICAgICBsZXQgdmFsdWUgPSBibGFuay5yZXBsYWNlKFJFX0JMQU5LX0xJTkVTLCBcIlxcblwiKTtcbiAgICAgIGxldCBsZW5ndGggPSBSRV9JTkRFTlQuZXhlYyhibGFuaylbMV0ubGVuZ3RoO1xuICAgICAgcmV0dXJuIHt0eXBlOiBcImluZGVudFwiLCB2YWx1ZSwgbGVuZ3RofTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCByZXNvbHZlIGZyb20gXCIuL3Jlc29sdmVyLmpzXCI7XG5pbXBvcnQgRmx1ZW50UmVzb3VyY2UgZnJvbSBcIi4vcmVzb3VyY2UuanNcIjtcblxuLyoqXG4gKiBNZXNzYWdlIGJ1bmRsZXMgYXJlIHNpbmdsZS1sYW5ndWFnZSBzdG9yZXMgb2YgdHJhbnNsYXRpb25zLiAgVGhleSBhcmVcbiAqIHJlc3BvbnNpYmxlIGZvciBwYXJzaW5nIHRyYW5zbGF0aW9uIHJlc291cmNlcyBpbiB0aGUgRmx1ZW50IHN5bnRheCBhbmQgY2FuXG4gKiBmb3JtYXQgdHJhbnNsYXRpb24gdW5pdHMgKGVudGl0aWVzKSB0byBzdHJpbmdzLlxuICpcbiAqIEFsd2F5cyB1c2UgYEZsdWVudEJ1bmRsZS5mb3JtYXRgIHRvIHJldHJpZXZlIHRyYW5zbGF0aW9uIHVuaXRzIGZyb20gYVxuICogYnVuZGxlLiBUcmFuc2xhdGlvbnMgY2FuIGNvbnRhaW4gcmVmZXJlbmNlcyB0byBvdGhlciBlbnRpdGllcyBvciB2YXJpYWJsZXMsXG4gKiBjb25kaXRpb25hbCBsb2dpYyBpbiBmb3JtIG9mIHNlbGVjdCBleHByZXNzaW9ucywgdHJhaXRzIHdoaWNoIGRlc2NyaWJlIHRoZWlyXG4gKiBncmFtbWF0aWNhbCBmZWF0dXJlcywgYW5kIGNhbiB1c2UgRmx1ZW50IGJ1aWx0aW5zIHdoaWNoIG1ha2UgdXNlIG9mIHRoZVxuICogYEludGxgIGZvcm1hdHRlcnMgdG8gZm9ybWF0IG51bWJlcnMsIGRhdGVzLCBsaXN0cyBhbmQgbW9yZSBpbnRvIHRoZVxuICogYnVuZGxlJ3MgbGFuZ3VhZ2UuIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiB0aGUgRmx1ZW50IHN5bnRheCBmb3IgbW9yZVxuICogaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsdWVudEJ1bmRsZSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBgRmx1ZW50QnVuZGxlYC5cbiAgICpcbiAgICogVGhlIGBsb2NhbGVzYCBhcmd1bWVudCBpcyB1c2VkIHRvIGluc3RhbnRpYXRlIGBJbnRsYCBmb3JtYXR0ZXJzIHVzZWQgYnlcbiAgICogdHJhbnNsYXRpb25zLiAgVGhlIGBvcHRpb25zYCBvYmplY3QgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSBidW5kbGUuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgY29uc3QgYnVuZGxlID0gbmV3IEZsdWVudEJ1bmRsZShsb2NhbGVzKTtcbiAgICpcbiAgICogICAgIGNvbnN0IGJ1bmRsZSA9IG5ldyBGbHVlbnRCdW5kbGUobG9jYWxlcywgeyB1c2VJc29sYXRpbmc6IGZhbHNlIH0pO1xuICAgKlxuICAgKiAgICAgY29uc3QgYnVuZGxlID0gbmV3IEZsdWVudEJ1bmRsZShsb2NhbGVzLCB7XG4gICAqICAgICAgIHVzZUlzb2xhdGluZzogdHJ1ZSxcbiAgICogICAgICAgZnVuY3Rpb25zOiB7XG4gICAqICAgICAgICAgTk9ERV9FTlY6ICgpID0+IHByb2Nlc3MuZW52Lk5PREVfRU5WXG4gICAqICAgICAgIH1cbiAgICogICAgIH0pO1xuICAgKlxuICAgKiBBdmFpbGFibGUgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGBmdW5jdGlvbnNgIC0gYW4gb2JqZWN0IG9mIGFkZGl0aW9uYWwgZnVuY3Rpb25zIGF2YWlsYWJsZSB0b1xuICAgKiAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMgYXMgYnVpbHRpbnMuXG4gICAqXG4gICAqICAgLSBgdXNlSXNvbGF0aW5nYCAtIGJvb2xlYW4gc3BlY2lmeWluZyB3aGV0aGVyIHRvIHVzZSBVbmljb2RlIGlzb2xhdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgbWFya3MgKEZTSSwgUERJKSBmb3IgYmlkaSBpbnRlcnBvbGF0aW9ucy5cbiAgICogICAgICAgICAgICAgICAgICAgIERlZmF1bHQ6IHRydWVcbiAgICpcbiAgICogICAtIGB0cmFuc2Zvcm1gIC0gYSBmdW5jdGlvbiB1c2VkIHRvIHRyYW5zZm9ybSBzdHJpbmcgcGFydHMgb2YgcGF0dGVybnMuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gbG9jYWxlcyAtIExvY2FsZSBvciBsb2NhbGVzIG9mIHRoZSBidW5kbGVcbiAgICogQHBhcmFtICAge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtGbHVlbnRCdW5kbGV9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2NhbGVzLCB7XG4gICAgZnVuY3Rpb25zID0ge30sXG4gICAgdXNlSXNvbGF0aW5nID0gdHJ1ZSxcbiAgICB0cmFuc2Zvcm0gPSB2ID0+IHZcbiAgfSA9IHt9KSB7XG4gICAgdGhpcy5sb2NhbGVzID0gQXJyYXkuaXNBcnJheShsb2NhbGVzKSA/IGxvY2FsZXMgOiBbbG9jYWxlc107XG5cbiAgICB0aGlzLl90ZXJtcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9tZXNzYWdlcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgdGhpcy5fdXNlSXNvbGF0aW5nID0gdXNlSXNvbGF0aW5nO1xuICAgIHRoaXMuX3RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB0aGlzLl9pbnRscyA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cblxuICAvKlxuICAgKiBSZXR1cm4gYW4gaXRlcmF0b3Igb3ZlciBwdWJsaWMgYFtpZCwgbWVzc2FnZV1gIHBhaXJzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7SXRlcmF0b3J9XG4gICAqL1xuICBnZXQgbWVzc2FnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIC8qXG4gICAqIENoZWNrIGlmIGEgbWVzc2FnZSBpcyBwcmVzZW50IGluIHRoZSBidW5kbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBtZXNzYWdlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbH1cbiAgICovXG4gIGhhc01lc3NhZ2UoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVzc2FnZXMuaGFzKGlkKTtcbiAgfVxuXG4gIC8qXG4gICAqIFJldHVybiB0aGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYSBtZXNzYWdlLlxuICAgKlxuICAgKiBUaGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCBhcyBhbiBhcmd1bWVudCB0b1xuICAgKiBgRmx1ZW50QnVuZGxlLmZvcm1hdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBtZXNzYWdlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7QW55fVxuICAgKi9cbiAgZ2V0TWVzc2FnZShpZCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcy5nZXQoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHRyYW5zbGF0aW9uIHJlc291cmNlIHRvIHRoZSBidW5kbGUuXG4gICAqXG4gICAqIFRoZSB0cmFuc2xhdGlvbiByZXNvdXJjZSBtdXN0IHVzZSB0aGUgRmx1ZW50IHN5bnRheC4gIEl0IHdpbGwgYmUgcGFyc2VkIGJ5XG4gICAqIHRoZSBidW5kbGUgYW5kIGVhY2ggdHJhbnNsYXRpb24gdW5pdCAobWVzc2FnZSkgd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhlXG4gICAqIGJ1bmRsZSBieSBpdHMgaWRlbnRpZmllci5cbiAgICpcbiAgICogICAgIGJ1bmRsZS5hZGRNZXNzYWdlcygnZm9vID0gRm9vJyk7XG4gICAqICAgICBidW5kbGUuZ2V0TWVzc2FnZSgnZm9vJyk7XG4gICAqXG4gICAqICAgICAvLyBSZXR1cm5zIGEgcmF3IHJlcHJlc2VudGF0aW9uIG9mIHRoZSAnZm9vJyBtZXNzYWdlLlxuICAgKlxuICAgKiAgICAgYnVuZGxlLmFkZE1lc3NhZ2VzKCdiYXIgPSBCYXInKTtcbiAgICogICAgIGJ1bmRsZS5hZGRNZXNzYWdlcygnYmFyID0gTmV3YmFyJywgeyBhbGxvd092ZXJyaWRlczogdHJ1ZSB9KTtcbiAgICogICAgIGJ1bmRsZS5nZXRNZXNzYWdlKCdiYXInKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgYSByYXcgcmVwcmVzZW50YXRpb24gb2YgdGhlICdiYXInIG1lc3NhZ2U6IE5ld2Jhci5cbiAgICpcbiAgICogUGFyc2VkIGVudGl0aWVzIHNob3VsZCBiZSBmb3JtYXR0ZWQgd2l0aCB0aGUgYGZvcm1hdGAgbWV0aG9kIGluIGNhc2UgdGhleVxuICAgKiBjb250YWluIGxvZ2ljIChyZWZlcmVuY2VzLCBzZWxlY3QgZXhwcmVzc2lvbnMgZXRjLikuXG4gICAqXG4gICAqIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKlxuICAgKiAgIC0gYGFsbG93T3ZlcnJpZGVzYCAtIGJvb2xlYW4gc3BlY2lmeWluZyB3aGV0aGVyIGl0J3MgYWxsb3dlZCB0byBvdmVycmlkZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICBhbiBleGlzdGluZyBtZXNzYWdlIG9yIHRlcm0gd2l0aCBhIG5ldyB2YWx1ZS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdDogZmFsc2VcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gc291cmNlIC0gVGV4dCByZXNvdXJjZSB3aXRoIHRyYW5zbGF0aW9ucy5cbiAgICogQHBhcmFtICAge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtBcnJheTxFcnJvcj59XG4gICAqL1xuICBhZGRNZXNzYWdlcyhzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXMgPSBGbHVlbnRSZXNvdXJjZS5mcm9tU3RyaW5nKHNvdXJjZSk7XG4gICAgcmV0dXJuIHRoaXMuYWRkUmVzb3VyY2UocmVzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB0cmFuc2xhdGlvbiByZXNvdXJjZSB0byB0aGUgYnVuZGxlLlxuICAgKlxuICAgKiBUaGUgdHJhbnNsYXRpb24gcmVzb3VyY2UgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBGbHVlbnRSZXNvdXJjZSxcbiAgICogZS5nLiBwYXJzZWQgYnkgYEZsdWVudFJlc291cmNlLmZyb21TdHJpbmdgLlxuICAgKlxuICAgKiAgICAgbGV0IHJlcyA9IEZsdWVudFJlc291cmNlLmZyb21TdHJpbmcoXCJmb28gPSBGb29cIik7XG4gICAqICAgICBidW5kbGUuYWRkUmVzb3VyY2UocmVzKTtcbiAgICogICAgIGJ1bmRsZS5nZXRNZXNzYWdlKCdmb28nKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgYSByYXcgcmVwcmVzZW50YXRpb24gb2YgdGhlICdmb28nIG1lc3NhZ2UuXG4gICAqXG4gICAqICAgICBsZXQgcmVzID0gRmx1ZW50UmVzb3VyY2UuZnJvbVN0cmluZyhcImJhciA9IEJhclwiKTtcbiAgICogICAgIGJ1bmRsZS5hZGRSZXNvdXJjZShyZXMpO1xuICAgKiAgICAgcmVzID0gRmx1ZW50UmVzb3VyY2UuZnJvbVN0cmluZyhcImJhciA9IE5ld2JhclwiKTtcbiAgICogICAgIGJ1bmRsZS5hZGRSZXNvdXJjZShyZXMsIHsgYWxsb3dPdmVycmlkZXM6IHRydWUgfSk7XG4gICAqICAgICBidW5kbGUuZ2V0TWVzc2FnZSgnYmFyJyk7XG4gICAqXG4gICAqICAgICAvLyBSZXR1cm5zIGEgcmF3IHJlcHJlc2VudGF0aW9uIG9mIHRoZSAnYmFyJyBtZXNzYWdlOiBOZXdiYXIuXG4gICAqXG4gICAqIFBhcnNlZCBlbnRpdGllcyBzaG91bGQgYmUgZm9ybWF0dGVkIHdpdGggdGhlIGBmb3JtYXRgIG1ldGhvZCBpbiBjYXNlIHRoZXlcbiAgICogY29udGFpbiBsb2dpYyAocmVmZXJlbmNlcywgc2VsZWN0IGV4cHJlc3Npb25zIGV0Yy4pLlxuICAgKlxuICAgKiBBdmFpbGFibGUgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGBhbGxvd092ZXJyaWRlc2AgLSBib29sZWFuIHNwZWNpZnlpbmcgd2hldGhlciBpdCdzIGFsbG93ZWQgdG8gb3ZlcnJpZGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgYW4gZXhpc3RpbmcgbWVzc2FnZSBvciB0ZXJtIHdpdGggYSBuZXcgdmFsdWUuXG4gICAqICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQ6IGZhbHNlXG4gICAqXG4gICAqIEBwYXJhbSAgIHtGbHVlbnRSZXNvdXJjZX0gcmVzIC0gRmx1ZW50UmVzb3VyY2Ugb2JqZWN0LlxuICAgKiBAcGFyYW0gICB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybnMge0FycmF5PEVycm9yPn1cbiAgICovXG4gIGFkZFJlc291cmNlKHJlcywge1xuICAgIGFsbG93T3ZlcnJpZGVzID0gZmFsc2VcbiAgfSA9IHt9KSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFtpZCwgdmFsdWVdIG9mIHJlcykge1xuICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoXCItXCIpKSB7XG4gICAgICAgIC8vIElkZW50aWZpZXJzIHN0YXJ0aW5nIHdpdGggYSBkYXNoICgtKSBkZWZpbmUgdGVybXMuIFRlcm1zIGFyZSBwcml2YXRlXG4gICAgICAgIC8vIGFuZCBjYW5ub3QgYmUgcmV0cmlldmVkIGZyb20gRmx1ZW50QnVuZGxlLlxuICAgICAgICBpZiAoYWxsb3dPdmVycmlkZXMgPT09IGZhbHNlICYmIHRoaXMuX3Rlcm1zLmhhcyhpZCkpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgQXR0ZW1wdCB0byBvdmVycmlkZSBhbiBleGlzdGluZyB0ZXJtOiBcIiR7aWR9XCJgKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXJtcy5zZXQoaWQsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhbGxvd092ZXJyaWRlcyA9PT0gZmFsc2UgJiYgdGhpcy5fbWVzc2FnZXMuaGFzKGlkKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBBdHRlbXB0IHRvIG92ZXJyaWRlIGFuIGV4aXN0aW5nIG1lc3NhZ2U6IFwiJHtpZH1cImApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLnNldChpZCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IGEgbWVzc2FnZSB0byBhIHN0cmluZyBvciBudWxsLlxuICAgKlxuICAgKiBGb3JtYXQgYSByYXcgYG1lc3NhZ2VgIGZyb20gdGhlIGJ1bmRsZSBpbnRvIGEgc3RyaW5nIChvciBhIG51bGwgaWYgaXQgaGFzXG4gICAqIGEgbnVsbCB2YWx1ZSkuICBgYXJnc2Agd2lsbCBiZSB1c2VkIHRvIHJlc29sdmUgcmVmZXJlbmNlcyB0byB2YXJpYWJsZXNcbiAgICogcGFzc2VkIGFzIGFyZ3VtZW50cyB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAqXG4gICAqIEluIGNhc2Ugb2YgZXJyb3JzIGBmb3JtYXRgIHdpbGwgdHJ5IHRvIHNhbHZhZ2UgYXMgbXVjaCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICogYXMgcG9zc2libGUgYW5kIHdpbGwgc3RpbGwgcmV0dXJuIGEgc3RyaW5nLiAgRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHRoZVxuICAgKiBlbmNvdW50ZXJlZCBlcnJvcnMgYXJlIG5vdCByZXR1cm5lZCBidXQgaW5zdGVhZCBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gICAqIGBlcnJvcnNgIGFycmF5IHBhc3NlZCBhcyB0aGUgdGhpcmQgYXJndW1lbnQuXG4gICAqXG4gICAqICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICogICAgIGJ1bmRsZS5hZGRNZXNzYWdlcygnaGVsbG8gPSBIZWxsbywgeyAkbmFtZSB9IScpO1xuICAgKiAgICAgY29uc3QgaGVsbG8gPSBidW5kbGUuZ2V0TWVzc2FnZSgnaGVsbG8nKTtcbiAgICogICAgIGJ1bmRsZS5mb3JtYXQoaGVsbG8sIHsgbmFtZTogJ0phbmUnIH0sIGVycm9ycyk7XG4gICAqXG4gICAqICAgICAvLyBSZXR1cm5zICdIZWxsbywgSmFuZSEnIGFuZCBgZXJyb3JzYCBpcyBlbXB0eS5cbiAgICpcbiAgICogICAgIGJ1bmRsZS5mb3JtYXQoaGVsbG8sIHVuZGVmaW5lZCwgZXJyb3JzKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgJ0hlbGxvLCBuYW1lIScgYW5kIGBlcnJvcnNgIGlzIG5vdzpcbiAgICpcbiAgICogICAgIFs8UmVmZXJlbmNlRXJyb3I6IFVua25vd24gdmFyaWFibGU6IG5hbWU+XVxuICAgKlxuICAgKiBAcGFyYW0gICB7T2JqZWN0IHwgc3RyaW5nfSAgICBtZXNzYWdlXG4gICAqIEBwYXJhbSAgIHtPYmplY3QgfCB1bmRlZmluZWR9IGFyZ3NcbiAgICogQHBhcmFtICAge0FycmF5fSAgICAgICAgICAgICAgZXJyb3JzXG4gICAqIEByZXR1cm5zIHs/c3RyaW5nfVxuICAgKi9cbiAgZm9ybWF0KG1lc3NhZ2UsIGFyZ3MsIGVycm9ycykge1xuICAgIC8vIG9wdGltaXplIGVudGl0aWVzIHdoaWNoIGFyZSBzaW1wbGUgc3RyaW5ncyB3aXRoIG5vIGF0dHJpYnV0ZXNcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm0obWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLy8gb3B0aW1pemUgZW50aXRpZXMgd2l0aCBudWxsIHZhbHVlc1xuICAgIGlmIChtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UudmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIG9wdGltaXplIHNpbXBsZS1zdHJpbmcgZW50aXRpZXMgd2l0aCBhdHRyaWJ1dGVzXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlLnZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvbHZlKHRoaXMsIGFyZ3MsIG1lc3NhZ2UsIGVycm9ycyk7XG4gIH1cblxuICBfbWVtb2l6ZUludGxPYmplY3QoY3Rvciwgb3B0cykge1xuICAgIGNvbnN0IGNhY2hlID0gdGhpcy5faW50bHMuZ2V0KGN0b3IpIHx8IHt9O1xuICAgIGNvbnN0IGlkID0gSlNPTi5zdHJpbmdpZnkob3B0cyk7XG5cbiAgICBpZiAoIWNhY2hlW2lkXSkge1xuICAgICAgY2FjaGVbaWRdID0gbmV3IGN0b3IodGhpcy5sb2NhbGVzLCBvcHRzKTtcbiAgICAgIHRoaXMuX2ludGxzLnNldChjdG9yLCBjYWNoZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlW2lkXTtcbiAgfVxufVxuIiwiZnVuY3Rpb24gbm9uQmxhbmsobGluZSkge1xuICByZXR1cm4gIS9eXFxzKiQvLnRlc3QobGluZSk7XG59XG5cbmZ1bmN0aW9uIGNvdW50SW5kZW50KGxpbmUpIHtcbiAgY29uc3QgW2luZGVudF0gPSBsaW5lLm1hdGNoKC9eXFxzKi8pO1xuICByZXR1cm4gaW5kZW50Lmxlbmd0aDtcbn1cblxuLyoqXG4gKiBUZW1wbGF0ZSBsaXRlcmFsIHRhZyBmb3IgZGVkZW50aW5nIEZUTCBjb2RlLlxuICpcbiAqIFN0cmlwIHRoZSBjb21tb24gaW5kZW50IG9mIG5vbi1ibGFuayBsaW5lcy4gUmVtb3ZlIGJsYW5rIGxpbmVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3RyaW5nc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnRsKHN0cmluZ3MpIHtcbiAgY29uc3QgW2NvZGVdID0gc3RyaW5ncztcbiAgY29uc3QgbGluZXMgPSBjb2RlLnNwbGl0KFwiXFxuXCIpLmZpbHRlcihub25CbGFuayk7XG4gIGNvbnN0IGluZGVudHMgPSBsaW5lcy5tYXAoY291bnRJbmRlbnQpO1xuICBjb25zdCBjb21tb24gPSBNYXRoLm1pbiguLi5pbmRlbnRzKTtcbiAgY29uc3QgaW5kZW50ID0gbmV3IFJlZ0V4cChgXlxcXFxzeyR7Y29tbW9ufX1gKTtcblxuICByZXR1cm4gbGluZXMubWFwKFxuICAgIGxpbmUgPT4gbGluZS5yZXBsYWNlKGluZGVudCwgXCJcIilcbiAgKS5qb2luKFwiXFxuXCIpO1xufVxuIiwiLypcbiAqIEBtb2R1bGUgZmx1ZW50XG4gKiBAb3ZlcnZpZXdcbiAqXG4gKiBgZmx1ZW50YCBpcyBhIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgUHJvamVjdCBGbHVlbnQsIGEgbG9jYWxpemF0aW9uXG4gKiBmcmFtZXdvcmsgZGVzaWduZWQgdG8gdW5sZWFzaCB0aGUgZXhwcmVzc2l2ZSBwb3dlciBvZiB0aGUgbmF0dXJhbCBsYW5ndWFnZS5cbiAqXG4gKi9cblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbHVlbnRCdW5kbGUgfSBmcm9tIFwiLi9idW5kbGUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmx1ZW50UmVzb3VyY2UgfSBmcm9tIFwiLi9yZXNvdXJjZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbHVlbnRFcnJvciB9IGZyb20gXCIuL2Vycm9yLmpzXCI7XG5leHBvcnQgeyBGbHVlbnRUeXBlLCBGbHVlbnROdW1iZXIsIEZsdWVudERhdGVUaW1lIH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcblxuZXhwb3J0IHsgZnRsIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRmx1ZW50QnVuZGxlIH0gZnJvbSBcImZsdWVudFwiO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgdGhhdCBhbGxvdyByaWNoIHRleHQgTVVTVCBiZSBhZGRlZCB0byB0aGlzIGxpc3QuXG4gKiAgIGtleTogdGhlIGxvY2FsaXphdGlvbl9pZCB0aGF0IHNob3VsZCBiZSB1c2VkXG4gKiAgIHZhbHVlOiBhIHByb3BlcnR5IG9yIGFycmF5IG9mIHByb3BlcnRpZXMgb24gdGhlIG1lc3NhZ2UuY29udGVudCBvYmplY3RcbiAqL1xuY29uc3QgUklDSF9URVhUX0NPTkZJRyA9IHtcbiAgdGV4dDogW1widGV4dFwiLCBcInNjZW5lMV90ZXh0XCJdLFxuICBzdWNjZXNzX3RleHQ6IFwic3VjY2Vzc190ZXh0XCIsXG4gIGVycm9yX3RleHQ6IFwiZXJyb3JfdGV4dFwiLFxuICBzY2VuZTJfdGV4dDogXCJzY2VuZTJfdGV4dFwiLFxuICBhbW9faHRtbDogXCJhbW9faHRtbFwiLFxuICBwcml2YWN5X2h0bWw6IFwic2NlbmUyX3ByaXZhY3lfaHRtbFwiLFxuICBkaXNjbGFpbWVyX2h0bWw6IFwic2NlbmUyX2Rpc2NsYWltZXJfaHRtbFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFJJQ0hfVEVYVF9LRVlTID0gT2JqZWN0LmtleXMoUklDSF9URVhUX0NPTkZJRyk7XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIGFycmF5IG9mIG1lc3NhZ2VzIHN1aXRhYmxlIGZvciBmbHVlbnQncyBsb2NhbGl6YXRpb24gcHJvdmlkZXJcbiAqIGluY2x1ZGluZyBhbGwgbmVlZGVkIHN0cmluZ3MgZm9yIHJpY2ggdGV4dC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZW50IEEgLmNvbnRlbnQgb2JqZWN0IGZyb20gYW4gQVNSIG1lc3NhZ2UgKGkuZS4gbWVzc2FnZS5jb250ZW50KVxuICogQHJldHVybnMge0ZsdWVudEJ1bmRsZVtdfSBBIGFycmF5IGNvbnRhaW5pbmcgdGhlIGZsdWVudCBtZXNzYWdlIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQnVuZGxlcyhjb250ZW50KSB7XG4gIGNvbnN0IGJ1bmRsZSA9IG5ldyBGbHVlbnRCdW5kbGUoXCJlbi1VU1wiKTtcblxuICBSSUNIX1RFWFRfS0VZUy5mb3JFYWNoKGtleSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBSSUNIX1RFWFRfQ09ORklHW2tleV07XG4gICAgY29uc3QgYXR0cnNUb1RyeSA9IEFycmF5LmlzQXJyYXkoYXR0cnMpID8gWy4uLmF0dHJzXSA6IFthdHRyc107XG4gICAgbGV0IHN0cmluZyA9IFwiXCI7XG4gICAgd2hpbGUgKCFzdHJpbmcgJiYgYXR0cnNUb1RyeS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBhdHRyc1RvVHJ5LnBvcCgpO1xuICAgICAgc3RyaW5nID0gY29udGVudFthdHRyXTtcbiAgICB9XG4gICAgYnVuZGxlLmFkZE1lc3NhZ2VzKGAke2tleX0gPSAke3N0cmluZ31gKTtcbiAgfSk7XG4gIHJldHVybiBbYnVuZGxlXTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbnRoaXMuRGVkdXBlID0gY2xhc3MgRGVkdXBlIHtcbiAgY29uc3RydWN0b3IoY3JlYXRlS2V5KSB7XG4gICAgdGhpcy5jcmVhdGVLZXkgPSBjcmVhdGVLZXkgfHwgdGhpcy5kZWZhdWx0Q3JlYXRlS2V5O1xuICB9XG5cbiAgZGVmYXVsdENyZWF0ZUtleShpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICAvKipcbiAgICogRGVkdXBlIGFueSBudW1iZXIgb2YgZ3JvdXBlZCBlbGVtZW50cyBmYXZvcmluZyB0aG9zZSBmcm9tIGVhcmxpZXIgZ3JvdXBzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBncm91cHMgQ29udGFpbnMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBhcnJheXMgb2YgZWxlbWVudHMuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQSBtYXRjaGluZyBhcnJheSBvZiBlYWNoIHByb3ZpZGVkIGdyb3VwIGRlZHVwZWQuXG4gICAqL1xuICBncm91cCguLi5ncm91cHMpIHtcbiAgICBjb25zdCBnbG9iYWxLZXlzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoY29uc3QgdmFsdWVzIG9mIGdyb3Vwcykge1xuICAgICAgY29uc3QgdmFsdWVNYXAgPSBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNyZWF0ZUtleSh2YWx1ZSk7XG4gICAgICAgIGlmICghZ2xvYmFsS2V5cy5oYXMoa2V5KSAmJiAhdmFsdWVNYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICB2YWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlTWFwKTtcbiAgICAgIHZhbHVlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IGdsb2JhbEtleXMuYWRkKGtleSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Lm1hcChtID0+IEFycmF5LmZyb20obS52YWx1ZXMoKSkpO1xuICB9XG59O1xuXG5jb25zdCBFWFBPUlRFRF9TWU1CT0xTID0gW1wiRGVkdXBlXCJdO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7IGFjdGlvblR5cGVzOiBhdCB9ID0gQ2hyb21lVXRpbHMuaW1wb3J0KFxuICBcInJlc291cmNlOi8vYWN0aXZpdHktc3RyZWFtL2NvbW1vbi9BY3Rpb25zLmpzbVwiXG4pO1xuY29uc3QgeyBEZWR1cGUgfSA9IENocm9tZVV0aWxzLmltcG9ydChcbiAgXCJyZXNvdXJjZTovL2FjdGl2aXR5LXN0cmVhbS9jb21tb24vRGVkdXBlLmpzbVwiXG4pO1xuXG5jb25zdCBUT1BfU0lURVNfREVGQVVMVF9ST1dTID0gMTtcbmNvbnN0IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyA9IDg7XG5cbmNvbnN0IGRlZHVwZSA9IG5ldyBEZWR1cGUoc2l0ZSA9PiBzaXRlICYmIHNpdGUudXJsKTtcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgQXBwOiB7XG4gICAgLy8gSGF2ZSB3ZSByZWNlaXZlZCByZWFsIGRhdGEgZnJvbSB0aGUgYXBwIHlldD9cbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gIH0sXG4gIEFTUm91dGVyOiB7IGluaXRpYWxpemVkOiBmYWxzZSB9LFxuICBTbmlwcGV0czogeyBpbml0aWFsaXplZDogZmFsc2UgfSxcbiAgVG9wU2l0ZXM6IHtcbiAgICAvLyBIYXZlIHdlIHJlY2VpdmVkIHJlYWwgZGF0YSBmcm9tIGhpc3RvcnkgeWV0P1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAvLyBUaGUgaGlzdG9yeSAoYW5kIHBvc3NpYmx5IGRlZmF1bHQpIGxpbmtzXG4gICAgcm93czogW10sXG4gICAgLy8gVXNlZCBpbiBjb250ZW50IG9ubHkgdG8gZGlzcGF0Y2ggYWN0aW9uIHRvIFRvcFNpdGVGb3JtLlxuICAgIGVkaXRGb3JtOiBudWxsLFxuICAgIC8vIFVzZWQgaW4gY29udGVudCBvbmx5IHRvIG9wZW4gdGhlIFNlYXJjaFNob3J0Y3V0c0Zvcm0gbW9kYWwuXG4gICAgc2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm06IGZhbHNlLFxuICAgIC8vIFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBzZWFyY2ggc2hvcnRjdXRzLlxuICAgIHNlYXJjaFNob3J0Y3V0czogW10sXG4gIH0sXG4gIFByZWZzOiB7XG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIHZhbHVlczoge30sXG4gIH0sXG4gIERpYWxvZzoge1xuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIGRhdGE6IHt9LFxuICB9LFxuICBTZWN0aW9uczogW10sXG4gIFBvY2tldDoge1xuICAgIGlzVXNlckxvZ2dlZEluOiBudWxsLFxuICAgIHBvY2tldEN0YToge30sXG4gICAgd2FpdGluZ0ZvclNwb2M6IHRydWUsXG4gIH0sXG4gIC8vIFRoaXMgaXMgdGhlIG5ldyBwb2NrZXQgY29uZmlndXJhYmxlIGxheW91dCBzdGF0ZS5cbiAgRGlzY292ZXJ5U3RyZWFtOiB7XG4gICAgLy8gVGhpcyBpcyBhIEpTT04tcGFyc2VkIGNvcHkgb2YgdGhlIGRpc2NvdmVyeXN0cmVhbS5jb25maWcgcHJlZiB2YWx1ZS5cbiAgICBjb25maWc6IHsgZW5hYmxlZDogZmFsc2UsIGxheW91dF9lbmRwb2ludDogXCJcIiB9LFxuICAgIGxheW91dDogW10sXG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgaXNQcml2YWN5SW5mb01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgZmVlZHM6IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLy8gXCJodHRwczovL2Zvby5jb20vZmVlZDFcIjoge2xhc3RVcGRhdGVkOiAxMjMsIGRhdGE6IFtdfVxuICAgICAgfSxcbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgfSxcbiAgICBzcG9jczoge1xuICAgICAgc3BvY3NfZW5kcG9pbnQ6IFwiXCIsXG4gICAgICBzcG9jc19wZXJfZG9tYWluOiAxLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgICBkYXRhOiB7fSwgLy8ge3Nwb2NzOiBbXX1cbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICBmcmVxdWVuY3lfY2FwczogW10sXG4gICAgICBibG9ja2VkOiBbXSxcbiAgICAgIHBsYWNlbWVudHM6IFtdLFxuICAgIH0sXG4gIH0sXG4gIFNlYXJjaDoge1xuICAgIC8vIFdoZW4gc2VhcmNoIGhhbmQtb2ZmIGlzIGVuYWJsZWQsIHdlIHJlbmRlciBhIGJpZyBidXR0b24gdGhhdCBpcyBzdHlsZWQgdG9cbiAgICAvLyBsb29rIGxpa2UgYSBzZWFyY2ggdGV4dGJveC4gSWYgdGhlIGJ1dHRvbiBpcyBjbGlja2VkLCB3ZSBzdHlsZVxuICAgIC8vIHRoZSBidXR0b24gYXMgaWYgaXQgd2FzIGEgZm9jdXNlZCBzZWFyY2ggYm94IGFuZCBzaG93IGEgZmFrZSBjdXJzb3IgYnV0XG4gICAgLy8gcmVhbGx5IGZvY3VzIHRoZSBhd2Vzb21lYmFyIHdpdGhvdXQgdGhlIGZvY3VzIHN0eWxlcyAoXCJoaWRkZW4gZm9jdXNcIikuXG4gICAgZmFrZUZvY3VzOiBmYWxzZSxcbiAgICAvLyBIaWRlIHRoZSBzZWFyY2ggYm94IGFmdGVyIGhhbmRpbmcgb2ZmIHRvIEF3ZXNvbWVCYXIgYW5kIHVzZXIgc3RhcnRzIHR5cGluZy5cbiAgICBoaWRlOiBmYWxzZSxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIEFwcChwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkFwcCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LklOSVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCBhY3Rpb24uZGF0YSB8fCB7fSwge1xuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIEFTUm91dGVyKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuQVNSb3V0ZXIsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5BU19ST1VURVJfSU5JVElBTElaRUQ6XG4gICAgICByZXR1cm4geyAuLi5hY3Rpb24uZGF0YSwgaW5pdGlhbGl6ZWQ6IHRydWUgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG4vKipcbiAqIGluc2VydFBpbm5lZCAtIEluc2VydHMgcGlubmVkIGxpbmtzIGluIHRoZWlyIHNwZWNpZmllZCBzbG90c1xuICpcbiAqIEBwYXJhbSB7YXJyYXl9IGEgbGlzdCBvZiBsaW5rc1xuICogQHBhcmFtIHthcnJheX0gYSBsaXN0IG9mIHBpbm5lZCBsaW5rc1xuICogQHJldHVybiB7YXJyYXl9IHJlc3VsdGluZyBsaXN0IG9mIGxpbmtzIHdpdGggcGlubmVkIGxpbmtzIGluc2VydGVkXG4gKi9cbmZ1bmN0aW9uIGluc2VydFBpbm5lZChsaW5rcywgcGlubmVkKSB7XG4gIC8vIFJlbW92ZSBhbnkgcGlubmVkIGxpbmtzXG4gIGNvbnN0IHBpbm5lZFVybHMgPSBwaW5uZWQubWFwKGxpbmsgPT4gbGluayAmJiBsaW5rLnVybCk7XG4gIGxldCBuZXdMaW5rcyA9IGxpbmtzLmZpbHRlcihsaW5rID0+XG4gICAgbGluayA/ICFwaW5uZWRVcmxzLmluY2x1ZGVzKGxpbmsudXJsKSA6IGZhbHNlXG4gICk7XG4gIG5ld0xpbmtzID0gbmV3TGlua3MubWFwKGxpbmsgPT4ge1xuICAgIGlmIChsaW5rICYmIGxpbmsuaXNQaW5uZWQpIHtcbiAgICAgIGRlbGV0ZSBsaW5rLmlzUGlubmVkO1xuICAgICAgZGVsZXRlIGxpbmsucGluSW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBsaW5rO1xuICB9KTtcblxuICAvLyBUaGVuIGluc2VydCB0aGVtIGluIHRoZWlyIHNwZWNpZmllZCBsb2NhdGlvblxuICBwaW5uZWQuZm9yRWFjaCgodmFsLCBpbmRleCkgPT4ge1xuICAgIGlmICghdmFsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsaW5rID0gT2JqZWN0LmFzc2lnbih7fSwgdmFsLCB7IGlzUGlubmVkOiB0cnVlLCBwaW5JbmRleDogaW5kZXggfSk7XG4gICAgaWYgKGluZGV4ID4gbmV3TGlua3MubGVuZ3RoKSB7XG4gICAgICBuZXdMaW5rc1tpbmRleF0gPSBsaW5rO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdMaW5rcy5zcGxpY2UoaW5kZXgsIDAsIGxpbmspO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG5ld0xpbmtzO1xufVxuXG5mdW5jdGlvbiBUb3BTaXRlcyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlRvcFNpdGVzLCBhY3Rpb24pIHtcbiAgbGV0IGhhc01hdGNoO1xuICBsZXQgbmV3Um93cztcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX1VQREFURUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhIHx8ICFhY3Rpb24uZGF0YS5saW5rcykge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBwcmV2U3RhdGUsXG4gICAgICAgIHsgaW5pdGlhbGl6ZWQ6IHRydWUsIHJvd3M6IGFjdGlvbi5kYXRhLmxpbmtzIH0sXG4gICAgICAgIGFjdGlvbi5kYXRhLnByZWYgPyB7IHByZWY6IGFjdGlvbi5kYXRhLnByZWYgfSA6IHt9XG4gICAgICApO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX1BSRUZTX1VQREFURUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHByZWY6IGFjdGlvbi5kYXRhLnByZWYgfSk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfRURJVDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgZWRpdEZvcm06IHtcbiAgICAgICAgICBpbmRleDogYWN0aW9uLmRhdGEuaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfQ0FOQ0VMX0VESVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IGVkaXRGb3JtOiBudWxsIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX09QRU5fU0VBUkNIX1NIT1JUQ1VUU19NT0RBTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgc2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm06IHRydWUgfSk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfQ0xPU0VfU0VBUkNIX1NIT1JUQ1VUU19NT0RBTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgc2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm06IGZhbHNlIH0pO1xuICAgIGNhc2UgYXQuUFJFVklFV19SRVNQT05TRTpcbiAgICAgIGlmIChcbiAgICAgICAgIXByZXZTdGF0ZS5lZGl0Rm9ybSB8fFxuICAgICAgICBhY3Rpb24uZGF0YS51cmwgIT09IHByZXZTdGF0ZS5lZGl0Rm9ybS5wcmV2aWV3VXJsXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgZWRpdEZvcm06IHtcbiAgICAgICAgICBpbmRleDogcHJldlN0YXRlLmVkaXRGb3JtLmluZGV4LFxuICAgICAgICAgIHByZXZpZXdSZXNwb25zZTogYWN0aW9uLmRhdGEucHJldmlldyxcbiAgICAgICAgICBwcmV2aWV3VXJsOiBhY3Rpb24uZGF0YS51cmwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBSRVZJRVdfUkVRVUVTVDpcbiAgICAgIGlmICghcHJldlN0YXRlLmVkaXRGb3JtKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IHByZXZTdGF0ZS5lZGl0Rm9ybS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IG51bGwsXG4gICAgICAgICAgcHJldmlld1VybDogYWN0aW9uLmRhdGEudXJsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5QUkVWSUVXX1JFUVVFU1RfQ0FOQ0VMOlxuICAgICAgaWYgKCFwcmV2U3RhdGUuZWRpdEZvcm0pIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgZWRpdEZvcm06IHtcbiAgICAgICAgICBpbmRleDogcHJldlN0YXRlLmVkaXRGb3JtLmluZGV4LFxuICAgICAgICAgIHByZXZpZXdSZXNwb25zZTogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuU0NSRUVOU0hPVF9VUERBVEVEOlxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLm1hcChyb3cgPT4ge1xuICAgICAgICBpZiAocm93ICYmIHJvdy51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGhhc01hdGNoID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcm93LCB7IHNjcmVlbnNob3Q6IGFjdGlvbi5kYXRhLnNjcmVlbnNob3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGhhc01hdGNoXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHJvd3M6IG5ld1Jvd3MgfSlcbiAgICAgICAgOiBwcmV2U3RhdGU7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktfQURERUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MubWFwKHNpdGUgPT4ge1xuICAgICAgICBpZiAoc2l0ZSAmJiBzaXRlLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgY29uc3QgeyBib29rbWFya0d1aWQsIGJvb2ttYXJrVGl0bGUsIGRhdGVBZGRlZCB9ID0gYWN0aW9uLmRhdGE7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNpdGUsIHtcbiAgICAgICAgICAgIGJvb2ttYXJrR3VpZCxcbiAgICAgICAgICAgIGJvb2ttYXJrVGl0bGUsXG4gICAgICAgICAgICBib29rbWFya0RhdGVDcmVhdGVkOiBkYXRlQWRkZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpdGU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcm93czogbmV3Um93cyB9KTtcbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19SRU1PVkVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLm1hcChzaXRlID0+IHtcbiAgICAgICAgaWYgKHNpdGUgJiYgc2l0ZS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGNvbnN0IG5ld1NpdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzaXRlKTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0RhdGVDcmVhdGVkO1xuICAgICAgICAgIHJldHVybiBuZXdTaXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXRlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS19ERUxFVEVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLmZpbHRlcihzaXRlID0+IGFjdGlvbi5kYXRhLnVybCAhPT0gc2l0ZS51cmwpO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuVVBEQVRFX1NFQVJDSF9TSE9SVENVVFM6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHNlYXJjaFNob3J0Y3V0czogYWN0aW9uLmRhdGEuc2VhcmNoU2hvcnRjdXRzIH07XG4gICAgY2FzZSBhdC5TTklQUEVUU19QUkVWSUVXX01PREU6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHJvd3M6IFtdIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gRGlhbG9nKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuRGlhbG9nLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElBTE9HX09QRU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHZpc2libGU6IHRydWUsIGRhdGE6IGFjdGlvbi5kYXRhIH0pO1xuICAgIGNhc2UgYXQuRElBTE9HX0NBTkNFTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgdmlzaWJsZTogZmFsc2UgfSk7XG4gICAgY2FzZSBhdC5ERUxFVEVfSElTVE9SWV9VUkw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgSU5JVElBTF9TVEFURS5EaWFsb2cpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFByZWZzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuUHJlZnMsIGFjdGlvbikge1xuICBsZXQgbmV3VmFsdWVzO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5QUkVGU19JTklUSUFMX1ZBTFVFUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIHZhbHVlczogYWN0aW9uLmRhdGEsXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBSRUZfQ0hBTkdFRDpcbiAgICAgIG5ld1ZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZS52YWx1ZXMpO1xuICAgICAgbmV3VmFsdWVzW2FjdGlvbi5kYXRhLm5hbWVdID0gYWN0aW9uLmRhdGEudmFsdWU7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHZhbHVlczogbmV3VmFsdWVzIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFNlY3Rpb25zKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuU2VjdGlvbnMsIGFjdGlvbikge1xuICBsZXQgaGFzTWF0Y2g7XG4gIGxldCBuZXdTdGF0ZTtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuU0VDVElPTl9ERVJFR0lTVEVSOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5maWx0ZXIoc2VjdGlvbiA9PiBzZWN0aW9uLmlkICE9PSBhY3Rpb24uZGF0YSk7XG4gICAgY2FzZSBhdC5TRUNUSU9OX1JFR0lTVEVSOlxuICAgICAgLy8gSWYgc2VjdGlvbiBleGlzdHMgaW4gcHJldlN0YXRlLCB1cGRhdGUgaXRcbiAgICAgIG5ld1N0YXRlID0gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHNlY3Rpb24gJiYgc2VjdGlvbi5pZCA9PT0gYWN0aW9uLmRhdGEuaWQpIHtcbiAgICAgICAgICBoYXNNYXRjaCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIGFjdGlvbi5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgIH0pO1xuICAgICAgLy8gT3RoZXJ3aXNlLCBhcHBlbmQgaXRcbiAgICAgIGlmICghaGFzTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZWQgPSAhIShhY3Rpb24uZGF0YS5yb3dzICYmICEhYWN0aW9uLmRhdGEucm93cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7IHRpdGxlOiBcIlwiLCByb3dzOiBbXSwgZW5hYmxlZDogZmFsc2UgfSxcbiAgICAgICAgICBhY3Rpb24uZGF0YSxcbiAgICAgICAgICB7IGluaXRpYWxpemVkIH1cbiAgICAgICAgKTtcbiAgICAgICAgbmV3U3RhdGUucHVzaChzZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICBjYXNlIGF0LlNFQ1RJT05fVVBEQVRFOlxuICAgICAgbmV3U3RhdGUgPSBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICBpZiAoc2VjdGlvbiAmJiBzZWN0aW9uLmlkID09PSBhY3Rpb24uZGF0YS5pZCkge1xuICAgICAgICAgIC8vIElmIHRoZSBhY3Rpb24gaXMgdXBkYXRpbmcgcm93cywgd2Ugc2hvdWxkIGNvbnNpZGVyIGluaXRpYWxpemVkIHRvIGJlIHRydWUuXG4gICAgICAgICAgLy8gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiBpZiBpbml0aWFsaXplZCBpcyBkZWZpbmVkIGluIHRoZSBhY3Rpb24uZGF0YVxuICAgICAgICAgIGNvbnN0IGluaXRpYWxpemVkID0gYWN0aW9uLmRhdGEucm93cyA/IHsgaW5pdGlhbGl6ZWQ6IHRydWUgfSA6IHt9O1xuXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHBpbm5lZCBjYXJkcyBzdGF5IGF0IHRoZWlyIGN1cnJlbnQgcG9zaXRpb24gd2hlbiByb3dzIGFyZSB1cGRhdGVkLlxuICAgICAgICAgIC8vIERpc2FibGluZyBhIHNlY3Rpb24gKFNFQ1RJT05fVVBEQVRFIHdpdGggZW1wdHkgcm93cykgZG9lcyBub3QgcmV0YWluIHBpbm5lZCBjYXJkcy5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhY3Rpb24uZGF0YS5yb3dzICYmXG4gICAgICAgICAgICAhIWFjdGlvbi5kYXRhLnJvd3MubGVuZ3RoICYmXG4gICAgICAgICAgICBzZWN0aW9uLnJvd3MuZmluZChjYXJkID0+IGNhcmQucGlubmVkKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qgcm93cyA9IEFycmF5LmZyb20oYWN0aW9uLmRhdGEucm93cyk7XG4gICAgICAgICAgICBzZWN0aW9uLnJvd3MuZm9yRWFjaCgoY2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGNhcmQucGlubmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgaXQgaWYgaXQncyBub3QgYWxyZWFkeSB0aGVyZS5cbiAgICAgICAgICAgICAgICBpZiAocm93c1tpbmRleF0uZ3VpZCAhPT0gY2FyZC5ndWlkKSB7XG4gICAgICAgICAgICAgICAgICByb3dzLnNwbGljZShpbmRleCwgMCwgY2FyZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgc2VjdGlvbixcbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQsXG4gICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5kYXRhLCB7IHJvd3MgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIGluaXRpYWxpemVkLCBhY3Rpb24uZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFhY3Rpb24uZGF0YS5kZWR1cGVDb25maWd1cmF0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvbi5kYXRhLmRlZHVwZUNvbmZpZ3VyYXRpb25zLmZvckVhY2goZGVkdXBlQ29uZiA9PiB7XG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChzZWN0aW9uLmlkID09PSBkZWR1cGVDb25mLmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkZWR1cGVkUm93cyA9IGRlZHVwZUNvbmYuZGVkdXBlRnJvbS5yZWR1Y2UoXG4gICAgICAgICAgICAgIChyb3dzLCBkZWR1cGVTZWN0aW9uSWQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWR1cGVTZWN0aW9uID0gbmV3U3RhdGUuZmluZChcbiAgICAgICAgICAgICAgICAgIHMgPT4gcy5pZCA9PT0gZGVkdXBlU2VjdGlvbklkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBuZXdSb3dzXSA9IGRlZHVwZS5ncm91cChkZWR1cGVTZWN0aW9uLnJvd3MsIHJvd3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdSb3dzO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzZWN0aW9uLnJvd3NcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7IHJvd3M6IGRlZHVwZWRSb3dzIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgY2FzZSBhdC5TRUNUSU9OX1VQREFURV9DQVJEOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgIGlmIChzZWN0aW9uICYmIHNlY3Rpb24uaWQgPT09IGFjdGlvbi5kYXRhLmlkICYmIHNlY3Rpb24ucm93cykge1xuICAgICAgICAgIGNvbnN0IG5ld1Jvd3MgPSBzZWN0aW9uLnJvd3MubWFwKGNhcmQgPT4ge1xuICAgICAgICAgICAgaWYgKGNhcmQudXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNhcmQsIGFjdGlvbi5kYXRhLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHsgcm93czogbmV3Um93cyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLX0FEREVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIGl0ZW0gd2l0aGluIHRoZSByb3dzIHRoYXQgaXMgYXR0ZW1wdGVkIHRvIGJlIGJvb2ttYXJrZWRcbiAgICAgICAgICAgIGlmIChpdGVtLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgIGJvb2ttYXJrR3VpZCxcbiAgICAgICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgICAgIGJvb2ttYXJrRGF0ZUNyZWF0ZWQ6IGRhdGVBZGRlZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2ttYXJrXCIsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuUExBQ0VTX1NBVkVEX1RPX1BPQ0tFVDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgIG9wZW5fdXJsOiBhY3Rpb24uZGF0YS5vcGVuX3VybCxcbiAgICAgICAgICAgICAgICBwb2NrZXRfaWQ6IGFjdGlvbi5kYXRhLnBvY2tldF9pZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogYWN0aW9uLmRhdGEudGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJwb2NrZXRcIixcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktfUkVNT1ZFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBib29rbWFyayB3aXRoaW4gdGhlIHJvd3MgdGhhdCBpcyBhdHRlbXB0ZWQgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgaWYgKGl0ZW0udXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3U2l0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrVGl0bGU7XG4gICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrRGF0ZUNyZWF0ZWQ7XG4gICAgICAgICAgICAgIGlmICghbmV3U2l0ZS50eXBlIHx8IG5ld1NpdGUudHlwZSA9PT0gXCJib29rbWFya1wiKSB7XG4gICAgICAgICAgICAgICAgbmV3U2l0ZS50eXBlID0gXCJoaXN0b3J5XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIG5ld1NpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS19ERUxFVEVEOlxuICAgIGNhc2UgYXQuUExBQ0VTX0xJTktfQkxPQ0tFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5maWx0ZXIoc2l0ZSA9PiBzaXRlLnVybCAhPT0gYWN0aW9uLmRhdGEudXJsKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5ERUxFVEVfRlJPTV9QT0NLRVQ6XG4gICAgY2FzZSBhdC5BUkNISVZFX0ZST01fUE9DS0VUOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLmZpbHRlcihcbiAgICAgICAgICAgIHNpdGUgPT4gc2l0ZS5wb2NrZXRfaWQgIT09IGFjdGlvbi5kYXRhLnBvY2tldF9pZFxuICAgICAgICAgICksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuU05JUFBFVFNfUFJFVklFV19NT0RFOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiAoeyAuLi5zZWN0aW9uLCByb3dzOiBbXSB9KSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gU25pcHBldHMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5TbmlwcGV0cywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlNOSVBQRVRTX0RBVEE6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IGluaXRpYWxpemVkOiB0cnVlIH0sIGFjdGlvbi5kYXRhKTtcbiAgICBjYXNlIGF0LlNOSVBQRVRfQkxPQ0tFRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgYmxvY2tMaXN0OiBwcmV2U3RhdGUuYmxvY2tMaXN0LmNvbmNhdChhY3Rpb24uZGF0YSksXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlNOSVBQRVRTX0JMT0NLTElTVF9DTEVBUkVEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBibG9ja0xpc3Q6IFtdIH0pO1xuICAgIGNhc2UgYXQuU05JUFBFVFNfUkVTRVQ6XG4gICAgICByZXR1cm4gSU5JVElBTF9TVEFURS5TbmlwcGV0cztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBQb2NrZXQocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5Qb2NrZXQsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5QT0NLRVRfV0FJVElOR19GT1JfU1BPQzpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgd2FpdGluZ0ZvclNwb2M6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5QT0NLRVRfTE9HR0VEX0lOOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBpc1VzZXJMb2dnZWRJbjogISFhY3Rpb24uZGF0YSB9O1xuICAgIGNhc2UgYXQuUE9DS0VUX0NUQTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgcG9ja2V0Q3RhOiB7XG4gICAgICAgICAgY3RhQnV0dG9uOiBhY3Rpb24uZGF0YS5jdGFfYnV0dG9uLFxuICAgICAgICAgIGN0YVRleHQ6IGFjdGlvbi5kYXRhLmN0YV90ZXh0LFxuICAgICAgICAgIGN0YVVybDogYWN0aW9uLmRhdGEuY3RhX3VybCxcbiAgICAgICAgICB1c2VDdGE6IGFjdGlvbi5kYXRhLnVzZV9jdGEsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbShwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbSwgYWN0aW9uKSB7XG4gIC8vIFJldHVybiBpZiBhY3Rpb24gZGF0YSBpcyBlbXB0eSwgb3Igc3BvY3Mgb3IgZmVlZHMgZGF0YSBpcyBub3QgbG9hZGVkXG4gIGNvbnN0IGlzTm90UmVhZHkgPSAoKSA9PlxuICAgICFhY3Rpb24uZGF0YSB8fCAhcHJldlN0YXRlLnNwb2NzLmxvYWRlZCB8fCAhcHJldlN0YXRlLmZlZWRzLmxvYWRlZDtcblxuICBjb25zdCBoYW5kbGVQbGFjZW1lbnRzID0gaGFuZGxlU2l0ZXMgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGxhY2VtZW50cyB9ID0gcHJldlN0YXRlLnNwb2NzO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgY29uc3QgZm9yUGxhY2VtZW50ID0gcGxhY2VtZW50ID0+IHtcbiAgICAgIGNvbnN0IHBsYWNlbWVudFNwb2NzID0gZGF0YVtwbGFjZW1lbnQubmFtZV07XG5cbiAgICAgIGlmICghcGxhY2VtZW50U3BvY3MgfHwgIXBsYWNlbWVudFNwb2NzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFtwbGFjZW1lbnQubmFtZV0gPSBoYW5kbGVTaXRlcyhwbGFjZW1lbnRTcG9jcyk7XG4gICAgfTtcblxuICAgIGlmICghcGxhY2VtZW50cyB8fCAhcGxhY2VtZW50cy5sZW5ndGgpIHtcbiAgICAgIFt7IG5hbWU6IFwic3BvY3NcIiB9XS5mb3JFYWNoKGZvclBsYWNlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYWNlbWVudHMuZm9yRWFjaChmb3JQbGFjZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IG5leHRTdGF0ZSA9IGhhbmRsZVNpdGVzID0+ICh7XG4gICAgLi4ucHJldlN0YXRlLFxuICAgIHNwb2NzOiB7XG4gICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICBkYXRhOiBoYW5kbGVQbGFjZW1lbnRzKGhhbmRsZVNpdGVzKSxcbiAgICB9LFxuICAgIGZlZWRzOiB7XG4gICAgICAuLi5wcmV2U3RhdGUuZmVlZHMsXG4gICAgICBkYXRhOiBPYmplY3Qua2V5cyhwcmV2U3RhdGUuZmVlZHMuZGF0YSkucmVkdWNlKFxuICAgICAgICAoYWNjdW11bGF0b3IsIGZlZWRfdXJsKSA9PiB7XG4gICAgICAgICAgYWNjdW11bGF0b3JbZmVlZF91cmxdID0ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMuZGF0YVtmZWVkX3VybF0uZGF0YSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBoYW5kbGVTaXRlcyhcbiAgICAgICAgICAgICAgICBwcmV2U3RhdGUuZmVlZHMuZGF0YVtmZWVkX3VybF0uZGF0YS5yZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApLFxuICAgIH0sXG4gIH0pO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRTpcbiAgICAvLyBGYWxsIHRocm91Z2ggdG8gYSBzZXBhcmF0ZSBhY3Rpb24gaXMgc28gaXQgZG9lc24ndCB0cmlnZ2VyIGEgbGlzdGVuZXIgdXBkYXRlIG9uIGluaXRcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVFVQOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBjb25maWc6IGFjdGlvbi5kYXRhIHx8IHt9IH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9VUERBVEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBhY3Rpb24uZGF0YS5sYXN0VXBkYXRlZCB8fCBudWxsLFxuICAgICAgICBsYXlvdXQ6IGFjdGlvbi5kYXRhLmxheW91dCB8fCBbXSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ISURFX1BSSVZBQ1lfSU5GTzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNQcml2YWN5SW5mb01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuU0hPV19QUklWQUNZX0lORk86XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGlzUHJpdmFjeUluZm9Nb2RhbFZpc2libGU6IHRydWUsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9MQVlPVVRfUkVTRVQ6XG4gICAgICByZXR1cm4geyAuLi5JTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbSwgY29uZmlnOiBwcmV2U3RhdGUuY29uZmlnIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0ZFRURTX1VQREFURTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgZmVlZHM6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMsXG4gICAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEU6XG4gICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICBuZXdEYXRhW2FjdGlvbi5kYXRhLnVybF0gPSBhY3Rpb24uZGF0YS5mZWVkO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBmZWVkczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMuZGF0YSxcbiAgICAgICAgICAgIC4uLm5ld0RhdGEsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0NBUFM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgIGZyZXF1ZW5jeV9jYXBzOiBbLi4ucHJldlN0YXRlLnNwb2NzLmZyZXF1ZW5jeV9jYXBzLCAuLi5hY3Rpb24uZGF0YV0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5JTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbS5zcG9jcyxcbiAgICAgICAgICBzcG9jc19lbmRwb2ludDpcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnVybCB8fFxuICAgICAgICAgICAgSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3Muc3BvY3NfZW5kcG9pbnQsXG4gICAgICAgICAgc3BvY3NfcGVyX2RvbWFpbjpcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnNwb2NzX3Blcl9kb21haW4gfHxcbiAgICAgICAgICAgIElOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLnNwb2NzLnNwb2NzX3Blcl9kb21haW4sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19QTEFDRU1FTlRTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgICAgICBwbGFjZW1lbnRzOlxuICAgICAgICAgICAgYWN0aW9uLmRhdGEucGxhY2VtZW50cyB8fFxuICAgICAgICAgICAgSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3MucGxhY2VtZW50cyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX1VQREFURTpcbiAgICAgIGlmIChhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICBzcG9jczoge1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmxhc3RVcGRhdGVkLFxuICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEuc3BvY3MsXG4gICAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NfQkxPQ0tFRDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICAgICAgYmxvY2tlZDogWy4uLnByZXZTdGF0ZS5zcG9jcy5ibG9ja2VkLCBhY3Rpb24uZGF0YS51cmxdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fTElOS19CTE9DS0VEOlxuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PlxuICAgICAgICAgICAgaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS51cmwgIT09IGFjdGlvbi5kYXRhLnVybClcbiAgICAgICAgICApO1xuXG4gICAgY2FzZSBhdC5QTEFDRVNfU0FWRURfVE9fUE9DS0VUOlxuICAgICAgY29uc3QgYWRkUG9ja2V0SW5mbyA9IGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBvcGVuX3VybDogYWN0aW9uLmRhdGEub3Blbl91cmwsXG4gICAgICAgICAgICBwb2NrZXRfaWQ6IGFjdGlvbi5kYXRhLnBvY2tldF9pZCxcbiAgICAgICAgICAgIGNvbnRleHRfdHlwZTogXCJwb2NrZXRcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+IGl0ZW1zLm1hcChhZGRQb2NrZXRJbmZvKSk7XG5cbiAgICBjYXNlIGF0LkRFTEVURV9GUk9NX1BPQ0tFVDpcbiAgICBjYXNlIGF0LkFSQ0hJVkVfRlJPTV9QT0NLRVQ6XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+XG4gICAgICAgICAgICBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnBvY2tldF9pZCAhPT0gYWN0aW9uLmRhdGEucG9ja2V0X2lkKVxuICAgICAgICAgICk7XG5cbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19BRERFRDpcbiAgICAgIGNvbnN0IHVwZGF0ZUJvb2ttYXJrSW5mbyA9IGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgYm9va21hcmtEYXRlQ3JlYXRlZDogZGF0ZUFkZGVkLFxuICAgICAgICAgICAgY29udGV4dF90eXBlOiBcImJvb2ttYXJrXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PiBpdGVtcy5tYXAodXBkYXRlQm9va21hcmtJbmZvKSk7XG5cbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19SRU1PVkVEOlxuICAgICAgY29uc3QgcmVtb3ZlQm9va21hcmtJbmZvID0gaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgY29uc3QgbmV3U2l0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrR3VpZDtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya1RpdGxlO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrRGF0ZUNyZWF0ZWQ7XG4gICAgICAgICAgaWYgKCFuZXdTaXRlLmNvbnRleHRfdHlwZSB8fCBuZXdTaXRlLmNvbnRleHRfdHlwZSA9PT0gXCJib29rbWFya1wiKSB7XG4gICAgICAgICAgICBuZXdTaXRlLmNvbnRleHRfdHlwZSA9IFwicmVtb3ZlZEJvb2ttYXJrXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdTaXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBpc05vdFJlYWR5KClcbiAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgOiBuZXh0U3RhdGUoaXRlbXMgPT4gaXRlbXMubWFwKHJlbW92ZUJvb2ttYXJrSW5mbykpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gU2VhcmNoKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuU2VhcmNoLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuSElERV9TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IC4uLnByZXZTdGF0ZSwgaGlkZTogdHJ1ZSB9KTtcbiAgICBjYXNlIGF0LkZBS0VfRk9DVVNfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAuLi5wcmV2U3RhdGUsIGZha2VGb2N1czogdHJ1ZSB9KTtcbiAgICBjYXNlIGF0LlNIT1dfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAuLi5wcmV2U3RhdGUsIGhpZGU6IGZhbHNlLCBmYWtlRm9jdXM6IGZhbHNlIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbnRoaXMuSU5JVElBTF9TVEFURSA9IElOSVRJQUxfU1RBVEU7XG50aGlzLlRPUF9TSVRFU19ERUZBVUxUX1JPV1MgPSBUT1BfU0lURVNfREVGQVVMVF9ST1dTO1xudGhpcy5UT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1cgPSBUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1c7XG5cbnRoaXMucmVkdWNlcnMgPSB7XG4gIFRvcFNpdGVzLFxuICBBcHAsXG4gIEFTUm91dGVyLFxuICBTbmlwcGV0cyxcbiAgUHJlZnMsXG4gIERpYWxvZyxcbiAgU2VjdGlvbnMsXG4gIFBvY2tldCxcbiAgRGlzY292ZXJ5U3RyZWFtLFxuICBTZWFyY2gsXG59O1xuXG5jb25zdCBFWFBPUlRFRF9TWU1CT0xTID0gW1xuICBcInJlZHVjZXJzXCIsXG4gIFwiSU5JVElBTF9TVEFURVwiLFxuICBcImluc2VydFBpbm5lZFwiLFxuICBcIlRPUF9TSVRFU19ERUZBVUxUX1JPV1NcIixcbiAgXCJUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1dcIixcbl07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUcmFpbGhlYWQgfSBmcm9tIFwiLi4vVHJhaWxoZWFkL1RyYWlsaGVhZFwiO1xuaW1wb3J0IHsgUmV0dXJuVG9BTU8gfSBmcm9tIFwiLi4vUmV0dXJuVG9BTU8vUmV0dXJuVG9BTU9cIjtcbmltcG9ydCB7IEZ1bGxQYWdlSW50ZXJydXB0IH0gZnJvbSBcIi4uL0Z1bGxQYWdlSW50ZXJydXB0L0Z1bGxQYWdlSW50ZXJydXB0XCI7XG5pbXBvcnQgeyBMb2NhbGl6YXRpb25Qcm92aWRlciB9IGZyb20gXCJmbHVlbnQtcmVhY3RcIjtcbmltcG9ydCB7IGdlbmVyYXRlQnVuZGxlcyB9IGZyb20gXCIuLi8uLi9yaWNoLXRleHQtc3RyaW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgSW50ZXJydXB0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjYXJkcyxcbiAgICAgIG9uRGlzbWlzcyxcbiAgICAgIG9uTmV4dFNjZW5lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5LFxuICAgICAgZXhlY3V0ZUFjdGlvbixcbiAgICAgIGRpc3BhdGNoLFxuICAgICAgZnhhRW5kcG9pbnQsXG4gICAgICBVVE1UZXJtLFxuICAgICAgZmxvd1BhcmFtcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIHN3aXRjaCAobWVzc2FnZS50ZW1wbGF0ZSkge1xuICAgICAgY2FzZSBcInJldHVybl90b19hbW9fb3ZlcmxheVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMb2NhbGl6YXRpb25Qcm92aWRlclxuICAgICAgICAgICAgYnVuZGxlcz17Z2VuZXJhdGVCdW5kbGVzKHsgYW1vX2h0bWw6IG1lc3NhZ2UuY29udGVudC50ZXh0IH0pfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxSZXR1cm5Ub0FNT1xuICAgICAgICAgICAgICB7Li4ubWVzc2FnZX1cbiAgICAgICAgICAgICAgZG9jdW1lbnQ9e3RoaXMucHJvcHMuZG9jdW1lbnR9XG4gICAgICAgICAgICAgIFVJU3VyZmFjZT1cIk5FV1RBQl9PVkVSTEFZXCJcbiAgICAgICAgICAgICAgb25CbG9jaz17b25EaXNtaXNzfVxuICAgICAgICAgICAgICBvbkFjdGlvbj17ZXhlY3V0ZUFjdGlvbn1cbiAgICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3NlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0xvY2FsaXphdGlvblByb3ZpZGVyPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImZ1bGxfcGFnZV9pbnRlcnJ1cHRcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RnVsbFBhZ2VJbnRlcnJ1cHRcbiAgICAgICAgICAgIGRvY3VtZW50PXt0aGlzLnByb3BzLmRvY3VtZW50fVxuICAgICAgICAgICAgY2FyZHM9e2NhcmRzfVxuICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cbiAgICAgICAgICAgIG9uQmxvY2s9e29uRGlzbWlzc31cbiAgICAgICAgICAgIG9uQWN0aW9uPXtleGVjdXRlQWN0aW9ufVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgZnhhRW5kcG9pbnQ9e2Z4YUVuZHBvaW50fVxuICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3NlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5fVxuICAgICAgICAgICAgVVRNVGVybT17VVRNVGVybX1cbiAgICAgICAgICAgIGZsb3dQYXJhbXM9e2Zsb3dQYXJhbXN9XG4gICAgICAgICAgICBvbkJsb2NrQnlJZD17dGhpcy5wcm9wcy5vbkJsb2NrQnlJZH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcInRyYWlsaGVhZFwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUcmFpbGhlYWRcbiAgICAgICAgICAgIGRvY3VtZW50PXt0aGlzLnByb3BzLmRvY3VtZW50fVxuICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cbiAgICAgICAgICAgIG9uTmV4dFNjZW5lPXtvbk5leHRTY2VuZX1cbiAgICAgICAgICAgIG9uQWN0aW9uPXtleGVjdXRlQWN0aW9ufVxuICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3NlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5fVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgZnhhRW5kcG9pbnQ9e2Z4YUVuZHBvaW50fVxuICAgICAgICAgICAgVVRNVGVybT17VVRNVGVybX1cbiAgICAgICAgICAgIGZsb3dQYXJhbXM9e2Zsb3dQYXJhbXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHttZXNzYWdlLnRlbXBsYXRlfSBpcyBub3QgYSB2YWxpZCBGaXJzdFJ1biBtZXNzYWdlYCk7XG4gICAgfVxuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJbnRlcnJ1cHQgfSBmcm9tIFwiLi9JbnRlcnJ1cHRcIjtcbmltcG9ydCB7IFRyaXBsZXRzIH0gZnJvbSBcIi4vVHJpcGxldHNcIjtcbmltcG9ydCB7IEJBU0VfUEFSQU1TIH0gZnJvbSBcIi4vYWRkVXRtUGFyYW1zXCI7XG5cbi8vIE5vdGU6IHNob3VsZCBtYXRjaCB0aGUgdHJhbnNpdGlvbiB0aW1lIG9uIC50cmFpbGhlYWRDYXJkcyBpbiBfVHJhaWxoZWFkLnNjc3NcbmNvbnN0IFRSQU5TSVRJT05fTEVOR1RIID0gNTAwO1xuXG5leHBvcnQgY29uc3QgRkxVRU5UX0ZJTEVTID0gW1xuICBcImJyYW5kaW5nL2JyYW5kLmZ0bFwiLFxuICBcImJyb3dzZXIvYnJhbmRpbmcvYnJhbmRpbmdzLmZ0bFwiLFxuICBcImJyb3dzZXIvYnJhbmRpbmcvc3luYy1icmFuZC5mdGxcIixcbiAgXCJicm93c2VyL25ld3RhYi9vbmJvYXJkaW5nLmZ0bFwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IGhlbHBlcnMgPSB7XG4gIHNlbGVjdEludGVycnVwdEFuZFRyaXBsZXRzKG1lc3NhZ2UgPSB7fSwgaW50ZXJydXB0Q2xlYXJlZCkge1xuICAgIGNvbnN0IGhhc0ludGVycnVwdCA9XG4gICAgICBpbnRlcnJ1cHRDbGVhcmVkID09PSB0cnVlID8gZmFsc2UgOiBCb29sZWFuKG1lc3NhZ2UuY29udGVudCk7XG4gICAgY29uc3QgaGFzVHJpcGxldHMgPSBCb29sZWFuKG1lc3NhZ2UuYnVuZGxlICYmIG1lc3NhZ2UuYnVuZGxlLmxlbmd0aCk7XG4gICAgLy8gQWxsb3cgMSkgZmFsc3kgdG8gbm90IHJlbmRlciBhIGhlYWRlciAyKSBkZWZhdWx0IHdlbGNvbWUgMykgY3VzdG9tIGhlYWRlclxuXG4gICAgY29uc3QgdHJpcGxldHNIZWFkZXJJZCA9XG4gICAgICBtZXNzYWdlLnRyaXBsZXRzSGVhZGVySWQgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IFwib25ib2FyZGluZy13ZWxjb21lLWhlYWRlclwiXG4gICAgICAgIDogbWVzc2FnZS50cmlwbGV0c0hlYWRlcklkO1xuICAgIGxldCBVVE1UZXJtID0gbWVzc2FnZS51dG1fdGVybSB8fCBcIlwiO1xuXG4gICAgVVRNVGVybSA9XG4gICAgICBtZXNzYWdlLnV0bV90ZXJtICYmIG1lc3NhZ2UudHJhaWxoZWFkVHJpcGxldFxuICAgICAgICA/IGAke21lc3NhZ2UudXRtX3Rlcm19LSR7bWVzc2FnZS50cmFpbGhlYWRUcmlwbGV0fWBcbiAgICAgICAgOiBVVE1UZXJtO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc1RyaXBsZXRzLFxuICAgICAgaGFzSW50ZXJydXB0LFxuICAgICAgaW50ZXJydXB0OiBoYXNJbnRlcnJ1cHQgPyBtZXNzYWdlIDogbnVsbCxcbiAgICAgIHRyaXBsZXRzOiBoYXNUcmlwbGV0cyA/IG1lc3NhZ2UuYnVuZGxlIDogbnVsbCxcbiAgICAgIHRyaXBsZXRzSGVhZGVySWQsXG4gICAgICBVVE1UZXJtLFxuICAgIH07XG4gIH0sXG5cbiAgYWRkRmx1ZW50KGRvY3VtZW50KSB7XG4gICAgRkxVRU5UX0ZJTEVTLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSk7XG4gICAgICBsaW5rLmhyZWYgPSBmaWxlO1xuICAgICAgbGluay5yZWwgPSBcImxvY2FsaXphdGlvblwiO1xuICAgIH0pO1xuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEZpcnN0UnVuIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5kaWRMb2FkRmxvd1BhcmFtcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHByZXZNZXNzYWdlOiB1bmRlZmluZWQsXG5cbiAgICAgIGhhc0ludGVycnVwdDogZmFsc2UsXG4gICAgICBoYXNUcmlwbGV0czogZmFsc2UsXG5cbiAgICAgIGludGVycnVwdDogdW5kZWZpbmVkLFxuICAgICAgdHJpcGxldHM6IHVuZGVmaW5lZCxcbiAgICAgIHRyaXBsZXRzSGVhZGVySWQ6IFwiXCIsXG5cbiAgICAgIGlzSW50ZXJydXB0VmlzaWJsZTogZmFsc2UsXG4gICAgICBpc1RyaXBsZXRzQ29udGFpbmVyVmlzaWJsZTogZmFsc2UsXG4gICAgICBpc1RyaXBsZXRzQ29udGVudFZpc2libGU6IGZhbHNlLFxuXG4gICAgICBVVE1UZXJtOiBcIlwiLFxuXG4gICAgICBmbG93UGFyYW1zOiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIHRoaXMuY2xvc2VJbnRlcnJ1cHQgPSB0aGlzLmNsb3NlSW50ZXJydXB0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbG9zZVRyaXBsZXRzID0gdGhpcy5jbG9zZVRyaXBsZXRzLmJpbmQodGhpcyk7XG5cbiAgICBoZWxwZXJzLmFkZEZsdWVudCh0aGlzLnByb3BzLmRvY3VtZW50KTtcbiAgICAvLyBVcGRhdGUgdXRtIGNhbXBhaWduIHBhcmFtZXRlcnMgYnkgYXBwZW5kaW5nIGNoYW5uZWwgZm9yXG4gICAgLy8gZGlmZmVyZW50aWF0aW5nIGNhbXBhaWduIGluIGFtcGxpdHVkZVxuICAgIGlmICh0aGlzLnByb3BzLmFwcFVwZGF0ZUNoYW5uZWwpIHtcbiAgICAgIEJBU0VfUEFSQU1TLnV0bV9jYW1wYWlnbiArPSBgLSR7dGhpcy5wcm9wcy5hcHBVcGRhdGVDaGFubmVsfWA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIGludGVycnVwdENsZWFyZWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhcmRJZHMgPVxuICAgICAgbWVzc2FnZSAmJlxuICAgICAgbWVzc2FnZS5idW5kbGUgJiZcbiAgICAgIG1lc3NhZ2UuYnVuZGxlLm1hcChjYXJkID0+IGNhcmQuaWQpLmpvaW4oXCIsXCIpO1xuICAgIGlmIChcbiAgICAgIGludGVycnVwdENsZWFyZWQgIT09IHN0YXRlLnByZXZJbnRlcnJ1cHRDbGVhcmVkIHx8XG4gICAgICAobWVzc2FnZSAmJiBtZXNzYWdlLmlkICE9PSBzdGF0ZS5wcmV2TWVzc2FnZUlkKSB8fFxuICAgICAgY2FyZElkcyAhPT0gc3RhdGUucHJldkNhcmRJZHNcbiAgICApIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaGFzVHJpcGxldHMsXG4gICAgICAgIGhhc0ludGVycnVwdCxcbiAgICAgICAgaW50ZXJydXB0LFxuICAgICAgICB0cmlwbGV0cyxcbiAgICAgICAgdHJpcGxldHNIZWFkZXJJZCxcbiAgICAgICAgVVRNVGVybSxcbiAgICAgIH0gPSBoZWxwZXJzLnNlbGVjdEludGVycnVwdEFuZFRyaXBsZXRzKG1lc3NhZ2UsIGludGVycnVwdENsZWFyZWQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmV2TWVzc2FnZUlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBwcmV2SW50ZXJydXB0Q2xlYXJlZDogaW50ZXJydXB0Q2xlYXJlZCxcbiAgICAgICAgcHJldkNhcmRJZHM6IGNhcmRJZHMsXG5cbiAgICAgICAgaGFzSW50ZXJydXB0LFxuICAgICAgICBoYXNUcmlwbGV0cyxcblxuICAgICAgICBpbnRlcnJ1cHQsXG4gICAgICAgIHRyaXBsZXRzLFxuICAgICAgICB0cmlwbGV0c0hlYWRlcklkLFxuXG4gICAgICAgIGlzSW50ZXJydXB0VmlzaWJsZTogaGFzSW50ZXJydXB0LFxuICAgICAgICBpc1RyaXBsZXRzQ29udGFpbmVyVmlzaWJsZTogaGFzVHJpcGxldHMsXG4gICAgICAgIGlzVHJpcGxldHNDb250ZW50VmlzaWJsZTogIShoYXNJbnRlcnJ1cHQgfHwgIWhhc1RyaXBsZXRzKSxcblxuICAgICAgICBVVE1UZXJtLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBmZXRjaEZsb3dQYXJhbXMoKSB7XG4gICAgY29uc3QgeyBmeGFFbmRwb2ludCwgZmV0Y2hGbG93UGFyYW1zIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgVVRNVGVybSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoZnhhRW5kcG9pbnQgJiYgVVRNVGVybSAmJiAhdGhpcy5kaWRMb2FkRmxvd1BhcmFtcykge1xuICAgICAgdGhpcy5kaWRMb2FkRmxvd1BhcmFtcyA9IHRydWU7XG4gICAgICBjb25zdCBmbG93UGFyYW1zID0gYXdhaXQgZmV0Y2hGbG93UGFyYW1zKHtcbiAgICAgICAgLi4uQkFTRV9QQVJBTVMsXG4gICAgICAgIGVudHJ5cG9pbnQ6IFwiYWN0aXZpdHktc3RyZWFtLWZpcnN0cnVuXCIsXG4gICAgICAgIGZvcm1fdHlwZTogXCJlbWFpbFwiLFxuICAgICAgICB1dG1fdGVybTogVVRNVGVybSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZsb3dQYXJhbXMgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlSGlkZU1haW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmhhc0ludGVycnVwdCkge1xuICAgICAgLy8gV2UgbmVlZCB0byByZW1vdmUgaGlkZS1tYWluIHNpbmNlIHdlIHNob3VsZCBzaG93IGl0IHVuZGVybmVhdGggZXZlcnl0aGluZyB0aGF0IGhhcyByZW5kZXJlZFxuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlLW1haW5cIiwgXCJ3ZWxjb21lXCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZmV0Y2hGbG93UGFyYW1zKCk7XG4gICAgdGhpcy5yZW1vdmVIaWRlTWFpbigpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIC8vIEluIGNhc2Ugd2UgZGlkbid0IGhhdmUgRlhBIGluZm8gaW1tZWRpYXRlbHksIHRyeSBhZ2FpbiB3aGVuIHdlIHJlY2VpdmUgaXQuXG4gICAgdGhpcy5mZXRjaEZsb3dQYXJhbXMoKTtcbiAgICB0aGlzLnJlbW92ZUhpZGVNYWluKCk7XG4gIH1cblxuICBjbG9zZUludGVycnVwdCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgaXNJbnRlcnJ1cHRWaXNpYmxlOiBmYWxzZSxcbiAgICAgIGlzVHJpcGxldHNDb250YWluZXJWaXNpYmxlOiBwcmV2U3RhdGUuaGFzVHJpcGxldHMsXG4gICAgICBpc1RyaXBsZXRzQ29udGVudFZpc2libGU6IHByZXZTdGF0ZS5oYXNUcmlwbGV0cyxcbiAgICB9KSk7XG4gIH1cblxuICBjbG9zZVRyaXBsZXRzKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1RyaXBsZXRzQ29udGFpbmVyVmlzaWJsZTogZmFsc2UgfSk7XG5cbiAgICAvLyBDbG9zaW5nIHRyaXBsZXRzIHNob3VsZCBwcmV2ZW50IGFueSBmdXR1cmUgZXh0ZW5kZWQgdHJpcGxldHMgZnJvbSBzaG93aW5nIHVwXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQmxvY2tCeUlkKFwiRVhURU5ERURfVFJJUExFVFNfMVwiKTtcbiAgICB9LCBUUkFOU0lUSU9OX0xFTkdUSCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBzZW5kVXNlckFjdGlvblRlbGVtZXRyeSxcbiAgICAgIGZ4YUVuZHBvaW50LFxuICAgICAgZGlzcGF0Y2gsXG4gICAgICBleGVjdXRlQWN0aW9uLFxuICAgIH0gPSBwcm9wcztcblxuICAgIGNvbnN0IHtcbiAgICAgIGludGVycnVwdCxcbiAgICAgIHRyaXBsZXRzLFxuICAgICAgdHJpcGxldHNIZWFkZXJJZCxcbiAgICAgIGlzSW50ZXJydXB0VmlzaWJsZSxcbiAgICAgIGlzVHJpcGxldHNDb250YWluZXJWaXNpYmxlLFxuICAgICAgaXNUcmlwbGV0c0NvbnRlbnRWaXNpYmxlLFxuICAgICAgaGFzVHJpcGxldHMsXG4gICAgICBVVE1UZXJtLFxuICAgICAgZmxvd1BhcmFtcyxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7aXNJbnRlcnJ1cHRWaXNpYmxlID8gKFxuICAgICAgICAgIDxJbnRlcnJ1cHRcbiAgICAgICAgICAgIGRvY3VtZW50PXtwcm9wcy5kb2N1bWVudH1cbiAgICAgICAgICAgIGNhcmRzPXt0cmlwbGV0c31cbiAgICAgICAgICAgIG1lc3NhZ2U9e2ludGVycnVwdH1cbiAgICAgICAgICAgIG9uTmV4dFNjZW5lPXt0aGlzLmNsb3NlSW50ZXJydXB0fVxuICAgICAgICAgICAgVVRNVGVybT17VVRNVGVybX1cbiAgICAgICAgICAgIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5PXtzZW5kVXNlckFjdGlvblRlbGVtZXRyeX1cbiAgICAgICAgICAgIGV4ZWN1dGVBY3Rpb249e2V4ZWN1dGVBY3Rpb259XG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBmbG93UGFyYW1zPXtmbG93UGFyYW1zfVxuICAgICAgICAgICAgb25EaXNtaXNzPXt0aGlzLmNsb3NlSW50ZXJydXB0fVxuICAgICAgICAgICAgZnhhRW5kcG9pbnQ9e2Z4YUVuZHBvaW50fVxuICAgICAgICAgICAgb25CbG9ja0J5SWQ9e3Byb3BzLm9uQmxvY2tCeUlkfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgICB7aGFzVHJpcGxldHMgPyAoXG4gICAgICAgICAgPFRyaXBsZXRzXG4gICAgICAgICAgICBkb2N1bWVudD17cHJvcHMuZG9jdW1lbnR9XG4gICAgICAgICAgICBjYXJkcz17dHJpcGxldHN9XG4gICAgICAgICAgICBoZWFkZXJJZD17dHJpcGxldHNIZWFkZXJJZH1cbiAgICAgICAgICAgIHNob3dDYXJkUGFuZWw9e2lzVHJpcGxldHNDb250YWluZXJWaXNpYmxlfVxuICAgICAgICAgICAgc2hvd0NvbnRlbnQ9e2lzVHJpcGxldHNDb250ZW50VmlzaWJsZX1cbiAgICAgICAgICAgIGhpZGVDb250YWluZXI9e3RoaXMuY2xvc2VUcmlwbGV0c31cbiAgICAgICAgICAgIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5PXtzZW5kVXNlckFjdGlvblRlbGVtZXRyeX1cbiAgICAgICAgICAgIFVUTVRlcm09e2Ake1VUTVRlcm19LWNhcmRgfVxuICAgICAgICAgICAgZmxvd1BhcmFtcz17Zmxvd1BhcmFtc31cbiAgICAgICAgICAgIG9uQWN0aW9uPXtleGVjdXRlQWN0aW9ufVxuICAgICAgICAgICAgb25CbG9ja0J5SWQ9e3Byb3BzLm9uQmxvY2tCeUlkfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUZvcm1JbnB1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyB2YWxpZGF0aW9uRXJyb3I6IHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yIH07XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTW91bnQgPSB0aGlzLm9uTW91bnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xlYXJJY29uUHJlc3MgPSB0aGlzLm9uQ2xlYXJJY29uUHJlc3MuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKG5leHRQcm9wcy5zaG91bGRGb2N1cyAmJiAhdGhpcy5wcm9wcy5zaG91bGRGb2N1cykge1xuICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICBpZiAobmV4dFByb3BzLnZhbGlkYXRpb25FcnJvciAmJiAhdGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBjb21wb25lbnQgaXMgaW4gYW4gZXJyb3Igc3RhdGUgYnV0IHRoZSB2YWx1ZSB3YXMgY2xlYXJlZCBieSB0aGUgcGFyZW50XG4gICAgaWYgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmICFuZXh0UHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xlYXJJY29uUHJlc3MoZXZlbnQpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBpbnB1dCBpbiB0aGUgVVJMIG9yIGN1c3RvbSBpbWFnZSBVUkwgZmllbGRzLFxuICAgIC8vIGFuZCB3ZSBoaXQgJ2VudGVyJyB3aGlsZSB0YWJiZWQgb3ZlciB0aGUgY2xlYXIgaWNvbixcbiAgICAvLyB3ZSBzaG91bGQgZXhlY3V0ZSB0aGUgZnVuY3Rpb24gdG8gY2xlYXIgdGhlIGZpZWxkLlxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UoZXYpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGV2KTtcbiAgfVxuXG4gIG9uTW91bnQoaW5wdXQpIHtcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbigpIHtcbiAgICBjb25zdCBzaG93Q2xlYXJCdXR0b24gPSB0aGlzLnByb3BzLnZhbHVlICYmIHRoaXMucHJvcHMub25DbGVhcjtcblxuICAgIGlmICh0aGlzLnByb3BzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctYW5pbWF0aW9uXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoc2hvd0NsZWFyQnV0dG9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWNsZWFyLWlucHV0IGljb24tYnV0dG9uLXN0eWxlXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xlYXJ9XG4gICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5vbkNsZWFySWNvblByZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0eXBlVXJsIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgdmFsaWRhdGlvbkVycm9yIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsYWJlbD5cbiAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLnRpdGxlSWR9IC8+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BmaWVsZCAke3R5cGVVcmwgPyBcInVybFwiIDogXCJcIn0ke1xuICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yID8gXCIgaW52YWxpZFwiIDogXCJcIlxuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5vbk1vdW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJJZH1cbiAgICAgICAgICAgIC8vIFNldCBmb2N1cyBvbiBlcnJvciBpZiB0aGUgdXJsIGZpZWxkIGlzIHZhbGlkIG9yIHdoZW4gdGhlIGlucHV0IGlzIGZpcnN0IHJlbmRlcmVkIGFuZCBpcyBlbXB0eVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L25vLWF1dG9mb2N1c1xuICAgICAgICAgICAgYXV0b0ZvY3VzPXt0aGlzLnByb3BzLnNob3VsZEZvY3VzfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIHt0aGlzLnJlbmRlckxvYWRpbmdPckNsb3NlQnV0dG9uKCl9XG4gICAgICAgICAge3ZhbGlkYXRpb25FcnJvciAmJiAoXG4gICAgICAgICAgICA8YXNpZGVcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZXJyb3ItdG9vbHRpcFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17dGhpcy5wcm9wcy5lcnJvck1lc3NhZ2VJZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xhYmVsPlxuICAgICk7XG4gIH1cbn1cblxuVG9wU2l0ZUZvcm1JbnB1dC5kZWZhdWx0UHJvcHMgPSB7XG4gIHNob3dDbGVhckJ1dHRvbjogZmFsc2UsXG4gIHZhbHVlOiBcIlwiLFxuICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEExMXlMaW5rQnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19TT1VSQ0UgfSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgVG9wU2l0ZUZvcm1JbnB1dCB9IGZyb20gXCIuL1RvcFNpdGVGb3JtSW5wdXRcIjtcbmltcG9ydCB7IFRvcFNpdGVMaW5rIH0gZnJvbSBcIi4vVG9wU2l0ZVwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUZvcm0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgY29uc3QgeyBzaXRlIH0gPSBwcm9wcztcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGFiZWw6IHNpdGUgPyBzaXRlLmxhYmVsIHx8IHNpdGUuaG9zdG5hbWUgOiBcIlwiLFxuICAgICAgdXJsOiBzaXRlID8gc2l0ZS51cmwgOiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVcmw6IHNpdGUgPyBzaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwgOiBcIlwiLFxuICAgICAgc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtOiBzaXRlID8gc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMIDogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQgPSB0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGFiZWxDaGFuZ2UgPSB0aGlzLm9uTGFiZWxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVXJsQ2hhbmdlID0gdGhpcy5vblVybENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DYW5jZWxCdXR0b25DbGljayA9IHRoaXMub25DYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbGVhclVybENsaWNrID0gdGhpcy5vbkNsZWFyVXJsQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRG9uZUJ1dHRvbkNsaWNrID0gdGhpcy5vbkRvbmVCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlID0gdGhpcy5vbkN1c3RvbVNjcmVlbnNob3RVcmxDaGFuZ2UuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMub25QcmV2aWV3QnV0dG9uQ2xpY2sgPSB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtID0gdGhpcy5vbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy52YWxpZGF0ZVVybCA9IHRoaXMudmFsaWRhdGVVcmwuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uTGFiZWxDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgfVxuXG4gIG9uVXJsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1cmw6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsZWFyVXJsQ2xpY2soKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1cmw6IFwiXCIsXG4gICAgICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgb25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtOiB0cnVlIH0pO1xuICB9XG5cbiAgX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dChjdXN0b21TY3JlZW5zaG90VXJsKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuUFJFVklFV19SRVFVRVNUX0NBTkNFTCB9KTtcbiAgfVxuXG4gIG9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZShldmVudCkge1xuICAgIHRoaXMuX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dChldmVudC50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgb25DbGVhclNjcmVlbnNob3RJbnB1dCgpIHtcbiAgICB0aGlzLl91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoXCJcIik7XG4gIH1cblxuICBvbkNhbmNlbEJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIG9uRG9uZUJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLnZhbGlkYXRlRm9ybSgpKSB7XG4gICAgICBjb25zdCBzaXRlID0geyB1cmw6IHRoaXMuY2xlYW5VcmwodGhpcy5zdGF0ZS51cmwpIH07XG4gICAgICBjb25zdCB7IGluZGV4IH0gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKHRoaXMuc3RhdGUubGFiZWwgIT09IFwiXCIpIHtcbiAgICAgICAgc2l0ZS5sYWJlbCA9IHRoaXMuc3RhdGUubGFiZWw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmN1c3RvbVNjcmVlbnNob3RVcmwpIHtcbiAgICAgICAgc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMID0gdGhpcy5jbGVhblVybChcbiAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbVNjcmVlbnNob3RVcmxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaXRlICYmIHRoaXMucHJvcHMuc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMKSB7XG4gICAgICAgIC8vIFVzZWQgdG8gZmxhZyB0aGF0IHByZXZpb3VzbHkgY2FjaGVkIHNjcmVlbnNob3Qgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICAgICAgc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19QSU4sXG4gICAgICAgICAgZGF0YTogeyBzaXRlLCBpbmRleCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgIGV2ZW50OiBcIlRPUF9TSVRFU19FRElUXCIsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uUHJldmlld0J1dHRvbkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy52YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuUFJFVklFV19SRVFVRVNULFxuICAgICAgICAgIGRhdGE6IHsgdXJsOiB0aGlzLmNsZWFuVXJsKHRoaXMuc3RhdGUuY3VzdG9tU2NyZWVuc2hvdFVybCkgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJQUkVWSUVXX1JFUVVFU1RcIixcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY2xlYW5VcmwodXJsKSB7XG4gICAgLy8gSWYgd2UgYXJlIG1pc3NpbmcgYSBwcm90b2NvbCwgcHJlcGVuZCBodHRwOi8vXG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHA6XCIpICYmICF1cmwuc3RhcnRzV2l0aChcImh0dHBzOlwiKSkge1xuICAgICAgcmV0dXJuIGBodHRwOi8vJHt1cmx9YDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIF90cnlQYXJzZVVybCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBVUkwodXJsKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZVVybCh1cmwpIHtcbiAgICBjb25zdCB2YWxpZFByb3RvY29scyA9IFtcImh0dHA6XCIsIFwiaHR0cHM6XCJdO1xuICAgIGNvbnN0IHVybE9iaiA9XG4gICAgICB0aGlzLl90cnlQYXJzZVVybCh1cmwpIHx8IHRoaXMuX3RyeVBhcnNlVXJsKHRoaXMuY2xlYW5VcmwodXJsKSk7XG5cbiAgICByZXR1cm4gdXJsT2JqICYmIHZhbGlkUHJvdG9jb2xzLmluY2x1ZGVzKHVybE9iai5wcm90b2NvbCk7XG4gIH1cblxuICB2YWxpZGF0ZUN1c3RvbVNjcmVlbnNob3RVcmwoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAhY3VzdG9tU2NyZWVuc2hvdFVybCB8fCB0aGlzLnZhbGlkYXRlVXJsKGN1c3RvbVNjcmVlbnNob3RVcmwpO1xuICB9XG5cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGNvbnN0IHZhbGlkYXRlID1cbiAgICAgIHRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpICYmIHRoaXMudmFsaWRhdGVDdXN0b21TY3JlZW5zaG90VXJsKCk7XG5cbiAgICBpZiAoIXZhbGlkYXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZTtcbiAgfVxuXG4gIF9yZW5kZXJDdXN0b21TY3JlZW5zaG90SW5wdXQoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJlcXVlc3RGYWlsZWQgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gXCJcIjtcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPVxuICAgICAgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmICF0aGlzLnZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCgpKSB8fFxuICAgICAgcmVxdWVzdEZhaWxlZDtcbiAgICAvLyBTZXQgZm9jdXMgb24gZXJyb3IgaWYgdGhlIHVybCBmaWVsZCBpcyB2YWxpZCBvciB3aGVuIHRoZSBpbnB1dCBpcyBmaXJzdCByZW5kZXJlZCBhbmQgaXMgZW1wdHlcbiAgICBjb25zdCBzaG91bGRGb2N1cyA9XG4gICAgICAodmFsaWRhdGlvbkVycm9yICYmIHRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpKSB8fFxuICAgICAgIWN1c3RvbVNjcmVlbnNob3RVcmw7XG4gICAgY29uc3QgaXNMb2FkaW5nID1cbiAgICAgIHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlID09PSBudWxsICYmXG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsICYmXG4gICAgICB0aGlzLnByb3BzLnByZXZpZXdVcmwgPT09IHRoaXMuY2xlYW5VcmwoY3VzdG9tU2NyZWVuc2hvdFVybCk7XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QTExeUxpbmtCdXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZW5hYmxlLWN1c3RvbS1pbWFnZS1pbnB1dFwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLXVzZS1pbWFnZS1saW5rXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1c3RvbS1pbWFnZS1pbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICBlcnJvck1lc3NhZ2VJZD17XG4gICAgICAgICAgICByZXF1ZXN0RmFpbGVkXG4gICAgICAgICAgICAgID8gXCJuZXd0YWItdG9wc2l0ZXMtaW1hZ2UtdmFsaWRhdGlvblwiXG4gICAgICAgICAgICAgIDogXCJuZXd0YWItdG9wc2l0ZXMtdXJsLXZhbGlkYXRpb25cIlxuICAgICAgICAgIH1cbiAgICAgICAgICBsb2FkaW5nPXtpc0xvYWRpbmd9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlfVxuICAgICAgICAgIG9uQ2xlYXI9e3RoaXMub25DbGVhclNjcmVlbnNob3RJbnB1dH1cbiAgICAgICAgICBzaG91bGRGb2N1cz17c2hvdWxkRm9jdXN9XG4gICAgICAgICAgdHlwZVVybD17dHJ1ZX1cbiAgICAgICAgICB2YWx1ZT17Y3VzdG9tU2NyZWVuc2hvdFVybH1cbiAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9e3ZhbGlkYXRpb25FcnJvcn1cbiAgICAgICAgICB0aXRsZUlkPVwibmV3dGFiLXRvcHNpdGVzLWltYWdlLXVybC1sYWJlbFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXJJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtaW5wdXRcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGN1c3RvbVNjcmVlbnNob3RVcmwgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcmVxdWVzdEZhaWxlZCA9IHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlID09PSBcIlwiO1xuICAgIC8vIEZvciBVSSBwdXJwb3NlcywgZWRpdGluZyB3aXRob3V0IGFuIGV4aXN0aW5nIGxpbmsgaXMgXCJhZGRcIlxuICAgIGNvbnN0IHNob3dBc0FkZCA9ICF0aGlzLnByb3BzLnNpdGU7XG4gICAgY29uc3QgcHJldmlvdXMgPVxuICAgICAgKHRoaXMucHJvcHMuc2l0ZSAmJiB0aGlzLnByb3BzLnNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCkgfHwgXCJcIjtcbiAgICBjb25zdCBjaGFuZ2VkID1cbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVcmwgJiYgdGhpcy5jbGVhblVybChjdXN0b21TY3JlZW5zaG90VXJsKSAhPT0gcHJldmlvdXM7XG4gICAgLy8gUHJldmlldyBtb2RlIGlmIGNoYW5nZXMgd2VyZSBtYWRlIHRvIHRoZSBjdXN0b20gc2NyZWVuc2hvdCBVUkwgYW5kIG5vIHByZXZpZXcgd2FzIHJlY2VpdmVkIHlldFxuICAgIC8vIG9yIHRoZSByZXF1ZXN0IGZhaWxlZFxuICAgIGNvbnN0IHByZXZpZXdNb2RlID0gY2hhbmdlZCAmJiAhdGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2U7XG4gICAgY29uc3QgcHJldmlld0xpbmsgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLnNpdGUpO1xuICAgIGlmICh0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSkge1xuICAgICAgcHJldmlld0xpbmsuc2NyZWVuc2hvdCA9IHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlO1xuICAgICAgcHJldmlld0xpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IHRoaXMucHJvcHMucHJldmlld1VybDtcbiAgICB9XG4gICAgLy8gSGFuZGxlcyB0aGUgZm9ybSBzdWJtaXQgc28gYW4gZW50ZXIgcHJlc3MgcGVyZm9ybXMgdGhlIGNvcnJlY3QgYWN0aW9uXG4gICAgY29uc3Qgb25TdWJtaXQgPSBwcmV2aWV3TW9kZVxuICAgICAgPyB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrXG4gICAgICA6IHRoaXMub25Eb25lQnV0dG9uQ2xpY2s7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cInRvcHNpdGUtZm9ybVwiIG9uU3VibWl0PXtvblN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1pbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgICA8aDNcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUgZ3JleS10aXRsZVwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9e1xuICAgICAgICAgICAgICBzaG93QXNBZGRcbiAgICAgICAgICAgICAgICA/IFwibmV3dGFiLXRvcHNpdGVzLWFkZC10b3BzaXRlcy1oZWFkZXJcIlxuICAgICAgICAgICAgICAgIDogXCJuZXd0YWItdG9wc2l0ZXMtZWRpdC10b3BzaXRlcy1oZWFkZXJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWVsZHMtYW5kLXByZXZpZXdcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS13cmFwcGVyXCI+XG4gICAgICAgICAgICAgIDxUb3BTaXRlRm9ybUlucHV0XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25MYWJlbENoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5sYWJlbH1cbiAgICAgICAgICAgICAgICB0aXRsZUlkPVwibmV3dGFiLXRvcHNpdGVzLXRpdGxlLWxhYmVsXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcklkPVwibmV3dGFiLXRvcHNpdGVzLXRpdGxlLWlucHV0XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICBzaG91bGRGb2N1cz17XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJlxuICAgICAgICAgICAgICAgICAgIXRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICBvbkNsZWFyPXt0aGlzLm9uQ2xlYXJVcmxDbGlja31cbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9e1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICF0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aXRsZUlkPVwibmV3dGFiLXRvcHNpdGVzLXVybC1sYWJlbFwiXG4gICAgICAgICAgICAgICAgdHlwZVVybD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcklkPVwibmV3dGFiLXRvcHNpdGVzLXVybC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlSWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLXZhbGlkYXRpb25cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyQ3VzdG9tU2NyZWVuc2hvdElucHV0KCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICAgICAgICBsaW5rPXtwcmV2aWV3TGlua31cbiAgICAgICAgICAgICAgZGVmYXVsdFN0eWxlPXtyZXF1ZXN0RmFpbGVkfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5zdGF0ZS5sYWJlbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FuY2VsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLWNhbmNlbC1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAge3ByZXZpZXdNb2RlID8gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lIHByZXZpZXdcIlxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLXByZXZpZXctYnV0dG9uXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e1xuICAgICAgICAgICAgICAgIHNob3dBc0FkZFxuICAgICAgICAgICAgICAgICAgPyBcIm5ld3RhYi10b3BzaXRlcy1hZGQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIDogXCJuZXd0YWItdG9wc2l0ZXMtc2F2ZS1idXR0b25cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG5cblRvcFNpdGVGb3JtLmRlZmF1bHRQcm9wcyA9IHtcbiAgc2l0ZTogbnVsbCxcbiAgaW5kZXg6IC0xLFxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=