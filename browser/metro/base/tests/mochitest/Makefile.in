# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

DEPTH     = @DEPTH@
topsrcdir = @top_srcdir@
srcdir    = @srcdir@
VPATH     = @srcdir@
relativesrcdir  = @relativesrcdir@

include $(DEPTH)/config/autoconf.mk

BROWSER_TESTS = \
  head.js \
  browser_bookmarks.js \
  browser_canonizeURL.js \
  browser_context_menu_tests.js \
  browser_context_menu_tests_01.html \
  browser_context_menu_tests_02.html \
  browser_context_menu_tests_03.html \
  browser_context_ui.js \
  browser_downloads.js \
  browser_history.js \
  browser_onscreen_keyboard.js \
  browser_onscreen_keyboard.html \
  browser_prefs_ui.js \
  browser_remotetabs.js \
  browser_tabs.js \
  browser_test.js \
  browser_tiles.js \
  browser_tilegrid.xul \
  browser_topsites.js \
  browser_form_auto_complete.js \
  browser_form_auto_complete.html \
  $(NULL)

# disabled due to timeouts and lack of plugin support.
#  browser_plugin_input.html \
#  browser_plugin_input_mouse.js \
#  browser_plugin_input_keyboard.js \

ifndef MOZ_DEBUG
BROWSER_TESTS += \
  browser_selection_basic.js \
  browser_selection_basic.html \
  browser_selection_textarea.js \
  browser_selection_textarea.html \
  browser_selection_frame_content.js \
  browser_selection_frame_content.html \
  browser_selection_inputs.js \
  browser_selection_inputs.html \
  browser_selection_frame_textarea.js \
  browser_selection_frame_textarea.html \
  browser_selection_frame_inputs.js \
  browser_selection_frame_inputs.html \
  $(NULL)
endif

BROWSER_TEST_RESOURCES = \
  res/image01.png \
  res/textblock01.html \
  res/textinput01.html \
  res/textarea01.html \
  $(NULL)

libs:: $(BROWSER_TESTS)
	$(INSTALL) $(foreach f,$^,"$f") $(DEPTH)/_tests/testing/mochitest/metro/$(relativesrcdir)

libs:: $(BROWSER_TEST_RESOURCES)
	$(INSTALL) $(foreach f,$^,"$f") $(DEPTH)/_tests/testing/mochitest/metro/$(relativesrcdir)/res

include $(topsrcdir)/config/rules.mk
