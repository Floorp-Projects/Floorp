#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

EXPORT_LIBRARY	= $(DIST)/lib

ifeq (WINNT,$(OS_TARGET))
EXTRA_DSO_LDOPTS = $(MOZALLOC_LIB) $(NSPR_LIBS)
OS_LIBS += $(call EXPAND_LIBNAME,usp10 ole32)
DEFFILE = symbols.def
endif

include $(topsrcdir)/config/rules.mk

ifeq (WINNT,$(OS_TARGET))
symbols.def: symbols.def.in $(GLOBAL_DEPS)
	$(call py_action,preprocessor,$(ACDEFINES) $< -o $@)

OS_LIBS += $(call EXPAND_LIBNAME, msimg32)

ifdef MOZ_CUBEB
OS_LIBS += $(call EXPAND_LIBNAME, winmm)
endif

endif
