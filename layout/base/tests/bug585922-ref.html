<!DOCTYPE html>
<html class="reftest-wait">
  <head>
    <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
  </head>
  <body onload="doTest()">
    <input type=text style="-moz-appearance: none">
    <script>
      function doTest() {
        var d = document.querySelector("input");
        d.value = "b";
        d.focus();
        var editor = SpecialPowers.wrap(d).QueryInterface(SpecialPowers.Ci.nsIDOMNSEditableElement).editor;
        var sel = editor.selection;
        var t = editor.rootElement.firstChild;
        sel.collapse(t, 1); // put the caret at the end of the textbox
        document.documentElement.removeAttribute("class");
      }
    </script>
  </body>
</html>
