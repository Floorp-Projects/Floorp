<!DOCTYPE HTML>
<html class="reftest-wait">
<head>
<script src="/tests/SimpleTest/SimpleTest.js"></script>
</head>
<body>
<input type="password" value="a&#x1f914;b">
<script>
  function runTest() {
    let params = window.location.hash.substring(1).split("-");
    let input = document.getElementsByTagName("input")[0];
    let editor = SpecialPowers.wrap(input).editor;
    editor.unmask(Number.parseInt(params[0]), Number.parseInt(params[1]));
    input.setSelectionRange(Number.parseInt(params[2]), Number.parseInt(params[3]));
    document.documentElement.removeAttribute("class");
  }

  SimpleTest.waitForFocus(runTest);
</script>
</body>
</html>
