<!doctype html>
<html class="reftest-wait">
<title>Caret on editable line with non-editable content and whitespace.</title>
<script src="/tests/SimpleTest/EventUtils.js"></script>
<script src="/tests/SimpleTest/SimpleTest.js"></script>
<style>
 * { outline: none }

 div {
  border: 1px solid red;
  margin: 5px;
  padding: 2px;
 }
</style>
<div contenteditable="true"><span>xyz </span><br>editable</div>
<script>
SimpleTest.waitForFocus(function() {
  const editable = document.querySelector('div[contenteditable="true"]');
  editable.focus();
  synthesizeMouse(editable, 100, 10, {});
  setTimeout(() => {
    sendString("xxx");
    setTimeout(() => document.documentElement.className = "");
  });
});
</script>
