<!doctype html>
<html class="reftest-wait">
<title>Moving the caret in an editor jumps over non-editable nodes.</title>
<script src="/tests/SimpleTest/EventUtils.js"></script>
<script src="/tests/SimpleTest/SimpleTest.js"></script>
<style>
 * { outline: none }

 div {
  border: 1px solid red;
  margin: 5px;
  padding: 2px;
 }
</style>
<div contenteditable="true">
  I am div number one
  <div contenteditable="false">X X X</div>
  However I am editable
</div>
<script>
SimpleTest.waitForFocus(function() {
  const editable = document.querySelector('div[contenteditable="true"]');
  const noneditable = document.querySelector('div[contenteditable="false"]');
  editable.focus();
  synthesizeKey("KEY_End");
  synthesizeKey("KEY_ArrowDown");
  for (let i = 0; i < 4; ++i)
    synthesizeKey("KEY_ArrowLeft", { ctrlKey: true });
  setTimeout(() => document.documentElement.removeAttribute("class"), 0);
});
</script>
</html>
