<html class="reftest-wait">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
  </head>
  <body onload="start()">
    <textarea dir="rtl" onfocus="typeIntoMe()" spellcheck="false" style="-moz-appearance: none"></textarea>
    <script>
      function start() {
        document.querySelector("textarea").focus();
      }
      function typeIntoMe() {
        setTimeout(function() {
          synthesizeKey("a", {});
          synthesizeKey("VK_RETURN", {});
          synthesizeKey("c", {});
          synthesizeKey("VK_UP", {});
          synthesizeKey("VK_END", {});
          synthesizeKey("b", {});
          document.documentElement.removeAttribute("class");
        }, 0);
      }
    </script>
  </body>
</html>
