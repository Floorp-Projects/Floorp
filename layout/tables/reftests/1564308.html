<!DOCTYPE HTML>
<html><head>
    <meta charset="utf-8">
    <title>Testcase for bug 1564308</title>
    <style type="text/css">

html { overflow: scroll } /* suppress resizes for scrollbars */

    </style>
</head>
<body style="height: 300px">

<div style="display:inline">
<table border="1" style="display:inline-table; vertical-align: top;">
<tbody style="visibility: collapse;">
<tr><td></td></tr>
<tr><td></td></tr>
<tr><td></td></tr>
<tr><td></td></tr>
<tr><td></td></tr>
</tbody>
<tbody>
<tr><td>Hello</td></tr>
</tbody>
</table>
</div>

<script>

// This, plus the use of an inline-table wrapped by an inline, is a relatively
// complicated setup to cause the table to be reflowed while it is not dirty,
// has no dirty descendants, and is not vertically or horizontally resizing, so
// that nsTableFrame::Reflow will skip the main part of the function.
document.body.offsetWidth;
document.body.style.width = "20em";

</script>

</body>
</html>
