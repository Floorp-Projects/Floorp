<!DOCTYPE HTML>
<!--
     any copyright is dedicated to the public domain.
     http://creativecommons.org/publicdomain/zero/1.0/
-->
<html><head>
  <title>Testcase for Bug 1633737</title>
  <style>
html,body {
  color:black; background-color:white; font:15px/1 monospace; padding:0; margin:0;
}

.grid {
  display: grid;
  width: min-content;
  grid-template-columns: repeat(9998,0) repeat(auto-fit, 5px [b] 10px [c] 15px [d] 20px [e] 25px);
  grid-auto-columns: 500px; /* should not be used */
  border: 1px solid;
  margin-bottom: 2px;
}

x { grid-column: b / e; }

  </style>
</head>
<body>

<div class="grid"><x style="grid-column: b / e"></x></div>
<div class="grid"><x style="grid-column: 1 / e"></x></div>
<div class="grid"><x style="grid-column: c / foo"></x></div>
<div class="grid"><x style="grid-column: b / d"></x></div>
<script>
  document.body.offsetHeight;
  document.querySelectorAll('.grid').forEach(function(grid){
    window.getComputedStyle(grid).gridTemplateColumns;
  });
</script>
</body>
</html>
