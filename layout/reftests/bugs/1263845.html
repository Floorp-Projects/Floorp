<!DOCTYPE html>
<div id="wrap" style="height: 200px; background: yellow">
  <table style="height: 100%; background: purple">
    <tr>
      <td>
        This is some text
      </td>
    </tr>
  </table>
</div>
<script>
  // Make sure we do a layout at the 200px height.
  document.body.offsetWidth;
  document.getElementById("wrap").style.height = "";
</script>
