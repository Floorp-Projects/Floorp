<!DOCTYPE HTML>
<html class="reftest-wait">
<head>
<style>
html { background:white; }
#parent {
  position: absolute;
  top: 100.8px;
  -moz-transform: scale(1.1232,1.1232);
  transform: scale(1.1232,1.1232);
}
#b1 {
  position: absolute;
  width: 100px;
  height: 109px;
  background: #c00;
  -moz-transform: translate(100px,100px);
  transform: translate(100px,100px);
}
#b2 {
  position: absolute;
  top: 0;
  left: 0;
  width: 100px;
  height: 100px;
  background: white;
  -moz-transform: translate(400px,200px);
  transform: translate(400px,200px);
}
#b2.done {
  -moz-transform: translate(400px,0);
  transform: translate(400px,0);
}
</style>
</head>
<body>
<div id="parent">
  <div id="b1"></div>
  <div id="b2"></div>
</div>
<script>
function doTest() {
  document.getElementById('b2').setAttribute("class", "done");
  document.documentElement.removeAttribute("class");
}
window.addEventListener("MozReftestInvalidate", doTest);
</script>
</body>
</html>
