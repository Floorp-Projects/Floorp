<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Testcase for bug 433700</title>
    <style type="text/css">

body { font-family: sans-serif; font-size: 16px; }

fieldset,legend { padding:0; margin:0; border-width:0; border-style:solid; }
fieldset { border-right:7px solid blue; font-size: 16px; }

#test1 { position:fixed; }
#test1 fieldset { background:lime;}
#test1 .legend  { margin-left:30px; background:pink; }

#test2 { position:fixed; top:3em; }
#test2 fieldset { background:lime; width:260px; }
#test2 .legend  { margin-left: 20px; background:pink; }

#test3 { position:fixed; top:6em; width:200px; }
#test3 fieldset { background:lime;}
#test3 .legend  { margin-left: 80px; background:pink; }

#test4 { position:fixed; top:9em; width:200px; }
#test4 fieldset { background:lime; width:260px; }
#test4 .legend  { margin-left: 80px; background:pink; }

#test5 { position:fixed; top:12em; width:200px; }
#test5 fieldset { background:lime;}
/* Percentage margins don't get counted in intrinsic width, so make sure that
   our fixed-size margins sum to 0, so they also do not affect intrinsic width
   either. */
#test5 .legend  { margin-left: 193px; background:pink; margin-right: -193px; }

#test6 { position:fixed; left:20px; top:15em; width:400px; }
#test6 fieldset { width:300px; }
#test6 fieldset div { position:relative; left:100px; padding-left:0px; width:200px; background:lime; }
#test6 legend  { margin-left:0; background:pink; }

fieldset div { padding-left:60px; }

.legend { display:block; }

    </style>
</head>
<body>

<div id="test1">
<fieldset>
<legend><span class="legend">LEGEND</span></legend>
<div>FIELDSET</div>
<script>var v = document.body.offsetHeight;</script>
</fieldset>
</div>

<div id="test2">
<fieldset>
<legend><span class="legend">LEGEND</span></legend>
<div>FIELDSET</div>
<script>var v = document.body.offsetHeight;</script>
</fieldset>
</div>

<div id="test3">
<fieldset>
<legend><span class="legend">LEGEND</span></legend>
<div>FIELDSET</div>
<script>var v = document.body.offsetHeight;</script>
</fieldset>
</div>

<div id="test4">
<fieldset>
<legend><span class="legend">LEGEND</span></legend>
<div>FIELDSET</div>
<script>var v = document.body.offsetHeight;</script>
</fieldset>
</div>

<div id="test5">
<fieldset>
<legend><span class="legend">LEGEND</span></legend>
<div>FIELDSET</div>
<script>var v = document.body.offsetHeight;</script>
</fieldset>
</div>

<div id="test6">
<fieldset>
<legend>LEGEND</legend>
<div>FIELDSET</div>
<script>var v = document.body.offsetHeight;</script>
</fieldset>
</div>

</body></html>
