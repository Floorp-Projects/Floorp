<!DOCTYPE html>
<html>
    <head>
        <title>Testcase #2 for bug 602331</title>
        <script type="text/javascript" charset="utf-8">
            function selectNewlyAdded() {
                window.getSelection().removeAllRanges();
                
                var newNode = document.createElement('span');
                newNode.innerHTML = "Hello Kitty";
                document.getElementById('new_nodes').appendChild(newNode);
                var range = document.createRange();
                range.selectNode(newNode);
                window.getSelection().addRange(range);
            }
            
        </script>
    </head>
    <body onload="selectNewlyAdded()">
        * <span id="new_nodes"></span> *
    </body>
</html>
