<!--
     Any copyright is dedicated to the Public Domain.
     http://creativecommons.org/publicdomain/zero/1.0/
-->
<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
  <head>

    <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=294086 -->

    <title>Test: resize of window width</title>

    <!--
    This testcase checks that SVG embedded inline with a percentage width is
    updated correctly when the window is resized.
    -->

    <style type="text/css">

html, body, div {
  padding: 0;
  border: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  background: red;
  overflow: hidden;
}

    </style>
    <script type="text/javascript">

var initial_width = top.innerWidth;
top.innerWidth /= 2;

function restore_width()
{
  top.innerWidth = initial_width;
  document.documentElement.removeAttribute('class');
}

document.addEventListener("MozReftestInvalidate", restore_width, false);

    </script>
  </head>
  <body onload="restore_width()">

    <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="5000">
      <rect width="100%" height="100%" fill="lime"/>
    </svg>

  </body>
</html>
