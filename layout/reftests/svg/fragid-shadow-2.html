<!doctype html>
<div id="host"></div>
<script>
  // Test dynamic id changes inside the shadow root.
  host.attachShadow({ mode: "open" }).innerHTML = `
    <svg width="100" height="100">
      <defs>
        <pattern id="rect1" width="100" height="100">
          <rect fill="lime" width="100" height="100" />
        </pattern>
      </defs>
      <rect fill="url(#rect)" width="100" height="100" />
    </svg>
  `;
  document.body.offsetTop;
  host.shadowRoot.getElementById("rect1").id = "rect";
</script>
