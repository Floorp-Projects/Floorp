<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
<!--
  Test for non-SVG event bases. This isn't strictly required but we at very
  least we want to make sure our behaviour is defined.
 -->
<head>
<script src="event-util.js" type="text/javascript"></script>
<script>
function snapshot() {
  var svg = document.getElementById("svg");
  svg.pauseAnimations();
  svg.setCurrentTime(0);
  click('a');
  var a = document.getElementById('a');
  a.style.display = 'none';
  window.setTimeout(doSnapshot, 10);
}

function doSnapshot() {
  var svg = document.getElementById("svg");
  svg.pauseAnimations();
  svg.setCurrentTime(2);
  document.documentElement.removeAttribute("class");
}

document.addEventListener("MozReftestInvalidate", snapshot, false);
setTimeout(snapshot, 4000); // fallback for running outside reftest

</script>
</head>
<body>
<a href="#" id="a">Play!</a>
<svg xmlns="http://www.w3.org/2000/svg" width="120px" height="120px" id="svg">
  <rect width="100" height="100" fill="red">
    <set attributeName="fill" attributeType="CSS" to="green"
      begin="a.click" dur="4s"/>
  </rect>
</svg>
</body>
</html>
