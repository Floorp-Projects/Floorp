<!DOCTYPE html>
<style>
  div { color: red; }
  div::first-line { color: green }
  #y { display: inline-block; }
</style>
<div id="x"><span id="y">This should be </span></div>
<script>
  x.offsetWidth;
  var span = document.createElement('span');
  span.textContent = 'green';
  y.appendChild(span);
</script>
