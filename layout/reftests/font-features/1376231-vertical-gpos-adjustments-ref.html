<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
<style>
@font-face {
  font-family: test;
  src: url(../fonts/NotoSansCJKjp-Regular.subset.otf);
}
body {
  font-family: test, serif;
  line-height: 2em;
}
p {
  margin: 1em;
}
span {
  display: inline-block;
  inline-size: 9em; /* length of 9 standard CJK chars */
}
.v {
  writing-mode: vertical-rl;
}
.green {
  color: green;
  background: green;
}
.overlay {
  position: relative;
  inset-block-start: -3em;
}
</style>
</head>
<body>
There should be no red:
<div>
  <p><span>&nbsp;</p>
  <p class="overlay"><span class="green">&nbsp;</p>
  <p><span>&nbsp;</p>
  <p class="overlay"><span class="green">&nbsp;</p>
</div>
<div class="v">
  <p><span>&nbsp;</p>
  <p class="overlay"><span class="green">&nbsp;</p>
  <p><span>&nbsp;</p>
  <p class="overlay"><span class="green">&nbsp;</p>
</div>
