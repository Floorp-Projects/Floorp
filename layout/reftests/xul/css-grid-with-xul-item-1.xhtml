<?xml version="1.0"?>
<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:html="http://www.w3.org/1999/xhtml"
        align="start">
  <!-- This test ensures that auto-sizing works properly around grid items that
       happen to be XUL elements. Each outlined box is a CSS grid with some
       sort of XUL child inside (just one child, to test that we shrinkwrap
       that child's size properly).

       The reference case has identical markup to this testcase, except it
       lacks the "display:grid" styling on the container boxes.  So, its
       containers are unremarkable XUL "-moz-box" containers.  The testcase and
       reference should match, because both sorts of boxes (CSS grids and XUL
       -moz-box containers) should auto size to their sole child's preferred
       ISize and BSize (in this context where they're thrown directly into
       a <window> element with align="start"). -->
  <html:style>
    .container {
      display: grid;
      border: 1px solid purple;
    }

    * { margin: 0 }
  </html:style>
  <hbox class="container">
    <label value="label"/>
  </hbox>
  <hbox class="container">
    <label value="label" style="padding: 5px"/>
  </hbox>
  <hbox class="container">
    <label value="label" style="margin:8px"/>
  </hbox>
  <hbox class="container">
    <menulist>
    </menulist>
  </hbox>
  <hbox class="container">
    <menulist style="margin: 10px">
    </menulist>
  </hbox>
  <hbox class="container">
    <menulist>
      <menupopup>
        <menuitem value="1" label="item"/>
      </menupopup>
    </menulist>
  </hbox>
  <hbox class="container">
    <checkbox></checkbox>
  </hbox>
</window>
