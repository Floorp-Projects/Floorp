<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bug 1055658 - Relative positioning for ruby</title>
  <style>
    body {
      font-family: monospace;
    }
    .annotation, .annotation > div {
      position: absolute;
      line-height: 1;
    }
  </style>
</head>
<body>
  <div style="height: 80px; line-height: 80px;">
    before
    <div style="display: inline-block; line-height: normal; position: relative; top: 20px;">
      <div class="annotation" style="top: 0; width: 100%;">
        <div style="top: -100%;">
          text1
          <span style="position: relative; top: -20px;">text2</span>
          <span style="position: relative; right: 10px;">text3</span>
        </div>
        &nbsp; <!-- to give container a nonzero size for
                    percent values to resolve against -->
      </div>
      base1
      <span style="position: relative; left: 10px;">base2</span>
      <span style="position: relative; bottom: -20px;">base3</span>
    </div>
    after
  </div>
</body>
</html>
