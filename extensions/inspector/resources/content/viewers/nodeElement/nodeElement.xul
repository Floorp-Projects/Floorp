<?xml version="1.0"?>

<!DOCTYPE overlay [
  <!ENTITY % dtd1 SYSTEM "chrome://inspector/locale/inspector.dtd"> %dtd1;
  <!ENTITY % dtd2 SYSTEM "chrome://inspector/locale/viewers/nodeElement.dtd"> %dtd2;
  <!ENTITY % dtd3 SYSTEM "chrome://inspector/content/util.dtd"> %dtd3;
]>

<?xml-stylesheet href="chrome://inspector/skin/viewers/nodeElement/nodeElement.css"?>

<window id="winNodeDefault" class="color-dialog" 
        orient="vertical" style="padding: 10px"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  
  <!--============================= SCRIPTS ============================= -->

  <script type="application/x-javascript" src="chrome://inspector/content/viewers/nodeElement/nodeElement.js"/>

  <script type="application/x-javascript" src="chrome://inspector/content/utils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xpcom/XPCU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/rdf/RDFU.js"/>

  <!--============================= POPUPS ============================== -->

  <popupset id="psPopups">
    <popup id="ppAttrContext">
      <menuitem value="New Attribute" oncommand="viewer.cmdNewAttribute()"/>
      <menuitem value="Edit" oncommand="viewer.cmdEditSelectedAttribute()"/>
      <menuitem value="Delete" oncommand="viewer.cmdDeleteSelectedAttribute()"/>
    </popup>
  </popupset>

  <!--============================= CONTENT ============================== -->

  <grid>
    <columns>
      <column/>
      <column flex="1"/>
    </columns>
    <rows>
      <row>
        <text value="Node Name:"/>
        <textfield id="tx_nodeName" readonly="true"/>
      </row>
      <row>
        <text value="Namespace URI:"/>
        <textfield id="tx_namespace" readonly="true"/>
      </row>
      <row>
        <text value="Node Type:"/>
        <textfield id="tx_nodeType" readonly="true"/>
      </row>
      <row>
        <text value="Node Value:"/>
        <textfield id="tx_nodeValue" readonly="true" multiline="true"/>
      </row>
    </rows>
  </grid>

  <tree id="trAttributes" class="tree-editable"
    flex="1" context="ppAttrContext"
    datasources="rdf:null"
    onafteredit="viewer.cmdSetSelectedAttributeValue(event.editingItem, event.newValue)">

    <treecolgroup>
      <treecol id="tcolNodeName" flex="1"/>
      <splitter class="tree-splitter"/>
      <treecol id="tcolNodeValue" flex="1"/>
    </treecolgroup>
    
    <treehead>
      <treerow>
        <treecell class="treecell-header" value="Name"/>
        <treecell class="treecell-header" value="Value"/>
      </treerow>
    </treehead>

    <treechildren flex="1"/>

    <template>
      <rule>
        <conditions>
          <content uri="?uri"/>
          <triple subject="?uri" predicate="&INS-rdf;Child" object="?node"/>
        </conditions>

        <bindings>
          <binding subject="?node" predicate="&INS-rdf;nodeName" object="?nodeName"/>
          <binding subject="?node" predicate="&INS-rdf;nodeValue" object="?nodeValue"/>
        </bindings>

        <action>
          <treechildren>
            <treeitem uri="?node">
              <treerow>
                <treecell value="?nodeName" ins-type="name"/>
                <treecell value="?nodeValue" class="treecell-editable" ins-type="value"/>
              </treerow>
            </treeitem>
          </treechildren>
        </action>
      </rule>
    </template>

  </tree>

</window>
