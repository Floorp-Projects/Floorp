<?xml version="1.0"?>

<!DOCTYPE overlay [
  <!ENTITY % dtd1 SYSTEM "chrome://inspector/locale/inspector.dtd"> %dtd1;
  <!ENTITY % dtd2 SYSTEM "chrome://inspector/locale/viewers/domNode.dtd"> %dtd2;
  <!ENTITY % dtd3 SYSTEM "chrome://inspector/content/util.dtd"> %dtd3;
]>

<?xml-stylesheet href="chrome://inspector/skin/viewers/domNode/domNode.css"?>

<page id="winNodeDefault"
      style="padding: 10px"
      xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  
  <!--============================= SCRIPTS ============================= -->

  <script type="application/x-javascript" src="chrome://inspector/content/viewers/domNode/domNode.js"/>

  <script type="application/x-javascript" src="chrome://inspector/content/utils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xpcom/XPCU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/rdf/RDFU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/events/ObserverManager.js"/>

  <!--============================= POPUPS ============================== -->

  <popupset id="psPopups">
    <popup id="ppAttrContext">
      <menuitem label="New Attribute" oncommand="viewer.cmdNewAttribute()"/>
      <menuitem label="Edit" oncommand="viewer.cmdEditSelectedAttribute()"/>
      <menuitem label="Delete" oncommand="viewer.cmdDeleteSelectedAttribute()"/>
    </popup>
  </popupset>

  <!--============================= CONTENT ============================== -->
  
  <deck id="dkContent" flex="1">
    <vbox id="bxElement">
      <grid>
        <columns>
          <column/>
          <column flex="1"/>
        </columns>
        <rows>
          <row>
            <label value="Node Name:" />
            <textbox id="tx_nodeName" readonly="true"/>
          </row>
          <row>
            <label value="Namespace URI:" />
            <textbox id="tx_namespace" readonly="true"/>
          </row>
          <row>
            <label value="Node Type:" />
            <textbox id="tx_nodeType" readonly="true"/>
          </row>
          <row>
            <text value="Node Value:" />
            <textbox id="tx_nodeValue" readonly="true"/>
          </row>
        </rows>
      </grid>
    
      <tree id="trAttributes" class="tree-editable"
        flex="1" context="ppAttrContext"
        datasources="rdf:null"
        onafteredit="viewer.cmdSetSelectedAttributeValue(event.editingItem, event.newValue)">
    
        <treecolgroup>
          <treecol id="tcolNodeName" flex="1" width="0"/>
          <splitter class="tree-splitter"/>
          <treecol id="tcolNodeValue" flex="1" width="0"/>
        </treecolgroup>
        
        <treehead>
          <treerow>
            <treecell class="treecell-header" label="Attribute"/>
            <treecell class="treecell-header" label="Value"/>
          </treerow>
        </treehead>
    
        <treechildren flex="1"/>
    
        <template>
          <rule>
            <conditions>
              <content uri="?uri"/>
              <triple subject="?uri" predicate="&INS-rdf;Child" object="?node"/>
            </conditions>
    
            <bindings>
              <binding subject="?node" predicate="&INS-rdf;nodeName" object="?nodeName"/>
              <binding subject="?node" predicate="&INS-rdf;nodeValue" object="?nodeValue"/>
            </bindings>
    
            <action>
              <treechildren>
                <treeitem uri="?node">
                  <treerow>
                    <treecell label="?nodeName" ins-type="name"/>
                    <treecell label="?nodeValue" class="treecell-editable" editable="true" ins-type="value"/>
                  </treerow>
                </treeitem>
              </treechildren>
            </action>
          </rule>
        </template>
    
      </tree>
    </vbox>
    <vbox id="bxText">
      <textbox id="txbTextNodeValue" multiline="true" readonly="true" flex="1"/>
    </vbox>
  </deck>
</page>
