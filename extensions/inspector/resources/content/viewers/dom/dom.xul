<?xml version="1.0"?>

<!DOCTYPE overlay [
  <!ENTITY % dtd1 SYSTEM "chrome://inspector/locale/inspector.dtd"> %dtd1;
  <!ENTITY % dtd2 SYSTEM "chrome://inspector/content/util.dtd"> %dtd2;
  <!ENTITY % dtd3 SYSTEM "chrome://inspector/locale/viewers/dom.dtd"> %dtd3;
]>

<?xml-stylesheet href="chrome://inspector/skin/viewers/dom/dom.css"?>

<window id="winDOMViewer" class="color-dialog" 
        orient="vertical"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns:ins="http://www.mozilla.org/inspector#"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  
  <script type="application/x-javascript" src="chrome://inspector/content/viewers/dom/dom.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xpcom/XPCU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/utils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/rdf/RDFU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/system/PrefUtils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xul/inTreeTableBuilder.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xul/DNDUtils.js"/>

  <!--============================= COMMANDS ============================== -->

  <broadcasterset>
    <broadcaster id="cmdDeleteNode"
      oncommand="viewer.cmdDeleteSelectedNode()"/>

    <broadcaster id="cmdInspectBrowser" 
      isvalid="return viewer.cmdInspectBrowserIsValid()"
      oncommand="viewer.cmdInspectBrowser()"/>
  </broadcasterset>
  
  <!--============================= POPUPS ============================== -->

  <popupset id="psPopups">
    <popup id="ppDOMContext" oncreate="viewer.onContextCreate(this)">
      <menuitem value="&cmdDeleteNode.label;" observes="cmdDeleteNode"/>
      <menuitem value="&cmdInspectBrowser.label;" observes="cmdInspectBrowser"/>
    </popup>
  </popupset>

  <!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
    The template for this tree will be filled in by inTreeTableBuilder
    ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
  
  <tree id="trDOMTree" 
    flex="1" onselect="viewer.onTreeItemSelected()"
    context="ppDOMContext"
    datasources="rdf:null" ref="inspector:DOMRoot"
    containment="&INS-rdf;HasChildren" flags="dont-test-empty">
    <template/>
  </tree>
</window>
