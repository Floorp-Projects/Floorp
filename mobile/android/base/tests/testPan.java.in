#filter substitution
package @ANDROID_PACKAGE_NAME@.tests;

import @ANDROID_PACKAGE_NAME@.*;

public class testPan extends BaseTest {
    private static final String URL = "http://mochi.test:8888/startup_test/fenncmark/wikipedia.html";

    public void testPan() {
        loadUrl(URL);

        mDriver.setupScrollHandling();

        // Setup scrolling coordinates.
        int midX = mDriver.getGeckoLeft() + mDriver.getGeckoWidth()/2;
        int midY = mDriver.getGeckoTop() + mDriver.getGeckoHeight()/2;
        int endY = mDriver.getGeckoTop() + mDriver.getGeckoHeight()/10;

        mDriver.startFrameRecording();

        int i = 0;
        // Scroll a thousand times or until the end of the page.
        do {
            mActions.drag(midX, midX, midY, endY);
            try {
                Thread.sleep(200);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            i++;
        } while (i < 1000 && mDriver.getScrollHeight() + 2 * mDriver.getHeight() < mDriver.getPageHeight());
        // asserter.ok(i < 1000, "Less than 1000", "Should take less than 1000 drags to get to bottom of the page.");

        int frames = mDriver.stopFrameRecording();
        mDriver.dumpLog("__start_report" + Integer.toString(frames) + "__end_report");
        long msecs = System.currentTimeMillis();
        mDriver.dumpLog("__startTimestamp" + msecs + "__endTimestamp");
    }	
}
