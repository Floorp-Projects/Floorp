<?xml version="1.0" encoding="utf-8"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<merge xmlns:android="http://schemas.android.com/apk/res/android"
       xmlns:gecko="http://schemas.android.com/apk/res-auto">

    <ImageView android:id="@+id/url_bar_entry"
               android:layout_width="match_parent"
               android:layout_height="match_parent"
               android:layout_alignLeft="@+id/back"
               android:layout_alignStart="@+id/back"
               android:layout_toLeftOf="@id/menu_items"
               android:layout_toStartOf="@id/menu_items"
               android:layout_marginStart="@dimen/tablet_nav_button_width_half"
               android:layout_marginLeft="@dimen/tablet_nav_button_width_half"
               android:layout_marginTop="10dp"
               android:layout_marginBottom="10dp"
               android:duplicateParentState="true"
               android:clickable="false"
               android:focusable="false"
               android:background="@drawable/url_bar_entry"/>

    <!-- The attributes statically defined here are for the expanded
         forward button. We translate/hide the forward button in code -
         see BrowserToolbarTablet.animateForwardButton.

         (for alpha) We want the button hidden to start so alpha=0.

         (for layout_width) The visible area of the forward button is a
	     nav_button_width and the non-visible area slides halfway
	     under the back button. This non-visible area is used to
	     ensure the forward button background fully covers the space
	     to the right of the back button.

         (for layout_marginLeft) We left align with back,
         but only need to hide halfway underneath.

         (for paddingLeft) We use left padding to center the
         arrow in the visible area as opposed to the true width. -->
    <org.mozilla.gecko.toolbar.ForwardButton
            style="@style/UrlBar.ImageButton.BrowserToolbarColors"
            android:id="@+id/forward"
            android:layout_alignLeft="@id/back"
            android:layout_alignStart="@id/back"
            android:contentDescription="@string/forward"
            android:layout_height="match_parent"
            android:paddingTop="0dp"
            android:paddingBottom="0dp"
            android:layout_marginTop="11.5dp"
            android:layout_marginBottom="11.5dp"
            android:layout_gravity="center_vertical"
            android:layout_centerVertical="true"
            android:src="@drawable/ic_menu_forward"
            android:background="@drawable/url_bar_nav_button"
            android:alpha="0"
            android:layout_width="@dimen/tablet_nav_button_width_plus_half"
            android:layout_marginLeft="@dimen/tablet_nav_button_width_half"
            android:layout_marginStart="@dimen/tablet_nav_button_width_half"
            android:paddingLeft="@dimen/tablet_fwd_button_padding_start"
            android:paddingStart="@dimen/tablet_fwd_button_padding_start"
            android:paddingRight="@dimen/tablet_fwd_button_padding_end"
            android:paddingEnd="@dimen/tablet_fwd_button_padding_end"
        />

    <org.mozilla.gecko.toolbar.BackButton android:id="@id/back"
                                          style="@style/UrlBar.ImageButton.BrowserToolbarColors"
                                          android:layout_width="@dimen/tablet_nav_button_width"
                                          android:layout_height="@dimen/tablet_nav_button_width"
                                          android:layout_centerVertical="true"
                                          android:layout_marginLeft="12dp"
                                          android:layout_marginStart="12dp"
                                          android:layout_alignParentLeft="true"
                                          android:layout_alignParentStart="true"
                                          android:src="@drawable/ic_menu_back"
                                          android:contentDescription="@string/back"
                                          android:background="@drawable/url_bar_nav_button"
        />

    <org.mozilla.gecko.toolbar.ToolbarEditLayout android:id="@+id/edit_layout"
                  style="@style/UrlBar.Button"
                  android:paddingRight="12dp"
                  android:paddingEnd="12dp"
                  android:visibility="gone"
                  android:orientation="horizontal"
                  android:layout_toLeftOf="@id/menu_items"
                  android:layout_toStartOf="@id/menu_items"
                  android:layout_toRightOf="@id/back"
                  android:layout_toEndOf="@id/back"/>

    <!-- Note: we set the padding on the site security icon to increase its tappable area. -->
    <org.mozilla.gecko.toolbar.ToolbarDisplayLayout android:id="@+id/display_layout"
                  style="@style/UrlBar.Button.Container"
            android:layout_toRightOf="@id/back"
            android:layout_toEndOf="@id/back"
            android:layout_toLeftOf="@id/menu_items"
            android:layout_toStartOf="@id/menu_items"
            android:paddingRight="4dip"
            android:paddingEnd="4dip"/>

    <LinearLayout android:id="@+id/menu_items"
                  android:layout_width="wrap_content"
                  android:layout_height="match_parent"
                  android:gravity="center_vertical"
                  android:layout_marginLeft="6dp"
                  android:layout_marginStart="6dp"
                  android:layout_toLeftOf="@id/tabs"
                  android:layout_toStartOf="@id/tabs"
                  android:orientation="horizontal"/>

    <org.mozilla.gecko.widget.themed.ThemedImageButton
            android:id="@+id/tabs"
            style="@style/UrlBar.ImageButton"
            android:layout_toLeftOf="@id/menu"
            android:layout_toStartOf="@id/menu"
            android:layout_alignWithParentIfMissing="true"
            android:background="@drawable/browser_toolbar_action_bar_button"/>

    <!-- In a 56x60dp space, centering 24dp image will leave 16x18dp. -->
    <org.mozilla.gecko.toolbar.TabCounter android:id="@+id/tabs_counter"
                        style="@style/UrlBar.ImageButton"
                        android:layout_alignLeft="@id/tabs"
                        android:layout_alignStart="@id/tabs"
                        android:layout_alignRight="@id/tabs"
                        android:layout_alignEnd="@id/tabs"
                        android:layout_alignTop="@id/tabs"
                        android:layout_alignBottom="@id/tabs"
                        android:layout_marginTop="18dp"
                        android:layout_marginBottom="18dp"
                        android:layout_marginLeft="16dp"
                        android:layout_marginStart="16dp"
                        android:layout_marginRight="16dp"
                        android:layout_marginEnd="16dp"
                        android:background="@drawable/tabs_count"/>

    <!-- Bug 1144707. Use clickable View instead of menu button margin to prevent
         edit mode actiivation when user clicks on the edge of the screen. -->
    <View android:id="@id/menu_margin"
          android:layout_width="6dp"
          android:layout_height="match_parent"
          android:layout_alignParentRight="true"
          android:layout_alignParentEnd="true"
          android:clickable="true"
          android:visibility="gone"/>

    <org.mozilla.gecko.widget.themed.ThemedFrameLayout
            android:id="@+id/menu"
            style="@style/UrlBar.ImageButton"
            android:layout_toLeftOf="@id/menu_margin"
            android:layout_toStartOf="@id/menu_margin"
            android:layout_alignWithParentIfMissing="true"
            android:contentDescription="@string/menu"
            android:background="@drawable/browser_toolbar_action_bar_button">

        <org.mozilla.gecko.widget.themed.ThemedImageView
                android:id="@+id/menu_icon"
                style="@style/UrlBar.ImageButton.BrowserToolbarColors"
                android:layout_height="@dimen/browser_toolbar_menu_icon_height"
                android:layout_width="wrap_content"
                android:scaleType="centerInside"
                android:src="@drawable/menu"
                android:layout_gravity="center"/>

    </org.mozilla.gecko.widget.themed.ThemedFrameLayout>

    <!-- We draw after the menu items so when they are hidden, the cancel button,
         which is thus drawn on top, may be pressed. -->
    <org.mozilla.gecko.widget.themed.ThemedImageView
            android:id="@+id/edit_cancel"
            style="@style/UrlBar.ImageButton"
            android:layout_width="@dimen/browser_toolbar_icon_width"
            android:layout_height="@dimen/browser_toolbar_height"
            android:layout_weight="0.0"
            android:layout_alignParentRight="true"
            android:layout_alignParentEnd="true"
            android:src="@drawable/close_edit_mode_selector"
            android:contentDescription="@string/edit_mode_cancel"
            android:visibility="gone"/>

</merge>
